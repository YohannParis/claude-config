{"type":"summary","summary":"Terminal Configuration and Customization Setup","leafUuid":"e46aca61-8d2a-4a1a-a162-2b5b6ad56c55"}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":"on the project view page, we paginate results to 25 documents per page by default, please make the default 100."},"uuid":"cca48519-af1e-40d6-a666-7f34ae6f9234","timestamp":"2025-09-17T14:58:34.403Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"cca48519-af1e-40d6-a666-7f34ae6f9234","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_011aFCWK5U5bcd9gH9Ff93AU","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I'll help you change the default pagination from 25 to 100 documents per page on the project view. Let me start by reading the project instructions and then finding the pagination configuration."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":10474,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":10474,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CTEAqMzE3jTAKhra3xcRa","type":"assistant","uuid":"29db6026-3951-4b17-94e1-2504439ce56e","timestamp":"2025-09-17T14:58:37.783Z"}
{"parentUuid":"29db6026-3951-4b17-94e1-2504439ce56e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_011aFCWK5U5bcd9gH9Ff93AU","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01RmhsCSeKQD5VtwovR9NA5j","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/CLAUDE.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":10474,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":10474,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CTEAqMzE3jTAKhra3xcRa","type":"assistant","uuid":"cd08ebac-7556-4d91-b218-56954903e014","timestamp":"2025-09-17T14:58:38.107Z"}
{"parentUuid":"cd08ebac-7556-4d91-b218-56954903e014","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"<tool_use_error>File does not exist.</tool_use_error>","is_error":true,"tool_use_id":"toolu_01RmhsCSeKQD5VtwovR9NA5j"}]},"uuid":"726eb1e8-6c61-4f5b-b960-62128889d1bb","timestamp":"2025-09-17T14:58:38.177Z","toolUseResult":"Error: File does not exist."}
{"parentUuid":"726eb1e8-6c61-4f5b-b960-62128889d1bb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01HbJ5yhkJZom2w6AXUN7JUj","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Sm69JtueFRnP1i2nhNRQ64","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/instructions.md"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":8,"cache_creation_input_tokens":140,"cache_read_input_tokens":15276,"cache_creation":{"ephemeral_5m_input_tokens":140,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEAqdoyvy8R7vy3kNj1L","type":"assistant","uuid":"6805d1e2-2ec7-4fae-a6f6-220158a36c8e","timestamp":"2025-09-17T14:58:40.564Z"}
{"parentUuid":"6805d1e2-2ec7-4fae-a6f6-220158a36c8e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Sm69JtueFRnP1i2nhNRQ64","type":"tool_result","content":"     1→# instructions.md\n     2→\n     3→This file provides guidance to AI assistants and developers when working with code in this repository.\n     4→\n     5→## Important Development Rules\n     6→\n     7→### DO NOT EDIT Generated Files\n     8→- **Types.ts**: This file is automatically generated from Java models. Never edit it directly.\n     9→- **Regenerate Types**: Run `./gradlew generateTypes` after changing Java models with `@TypeScriptGeneration` annotations\n    10→\n    11→### Code Formatting (Required)\n    12→After editing any code, always run:\n    13→```bash\n    14→yarn lint      # Fix linting issues\n    15→yarn prettier  # Format code consistently\n    16→```\n    17→Or use the combined command:\n    18→```bash\n    19→yarn format    # Runs both lint and prettier\n    20→```\n    21→\n    22→### Logging Standards\n    23→- **Frontend Logging**: Use `const logger = useLogger()` instead of `console.log`\n    24→- **Never use console.log**: Always use the proper logging utility\n    25→- **Backend Logging**: Use Spring Boot's logging framework\n    26→\n    27→### Style Guidelines\n    28→- **NEVER use emojis**: Keep all code and comments emoji-free\n    29→- **Clear Variable Names**: Prefer descriptive names over extensive comments\n    30→- **Follow Existing Patterns**: Match the style of surrounding code\n    31→\n    32→### Commit Message Standards\n    33→Use [Conventional Commits](https://www.conventionalcommits.org/) format for all commit messages:\n    34→```\n    35→<type>[optional scope]: <description>\n    36→\n    37→[optional body]\n    38→\n    39→[optional footer(s)]\n    40→```\n    41→\n    42→**AI Assistant Commit Rules:**\n    43→- NEVER sign commits with AI assistant names or signatures\n    44→- NEVER add AI-generated signatures or attribution lines\n    45→- Do not use Co-Authored-By for AI assistants\n    46→\n    47→**Common types:**\n    48→- `feat:` - New features\n    49→- `fix:` - Bug fixes\n    50→- `refactor:` - Code changes that neither fix bugs nor add features\n    51→- `docs:` - Documentation changes\n    52→- `test:` - Adding or updating tests\n    53→- `chore:` - Maintenance tasks (dependencies, build, etc.)\n    54→\n    55→**Examples:**\n    56→```bash\n    57→feat: add user authentication system\n    58→fix: resolve memory leak in image processing\n    59→refactor: migrate from JSON config to DefaultProperty constants\n    60→docs: update API documentation for new endpoints\n    61→```\n    62→\n    63→## Development Workflow: \"Explore, Plan, Code, Test\"\n    64→\n    65→When starting work on a new feature or bug fix, follow this structured approach:\n    66→\n    67→### Explore\n    68→First, use parallel subagents to find and read all files that may be useful for implementing the ticket, either as examples or as edit targets. The subagents should return relevant file paths, and any other info that may be useful.\n    69→\n    70→### Plan\n    71→Next, think hard and write up a detailed implementation plan. Don't forget to include tests, lookbook components, and documentation. Use your judgement as to what is necessary, given the standards of this repo.\n    72→\n    73→If there are things you are not sure about, use parallel subagents to do some web research. They should only return useful information, no noise.\n    74→\n    75→If there are things you still do not understand or questions you have for the user, pause here to ask them before continuing.\n    76→\n    77→### Code\n    78→When you have a thorough implementation plan, you are ready to start writing code. Follow the style of the existing codebase (e.g. we prefer clearly named variables and methods to extensive comments). Make sure to run our autoformatting script when you're done, and fix linter warnings that seem reasonable to you.\n    79→\n    80→### Test\n    81→Use parallel subagents to run tests, and make sure they all pass.\n    82→\n    83→If your changes touch the UX in a major way, use the browser to make sure that everything works correctly. Make a list of what to test for, and use a subagent for this step.\n    84→\n    85→If your testing shows problems, go back to the planning stage and think ultrahard.\n    86→\n    87→### Write up your work\n    88→When you are happy with your work, write up a short report that could be used as the PR description. Include what you set out to do, the choices you made with their brief justification, and any commands you ran in the process that may be useful for future developers to know about.\n    89→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"8ef16f83-6267-4931-afef-f097a5a18845","timestamp":"2025-09-17T14:58:40.811Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/instructions.md","content":"# instructions.md\n\nThis file provides guidance to AI assistants and developers when working with code in this repository.\n\n## Important Development Rules\n\n### DO NOT EDIT Generated Files\n- **Types.ts**: This file is automatically generated from Java models. Never edit it directly.\n- **Regenerate Types**: Run `./gradlew generateTypes` after changing Java models with `@TypeScriptGeneration` annotations\n\n### Code Formatting (Required)\nAfter editing any code, always run:\n```bash\nyarn lint      # Fix linting issues\nyarn prettier  # Format code consistently\n```\nOr use the combined command:\n```bash\nyarn format    # Runs both lint and prettier\n```\n\n### Logging Standards\n- **Frontend Logging**: Use `const logger = useLogger()` instead of `console.log`\n- **Never use console.log**: Always use the proper logging utility\n- **Backend Logging**: Use Spring Boot's logging framework\n\n### Style Guidelines\n- **NEVER use emojis**: Keep all code and comments emoji-free\n- **Clear Variable Names**: Prefer descriptive names over extensive comments\n- **Follow Existing Patterns**: Match the style of surrounding code\n\n### Commit Message Standards\nUse [Conventional Commits](https://www.conventionalcommits.org/) format for all commit messages:\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n**AI Assistant Commit Rules:**\n- NEVER sign commits with AI assistant names or signatures\n- NEVER add AI-generated signatures or attribution lines\n- Do not use Co-Authored-By for AI assistants\n\n**Common types:**\n- `feat:` - New features\n- `fix:` - Bug fixes\n- `refactor:` - Code changes that neither fix bugs nor add features\n- `docs:` - Documentation changes\n- `test:` - Adding or updating tests\n- `chore:` - Maintenance tasks (dependencies, build, etc.)\n\n**Examples:**\n```bash\nfeat: add user authentication system\nfix: resolve memory leak in image processing\nrefactor: migrate from JSON config to DefaultProperty constants\ndocs: update API documentation for new endpoints\n```\n\n## Development Workflow: \"Explore, Plan, Code, Test\"\n\nWhen starting work on a new feature or bug fix, follow this structured approach:\n\n### Explore\nFirst, use parallel subagents to find and read all files that may be useful for implementing the ticket, either as examples or as edit targets. The subagents should return relevant file paths, and any other info that may be useful.\n\n### Plan\nNext, think hard and write up a detailed implementation plan. Don't forget to include tests, lookbook components, and documentation. Use your judgement as to what is necessary, given the standards of this repo.\n\nIf there are things you are not sure about, use parallel subagents to do some web research. They should only return useful information, no noise.\n\nIf there are things you still do not understand or questions you have for the user, pause here to ask them before continuing.\n\n### Code\nWhen you have a thorough implementation plan, you are ready to start writing code. Follow the style of the existing codebase (e.g. we prefer clearly named variables and methods to extensive comments). Make sure to run our autoformatting script when you're done, and fix linter warnings that seem reasonable to you.\n\n### Test\nUse parallel subagents to run tests, and make sure they all pass.\n\nIf your changes touch the UX in a major way, use the browser to make sure that everything works correctly. Make a list of what to test for, and use a subagent for this step.\n\nIf your testing shows problems, go back to the planning stage and think ultrahard.\n\n### Write up your work\nWhen you are happy with your work, write up a short report that could be used as the PR description. Include what you set out to do, the choices you made with their brief justification, and any commands you ran in the process that may be useful for future developers to know about.\n","numLines":89,"startLine":1,"totalLines":89}}}
{"parentUuid":"8ef16f83-6267-4931-afef-f097a5a18845","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_015g2YQqqcdeK3mttDfinFRJ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now let me search for pagination-related code in the project to find where the default page size is configured."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":1335,"cache_read_input_tokens":15416,"cache_creation":{"ephemeral_5m_input_tokens":1335,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAqq1BTNPj5gToTzJZB","type":"assistant","uuid":"78d4dcd3-070d-4c7f-a311-44e99e6bbd12","timestamp":"2025-09-17T14:58:44.819Z"}
{"parentUuid":"78d4dcd3-070d-4c7f-a311-44e99e6bbd12","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_015g2YQqqcdeK3mttDfinFRJ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01H3hKLoW5r83Ck1zwcaWcGQ","name":"TodoWrite","input":{"todos":[{"content":"Find pagination configuration for project view","status":"in_progress","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"pending","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":1335,"cache_read_input_tokens":15416,"cache_creation":{"ephemeral_5m_input_tokens":1335,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAqq1BTNPj5gToTzJZB","type":"assistant","uuid":"c29c4a0a-c92e-4f02-a4e8-409ac93f7b02","timestamp":"2025-09-17T14:58:46.935Z"}
{"parentUuid":"c29c4a0a-c92e-4f02-a4e8-409ac93f7b02","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01H3hKLoW5r83Ck1zwcaWcGQ","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"72f59a57-79ac-4276-b9d0-64c1d0c6ade4","timestamp":"2025-09-17T14:58:47.000Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Find pagination configuration for project view","status":"in_progress","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"pending","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"72f59a57-79ac-4276-b9d0-64c1d0c6ade4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01LbUtR9dbBsqJHMjrTXtMJS","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01FAYfVvHyPixiWQiNWnRLWq","name":"Grep","input":{"pattern":"25","output_mode":"files_with_matches"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":16751,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEArHdZxJphE9SyphFCS","type":"assistant","uuid":"04cac3e9-26bd-45c1-9f6d-e7f2087d17f3","timestamp":"2025-09-17T14:58:49.849Z"}
{"parentUuid":"04cac3e9-26bd-45c1-9f6d-e7f2087d17f3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01LbUtR9dbBsqJHMjrTXtMJS","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_016wmXvKwT3ZFw9LDCewphJ9","name":"Grep","input":{"pattern":"pagination","output_mode":"files_with_matches"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":16751,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEArHdZxJphE9SyphFCS","type":"assistant","uuid":"2347f8d8-e071-4cf4-bb85-b22483755d51","timestamp":"2025-09-17T14:58:50.382Z"}
{"parentUuid":"2347f8d8-e071-4cf4-bb85-b22483755d51","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01LbUtR9dbBsqJHMjrTXtMJS","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01BDz2YcDM45mBLdAKa3Qpw5","name":"Grep","input":{"pattern":"page.*size","output_mode":"files_with_matches"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":16751,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEArHdZxJphE9SyphFCS","type":"assistant","uuid":"ebe7eb7c-f235-4b61-b30a-def608bc2740","timestamp":"2025-09-17T14:58:50.912Z"}
{"parentUuid":"ebe7eb7c-f235-4b61-b30a-def608bc2740","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01LbUtR9dbBsqJHMjrTXtMJS","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_0196NvGuB432RQ7Tae1HsEdv","name":"Grep","input":{"pattern":"documents.*per.*page","output_mode":"files_with_matches"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":344,"cache_read_input_tokens":16751,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":255,"service_tier":"standard"}},"requestId":"req_011CTEArHdZxJphE9SyphFCS","type":"assistant","uuid":"957431b8-4c89-4e6c-b48b-119dadce1289","timestamp":"2025-09-17T14:58:51.422Z"}
{"parentUuid":"957431b8-4c89-4e6c-b48b-119dadce1289","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016wmXvKwT3ZFw9LDCewphJ9","type":"tool_result","content":"Found 5 files\n/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java\n/Users/yparis/Developer/atlantis/modules/client/src/services/ProjectService.ts\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCardList.vue\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs"}]},"uuid":"753643db-5824-4128-9bc2-4af78ca24704","timestamp":"2025-09-17T14:58:51.680Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java","/Users/yparis/Developer/atlantis/modules/client/src/services/ProjectService.ts","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCardList.vue","/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs"],"numFiles":5}}
{"parentUuid":"753643db-5824-4128-9bc2-4af78ca24704","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FAYfVvHyPixiWQiNWnRLWq","type":"tool_result","content":"Found 162 files\n/Users/yparis/Developer/atlantis/.git/FETCH_HEAD\n/Users/yparis/Developer/atlantis/.git/config\n/Users/yparis/Developer/atlantis/modules/client/src/layout/AppTopbar.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProvenanceFacet.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue\n/Users/yparis/Developer/atlantis/.git/objects/info/packs\n/Users/yparis/Developer/atlantis/.git/info/refs\n/Users/yparis/Developer/atlantis/modules/client/src/util/Document.ts\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectList.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectListCard.vue\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java\n/Users/yparis/Developer/atlantis/.git/packed-refs\n/Users/yparis/Developer/atlantis/yarn.lock\n/Users/yparis/Developer/atlantis/modules/validation/src/test/java/software/uncharted/pantera/validators/ValidatorTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/custom_theme.json\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/db/migration/V16__Add_group_column_to_property_descriptor.sql\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application-secrets.properties\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/pipeline/PDFExtractorService.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/DocumentService.java\n/Users/yparis/Developer/atlantis/modules/server/build.gradle\n/Users/yparis/Developer/atlantis/modules/primevue-theme-generator/atlantis/theme.scss\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/resources/locations.jsonl\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/java/software/uncharted/elasticsearch/ElasticsearchService.java\n/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/service/CrawlFileService.java\n/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/CrawlImporterApplication.java\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/FileUpload.java\n/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/Geo.test.ts\n/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/FacetsUtil.test.ts\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/transform/ProjectTransformJoin.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/PipelineProgress.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/elasticsearch/TasksView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/elasticsearch/IndicesView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/util/UrlUtil.ts\n/Users/yparis/Developer/atlantis/modules/client/src/util/Map.ts\n/Users/yparis/Developer/atlantis/modules/client/src/types/Types.ts\n/Users/yparis/Developer/atlantis/modules/client/src/styles/global/variables.css\n/Users/yparis/Developer/atlantis/modules/client/src/styles/global/typography.css\n/Users/yparis/Developer/atlantis/modules/client/src/styles/global/primevue-override.css\n/Users/yparis/Developer/atlantis/modules/client/src/composables/useMap.ts\n/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts\n/Users/yparis/Developer/atlantis/modules/client/src/composables/useFileImport.ts\n/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/Meta.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/Edit.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/Map.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/GeoRefImageEditor.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractionTool.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractedItemMap.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractedItem.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/Accordion.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCard.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ImageCard.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ExtractedImagesList.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectLocations.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectChart.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/GeneralSettings.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/NewProjectModal.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/map/VisibilityControl.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/map/MapControls.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/map/LayeredMap.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/NumericFacet.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetSelector.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/CategoricalFacet.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/FileUploadArea.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/FileStatusIndicatorBadge.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/ExtractionCard.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/SelectionBar.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/SearchBar.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/Panel.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/GenericTable.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/ExtraRowCounter.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/EditableText.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/CircleProgress.vue\n/Users/yparis/Developer/atlantis/modules/client/public/themes/pantera-light/theme.css\n/Users/yparis/Developer/atlantis/modules/client/public/themes/pantera-dark/theme.css\n/Users/yparis/Developer/atlantis/modules/client/public/themes/atlantis/theme.css\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/temp/MineInCongoMarkdown.txt\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptySearch.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyResults.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyProject_original.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyProject.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyInbox.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyAnalytics.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/icons/home.svg\n/Users/yparis/Developer/atlantis/modules/client/assets/cursor-plus-outlined.svg\n/Users/yparis/Developer/atlantis/modules/client/assets/cursor-minus-outlined.svg\n/Users/yparis/Developer/atlantis/README.md\n/Users/yparis/Developer/atlantis/Makefile\n/Users/yparis/Developer/atlantis/.vscode/launch.json\n/Users/yparis/Developer/atlantis/.circleci/config.yml\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs\n/Users/yparis/Developer/atlantis/.git/objects/e5/166ee0ff61f484070d743fe23c212b45c04eac\n/Users/yparis/Developer/atlantis/.git/objects/56/1261149daeaf4d162fe1281492f14ea16bdb73\n/Users/yparis/Developer/atlantis/.git/refs/remotes/origin/TS/correct-async-auth-test\n/Users/yparis/Developer/atlantis/.git/crypt/transcrypt\n/Users/yparis/Developer/atlantis/modules/validation/gradlew\n/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/uncharted.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/logo.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/logo-outline.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/css/pantera.css\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/uncharted.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/css/pantera.css\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/S3ClientServiceTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/positron.json\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/osm_liberty.json\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/osm_bright.json\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/fiord_color.json\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/db/migration/V5__Convert_permission_level_to_varchar.sql\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/UserService.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/S3Service.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/Stats.java\n/Users/yparis/Developer/atlantis/modules/server/gradlew\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/resources/regions.json\n/Users/yparis/Developer/atlantis/modules/elasticsearch/gradlew\n/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/resources/asx_companies.csv\n/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/model/UploadedCrawlFile.java\n/Users/yparis/Developer/atlantis/modules/crawl-importer/gradlew\n/Users/yparis/Developer/atlantis/modules/common/src/main/resources/test-document.json\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/util/HashService.java\n/Users/yparis/Developer/atlantis/modules/common/lib/python/tests/resources/test-document.json\n/Users/yparis/Developer/atlantis/modules/common/gradlew\n/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/NumberFormatter.test.ts\n/Users/yparis/Developer/atlantis/modules/client/tests/unit/MockAdminUser.ts\n/Users/yparis/Developer/atlantis/modules/client/src/views/admin/GroupsView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/admin/GroupView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/views/FilesView.vue\n/Users/yparis/Developer/atlantis/modules/client/src/util/charts/theme-uncharted.ts\n/Users/yparis/Developer/atlantis/modules/client/src/util/HashUtil.ts\n/Users/yparis/Developer/atlantis/modules/client/src/styles/add-analytics.css\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/TypePill.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/ImportConfigurationModal.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/PropertyValueGallery.vue\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-white.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-dark.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-atlantis.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-atlantis-symbol-only.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptySearch.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyResults.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyProject.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyInbox.svg\n/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyAnalytics.svg\n/Users/yparis/Developer/atlantis/modules/client/assets/uncharted-light.svg\n/Users/yparis/Developer/atlantis/modules/client/assets/uncharted-dark.svg\n/Users/yparis/Developer/atlantis/modules/client/README.md\n/Users/yparis/Developer/atlantis/gradlew\n/Users/yparis/Developer/atlantis/dora/years.txt\n/Users/yparis/Developer/atlantis/dora/asx_targets_autoextracted.txt\n/Users/yparis/Developer/atlantis/deployments/production/shared-services/sealed-secrets.yaml\n/Users/yparis/Developer/atlantis/deployments/production/atlantis/sealed-secrets.yaml\n/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs"}]},"uuid":"f6797a2e-aec5-4b28-91d9-fc53a61d68e4","timestamp":"2025-09-17T14:58:51.689Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/.git/FETCH_HEAD","/Users/yparis/Developer/atlantis/.git/config","/Users/yparis/Developer/atlantis/modules/client/src/layout/AppTopbar.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProvenanceFacet.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue","/Users/yparis/Developer/atlantis/.git/objects/info/packs","/Users/yparis/Developer/atlantis/.git/info/refs","/Users/yparis/Developer/atlantis/modules/client/src/util/Document.ts","/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectList.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectListCard.vue","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java","/Users/yparis/Developer/atlantis/.git/packed-refs","/Users/yparis/Developer/atlantis/yarn.lock","/Users/yparis/Developer/atlantis/modules/validation/src/test/java/software/uncharted/pantera/validators/ValidatorTests.java","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/custom_theme.json","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/db/migration/V16__Add_group_column_to_property_descriptor.sql","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application-secrets.properties","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/pipeline/PDFExtractorService.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/DocumentService.java","/Users/yparis/Developer/atlantis/modules/server/build.gradle","/Users/yparis/Developer/atlantis/modules/primevue-theme-generator/atlantis/theme.scss","/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/resources/locations.jsonl","/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/java/software/uncharted/elasticsearch/ElasticsearchService.java","/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/service/CrawlFileService.java","/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/CrawlImporterApplication.java","/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/FileUpload.java","/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/Geo.test.ts","/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/FacetsUtil.test.ts","/Users/yparis/Developer/atlantis/modules/client/src/views/project/transform/ProjectTransformJoin.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/project/PipelineProgress.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/elasticsearch/TasksView.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/elasticsearch/IndicesView.vue","/Users/yparis/Developer/atlantis/modules/client/src/util/UrlUtil.ts","/Users/yparis/Developer/atlantis/modules/client/src/util/Map.ts","/Users/yparis/Developer/atlantis/modules/client/src/types/Types.ts","/Users/yparis/Developer/atlantis/modules/client/src/styles/global/variables.css","/Users/yparis/Developer/atlantis/modules/client/src/styles/global/typography.css","/Users/yparis/Developer/atlantis/modules/client/src/styles/global/primevue-override.css","/Users/yparis/Developer/atlantis/modules/client/src/composables/useMap.ts","/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","/Users/yparis/Developer/atlantis/modules/client/src/composables/useFileImport.ts","/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/Meta.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/Edit.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/Map.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/GeoRefImageEditor.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractionTool.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractedItemMap.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ExtractedItem.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/Accordion.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCard.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ImageCard.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ExtractedImagesList.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectLocations.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectChart.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/GeneralSettings.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/NewProjectModal.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/map/VisibilityControl.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/map/MapControls.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/map/LayeredMap.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/NumericFacet.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetSelector.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/CategoricalFacet.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/FileUploadArea.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/FileStatusIndicatorBadge.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/ExtractionCard.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/SelectionBar.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/SearchBar.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/Panel.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/GenericTable.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/ExtraRowCounter.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/EditableText.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/CircleProgress.vue","/Users/yparis/Developer/atlantis/modules/client/public/themes/pantera-light/theme.css","/Users/yparis/Developer/atlantis/modules/client/public/themes/pantera-dark/theme.css","/Users/yparis/Developer/atlantis/modules/client/public/themes/atlantis/theme.css","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/temp/MineInCongoMarkdown.txt","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptySearch.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyResults.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyProject_original.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyProject.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyInbox.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-dark/EmptyAnalytics.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/icons/home.svg","/Users/yparis/Developer/atlantis/modules/client/assets/cursor-plus-outlined.svg","/Users/yparis/Developer/atlantis/modules/client/assets/cursor-minus-outlined.svg","/Users/yparis/Developer/atlantis/README.md","/Users/yparis/Developer/atlantis/Makefile","/Users/yparis/Developer/atlantis/.vscode/launch.json","/Users/yparis/Developer/atlantis/.circleci/config.yml","/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs","/Users/yparis/Developer/atlantis/.git/objects/e5/166ee0ff61f484070d743fe23c212b45c04eac","/Users/yparis/Developer/atlantis/.git/objects/56/1261149daeaf4d162fe1281492f14ea16bdb73","/Users/yparis/Developer/atlantis/.git/refs/remotes/origin/TS/correct-async-auth-test","/Users/yparis/Developer/atlantis/.git/crypt/transcrypt","/Users/yparis/Developer/atlantis/modules/validation/gradlew","/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/uncharted.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/logo.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/img/logo-outline.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-light/login/resources/css/pantera.css","/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/uncharted.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg","/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/css/pantera.css","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/S3ClientServiceTests.java","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/positron.json","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/osm_liberty.json","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/osm_bright.json","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/map-configurations/fiord_color.json","/Users/yparis/Developer/atlantis/modules/server/src/main/resources/db/migration/V5__Convert_permission_level_to_varchar.sql","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/UserService.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/S3Service.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/Stats.java","/Users/yparis/Developer/atlantis/modules/server/gradlew","/Users/yparis/Developer/atlantis/modules/elasticsearch/src/main/resources/regions.json","/Users/yparis/Developer/atlantis/modules/elasticsearch/gradlew","/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/resources/asx_companies.csv","/Users/yparis/Developer/atlantis/modules/crawl-importer/src/main/java/software/uncharted/crawlimporter/model/UploadedCrawlFile.java","/Users/yparis/Developer/atlantis/modules/crawl-importer/gradlew","/Users/yparis/Developer/atlantis/modules/common/src/main/resources/test-document.json","/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/util/HashService.java","/Users/yparis/Developer/atlantis/modules/common/lib/python/tests/resources/test-document.json","/Users/yparis/Developer/atlantis/modules/common/gradlew","/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/NumberFormatter.test.ts","/Users/yparis/Developer/atlantis/modules/client/tests/unit/MockAdminUser.ts","/Users/yparis/Developer/atlantis/modules/client/src/views/admin/GroupsView.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/admin/GroupView.vue","/Users/yparis/Developer/atlantis/modules/client/src/views/FilesView.vue","/Users/yparis/Developer/atlantis/modules/client/src/util/charts/theme-uncharted.ts","/Users/yparis/Developer/atlantis/modules/client/src/util/HashUtil.ts","/Users/yparis/Developer/atlantis/modules/client/src/styles/add-analytics.css","/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/TypePill.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/ImportConfigurationModal.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/PropertyValueGallery.vue","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-white.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-dark.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-atlantis.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/logo-atlantis-symbol-only.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptySearch.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyResults.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyProject.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyInbox.svg","/Users/yparis/Developer/atlantis/modules/client/public/layout/images/illustrations-light/EmptyAnalytics.svg","/Users/yparis/Developer/atlantis/modules/client/assets/uncharted-light.svg","/Users/yparis/Developer/atlantis/modules/client/assets/uncharted-dark.svg","/Users/yparis/Developer/atlantis/modules/client/README.md","/Users/yparis/Developer/atlantis/gradlew","/Users/yparis/Developer/atlantis/dora/years.txt","/Users/yparis/Developer/atlantis/dora/asx_targets_autoextracted.txt","/Users/yparis/Developer/atlantis/deployments/production/shared-services/sealed-secrets.yaml","/Users/yparis/Developer/atlantis/deployments/production/atlantis/sealed-secrets.yaml","/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs"],"numFiles":162}}
{"parentUuid":"f6797a2e-aec5-4b28-91d9-fc53a61d68e4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0196NvGuB432RQ7Tae1HsEdv","type":"tool_result","content":"No files found"}]},"uuid":"a767b2e4-1761-4380-aa76-6d7da6bf6eb4","timestamp":"2025-09-17T14:58:51.700Z","toolUseResult":{"mode":"files_with_matches","filenames":[],"numFiles":0}}
{"parentUuid":"a767b2e4-1761-4380-aa76-6d7da6bf6eb4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BDz2YcDM45mBLdAKa3Qpw5","type":"tool_result","content":"Found 4 files\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/SearchSetServiceTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/repository/SearchSetRepositoryTests.java\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/util/SortedPageRequest.java"}]},"uuid":"d66c7f97-3130-46c5-8e22-06007211ecdf","timestamp":"2025-09-17T14:58:51.709Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/SearchSetServiceTests.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/repository/SearchSetRepositoryTests.java","/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/util/SortedPageRequest.java"],"numFiles":4}}
{"parentUuid":"d66c7f97-3130-46c5-8e22-06007211ecdf","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01FGfJkevrbegVJQ7wqvhc1f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me look at the most promising files that might contain pagination configuration, particularly the ProjectStore, ProjectService, and ProjectDataView components:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":34,"cache_creation_input_tokens":5494,"cache_read_input_tokens":17095,"cache_creation":{"ephemeral_5m_input_tokens":5494,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEArdbcQP5C595RTRQc7","type":"assistant","uuid":"a9b73cad-a6cd-4576-a2d3-ab4f5e7591a4","timestamp":"2025-09-17T14:58:55.336Z"}
{"parentUuid":"a9b73cad-a6cd-4576-a2d3-ab4f5e7591a4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01FGfJkevrbegVJQ7wqvhc1f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01UrDoCuzKkAHTU1iW2jar6V","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":34,"cache_creation_input_tokens":5494,"cache_read_input_tokens":17095,"cache_creation":{"ephemeral_5m_input_tokens":5494,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEArdbcQP5C595RTRQc7","type":"assistant","uuid":"0aaea977-a117-4579-8b4b-2b1630f99d50","timestamp":"2025-09-17T14:58:56.025Z"}
{"parentUuid":"0aaea977-a117-4579-8b4b-2b1630f99d50","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01FGfJkevrbegVJQ7wqvhc1f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01CiiFqzDNmxtdNWeFn7esF1","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/services/ProjectService.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":34,"cache_creation_input_tokens":5494,"cache_read_input_tokens":17095,"cache_creation":{"ephemeral_5m_input_tokens":5494,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEArdbcQP5C595RTRQc7","type":"assistant","uuid":"9e341096-a1d6-4e7b-b842-a9618c18aa6f","timestamp":"2025-09-17T14:58:56.556Z"}
{"parentUuid":"9e341096-a1d6-4e7b-b842-a9618c18aa6f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01FGfJkevrbegVJQ7wqvhc1f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01XBUbzdcakZ6LKZ2VuQxAKA","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":34,"cache_creation_input_tokens":5494,"cache_read_input_tokens":17095,"cache_creation":{"ephemeral_5m_input_tokens":5494,"ephemeral_1h_input_tokens":0},"output_tokens":226,"service_tier":"standard"}},"requestId":"req_011CTEArdbcQP5C595RTRQc7","type":"assistant","uuid":"7183f350-b72c-4f1a-8977-5eb35806a707","timestamp":"2025-09-17T14:58:56.744Z"}
{"parentUuid":"7183f350-b72c-4f1a-8977-5eb35806a707","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UrDoCuzKkAHTU1iW2jar6V","type":"tool_result","content":"     1→import { computed, ref, watch } from 'vue';\n     2→import {\n     3→  AuditEventType,\n     4→  Project,\n     5→  ProjectDto,\n     6→  ProjectPermissionLevel,\n     7→  PropertyDescriptor,\n     8→  PropertyTag,\n     9→  RoleType,\n    10→} from '@/types/Types';\n    11→import ProjectService from '@/services/ProjectService';\n    12→import { useRoute, useRouter } from 'vue-router';\n    13→import { defineStore } from 'pinia';\n    14→import { hasRole } from '@/services/AdminService';\n    15→import PanteraAPI from '@/services/PanteraAPI';\n    16→import { hashFile } from '@/util/HashUtil';\n    17→import { LoadDataParams } from '@/composables/useGenericTableState';\n    18→import ProjectDataService from '@/services/ProjectDataService';\n    19→import Logger from '@/services/Logger';\n    20→\n    21→const useProjectStore = defineStore('project', () => {\n    22→  const project = ref<Project | undefined>();\n    23→  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n    24→  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n    25→  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n    26→  const recentProjects = ref<Project[]>([]);\n    27→  const projectDocumentIds = ref<string[]>([]);\n    28→  const totalDocumentCount = ref<number | undefined>();\n    29→\n    30→  // Callbacks to execute when project loading finishes\n    31→  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n    32→\n    33→  // Callbacks to execute when project changes (for clearing state)\n    34→  const projectChangeCallbacks = ref<(() => void)[]>([]);\n    35→\n    36→  // Callbacks to execute when project list changes (for refreshing project lists)\n    37→  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n    38→\n    39→  /**\n    40→   * Trigger all project list change callbacks\n    41→   */\n    42→  const triggerProjectListChange = () => {\n    43→    projectListChangeCallbacks.value.forEach(callback => callback());\n    44→  };\n    45→\n    46→  const route = useRoute();\n    47→  const router = useRouter();\n    48→\n    49→  /**\n    50→   * Load the most recent projects for the current user\n    51→   */\n    52→  const getRecentProjects = async () => {\n    53→    recentProjects.value = await ProjectService.getRecentProjects();\n    54→  };\n    55→\n    56→  /**\n    57→   * Load a project by its ID\n    58→   * @param id  The ID of the project to load\n    59→   */\n    60→  const getProject = async (id: string) => {\n    61→    const p = await ProjectService.getProject(id);\n    62→    await PanteraAPI.createAuditEvent({\n    63→      type: AuditEventType.ProjectOpen,\n    64→      projectId: p.id,\n    65→    });\n    66→    await getRecentProjects();\n    67→    return p;\n    68→  };\n    69→\n    70→  /**\n    71→   * Create a new project\n    72→   * @param projectDto  The project to create\n    73→   */\n    74→  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    75→    const p = await ProjectService.createProject(projectDto);\n    76→    await getRecentProjects();\n    77→    triggerProjectListChange();\n    78→    return p;\n    79→  };\n    80→\n    81→  /**\n    82→   * Delete a project\n    83→   * @param projectId  The ID of the project to delete\n    84→   */\n    85→  const deleteProject = async (projectId: string): Promise<void> => {\n    86→    await ProjectService.deleteProject(projectId);\n    87→    await getRecentProjects();\n    88→    triggerProjectListChange();\n    89→  };\n    90→\n    91→  /**\n    92→   * Load the model for the current project\n    93→   */\n    94→  const loadProjectModel = async () => {\n    95→    if (project.value) {\n    96→      project.value = await getProject(project.value.id);\n    97→    }\n    98→  };\n    99→\n   100→  /**\n   101→   * Load the property descriptors for the current project\n   102→   * @param projectId The ID of the project to load properties for\n   103→   * If not provided, uses the current project's ID\n   104→   * @returns Promise that resolves when properties are loaded\n   105→   */\n   106→  async function loadProjectProperties(\n   107→    projectId: Project['id'] | undefined = project.value?.id,\n   108→  ) {\n   109→    if (!projectId) return; // No project to load properties for\n   110→\n   111→    propertyDescriptors.value =\n   112→      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n   113→    allPropertyDescriptors.value =\n   114→      await PanteraAPI.getPropertyDescriptors(projectId);\n   115→  }\n   116→\n   117→  /**\n   118→   * Register a callback to be executed when project loading finishes\n   119→   * @param callback Function to execute when project loading is complete\n   120→   */\n   121→  const onProjectLoadFinish = (callback: () => void) => {\n   122→    // If project is already loaded, execute callback immediately\n   123→    if (project.value) {\n   124→      callback();\n   125→      return;\n   126→    }\n   127→\n   128→    // Otherwise, add to callbacks array\n   129→    projectLoadFinishCallbacks.value.push(callback);\n   130→  };\n   131→\n   132→  /**\n   133→   * Register a callback to be executed when switching between projects\n   134→   * @param callback Function to execute when project changes\n   135→   * @returns Function to unregister the callback\n   136→   */\n   137→  const onProjectChange = (callback: () => void) => {\n   138→    projectChangeCallbacks.value.push(callback);\n   139→\n   140→    // Return unregister function\n   141→    return () => {\n   142→      const index = projectChangeCallbacks.value.indexOf(callback);\n   143→      if (index > -1) {\n   144→        projectChangeCallbacks.value.splice(index, 1);\n   145→      }\n   146→    };\n   147→  };\n   148→\n   149→  /**\n   150→   * Register a callback to be executed when the project list changes\n   151→   * @param callback Function to execute when project list changes (create/delete/update)\n   152→   * @returns Function to unregister the callback\n   153→   */\n   154→  const onProjectListChange = (callback: () => void) => {\n   155→    projectListChangeCallbacks.value.push(callback);\n   156→\n   157→    // Return unregister function\n   158→    return () => {\n   159→      const index = projectListChangeCallbacks.value.indexOf(callback);\n   160→      if (index > -1) {\n   161→        projectListChangeCallbacks.value.splice(index, 1);\n   162→      }\n   163→    };\n   164→  };\n   165→\n   166→  /**\n   167→   * Check if the project has existing data\n   168→   * @returns True if the project has existing data, false otherwise\n   169→   */\n   170→  const hasExistingData = computed<Boolean>(\n   171→    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n   172→  );\n   173→\n   174→  /**\n   175→   * Get the property descriptors for the current project containing the provided PropertyTag\n   176→   * @param propertyTag The PropertyTag to filter by\n   177→   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   178→   */\n   179→  function getPropertyDescriptorsWithTag(\n   180→    propertyTag: PropertyTag,\n   181→  ): PropertyDescriptor[] {\n   182→    return (\n   183→      allPropertyDescriptors.value?.filter(descriptor =>\n   184→        descriptor?.tags?.includes(propertyTag),\n   185→      ) ?? []\n   186→    );\n   187→  }\n   188→\n   189→  /**\n   190→   * Get the document IDs for the current project\n   191→   * This is used for navigation purposes, e.g., to load documents by ID\n   192→   * @returns Computed array of document IDs for the current project\n   193→   */\n   194→  const documentIds = computed(() => projectDocumentIds.value);\n   195→\n   196→  // Get a list of all project routes to watch for changes\n   197→  const projectChildRouteNames = router\n   198→    .getRoutes()\n   199→    .filter(r => r.path.includes('project'))\n   200→    .flatMap(r => r.children.map(child => child.name));\n   201→\n   202→  watch(\n   203→    () => route.params?.id?.toString(),\n   204→    async (newProjectId, oldProjectId, onInvalidate) => {\n   205→      let isCancelled = false;\n   206→      onInvalidate(() => {\n   207→        isCancelled = true;\n   208→      });\n   209→\n   210→      // If the route is a project route, load the project if it's different from the current one\n   211→      if (\n   212→        route.name &&\n   213→        projectChildRouteNames.includes(route.name) &&\n   214→        project.value?.id !== newProjectId\n   215→      ) {\n   216→        project.value = undefined;\n   217→        projectDocumentIds.value = []; // Clear document IDs when project changes\n   218→\n   219→        const p = await getProject(newProjectId);\n   220→        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n   221→        try {\n   222→          if (!isCancelled) {\n   223→            await loadProjectProperties(p.id);\n   224→          }\n   225→        } catch (e) {\n   226→          /*\n   227→          We likely tried to fetch the property descriptors before an index\n   228→          was created for this project as the last step of the ingest pipeline\n   229→          */\n   230→        } finally {\n   231→          const isAdmin = hasRole(RoleType.Admin);\n   232→          if (!isCancelled) {\n   233→            project.value = p;\n   234→            projectPermissionLevel.value = isAdmin\n   235→              ? ProjectPermissionLevel.Owner\n   236→              : permissionLevel;\n   237→\n   238→            if (oldProjectId && oldProjectId !== newProjectId) {\n   239→              projectChangeCallbacks.value.forEach(callback => callback());\n   240→            }\n   241→            // Execute all registered callbacks\n   242→            projectLoadFinishCallbacks.value.forEach(callback => callback());\n   243→            projectLoadFinishCallbacks.value = [];\n   244→          }\n   245→        }\n   246→      } else {\n   247→        project.value = undefined;\n   248→        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n   249→      }\n   250→    },\n   251→    { immediate: true },\n   252→  );\n   253→\n   254→  const getFileKey = async (file: File) => {\n   255→    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n   256→    const hash = await hashFile(file);\n   257→    return `${prefix}${hash}_${file.name}`;\n   258→  };\n   259→\n   260→  /**\n   261→   * Load documents for the current project and update documentIds\n   262→   * @param params LoadDataParams for pagination, sorting, filtering\n   263→   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   264→   */\n   265→  const loadDocuments = async (\n   266→    params?: LoadDataParams,\n   267→    cacheDocumentIds: boolean = false,\n   268→  ) => {\n   269→    if (!project.value) {\n   270→      return {\n   271→        items: [],\n   272→        documentCount: 0,\n   273→        isLoading: false,\n   274→        errorMessage: null,\n   275→      };\n   276→    }\n   277→\n   278→    try {\n   279→      const response = await ProjectDataService.getRows(\n   280→        project.value.id,\n   281→        params,\n   282→      );\n   283→\n   284→      // Extract document IDs from the response\n   285→      const items = response.content || [];\n   286→\n   287→      // Cache document IDs if requested (for navigation)\n   288→      if (cacheDocumentIds) {\n   289→        projectDocumentIds.value = items.map(item => item.id);\n   290→        totalDocumentCount.value = response.totalElements;\n   291→      }\n   292→\n   293→      return {\n   294→        items,\n   295→        documentCount: response.totalElements,\n   296→        isLoading: false,\n   297→        errorMessage: null,\n   298→      };\n   299→    } catch (e: any) {\n   300→      Logger.error('Error loading documents', e);\n   301→      return {\n   302→        items: [],\n   303→        documentCount: 0,\n   304→        isLoading: false,\n   305→        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n   306→      };\n   307→    }\n   308→  };\n   309→\n   310→  /**\n   311→   * Load all document IDs for navigation purposes\n   312→   */\n   313→  const loadDocumentIds = async () => {\n   314→    if (!project.value) {\n   315→      projectDocumentIds.value = [];\n   316→      return;\n   317→    }\n   318→\n   319→    try {\n   320→      // Load all documents to get their IDs\n   321→      const response = await ProjectDataService.getRows(project.value.id, {\n   322→        rows: 10000, // Load a large number to get all documents\n   323→      });\n   324→\n   325→      const items = response.content || [];\n   326→      projectDocumentIds.value = items.map(item => item.id);\n   327→    } catch (e: any) {\n   328→      Logger.error('Error loading document IDs', e);\n   329→      projectDocumentIds.value = [];\n   330→    }\n   331→  };\n   332→\n   333→  // Initialization\n   334→  getRecentProjects();\n   335→\n   336→  return {\n   337→    getRecentProjects,\n   338→    hasExistingData,\n   339→    propertyDescriptors,\n   340→    allPropertyDescriptors,\n   341→    getPropertyDescriptorsWithTag,\n   342→    project,\n   343→    loadProjectModel,\n   344→    loadProjectProperties,\n   345→    projectPermissionLevel,\n   346→    recentProjects,\n   347→    createProject,\n   348→    deleteProject,\n   349→    getFileKey,\n   350→    loadDocuments,\n   351→    loadDocumentIds,\n   352→    documentIds,\n   353→    onProjectLoadFinish,\n   354→    onProjectChange,\n   355→    onProjectListChange,\n   356→    triggerProjectListChange,\n   357→    totalDocumentCount,\n   358→  };\n   359→});\n   360→export default useProjectStore;\n   361→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"6e4d072c-ca93-46d6-b863-6d00db42c2b9","timestamp":"2025-09-17T14:58:56.822Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","content":"import { computed, ref, watch } from 'vue';\nimport {\n  AuditEventType,\n  Project,\n  ProjectDto,\n  ProjectPermissionLevel,\n  PropertyDescriptor,\n  PropertyTag,\n  RoleType,\n} from '@/types/Types';\nimport ProjectService from '@/services/ProjectService';\nimport { useRoute, useRouter } from 'vue-router';\nimport { defineStore } from 'pinia';\nimport { hasRole } from '@/services/AdminService';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport { hashFile } from '@/util/HashUtil';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport Logger from '@/services/Logger';\n\nconst useProjectStore = defineStore('project', () => {\n  const project = ref<Project | undefined>();\n  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const recentProjects = ref<Project[]>([]);\n  const projectDocumentIds = ref<string[]>([]);\n  const totalDocumentCount = ref<number | undefined>();\n\n  // Callbacks to execute when project loading finishes\n  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project changes (for clearing state)\n  const projectChangeCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project list changes (for refreshing project lists)\n  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n\n  /**\n   * Trigger all project list change callbacks\n   */\n  const triggerProjectListChange = () => {\n    projectListChangeCallbacks.value.forEach(callback => callback());\n  };\n\n  const route = useRoute();\n  const router = useRouter();\n\n  /**\n   * Load the most recent projects for the current user\n   */\n  const getRecentProjects = async () => {\n    recentProjects.value = await ProjectService.getRecentProjects();\n  };\n\n  /**\n   * Load a project by its ID\n   * @param id  The ID of the project to load\n   */\n  const getProject = async (id: string) => {\n    const p = await ProjectService.getProject(id);\n    await PanteraAPI.createAuditEvent({\n      type: AuditEventType.ProjectOpen,\n      projectId: p.id,\n    });\n    await getRecentProjects();\n    return p;\n  };\n\n  /**\n   * Create a new project\n   * @param projectDto  The project to create\n   */\n  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    const p = await ProjectService.createProject(projectDto);\n    await getRecentProjects();\n    triggerProjectListChange();\n    return p;\n  };\n\n  /**\n   * Delete a project\n   * @param projectId  The ID of the project to delete\n   */\n  const deleteProject = async (projectId: string): Promise<void> => {\n    await ProjectService.deleteProject(projectId);\n    await getRecentProjects();\n    triggerProjectListChange();\n  };\n\n  /**\n   * Load the model for the current project\n   */\n  const loadProjectModel = async () => {\n    if (project.value) {\n      project.value = await getProject(project.value.id);\n    }\n  };\n\n  /**\n   * Load the property descriptors for the current project\n   * @param projectId The ID of the project to load properties for\n   * If not provided, uses the current project's ID\n   * @returns Promise that resolves when properties are loaded\n   */\n  async function loadProjectProperties(\n    projectId: Project['id'] | undefined = project.value?.id,\n  ) {\n    if (!projectId) return; // No project to load properties for\n\n    propertyDescriptors.value =\n      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n    allPropertyDescriptors.value =\n      await PanteraAPI.getPropertyDescriptors(projectId);\n  }\n\n  /**\n   * Register a callback to be executed when project loading finishes\n   * @param callback Function to execute when project loading is complete\n   */\n  const onProjectLoadFinish = (callback: () => void) => {\n    // If project is already loaded, execute callback immediately\n    if (project.value) {\n      callback();\n      return;\n    }\n\n    // Otherwise, add to callbacks array\n    projectLoadFinishCallbacks.value.push(callback);\n  };\n\n  /**\n   * Register a callback to be executed when switching between projects\n   * @param callback Function to execute when project changes\n   * @returns Function to unregister the callback\n   */\n  const onProjectChange = (callback: () => void) => {\n    projectChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Register a callback to be executed when the project list changes\n   * @param callback Function to execute when project list changes (create/delete/update)\n   * @returns Function to unregister the callback\n   */\n  const onProjectListChange = (callback: () => void) => {\n    projectListChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectListChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectListChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Check if the project has existing data\n   * @returns True if the project has existing data, false otherwise\n   */\n  const hasExistingData = computed<Boolean>(\n    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n  );\n\n  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the document IDs for the current project\n   * This is used for navigation purposes, e.g., to load documents by ID\n   * @returns Computed array of document IDs for the current project\n   */\n  const documentIds = computed(() => projectDocumentIds.value);\n\n  // Get a list of all project routes to watch for changes\n  const projectChildRouteNames = router\n    .getRoutes()\n    .filter(r => r.path.includes('project'))\n    .flatMap(r => r.children.map(child => child.name));\n\n  watch(\n    () => route.params?.id?.toString(),\n    async (newProjectId, oldProjectId, onInvalidate) => {\n      let isCancelled = false;\n      onInvalidate(() => {\n        isCancelled = true;\n      });\n\n      // If the route is a project route, load the project if it's different from the current one\n      if (\n        route.name &&\n        projectChildRouteNames.includes(route.name) &&\n        project.value?.id !== newProjectId\n      ) {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when project changes\n\n        const p = await getProject(newProjectId);\n        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n        try {\n          if (!isCancelled) {\n            await loadProjectProperties(p.id);\n          }\n        } catch (e) {\n          /*\n          We likely tried to fetch the property descriptors before an index\n          was created for this project as the last step of the ingest pipeline\n          */\n        } finally {\n          const isAdmin = hasRole(RoleType.Admin);\n          if (!isCancelled) {\n            project.value = p;\n            projectPermissionLevel.value = isAdmin\n              ? ProjectPermissionLevel.Owner\n              : permissionLevel;\n\n            if (oldProjectId && oldProjectId !== newProjectId) {\n              projectChangeCallbacks.value.forEach(callback => callback());\n            }\n            // Execute all registered callbacks\n            projectLoadFinishCallbacks.value.forEach(callback => callback());\n            projectLoadFinishCallbacks.value = [];\n          }\n        }\n      } else {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n      }\n    },\n    { immediate: true },\n  );\n\n  const getFileKey = async (file: File) => {\n    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n    const hash = await hashFile(file);\n    return `${prefix}${hash}_${file.name}`;\n  };\n\n  /**\n   * Load documents for the current project and update documentIds\n   * @param params LoadDataParams for pagination, sorting, filtering\n   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   */\n  const loadDocuments = async (\n    params?: LoadDataParams,\n    cacheDocumentIds: boolean = false,\n  ) => {\n    if (!project.value) {\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: null,\n      };\n    }\n\n    try {\n      const response = await ProjectDataService.getRows(\n        project.value.id,\n        params,\n      );\n\n      // Extract document IDs from the response\n      const items = response.content || [];\n\n      // Cache document IDs if requested (for navigation)\n      if (cacheDocumentIds) {\n        projectDocumentIds.value = items.map(item => item.id);\n        totalDocumentCount.value = response.totalElements;\n      }\n\n      return {\n        items,\n        documentCount: response.totalElements,\n        isLoading: false,\n        errorMessage: null,\n      };\n    } catch (e: any) {\n      Logger.error('Error loading documents', e);\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n      };\n    }\n  };\n\n  /**\n   * Load all document IDs for navigation purposes\n   */\n  const loadDocumentIds = async () => {\n    if (!project.value) {\n      projectDocumentIds.value = [];\n      return;\n    }\n\n    try {\n      // Load all documents to get their IDs\n      const response = await ProjectDataService.getRows(project.value.id, {\n        rows: 10000, // Load a large number to get all documents\n      });\n\n      const items = response.content || [];\n      projectDocumentIds.value = items.map(item => item.id);\n    } catch (e: any) {\n      Logger.error('Error loading document IDs', e);\n      projectDocumentIds.value = [];\n    }\n  };\n\n  // Initialization\n  getRecentProjects();\n\n  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };\n});\nexport default useProjectStore;\n","numLines":361,"startLine":1,"totalLines":361}}}
{"parentUuid":"6e4d072c-ca93-46d6-b863-6d00db42c2b9","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CiiFqzDNmxtdNWeFn7esF1","type":"tool_result","content":"     1→import {\n     2→  Project,\n     3→  ProjectDto,\n     4→  ProjectGroupPermissionDisplayModel,\n     5→  ProjectPermissionLevel,\n     6→  ProjectUserPermissionDisplayModel,\n     7→} from '@/types/Types';\n     8→import { LoadDataParams } from '@/composables/useGenericTableState';\n     9→import API from '@/services/API';\n    10→\n    11→/**\n    12→ * Returns projects, with pagination and sorting\n    13→ * Response is of the type `org.springframework.data.domain.Page` which\n    14→ *  contains other properties not listed here.\n    15→ */\n    16→async function getProjects(\n    17→  params?: LoadDataParams,\n    18→): Promise<{ content: Project[]; totalElements: number }> {\n    19→  const response = await API.get('/projects', { params: params ?? null });\n    20→  return response.data;\n    21→}\n    22→\n    23→/**\n    24→ * Returns a single project by ID.\n    25→ * @param projectId the ID of the project to fetch.\n    26→ */\n    27→async function getProject(projectId: string): Promise<Project> {\n    28→  const response = await API.get(`/projects/${projectId}`);\n    29→  return response.data;\n    30→}\n    31→\n    32→/**\n    33→ * Returns the most recently created/opened projects for the current user\n    34→ */\n    35→async function getRecentProjects(): Promise<Project[]> {\n    36→  const response = await API.get('/projects/recent', { params: { limit: 10 } });\n    37→  return response.data;\n    38→}\n    39→\n    40→/**\n    41→ * Returns the permission level of the current user for a project.\n    42→ * @param projectId the ID of the project to check.\n    43→ */\n    44→async function getPermissionLevel(\n    45→  projectId: string,\n    46→): Promise<ProjectPermissionLevel> {\n    47→  const response = await API.get(`/projects/${projectId}/permissions/level`);\n    48→  return response.data;\n    49→}\n    50→\n    51→/**\n    52→ * Gets the permission levels for multiple projects in one call.  Useful for getting all the permissions for a page\n    53→ * of projects in a single call\n    54→ * @param projectIds  The IDs of the projects to get the permission levels for\n    55→ */\n    56→async function getPermissionLevels(\n    57→  projectIds: string[],\n    58→): Promise<{ [projectId: string]: ProjectPermissionLevel }> {\n    59→  const response = await API.post('/projects/permissions/levels', projectIds);\n    60→  return response.data;\n    61→}\n    62→\n    63→/**\n    64→ * Returns true if the given permission level is at least as high as the required permission level.\n    65→ * @param permissionLevel\n    66→ * @param requiredPermissionLevel\n    67→ */\n    68→function hasPermissionLevel(\n    69→  permissionLevel: ProjectPermissionLevel | undefined,\n    70→  requiredPermissionLevel: ProjectPermissionLevel,\n    71→): boolean {\n    72→  if (!permissionLevel) {\n    73→    return false;\n    74→  }\n    75→  return (\n    76→    Object.values(ProjectPermissionLevel).indexOf(permissionLevel) >=\n    77→    Object.values(ProjectPermissionLevel).indexOf(requiredPermissionLevel)\n    78→  );\n    79→}\n    80→\n    81→/**\n    82→ * Deletes a project by id\n    83→ * @param projectId the ID of the project to delete\n    84→ */\n    85→async function deleteProject(projectId: string) {\n    86→  const response = await API.delete(`/projects/${projectId}`);\n    87→  return response.data;\n    88→}\n    89→\n    90→/**\n    91→ * Creates a new project\n    92→ * @param projectDto  the project data to create\n    93→ */\n    94→async function createProject(projectDto: ProjectDto): Promise<Project> {\n    95→  const response = await API.post(`/projects`, projectDto, {\n    96→    headers: { 'Content-Type': 'application/json' },\n    97→  });\n    98→  return response.data;\n    99→}\n   100→\n   101→/**\n   102→ * Updates a project\n   103→ * @param projectId the ID of the project to update\n   104→ * @param projectDto the project data to update\n   105→ */\n   106→async function updateProject(projectId: string, projectDto: ProjectDto) {\n   107→  const response = await API.put(`/projects/${projectId}`, projectDto, {\n   108→    headers: { 'Content-Type': 'application/json' },\n   109→  });\n   110→  return response.data;\n   111→}\n   112→\n   113→/**\n   114→ * Returns a page of users with their permissions for a project.\n   115→ * @param projectId the ID of the project to fetch users for.\n   116→ * @param params    the pagination and sorting parameters.\n   117→ */\n   118→async function getUsers(\n   119→  projectId: string,\n   120→  params?: LoadDataParams,\n   121→): Promise<{\n   122→  content: ProjectUserPermissionDisplayModel[];\n   123→  totalElements: number;\n   124→}> {\n   125→  const response = await API.get(`/projects/${projectId}/users`, {\n   126→    params: params ?? null,\n   127→  });\n   128→  return response.data;\n   129→}\n   130→\n   131→/**\n   132→ * Returns a page of groups with their permissions for a project.\n   133→ * @param projectId the ID of the project to fetch groups for.\n   134→ * @param params    the pagination and sorting parameters.\n   135→ */\n   136→async function getGroups(\n   137→  projectId: string,\n   138→  params?: LoadDataParams,\n   139→): Promise<{\n   140→  content: ProjectGroupPermissionDisplayModel[];\n   141→  totalElements: number;\n   142→}> {\n   143→  const response = await API.get(`/projects/${projectId}/groups`, {\n   144→    params: params ?? null,\n   145→  });\n   146→  return response.data;\n   147→}\n   148→\n   149→/**\n   150→ * Updates the permission level of a user for a project.\n   151→ * @param projectId       the ID of the project to update.\n   152→ * @param userIds         the IDs of the user to update.\n   153→ * @param permissionLevel the new permission level.\n   154→ */\n   155→async function updateUserPermissions(\n   156→  projectId: string,\n   157→  userIds: string | string[],\n   158→  permissionLevel: ProjectPermissionLevel,\n   159→) {\n   160→  const response = await API.post(\n   161→    `/projects/${projectId}/permissions/user`,\n   162→    Array.isArray(userIds) ? userIds : [userIds],\n   163→    { params: { level: permissionLevel } },\n   164→  );\n   165→  return response.data;\n   166→}\n   167→\n   168→/**\n   169→ * Deletes permissions for the specified project and users\n   170→ * @param projectId the ID of the project to update.\n   171→ * @param userIds   the IDs of the users to delete.\n   172→ */\n   173→async function deleteUserPermissions(\n   174→  projectId: string,\n   175→  userIds: string | string[],\n   176→) {\n   177→  const response = await API.delete(`/projects/${projectId}/permissions/user`, {\n   178→    data: Array.isArray(userIds) ? userIds : [userIds],\n   179→  });\n   180→  return response.data;\n   181→}\n   182→\n   183→/**\n   184→ * Updates the permission level of a group for a project.\n   185→ * @param projectId       the ID of the project to update.\n   186→ * @param groupIds        the ID of the group to update.\n   187→ * @param permissionLevel the new permission level.\n   188→ */\n   189→async function updateGroupPermissions(\n   190→  projectId: string,\n   191→  groupIds: string | string[],\n   192→  permissionLevel: ProjectPermissionLevel,\n   193→) {\n   194→  const response = await API.post(\n   195→    `/projects/${projectId}/permissions/group`,\n   196→    Array.isArray(groupIds) ? groupIds : [groupIds],\n   197→    { params: { level: permissionLevel } },\n   198→  );\n   199→  return response.data;\n   200→}\n   201→\n   202→/**\n   203→ * Deletes permissions for the specified project and groups\n   204→ * @param projectId the ID of the project to update\n   205→ * @param groupIds  the IDs of the groups to delete\n   206→ */\n   207→async function deleteGroupPermissions(\n   208→  projectId: string,\n   209→  groupIds: string | string[],\n   210→) {\n   211→  const response = await API.delete(\n   212→    `/projects/${projectId}/permissions/group`,\n   213→    { data: Array.isArray(groupIds) ? groupIds : [groupIds] },\n   214→  );\n   215→  return response.data;\n   216→}\n   217→\n   218→/**\n   219→ * Get the number of documents in a list of projects\n   220→ * @param projectIds The IDs of the projects\n   221→ */\n   222→async function getDocumentCounts(projectIds: string[]): Promise<number[]> {\n   223→  const response = await API.get(`/projects/document-counts`, {\n   224→    params: {\n   225→      ids: projectIds,\n   226→    },\n   227→  });\n   228→  return response.data;\n   229→}\n   230→\n   231→/**\n   232→ * Saves an image associated with a project. b64Image is a base64 encoded image data url.\n   233→ *\n   234→ * @param projectId the ID of the project\n   235→ * @param b64Image  the base64 encoded image data url\n   236→ */\n   237→async function saveImage(projectId: string, b64Image: string) {\n   238→  await API.put(`/projects/${projectId}/image`, b64Image, {\n   239→    headers: { 'Content-Type': 'text/plain' },\n   240→  });\n   241→}\n   242→\n   243→/**\n   244→ * Deletes the image associated with a project\n   245→ * @param projectId the ID of the project\n   246→ */\n   247→async function deleteImage(projectId: string) {\n   248→  await API.delete(`/projects/${projectId}/image`);\n   249→}\n   250→\n   251→/**\n   252→ * Crops an image associated with a project. b64Image is a base64 encoded image data url\n   253→ * @param projectId the ID of the project\n   254→ * @param b64Image  the base64 encoded image data url\n   255→ */\n   256→async function cropImage(projectId: string, b64Image: string) {\n   257→  await API.post(`/projects/${projectId}/image/crop`, b64Image, {\n   258→    headers: { 'Content-Type': 'text/plain' },\n   259→  });\n   260→}\n   261→\n   262→export default {\n   263→  getProjects,\n   264→  getProject,\n   265→  getRecentProjects,\n   266→  getPermissionLevel,\n   267→  getPermissionLevels,\n   268→  hasPermissionLevel,\n   269→  deleteProject,\n   270→  createProject,\n   271→  updateProject,\n   272→  getUsers,\n   273→  updateUserPermissions,\n   274→  deleteUserPermissions,\n   275→  getGroups,\n   276→  updateGroupPermissions,\n   277→  deleteGroupPermissions,\n   278→  getDocumentCounts,\n   279→  saveImage,\n   280→  deleteImage,\n   281→  cropImage,\n   282→};\n   283→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"fdad36b3-0d8d-41f1-a903-fb4ea6d85d7a","timestamp":"2025-09-17T14:58:56.822Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/services/ProjectService.ts","content":"import {\n  Project,\n  ProjectDto,\n  ProjectGroupPermissionDisplayModel,\n  ProjectPermissionLevel,\n  ProjectUserPermissionDisplayModel,\n} from '@/types/Types';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport API from '@/services/API';\n\n/**\n * Returns projects, with pagination and sorting\n * Response is of the type `org.springframework.data.domain.Page` which\n *  contains other properties not listed here.\n */\nasync function getProjects(\n  params?: LoadDataParams,\n): Promise<{ content: Project[]; totalElements: number }> {\n  const response = await API.get('/projects', { params: params ?? null });\n  return response.data;\n}\n\n/**\n * Returns a single project by ID.\n * @param projectId the ID of the project to fetch.\n */\nasync function getProject(projectId: string): Promise<Project> {\n  const response = await API.get(`/projects/${projectId}`);\n  return response.data;\n}\n\n/**\n * Returns the most recently created/opened projects for the current user\n */\nasync function getRecentProjects(): Promise<Project[]> {\n  const response = await API.get('/projects/recent', { params: { limit: 10 } });\n  return response.data;\n}\n\n/**\n * Returns the permission level of the current user for a project.\n * @param projectId the ID of the project to check.\n */\nasync function getPermissionLevel(\n  projectId: string,\n): Promise<ProjectPermissionLevel> {\n  const response = await API.get(`/projects/${projectId}/permissions/level`);\n  return response.data;\n}\n\n/**\n * Gets the permission levels for multiple projects in one call.  Useful for getting all the permissions for a page\n * of projects in a single call\n * @param projectIds  The IDs of the projects to get the permission levels for\n */\nasync function getPermissionLevels(\n  projectIds: string[],\n): Promise<{ [projectId: string]: ProjectPermissionLevel }> {\n  const response = await API.post('/projects/permissions/levels', projectIds);\n  return response.data;\n}\n\n/**\n * Returns true if the given permission level is at least as high as the required permission level.\n * @param permissionLevel\n * @param requiredPermissionLevel\n */\nfunction hasPermissionLevel(\n  permissionLevel: ProjectPermissionLevel | undefined,\n  requiredPermissionLevel: ProjectPermissionLevel,\n): boolean {\n  if (!permissionLevel) {\n    return false;\n  }\n  return (\n    Object.values(ProjectPermissionLevel).indexOf(permissionLevel) >=\n    Object.values(ProjectPermissionLevel).indexOf(requiredPermissionLevel)\n  );\n}\n\n/**\n * Deletes a project by id\n * @param projectId the ID of the project to delete\n */\nasync function deleteProject(projectId: string) {\n  const response = await API.delete(`/projects/${projectId}`);\n  return response.data;\n}\n\n/**\n * Creates a new project\n * @param projectDto  the project data to create\n */\nasync function createProject(projectDto: ProjectDto): Promise<Project> {\n  const response = await API.post(`/projects`, projectDto, {\n    headers: { 'Content-Type': 'application/json' },\n  });\n  return response.data;\n}\n\n/**\n * Updates a project\n * @param projectId the ID of the project to update\n * @param projectDto the project data to update\n */\nasync function updateProject(projectId: string, projectDto: ProjectDto) {\n  const response = await API.put(`/projects/${projectId}`, projectDto, {\n    headers: { 'Content-Type': 'application/json' },\n  });\n  return response.data;\n}\n\n/**\n * Returns a page of users with their permissions for a project.\n * @param projectId the ID of the project to fetch users for.\n * @param params    the pagination and sorting parameters.\n */\nasync function getUsers(\n  projectId: string,\n  params?: LoadDataParams,\n): Promise<{\n  content: ProjectUserPermissionDisplayModel[];\n  totalElements: number;\n}> {\n  const response = await API.get(`/projects/${projectId}/users`, {\n    params: params ?? null,\n  });\n  return response.data;\n}\n\n/**\n * Returns a page of groups with their permissions for a project.\n * @param projectId the ID of the project to fetch groups for.\n * @param params    the pagination and sorting parameters.\n */\nasync function getGroups(\n  projectId: string,\n  params?: LoadDataParams,\n): Promise<{\n  content: ProjectGroupPermissionDisplayModel[];\n  totalElements: number;\n}> {\n  const response = await API.get(`/projects/${projectId}/groups`, {\n    params: params ?? null,\n  });\n  return response.data;\n}\n\n/**\n * Updates the permission level of a user for a project.\n * @param projectId       the ID of the project to update.\n * @param userIds         the IDs of the user to update.\n * @param permissionLevel the new permission level.\n */\nasync function updateUserPermissions(\n  projectId: string,\n  userIds: string | string[],\n  permissionLevel: ProjectPermissionLevel,\n) {\n  const response = await API.post(\n    `/projects/${projectId}/permissions/user`,\n    Array.isArray(userIds) ? userIds : [userIds],\n    { params: { level: permissionLevel } },\n  );\n  return response.data;\n}\n\n/**\n * Deletes permissions for the specified project and users\n * @param projectId the ID of the project to update.\n * @param userIds   the IDs of the users to delete.\n */\nasync function deleteUserPermissions(\n  projectId: string,\n  userIds: string | string[],\n) {\n  const response = await API.delete(`/projects/${projectId}/permissions/user`, {\n    data: Array.isArray(userIds) ? userIds : [userIds],\n  });\n  return response.data;\n}\n\n/**\n * Updates the permission level of a group for a project.\n * @param projectId       the ID of the project to update.\n * @param groupIds        the ID of the group to update.\n * @param permissionLevel the new permission level.\n */\nasync function updateGroupPermissions(\n  projectId: string,\n  groupIds: string | string[],\n  permissionLevel: ProjectPermissionLevel,\n) {\n  const response = await API.post(\n    `/projects/${projectId}/permissions/group`,\n    Array.isArray(groupIds) ? groupIds : [groupIds],\n    { params: { level: permissionLevel } },\n  );\n  return response.data;\n}\n\n/**\n * Deletes permissions for the specified project and groups\n * @param projectId the ID of the project to update\n * @param groupIds  the IDs of the groups to delete\n */\nasync function deleteGroupPermissions(\n  projectId: string,\n  groupIds: string | string[],\n) {\n  const response = await API.delete(\n    `/projects/${projectId}/permissions/group`,\n    { data: Array.isArray(groupIds) ? groupIds : [groupIds] },\n  );\n  return response.data;\n}\n\n/**\n * Get the number of documents in a list of projects\n * @param projectIds The IDs of the projects\n */\nasync function getDocumentCounts(projectIds: string[]): Promise<number[]> {\n  const response = await API.get(`/projects/document-counts`, {\n    params: {\n      ids: projectIds,\n    },\n  });\n  return response.data;\n}\n\n/**\n * Saves an image associated with a project. b64Image is a base64 encoded image data url.\n *\n * @param projectId the ID of the project\n * @param b64Image  the base64 encoded image data url\n */\nasync function saveImage(projectId: string, b64Image: string) {\n  await API.put(`/projects/${projectId}/image`, b64Image, {\n    headers: { 'Content-Type': 'text/plain' },\n  });\n}\n\n/**\n * Deletes the image associated with a project\n * @param projectId the ID of the project\n */\nasync function deleteImage(projectId: string) {\n  await API.delete(`/projects/${projectId}/image`);\n}\n\n/**\n * Crops an image associated with a project. b64Image is a base64 encoded image data url\n * @param projectId the ID of the project\n * @param b64Image  the base64 encoded image data url\n */\nasync function cropImage(projectId: string, b64Image: string) {\n  await API.post(`/projects/${projectId}/image/crop`, b64Image, {\n    headers: { 'Content-Type': 'text/plain' },\n  });\n}\n\nexport default {\n  getProjects,\n  getProject,\n  getRecentProjects,\n  getPermissionLevel,\n  getPermissionLevels,\n  hasPermissionLevel,\n  deleteProject,\n  createProject,\n  updateProject,\n  getUsers,\n  updateUserPermissions,\n  deleteUserPermissions,\n  getGroups,\n  updateGroupPermissions,\n  deleteGroupPermissions,\n  getDocumentCounts,\n  saveImage,\n  deleteImage,\n  cropImage,\n};\n","numLines":283,"startLine":1,"totalLines":283}}}
{"parentUuid":"fdad36b3-0d8d-41f1-a903-fb4ea6d85d7a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XBUbzdcakZ6LKZ2VuQxAKA","type":"tool_result","content":"     1→<template>\n     2→  <div v-if=\"projectStore.project\" class=\"project-data-view-container\">\n     3→    <SelectionBar :selection=\"selection\" :facets=\"facets\" />\n     4→    <ProjectHomeViewEmptyState\n     5→      v-if=\"projectStore.project && !projectStore.hasExistingData\"\n     6→      class=\"h-full\"\n     7→      @view-pipelines-in-progress=\"\n     8→        () => router.push({ name: 'project-file-upload-status' })\n     9→      \"\n    10→    />\n    11→    <div v-else class=\"project-data-view-container flex flex-row\">\n    12→      <ProjectFacetsPanel\n    13→        v-if=\"\n    14→          projectStore.project &&\n    15→          projectStore.hasExistingData &&\n    16→          projectStore.propertyDescriptors.some(pd =>\n    17→            PropertyDescriptorService.hasTag(pd, PropertyTag.Facet),\n    18→          )\n    19→        \"\n    20→        :facets=\"facets\"\n    21→        :facet-metadata=\"allFacetMetadata\"\n    22→        :get-facet-order=\"getFacetOrder\"\n    23→        :is-group-key=\"isGroupKey\"\n    24→        :get-group-facets=\"getGroupFacets\"\n    25→        :expand-groups-in-order=\"expandGroupsInOrder\"\n    26→        @visible-facet-keys-changed=\"onSetVisibleFacetKeys\"\n    27→        @facet-order-changed=\"setFacetOrder\"\n    28→        @extract-facet=\"openUpdateFilesModal\"\n    29→        @needs-refresh=\"facets.refreshFacetData()\"\n    30→      />\n    31→      <div class=\"flex flex-column sub-view-container\">\n    32→        <div class=\"app-toolbar\">\n    33→          <div class=\"flex justify-content-end gap-2 w-full\">\n    34→            <ProjectSearchBar\n    35→              class=\"w-full\"\n    36→              :formatted-search-queries=\"search.formattedSearchQueries.value\"\n    37→              :facet-selections-list=\"facets.facetSelectionsList.value\"\n    38→              :selection-summary=\"selection.selectionSummary.value\"\n    39→              @clear-search-queries=\"search.clearSearchQueries\"\n    40→              @add-search-query=\"search.addSearchQuery\"\n    41→              @remove-search-query=\"search.removeSearchQuery\"\n    42→              @clear-selection-for-facet=\"facets.clearSelectionForFacet\"\n    43→              @clear-all-facet-selections=\"facets.clearAllSelections\"\n    44→              @clear-selection=\"onClearSelection\"\n    45→            />\n    46→            <div class=\"flex justify-content-end\">\n    47→              <SelectButton\n    48→                v-if=\"availableViews.length > 1\"\n    49→                v-model=\"selectedView\"\n    50→                :options=\"availableViews\"\n    51→                aria-labelledby=\"basic\"\n    52→                :allowEmpty=\"false\"\n    53→                style=\"padding: 3px\"\n    54→              />\n    55→            </div>\n    56→          </div>\n    57→        </div>\n    58→        <component\n    59→          class=\"subview\"\n    60→          :is=\"ALL_VIEW_OPTIONS[selectedView]\"\n    61→          :facet-selection-lucene-query=\"facets.facetSelectionLuceneQuery.value\"\n    62→          :selection-lucene-query=\"selection.luceneQuery.value\"\n    63→          :query-string=\"search.queryString.value\"\n    64→          :search=\"search\"\n    65→          :facets=\"facets\"\n    66→          :selection=\"selection\"\n    67→          @apply-filter=\"\n    68→            (propertyKey: string, value: string) =>\n    69→              applyFilter(propertyKey, value)\n    70→          \"\n    71→          @open-upload-files-modal=\"openUpdateFilesModal\"\n    72→        />\n    73→      </div>\n    74→    </div>\n    75→  </div>\n    76→  <UpdateFilesModal\n    77→    :is-visible=\"updateFileModalVisible\"\n    78→    :property-key=\"selectedPropertyDescriptor\"\n    79→    @close=\"updateFileModalVisible = false\"\n    80→    :search=\"search\"\n    81→    :facets=\"facets\"\n    82→  />\n    83→</template>\n    84→\n    85→<script setup lang=\"ts\">\n    86→import { computed, onMounted, ref, watch, inject } from 'vue';\n    87→import { PropertyTag } from '@/types/Types';\n    88→import useProjectStore from '@/stores/ProjectStore';\n    89→import usePreferencesStore from '@/stores/PreferencesStore';\n    90→import { useRoute, useRouter } from 'vue-router';\n    91→import ProjectDataTable from '@/components/project/ProjectDataTable.vue';\n    92→import ProjectSearchBar from '@/components/ProjectSearchBar.vue';\n    93→import ProjectHomeViewEmptyState from '@/components/ProjectHomeViewEmptyState.vue';\n    94→import ProjectFacetsPanel from '@/components/facets/ProjectFacetsPanel.vue';\n    95→import { Search } from '@/composables/useSearch';\n    96→import { Facets } from '@/composables/useFacets';\n    97→import useFacetMetadata from '@/composables/useFacetMetadata';\n    98→import FacetsUtil from '@/util/FacetsUtil';\n    99→import SearchUtil from '@/util/SearchUtil';\n   100→import Logger from '@/services/Logger';\n   101→import useSubviewState from '@/composables/useSubviewState';\n   102→import SelectButton from 'primevue/selectbutton';\n   103→import ProjectLocations from '@/components/project/ProjectLocations.vue';\n   104→import ProjectDataCardList from '@/components/project/project-data-card/ProjectDataCardList.vue';\n   105→import PropertyDescriptorService from '@/services/PropertyDescriptorService';\n   106→import { Selection } from '@/composables/useSelection';\n   107→import ProjectDataService from '@/services/ProjectDataService';\n   108→import useClientConfig from '@/composables/useClientConfig';\n   109→import UpdateFilesModal from '@/components/data-mapper/UpdateFilesModal.vue';\n   110→import SelectionBar from '@/components/SelectionBar.vue';\n   111→import { getTasksFromPropertyDescriptor } from '@/services/ExtractionService';\n   112→import _ from 'lodash';\n   113→\n   114→const router = useRouter();\n   115→const route = useRoute();\n   116→const projectStore = useProjectStore();\n   117→const preferencesStore = usePreferencesStore();\n   118→const { hasFetchedConfig, config } = useClientConfig();\n   119→\n   120→// Inject the persistent search and facets instances from parent\n   121→const search = inject<Search>('search');\n   122→const facets = inject<Facets>('facets');\n   123→const selection = inject<Selection>('selection');\n   124→const {\n   125→  facetMetadata,\n   126→  getFacetOrder,\n   127→  setFacetOrder,\n   128→  isGroupKey,\n   129→  getGroupFacets,\n   130→  expandGroupsInOrder,\n   131→} = useFacetMetadata();\n   132→\n   133→if (!search || !facets || !selection) {\n   134→  throw new Error('ProjectDataView requires search and facets to be provided');\n   135→}\n   136→\n   137→enum ViewId {\n   138→  Table = 'Table',\n   139→  Cards = 'Cards',\n   140→  Map = 'Map',\n   141→}\n   142→const ALL_VIEW_OPTIONS = {\n   143→  [ViewId.Cards]: ProjectDataCardList,\n   144→  [ViewId.Table]: ProjectDataTable,\n   145→  [ViewId.Map]: ProjectLocations,\n   146→};\n   147→const updateFileModalVisible = ref<boolean>(false);\n   148→const selectedPropertyDescriptor = ref<string>('');\n   149→\n   150→const selectedView = ref(ViewId.Cards);\n   151→const availableViews = computed(() => {\n   152→  if (!projectStore.project || hasFetchedConfig.value === false) {\n   153→    return Object.keys(ALL_VIEW_OPTIONS) as ViewId[];\n   154→  }\n   155→  const result = [ViewId.Cards, ViewId.Table] as ViewId[];\n   156→\n   157→  if (\n   158→    projectStore.propertyDescriptors.some(pd =>\n   159→      PropertyDescriptorService.hasTag(pd, PropertyTag.Location),\n   160→    )\n   161→  ) {\n   162→    result.push(ViewId.Map);\n   163→  }\n   164→\n   165→  // If the default subview is specified and exists in the available views, move it to the start of the list.\n   166→  const defaultSubview = config.value?.defaultDataSubview as ViewId | undefined;\n   167→  if (defaultSubview !== undefined) {\n   168→    const defaultSubviewIndex = result.indexOf(defaultSubview);\n   169→    if (defaultSubviewIndex !== -1) {\n   170→      result.splice(defaultSubviewIndex, 1);\n   171→      result.unshift(defaultSubview);\n   172→    }\n   173→  }\n   174→  return result;\n   175→});\n   176→// When we fetch the client config, apply the default data subview if it exists,\n   177→// but only if there's no selectedView in the URL parameters\n   178→watch(\n   179→  config,\n   180→  _config => {\n   181→    if (_config?.defaultDataSubview && !route.query.selectedView) {\n   182→      selectedView.value = _config.defaultDataSubview as ViewId;\n   183→    }\n   184→  },\n   185→  { immediate: true },\n   186→);\n   187→// Whenever the list of available views changes, if the selected view is no\n   188→//  longer available, select the first one.\n   189→watch(availableViews, _availableViews => {\n   190→  if (_availableViews.includes(selectedView.value)) {\n   191→    return;\n   192→  }\n   193→  // eslint-disable-next-line prefer-destructuring\n   194→  selectedView.value = availableViews.value[0];\n   195→});\n   196→\n   197→const applyFilter = (propertyKey: string, value: string) => {\n   198→  search.addSearchQuery(`${propertyKey}:${value}`);\n   199→};\n   200→\n   201→const onClearSelection = (field?: string) => {\n   202→  if (field) {\n   203→    selection.clearSelection([field]);\n   204→  } else {\n   205→    selection.clearSelection();\n   206→  }\n   207→  facets.setAdditionalFilter(selection.luceneQuery.value);\n   208→  facets.applyFacetSelections();\n   209→};\n   210→\n   211→// Create a computed that includes extractable facets in the metadata\n   212→const allFacetMetadata = computed(() => {\n   213→  const metadata = { ...facetMetadata.value };\n   214→  return metadata;\n   215→});\n   216→\n   217→/* Visible facets - updated to include extractable facets */\n   218→watch(\n   219→  [\n   220→    () => projectStore?.project?.projectPreferences?.visibleFacetKeys,\n   221→    allFacetMetadata,\n   222→  ],\n   223→  ([_visibleKeys, _allFacetMetadata]) => {\n   224→    if (_visibleKeys !== undefined && _visibleKeys !== null) {\n   225→      // Visible facet keys have been saved to the user's project preference so apply them\n   226→      facets.setVisibleFacetKeys(_visibleKeys);\n   227→      return;\n   228→    }\n   229→    // Default to selecting all facets (including extractable ones)\n   230→    facets.setVisibleFacetKeys(Object.keys(_allFacetMetadata));\n   231→  },\n   232→);\n   233→\n   234→const onSetVisibleFacetKeys = (newVisibleKeys: string[]) => {\n   235→  preferencesStore.updateProjectPreferences({\n   236→    visibleFacetKeys: newVisibleKeys,\n   237→  });\n   238→};\n   239→\n   240→// Initialize states from the URL\n   241→onMounted(() => {\n   242→  if (\n   243→    route.query.selectedView &&\n   244→    Object.values(ViewId).includes(route.query.selectedView as ViewId)\n   245→  ) {\n   246→    selectedView.value = route.query.selectedView as ViewId;\n   247→  }\n   248→  if (route.query.searchQueries) {\n   249→    const searchQueryState = SearchUtil.parseSearchQueryState(\n   250→      route.query.searchQueries as string,\n   251→    );\n   252→    if (searchQueryState.length > 0) {\n   253→      searchQueryState.forEach((searchQuery: string) =>\n   254→        search.addSearchQuery(searchQuery),\n   255→      );\n   256→    }\n   257→  }\n   258→  if (route.query.facetState) {\n   259→    try {\n   260→      const facetState = FacetsUtil.parseFacetState(\n   261→        route.query.facetState as string,\n   262→      );\n   263→      facets.setCategoricalFacetState(facetState.categoricalFacetState);\n   264→      facets.setNumericFacetState(facetState.numericFacetSelectionState);\n   265→    } catch (e) {\n   266→      Logger.error(\n   267→        'Error initializing facet state from the URL',\n   268→        route.query.facetState,\n   269→        e,\n   270→      );\n   271→    }\n   272→  }\n   273→  if (route.query.selection) {\n   274→    selection.loadSelectionState(route.query.selection as string);\n   275→    facets.setAdditionalFilter(selection.luceneQuery.value);\n   276→  }\n   277→  if (route.query.selection || route.query.facetState) {\n   278→    facets.applyFacetSelections();\n   279→  }\n   280→});\n   281→\n   282→const { subviewState, clearSubviewState } = useSubviewState();\n   283→\n   284→// Update the URL whenever any data that we want to persist changes\n   285→watch(\n   286→  [\n   287→    selection.selectedItems,\n   288→    search.searchQueries,\n   289→    facets.categoricalFacetState,\n   290→    facets.numericFacetSelectionState,\n   291→    selectedView,\n   292→    subviewState,\n   293→  ],\n   294→  async (\n   295→    [\n   296→      ,\n   297→      _searchQueries,\n   298→      _categoricalFacetState,\n   299→      _numericFacetSelectionState,\n   300→      _selectedView,\n   301→      _subviewState,\n   302→    ],\n   303→    [, , , , _oldSelectedView],\n   304→  ) => {\n   305→    // If the subview is changing, remove all subview state keys from the route\n   306→    //  and clear the subview state.\n   307→    const routeQuery = JSON.parse(JSON.stringify(route.query));\n   308→    if (_oldSelectedView !== _selectedView) {\n   309→      // Delete all subview state keys from routeQuery\n   310→      Object.keys(_subviewState).forEach(key => {\n   311→        delete routeQuery[key];\n   312→      });\n   313→      clearSubviewState();\n   314→    } else {\n   315→      // Add all subview state keys to routeQuery\n   316→      Object.entries(_subviewState).forEach(([key, value]) => {\n   317→        routeQuery[key] = value;\n   318→      });\n   319→    }\n   320→\n   321→    await router.push({\n   322→      name: route.name,\n   323→      query: {\n   324→        ...routeQuery,\n   325→        selectedView: _selectedView,\n   326→        searchQueries: SearchUtil.serializeSearchQueryState(_searchQueries),\n   327→        facetState: FacetsUtil.serializeFacetState(\n   328→          _categoricalFacetState,\n   329→          _numericFacetSelectionState,\n   330→        ),\n   331→        selection: selection.serializeSelectionState(),\n   332→      },\n   333→      replace: true,\n   334→    });\n   335→  },\n   336→);\n   337→\n   338→// Refresh project properties when the selected view changes, so that\n   339→//  if we navigate back to the \"search\" view after running a pipeline,\n   340→//  we can see the new data.\n   341→onMounted(() => {\n   342→  // Property descriptors\n   343→  projectStore.loadProjectProperties();\n   344→  // Project metadata and index information\n   345→  projectStore.loadProjectModel();\n   346→  if (projectStore.project) {\n   347→    // Make sure elasticsearch index is up to date\n   348→    ProjectDataService.refresh(projectStore.project?.id);\n   349→  }\n   350→});\n   351→\n   352→// Sets the selectedPropertyDescriptor.\n   353→// Opens UpdateFilesModal\n   354→const openUpdateFilesModal = (propertyDescriptor: string) => {\n   355→  if (_.isEmpty(getTasksFromPropertyDescriptor(propertyDescriptor))) return; // cannot process this task\n   356→  selectedPropertyDescriptor.value = propertyDescriptor;\n   357→  updateFileModalVisible.value = true;\n   358→};\n   359→</script>\n   360→\n   361→<style scoped>\n   362→.project-data-view-container {\n   363→  background-color: var(--surface-0);\n   364→  overflow: hidden;\n   365→  height: 100%;\n   366→  width: 100%;\n   367→}\n   368→\n   369→.app-toolbar {\n   370→  display: flex;\n   371→  justify-content: end;\n   372→  padding: 0.5rem 0.5rem 0.25rem 0.5rem;\n   373→  z-index: 100;\n   374→}\n   375→\n   376→.sub-view-container {\n   377→  min-width: 0;\n   378→  width: 100%;\n   379→}\n   380→\n   381→.subview {\n   382→  flex: 1;\n   383→  min-height: 0;\n   384→}\n   385→</style>\n   386→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"2a3a3ed6-eb12-4374-bc8e-cdf257671050","timestamp":"2025-09-17T14:58:56.822Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue","content":"<template>\n  <div v-if=\"projectStore.project\" class=\"project-data-view-container\">\n    <SelectionBar :selection=\"selection\" :facets=\"facets\" />\n    <ProjectHomeViewEmptyState\n      v-if=\"projectStore.project && !projectStore.hasExistingData\"\n      class=\"h-full\"\n      @view-pipelines-in-progress=\"\n        () => router.push({ name: 'project-file-upload-status' })\n      \"\n    />\n    <div v-else class=\"project-data-view-container flex flex-row\">\n      <ProjectFacetsPanel\n        v-if=\"\n          projectStore.project &&\n          projectStore.hasExistingData &&\n          projectStore.propertyDescriptors.some(pd =>\n            PropertyDescriptorService.hasTag(pd, PropertyTag.Facet),\n          )\n        \"\n        :facets=\"facets\"\n        :facet-metadata=\"allFacetMetadata\"\n        :get-facet-order=\"getFacetOrder\"\n        :is-group-key=\"isGroupKey\"\n        :get-group-facets=\"getGroupFacets\"\n        :expand-groups-in-order=\"expandGroupsInOrder\"\n        @visible-facet-keys-changed=\"onSetVisibleFacetKeys\"\n        @facet-order-changed=\"setFacetOrder\"\n        @extract-facet=\"openUpdateFilesModal\"\n        @needs-refresh=\"facets.refreshFacetData()\"\n      />\n      <div class=\"flex flex-column sub-view-container\">\n        <div class=\"app-toolbar\">\n          <div class=\"flex justify-content-end gap-2 w-full\">\n            <ProjectSearchBar\n              class=\"w-full\"\n              :formatted-search-queries=\"search.formattedSearchQueries.value\"\n              :facet-selections-list=\"facets.facetSelectionsList.value\"\n              :selection-summary=\"selection.selectionSummary.value\"\n              @clear-search-queries=\"search.clearSearchQueries\"\n              @add-search-query=\"search.addSearchQuery\"\n              @remove-search-query=\"search.removeSearchQuery\"\n              @clear-selection-for-facet=\"facets.clearSelectionForFacet\"\n              @clear-all-facet-selections=\"facets.clearAllSelections\"\n              @clear-selection=\"onClearSelection\"\n            />\n            <div class=\"flex justify-content-end\">\n              <SelectButton\n                v-if=\"availableViews.length > 1\"\n                v-model=\"selectedView\"\n                :options=\"availableViews\"\n                aria-labelledby=\"basic\"\n                :allowEmpty=\"false\"\n                style=\"padding: 3px\"\n              />\n            </div>\n          </div>\n        </div>\n        <component\n          class=\"subview\"\n          :is=\"ALL_VIEW_OPTIONS[selectedView]\"\n          :facet-selection-lucene-query=\"facets.facetSelectionLuceneQuery.value\"\n          :selection-lucene-query=\"selection.luceneQuery.value\"\n          :query-string=\"search.queryString.value\"\n          :search=\"search\"\n          :facets=\"facets\"\n          :selection=\"selection\"\n          @apply-filter=\"\n            (propertyKey: string, value: string) =>\n              applyFilter(propertyKey, value)\n          \"\n          @open-upload-files-modal=\"openUpdateFilesModal\"\n        />\n      </div>\n    </div>\n  </div>\n  <UpdateFilesModal\n    :is-visible=\"updateFileModalVisible\"\n    :property-key=\"selectedPropertyDescriptor\"\n    @close=\"updateFileModalVisible = false\"\n    :search=\"search\"\n    :facets=\"facets\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted, ref, watch, inject } from 'vue';\nimport { PropertyTag } from '@/types/Types';\nimport useProjectStore from '@/stores/ProjectStore';\nimport usePreferencesStore from '@/stores/PreferencesStore';\nimport { useRoute, useRouter } from 'vue-router';\nimport ProjectDataTable from '@/components/project/ProjectDataTable.vue';\nimport ProjectSearchBar from '@/components/ProjectSearchBar.vue';\nimport ProjectHomeViewEmptyState from '@/components/ProjectHomeViewEmptyState.vue';\nimport ProjectFacetsPanel from '@/components/facets/ProjectFacetsPanel.vue';\nimport { Search } from '@/composables/useSearch';\nimport { Facets } from '@/composables/useFacets';\nimport useFacetMetadata from '@/composables/useFacetMetadata';\nimport FacetsUtil from '@/util/FacetsUtil';\nimport SearchUtil from '@/util/SearchUtil';\nimport Logger from '@/services/Logger';\nimport useSubviewState from '@/composables/useSubviewState';\nimport SelectButton from 'primevue/selectbutton';\nimport ProjectLocations from '@/components/project/ProjectLocations.vue';\nimport ProjectDataCardList from '@/components/project/project-data-card/ProjectDataCardList.vue';\nimport PropertyDescriptorService from '@/services/PropertyDescriptorService';\nimport { Selection } from '@/composables/useSelection';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport useClientConfig from '@/composables/useClientConfig';\nimport UpdateFilesModal from '@/components/data-mapper/UpdateFilesModal.vue';\nimport SelectionBar from '@/components/SelectionBar.vue';\nimport { getTasksFromPropertyDescriptor } from '@/services/ExtractionService';\nimport _ from 'lodash';\n\nconst router = useRouter();\nconst route = useRoute();\nconst projectStore = useProjectStore();\nconst preferencesStore = usePreferencesStore();\nconst { hasFetchedConfig, config } = useClientConfig();\n\n// Inject the persistent search and facets instances from parent\nconst search = inject<Search>('search');\nconst facets = inject<Facets>('facets');\nconst selection = inject<Selection>('selection');\nconst {\n  facetMetadata,\n  getFacetOrder,\n  setFacetOrder,\n  isGroupKey,\n  getGroupFacets,\n  expandGroupsInOrder,\n} = useFacetMetadata();\n\nif (!search || !facets || !selection) {\n  throw new Error('ProjectDataView requires search and facets to be provided');\n}\n\nenum ViewId {\n  Table = 'Table',\n  Cards = 'Cards',\n  Map = 'Map',\n}\nconst ALL_VIEW_OPTIONS = {\n  [ViewId.Cards]: ProjectDataCardList,\n  [ViewId.Table]: ProjectDataTable,\n  [ViewId.Map]: ProjectLocations,\n};\nconst updateFileModalVisible = ref<boolean>(false);\nconst selectedPropertyDescriptor = ref<string>('');\n\nconst selectedView = ref(ViewId.Cards);\nconst availableViews = computed(() => {\n  if (!projectStore.project || hasFetchedConfig.value === false) {\n    return Object.keys(ALL_VIEW_OPTIONS) as ViewId[];\n  }\n  const result = [ViewId.Cards, ViewId.Table] as ViewId[];\n\n  if (\n    projectStore.propertyDescriptors.some(pd =>\n      PropertyDescriptorService.hasTag(pd, PropertyTag.Location),\n    )\n  ) {\n    result.push(ViewId.Map);\n  }\n\n  // If the default subview is specified and exists in the available views, move it to the start of the list.\n  const defaultSubview = config.value?.defaultDataSubview as ViewId | undefined;\n  if (defaultSubview !== undefined) {\n    const defaultSubviewIndex = result.indexOf(defaultSubview);\n    if (defaultSubviewIndex !== -1) {\n      result.splice(defaultSubviewIndex, 1);\n      result.unshift(defaultSubview);\n    }\n  }\n  return result;\n});\n// When we fetch the client config, apply the default data subview if it exists,\n// but only if there's no selectedView in the URL parameters\nwatch(\n  config,\n  _config => {\n    if (_config?.defaultDataSubview && !route.query.selectedView) {\n      selectedView.value = _config.defaultDataSubview as ViewId;\n    }\n  },\n  { immediate: true },\n);\n// Whenever the list of available views changes, if the selected view is no\n//  longer available, select the first one.\nwatch(availableViews, _availableViews => {\n  if (_availableViews.includes(selectedView.value)) {\n    return;\n  }\n  // eslint-disable-next-line prefer-destructuring\n  selectedView.value = availableViews.value[0];\n});\n\nconst applyFilter = (propertyKey: string, value: string) => {\n  search.addSearchQuery(`${propertyKey}:${value}`);\n};\n\nconst onClearSelection = (field?: string) => {\n  if (field) {\n    selection.clearSelection([field]);\n  } else {\n    selection.clearSelection();\n  }\n  facets.setAdditionalFilter(selection.luceneQuery.value);\n  facets.applyFacetSelections();\n};\n\n// Create a computed that includes extractable facets in the metadata\nconst allFacetMetadata = computed(() => {\n  const metadata = { ...facetMetadata.value };\n  return metadata;\n});\n\n/* Visible facets - updated to include extractable facets */\nwatch(\n  [\n    () => projectStore?.project?.projectPreferences?.visibleFacetKeys,\n    allFacetMetadata,\n  ],\n  ([_visibleKeys, _allFacetMetadata]) => {\n    if (_visibleKeys !== undefined && _visibleKeys !== null) {\n      // Visible facet keys have been saved to the user's project preference so apply them\n      facets.setVisibleFacetKeys(_visibleKeys);\n      return;\n    }\n    // Default to selecting all facets (including extractable ones)\n    facets.setVisibleFacetKeys(Object.keys(_allFacetMetadata));\n  },\n);\n\nconst onSetVisibleFacetKeys = (newVisibleKeys: string[]) => {\n  preferencesStore.updateProjectPreferences({\n    visibleFacetKeys: newVisibleKeys,\n  });\n};\n\n// Initialize states from the URL\nonMounted(() => {\n  if (\n    route.query.selectedView &&\n    Object.values(ViewId).includes(route.query.selectedView as ViewId)\n  ) {\n    selectedView.value = route.query.selectedView as ViewId;\n  }\n  if (route.query.searchQueries) {\n    const searchQueryState = SearchUtil.parseSearchQueryState(\n      route.query.searchQueries as string,\n    );\n    if (searchQueryState.length > 0) {\n      searchQueryState.forEach((searchQuery: string) =>\n        search.addSearchQuery(searchQuery),\n      );\n    }\n  }\n  if (route.query.facetState) {\n    try {\n      const facetState = FacetsUtil.parseFacetState(\n        route.query.facetState as string,\n      );\n      facets.setCategoricalFacetState(facetState.categoricalFacetState);\n      facets.setNumericFacetState(facetState.numericFacetSelectionState);\n    } catch (e) {\n      Logger.error(\n        'Error initializing facet state from the URL',\n        route.query.facetState,\n        e,\n      );\n    }\n  }\n  if (route.query.selection) {\n    selection.loadSelectionState(route.query.selection as string);\n    facets.setAdditionalFilter(selection.luceneQuery.value);\n  }\n  if (route.query.selection || route.query.facetState) {\n    facets.applyFacetSelections();\n  }\n});\n\nconst { subviewState, clearSubviewState } = useSubviewState();\n\n// Update the URL whenever any data that we want to persist changes\nwatch(\n  [\n    selection.selectedItems,\n    search.searchQueries,\n    facets.categoricalFacetState,\n    facets.numericFacetSelectionState,\n    selectedView,\n    subviewState,\n  ],\n  async (\n    [\n      ,\n      _searchQueries,\n      _categoricalFacetState,\n      _numericFacetSelectionState,\n      _selectedView,\n      _subviewState,\n    ],\n    [, , , , _oldSelectedView],\n  ) => {\n    // If the subview is changing, remove all subview state keys from the route\n    //  and clear the subview state.\n    const routeQuery = JSON.parse(JSON.stringify(route.query));\n    if (_oldSelectedView !== _selectedView) {\n      // Delete all subview state keys from routeQuery\n      Object.keys(_subviewState).forEach(key => {\n        delete routeQuery[key];\n      });\n      clearSubviewState();\n    } else {\n      // Add all subview state keys to routeQuery\n      Object.entries(_subviewState).forEach(([key, value]) => {\n        routeQuery[key] = value;\n      });\n    }\n\n    await router.push({\n      name: route.name,\n      query: {\n        ...routeQuery,\n        selectedView: _selectedView,\n        searchQueries: SearchUtil.serializeSearchQueryState(_searchQueries),\n        facetState: FacetsUtil.serializeFacetState(\n          _categoricalFacetState,\n          _numericFacetSelectionState,\n        ),\n        selection: selection.serializeSelectionState(),\n      },\n      replace: true,\n    });\n  },\n);\n\n// Refresh project properties when the selected view changes, so that\n//  if we navigate back to the \"search\" view after running a pipeline,\n//  we can see the new data.\nonMounted(() => {\n  // Property descriptors\n  projectStore.loadProjectProperties();\n  // Project metadata and index information\n  projectStore.loadProjectModel();\n  if (projectStore.project) {\n    // Make sure elasticsearch index is up to date\n    ProjectDataService.refresh(projectStore.project?.id);\n  }\n});\n\n// Sets the selectedPropertyDescriptor.\n// Opens UpdateFilesModal\nconst openUpdateFilesModal = (propertyDescriptor: string) => {\n  if (_.isEmpty(getTasksFromPropertyDescriptor(propertyDescriptor))) return; // cannot process this task\n  selectedPropertyDescriptor.value = propertyDescriptor;\n  updateFileModalVisible.value = true;\n};\n</script>\n\n<style scoped>\n.project-data-view-container {\n  background-color: var(--surface-0);\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n.app-toolbar {\n  display: flex;\n  justify-content: end;\n  padding: 0.5rem 0.5rem 0.25rem 0.5rem;\n  z-index: 100;\n}\n\n.sub-view-container {\n  min-width: 0;\n  width: 100%;\n}\n\n.subview {\n  flex: 1;\n  min-height: 0;\n}\n</style>\n","numLines":386,"startLine":1,"totalLines":386}}}
{"parentUuid":"2a3a3ed6-eb12-4374-bc8e-cdf257671050","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Nb3AwveTSu58ahUuP3caPo","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now let me look at the `useGenericTableState` composable and search for more specific pagination patterns:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":12832,"cache_read_input_tokens":22589,"cache_creation":{"ephemeral_5m_input_tokens":12832,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAs1it8Ju7K26U2ULZn","type":"assistant","uuid":"be65ad04-0527-48de-acb4-e2a62bf57b10","timestamp":"2025-09-17T14:59:03.786Z"}
{"parentUuid":"be65ad04-0527-48de-acb4-e2a62bf57b10","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Nb3AwveTSu58ahUuP3caPo","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01HBexcnH9vPwfuVjo4zzFpY","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":12832,"cache_read_input_tokens":22589,"cache_creation":{"ephemeral_5m_input_tokens":12832,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAs1it8Ju7K26U2ULZn","type":"assistant","uuid":"0ec4c691-1e45-4f33-801e-a8f9d5281dd5","timestamp":"2025-09-17T14:59:04.778Z"}
{"parentUuid":"0ec4c691-1e45-4f33-801e-a8f9d5281dd5","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Nb3AwveTSu58ahUuP3caPo","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_0172LJgTVeoJdWC6HgqidGgf","name":"Grep","input":{"pattern":"rows.*=.*25","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":12832,"cache_read_input_tokens":22589,"cache_creation":{"ephemeral_5m_input_tokens":12832,"ephemeral_1h_input_tokens":0},"output_tokens":180,"service_tier":"standard"}},"requestId":"req_011CTEAs1it8Ju7K26U2ULZn","type":"assistant","uuid":"2e956a52-4516-4d3c-b833-7eb530decdb9","timestamp":"2025-09-17T14:59:05.770Z"}
{"parentUuid":"2e956a52-4516-4d3c-b833-7eb530decdb9","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HBexcnH9vPwfuVjo4zzFpY","type":"tool_result","content":"     1→import { ref, watch } from 'vue';\n     2→import { useRoute } from 'vue-router';\n     3→import {\n     4→  DataTablePageEvent,\n     5→  DataTableRowClickEvent,\n     6→  DataTableSortEvent,\n     7→} from 'primevue/datatable';\n     8→\n     9→export interface LoadDataParams {\n    10→  page?: number;\n    11→  rows?: number;\n    12→  sortField?: string;\n    13→  sortOrder?: number;\n    14→  queryString?: string;\n    15→  filter?: string;\n    16→  toggleLoading?: boolean;\n    17→}\n    18→\n    19→const DEFAULT_PAGE = 0;\n    20→export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n    21→\n    22→export default function useGenericTableState<T>(\n    23→  loadData: (params?: LoadDataParams) => Promise<{\n    24→    content: T[];\n    25→    totalElements: number;\n    26→  }>,\n    27→  onSelectionChange?: (newSelection: T[]) => void,\n    28→  onRangeSelect?: (items: any[]) => void,\n    29→  onPage?: (e: DataTablePageEvent) => void,\n    30→  onSort?: (e: DataTableSortEvent) => void,\n    31→  onRowClick?: (e: DataTableRowClickEvent) => void,\n    32→  rowsPerPageOptions?: number[],\n    33→  initialSortField?: string,\n    34→  initialSortDirection?: number,\n    35→) {\n    36→  const items = ref<T[] | undefined>();\n    37→\n    38→  const loading = ref(false);\n    39→  const totalRecords = ref(0);\n    40→  const first = ref();\n    41→\n    42→  const route = useRoute();\n    43→\n    44→  const sort = ref(\n    45→    route.query.sort ? String(route.query.sort) : initialSortField,\n    46→  );\n    47→  const sortOrder = ref(\n    48→    route.query.sortOrder\n    49→      ? Number(route.query.sortOrder)\n    50→      : initialSortDirection,\n    51→  );\n    52→  const page = ref(Number(route.query.page ?? DEFAULT_PAGE));\n    53→  const setSelectedPageIndex = (newPageIndex: number) => {\n    54→    page.value = newPageIndex;\n    55→  };\n    56→\n    57→  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n    58→  if (route.query.rows) {\n    59→    initialRowsValue = Number(route.query.rows);\n    60→  } else if (rowsPerPageOptions) {\n    61→    [initialRowsValue] = rowsPerPageOptions;\n    62→  }\n    63→  const rows = ref(initialRowsValue);\n    64→  const queryString = ref(String(route.query.queryString ?? ''));\n    65→  const selectedItems = ref<T[]>([]);\n    66→  const lastClickedIndex = ref<number>(-1);\n    67→\n    68→  /**\n    69→   * Apply the event from the primevue data table to the local state\n    70→   * @param event\n    71→   */\n    72→  const applyDataTableEvent = (\n    73→    event: DataTablePageEvent | DataTableSortEvent,\n    74→  ) => {\n    75→    if (sort.value !== event.sortField) {\n    76→      // we're changing fields, reset the page number as primevue data table resets to page 1 when sort changes\n    77→      page.value = DEFAULT_PAGE;\n    78→    }\n    79→\n    80→    sort.value = (event.sortField as string) ?? sort.value;\n    81→    sortOrder.value = event.sortOrder ?? sortOrder.value;\n    82→    page.value = (event as DataTablePageEvent).page ?? page.value;\n    83→    rows.value = event.rows ?? rows.value;\n    84→    first.value = page.value * rows.value;\n    85→  };\n    86→\n    87→  /**\n    88→   * Load the data from the consumer\n    89→   */\n    90→  const loadTableData = async () => {\n    91→    loading.value = true;\n    92→    first.value = page.value * rows.value;\n    93→\n    94→    const { content, totalElements } = await loadData({\n    95→      page: page.value,\n    96→      rows: rows.value,\n    97→      sortField: sort.value,\n    98→      sortOrder: sortOrder.value,\n    99→      queryString: queryString.value,\n   100→    });\n   101→    items.value = content;\n   102→    totalRecords.value = totalElements;\n   103→    loading.value = false;\n   104→  };\n   105→  watch([queryString], loadTableData, { immediate: true });\n   106→\n   107→  /**\n   108→   * Propagate the page event to the consumer if it's defined\n   109→   * @param event\n   110→   */\n   111→  const onPageFn = (event: DataTablePageEvent) => {\n   112→    applyDataTableEvent(event);\n   113→    if (onPage !== undefined) {\n   114→      onPage(event);\n   115→    } else {\n   116→      loadTableData();\n   117→    }\n   118→  };\n   119→\n   120→  /**\n   121→   * Propagate the sort event to the consumer if it's defined\n   122→   * @param event\n   123→   */\n   124→  const onSortFn = (event: DataTableSortEvent) => {\n   125→    applyDataTableEvent(event);\n   126→    if (onSort !== undefined) {\n   127→      onSort(event);\n   128→    } else {\n   129→      loadTableData();\n   130→    }\n   131→  };\n   132→\n   133→  /**\n   134→   * Propagate the selection change event to the consumer if it's defined\n   135→   */\n   136→  const onRowSelectChangeFn = () => {\n   137→    if (onSelectionChange !== undefined) {\n   138→      onSelectionChange(selectedItems.value as T[]);\n   139→    }\n   140→  };\n   141→  watch([selectedItems], onRowSelectChangeFn);\n   142→\n   143→  /**\n   144→   * Handle range selection between two row indices\n   145→   * @param startIndex\n   146→   * @param endIndex\n   147→   */\n   148→  const selectRange = (startIndex: number, endIndex: number) => {\n   149→    if (!items.value) return;\n   150→\n   151→    const start = Math.min(startIndex, endIndex);\n   152→    const end = Math.max(startIndex, endIndex);\n   153→    const rangeItems = items.value.slice(start, end + 1);\n   154→\n   155→    // Call the range select callback if provided\n   156→    if (onRangeSelect) {\n   157→      try {\n   158→        onRangeSelect(rangeItems);\n   159→      } catch {\n   160→        // Silently handle errors in callback to prevent breaking the selection flow\n   161→      }\n   162→    }\n   163→  };\n   164→\n   165→  /**\n   166→   * Propagate the row click event to the consumer\n   167→   * @param event\n   168→   */\n   169→  const onRowClickFn = (\n   170→    event: DataTableRowClickEvent,\n   171→    isShiftPressed: boolean = false,\n   172→  ) => {\n   173→    // Check if the click target is a selection checkbox to avoid conflicts\n   174→    const clickTarget = event.originalEvent.target as Element | null;\n   175→    const isClickingSelectionCheckbox =\n   176→      clickTarget?.closest('.p-checkbox') !== null;\n   177→\n   178→    if (isClickingSelectionCheckbox) {\n   179→      return;\n   180→    }\n   181→\n   182→    const currentIndex = event.index;\n   183→\n   184→    // Handle shift+click for range selection\n   185→    if (isShiftPressed && lastClickedIndex.value >= 0 && items.value) {\n   186→      selectRange(lastClickedIndex.value, currentIndex);\n   187→      // Update last clicked index after range selection\n   188→      lastClickedIndex.value = currentIndex;\n   189→      return;\n   190→    }\n   191→\n   192→    // Update last clicked index for future range selections\n   193→    lastClickedIndex.value = currentIndex;\n   194→\n   195→    // Propagate regular row click event\n   196→    if (onRowClick !== undefined) {\n   197→      onRowClick(event);\n   198→    }\n   199→  };\n   200→\n   201→  return {\n   202→    loadTableData,\n   203→    setSelectedPageIndex,\n   204→    items,\n   205→    loading,\n   206→    totalRecords,\n   207→    page,\n   208→    rows,\n   209→    queryString,\n   210→    first,\n   211→    sort,\n   212→    sortOrder,\n   213→    onSortFn,\n   214→    onPageFn,\n   215→    onRowClickFn,\n   216→  };\n   217→}\n   218→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"7b247d71-af92-4d06-92b5-a4540943d5a8","timestamp":"2025-09-17T14:59:05.866Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","content":"import { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport {\n  DataTablePageEvent,\n  DataTableRowClickEvent,\n  DataTableSortEvent,\n} from 'primevue/datatable';\n\nexport interface LoadDataParams {\n  page?: number;\n  rows?: number;\n  sortField?: string;\n  sortOrder?: number;\n  queryString?: string;\n  filter?: string;\n  toggleLoading?: boolean;\n}\n\nconst DEFAULT_PAGE = 0;\nexport const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n\nexport default function useGenericTableState<T>(\n  loadData: (params?: LoadDataParams) => Promise<{\n    content: T[];\n    totalElements: number;\n  }>,\n  onSelectionChange?: (newSelection: T[]) => void,\n  onRangeSelect?: (items: any[]) => void,\n  onPage?: (e: DataTablePageEvent) => void,\n  onSort?: (e: DataTableSortEvent) => void,\n  onRowClick?: (e: DataTableRowClickEvent) => void,\n  rowsPerPageOptions?: number[],\n  initialSortField?: string,\n  initialSortDirection?: number,\n) {\n  const items = ref<T[] | undefined>();\n\n  const loading = ref(false);\n  const totalRecords = ref(0);\n  const first = ref();\n\n  const route = useRoute();\n\n  const sort = ref(\n    route.query.sort ? String(route.query.sort) : initialSortField,\n  );\n  const sortOrder = ref(\n    route.query.sortOrder\n      ? Number(route.query.sortOrder)\n      : initialSortDirection,\n  );\n  const page = ref(Number(route.query.page ?? DEFAULT_PAGE));\n  const setSelectedPageIndex = (newPageIndex: number) => {\n    page.value = newPageIndex;\n  };\n\n  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }\n  const rows = ref(initialRowsValue);\n  const queryString = ref(String(route.query.queryString ?? ''));\n  const selectedItems = ref<T[]>([]);\n  const lastClickedIndex = ref<number>(-1);\n\n  /**\n   * Apply the event from the primevue data table to the local state\n   * @param event\n   */\n  const applyDataTableEvent = (\n    event: DataTablePageEvent | DataTableSortEvent,\n  ) => {\n    if (sort.value !== event.sortField) {\n      // we're changing fields, reset the page number as primevue data table resets to page 1 when sort changes\n      page.value = DEFAULT_PAGE;\n    }\n\n    sort.value = (event.sortField as string) ?? sort.value;\n    sortOrder.value = event.sortOrder ?? sortOrder.value;\n    page.value = (event as DataTablePageEvent).page ?? page.value;\n    rows.value = event.rows ?? rows.value;\n    first.value = page.value * rows.value;\n  };\n\n  /**\n   * Load the data from the consumer\n   */\n  const loadTableData = async () => {\n    loading.value = true;\n    first.value = page.value * rows.value;\n\n    const { content, totalElements } = await loadData({\n      page: page.value,\n      rows: rows.value,\n      sortField: sort.value,\n      sortOrder: sortOrder.value,\n      queryString: queryString.value,\n    });\n    items.value = content;\n    totalRecords.value = totalElements;\n    loading.value = false;\n  };\n  watch([queryString], loadTableData, { immediate: true });\n\n  /**\n   * Propagate the page event to the consumer if it's defined\n   * @param event\n   */\n  const onPageFn = (event: DataTablePageEvent) => {\n    applyDataTableEvent(event);\n    if (onPage !== undefined) {\n      onPage(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the sort event to the consumer if it's defined\n   * @param event\n   */\n  const onSortFn = (event: DataTableSortEvent) => {\n    applyDataTableEvent(event);\n    if (onSort !== undefined) {\n      onSort(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the selection change event to the consumer if it's defined\n   */\n  const onRowSelectChangeFn = () => {\n    if (onSelectionChange !== undefined) {\n      onSelectionChange(selectedItems.value as T[]);\n    }\n  };\n  watch([selectedItems], onRowSelectChangeFn);\n\n  /**\n   * Handle range selection between two row indices\n   * @param startIndex\n   * @param endIndex\n   */\n  const selectRange = (startIndex: number, endIndex: number) => {\n    if (!items.value) return;\n\n    const start = Math.min(startIndex, endIndex);\n    const end = Math.max(startIndex, endIndex);\n    const rangeItems = items.value.slice(start, end + 1);\n\n    // Call the range select callback if provided\n    if (onRangeSelect) {\n      try {\n        onRangeSelect(rangeItems);\n      } catch {\n        // Silently handle errors in callback to prevent breaking the selection flow\n      }\n    }\n  };\n\n  /**\n   * Propagate the row click event to the consumer\n   * @param event\n   */\n  const onRowClickFn = (\n    event: DataTableRowClickEvent,\n    isShiftPressed: boolean = false,\n  ) => {\n    // Check if the click target is a selection checkbox to avoid conflicts\n    const clickTarget = event.originalEvent.target as Element | null;\n    const isClickingSelectionCheckbox =\n      clickTarget?.closest('.p-checkbox') !== null;\n\n    if (isClickingSelectionCheckbox) {\n      return;\n    }\n\n    const currentIndex = event.index;\n\n    // Handle shift+click for range selection\n    if (isShiftPressed && lastClickedIndex.value >= 0 && items.value) {\n      selectRange(lastClickedIndex.value, currentIndex);\n      // Update last clicked index after range selection\n      lastClickedIndex.value = currentIndex;\n      return;\n    }\n\n    // Update last clicked index for future range selections\n    lastClickedIndex.value = currentIndex;\n\n    // Propagate regular row click event\n    if (onRowClick !== undefined) {\n      onRowClick(event);\n    }\n  };\n\n  return {\n    loadTableData,\n    setSelectedPageIndex,\n    items,\n    loading,\n    totalRecords,\n    page,\n    rows,\n    queryString,\n    first,\n    sort,\n    sortOrder,\n    onSortFn,\n    onPageFn,\n    onRowClickFn,\n  };\n}\n","numLines":218,"startLine":1,"totalLines":218}}}
{"parentUuid":"7b247d71-af92-4d06-92b5-a4540943d5a8","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0172LJgTVeoJdWC6HgqidGgf","type":"tool_result","content":"/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:216:`+Ba(r)}async persistLockfile(){let e=V.join(this.cwd,dr.lockfile),r=\"\";try{r=await oe.readFilePromise(e,\"utf8\")}catch{}let o=this.generateLockfile(),a=_g(r,o);a!==r&&(await oe.writeFilePromise(e,a),this.lockFileChecksum=Vpe(a),this.lockfileNeedsRefresh=!1)}async persistInstallStateFile(){let e=[];for(let u of Object.values(b_))e.push(...u);let r=(0,$x.default)(this,e),o=x_.default.serialize(r),a=zs(o);if(this.installStateChecksum===a)return;let n=this.configuration.get(\"installStatePath\");await oe.mkdirPromise(V.dirname(n),{recursive:!0}),await oe.writeFilePromise(n,await bAt(o)),this.installStateChecksum=a}async restoreInstallState({restoreLinkersCustomData:e=!0,restoreResolutions:r=!0,restoreBuildState:o=!0}={}){let a=this.configuration.get(\"installStatePath\"),n;try{let u=await xAt(await oe.readFilePromise(a));n=x_.default.deserialize(u),this.installStateChecksum=zs(u)}catch{r&&await this.applyLightResolution();return}e&&typeof n.linkersCustomData<\"u\"&&(this.linkersCustomData=n.linkersCustomData),o&&Object.assign(this,(0,$x.default)(n,b_.restoreBuildState)),r&&(n.lockFileChecksum===this.lockFileChecksum?Object.assign(this,(0,$x.default)(n,b_.restoreResolutions)):await this.applyLightResolution())}async applyLightResolution(){await this.resolveEverything({lockfileOnly:!0,report:new Qi}),await this.persistInstallStateFile()}async persist(){let e=(0,ek.default)(4);await Promise.all([this.persistLockfile(),...this.workspaces.map(r=>e(()=>r.persistManifest()))])}async cacheCleanup({cache:e,report:r}){if(this.configuration.get(\"enableGlobalCache\"))return null;let o=new Set([\".gitignore\"]);if(!CM(e.cwd,this.cwd)||!await oe.existsPromise(e.cwd))return null;let a=[];for(let u of await oe.readdirPromise(e.cwd)){if(o.has(u))continue;let A=V.resolve(e.cwd,u);e.markedFiles.has(A)||(e.immutable?r.reportError(56,`${Mt(this.configuration,V.basename(A),\"magenta\")} appears to be unused and would be marked for deletion, but the cache is immutable`):a.push(oe.lstatPromise(A).then(async p=>(await oe.removePromise(A),p.size))))}if(a.length===0)return null;let n=await Promise.all(a);return{count:a.length,size:n.reduce((u,A)=>u+A,0)}}}});function FAt(t){let o=Math.floor(t.timeNow/864e5),a=t.updateInterval*864e5,n=t.state.lastUpdate??t.timeNow+a+Math.floor(a*t.randomInitialInterval),u=n+a,A=t.state.lastTips??o*864e5,p=A+864e5+8*36e5-t.timeZone,h=u<=t.timeNow,E=p<=t.timeNow,I=null;return(h||E||!t.state.lastUpdate||!t.state.lastTips)&&(I={},I.lastUpdate=h?t.timeNow:n,I.lastTips=A,I.blocks=h?{}:t.state.blocks,I.displayedTips=t.state.displayedTips),{nextState:I,triggerUpdate:h,triggerTips:E,nextTips:E?o*864e5:A}}var uC,Xpe=Et(()=>{St();L1();nh();Ib();ql();Qf();uC=class{constructor(e,r){this.values=new Map;this.hits=new Map;this.enumerators=new Map;this.nextTips=0;this.displayedTips=[];this.shouldCommitTips=!1;this.configuration=e;let o=this.getRegistryPath();this.isNew=!oe.existsSync(o),this.shouldShowTips=!1,this.sendReport(r),this.startBuffer()}commitTips(){this.shouldShowTips&&(this.shouldCommitTips=!0)}selectTip(e){let r=new Set(this.displayedTips),o=A=>A&&rn?kf(rn,A):!1,a=e.map((A,p)=>p).filter(A=>e[A]&&o(e[A]?.selector));if(a.length===0)return null;let n=a.filter(A=>!r.has(A));if(n.length===0){let A=Math.floor(a.length*.2);this.displayedTips=A>0?this.displayedTips.slice(-A):[],n=a.filter(p=>!r.has(p))}let u=n[Math.floor(Math.random()*n.length)];return this.displayedTips.push(u),this.commitTips(),e[u]}reportVersion(e){this.reportValue(\"version\",e.replace(/-git\\..*/,\"-git\"))}reportCommandName(e){this.reportValue(\"commandName\",e||\"<none>\")}reportPluginName(e){this.reportValue(\"pluginName\",e)}reportProject(e){this.reportEnumerator(\"projectCount\",e)}reportInstall(e){this.reportHit(\"installCount\",e)}reportPackageExtension(e){this.reportValue(\"packageExtension\",e)}reportWorkspaceCount(e){this.reportValue(\"workspaceCount\",String(e))}reportDependencyCount(e){this.reportValue(\"dependencyCount\",String(e))}reportValue(e,r){md(this.values,e).add(r)}reportEnumerator(e,r){md(this.enumerators,e).add(zs(r))}reportHit(e,r=\"*\"){let o=Wy(this.hits,e),a=ol(o,r,()=>0);o.set(r,a+1)}getRegistryPath(){let e=this.configuration.get(\"globalFolder\");return V.join(e,\"telemetry.json\")}sendReport(e){let r=this.getRegistryPath(),o;try{o=oe.readJsonSync(r)}catch{o={}}let{nextState:a,triggerUpdate:n,triggerTips:u,nextTips:A}=FAt({state:o,timeNow:Date.now(),timeZone:new Date().getTimezoneOffset()*60*1e3,randomInitialInterval:Math.random(),updateInterval:this.configuration.get(\"telemetryInterval\")});if(this.nextTips=A,this.displayedTips=o.displayedTips??[],a!==null)try{oe.mkdirSync(V.dirname(r),{recursive:!0}),oe.writeJsonSync(r,a)}catch{return!1}if(u&&this.configuration.get(\"enableTips\")&&(this.shouldShowTips=!0),n){let p=o.blocks??{};if(Object.keys(p).length===0){let h=`https://browser-http-intake.logs.datadoghq.eu/v1/input/${e}?ddsource=yarn`,E=I=>O4(h,I,{configuration:this.configuration}).catch(()=>{});for(let[I,v]of Object.entries(o.blocks??{})){if(Object.keys(v).length===0)continue;let x=v;x.userId=I,x.reportType=\"primary\";for(let L of Object.keys(x.enumerators??{}))x.enumerators[L]=x.enumerators[L].length;E(x);let C=new Map,R=20;for(let[L,U]of Object.entries(x.values))U.length>0&&C.set(L,U.slice(0,R));for(;C.size>0;){let L={};L.userId=I,L.reportType=\"secondary\",L.metrics={};for(let[U,J]of C)L.metrics[U]=J.shift(),J.length===0&&C.delete(U);E(L)}}}}return!0}applyChanges(){let e=this.getRegistryPath(),r;try{r=oe.readJsonSync(e)}catch{r={}}let o=this.configuration.get(\"telemetryUserId\")??\"*\",a=r.blocks=r.blocks??{},n=a[o]=a[o]??{};for(let u of this.hits.keys()){let A=n.hits=n.hits??{},p=A[u]=A[u]??{};for(let[h,E]of this.hits.get(u))p[h]=(p[h]??0)+E}for(let u of[\"values\",\"enumerators\"])for(let A of this[u].keys()){let p=n[u]=n[u]??{};p[A]=[...new Set([...p[A]??[],...this[u].get(A)??[]])]}this.shouldCommitTips&&(r.lastTips=this.nextTips,r.displayedTips=this.displayedTips),oe.mkdirSync(V.dirname(e),{recursive:!0}),oe.writeJsonSync(e,r)}startBuffer(){process.on(\"exit\",()=>{try{this.applyChanges()}catch{}})}}});var o2={};Vt(o2,{BuildDirectiveType:()=>Vx,CACHE_CHECKPOINT:()=>c_,CACHE_VERSION:()=>Kx,Cache:()=>Lr,Configuration:()=>Ke,DEFAULT_RC_FILENAME:()=>G4,FormatType:()=>xle,InstallMode:()=>pl,LEGACY_PLUGINS:()=>v1,LOCKFILE_VERSION:()=>tk,LegacyMigrationResolver:()=>oC,LightReport:()=>AA,LinkType:()=>zy,LockfileResolver:()=>aC,Manifest:()=>Ot,MessageName:()=>wr,MultiFetcher:()=>hE,PackageExtensionStatus:()=>BL,PackageExtensionType:()=>IL,PeerWarningType:()=>rk,Project:()=>Pt,Report:()=>Xs,ReportError:()=>zt,SettingsType:()=>D1,StreamReport:()=>Nt,TAG_REGEXP:()=>FE,TelemetryManager:()=>uC,ThrowReport:()=>Qi,VirtualFetcher:()=>gE,WindowsLinkType:()=>xb,Workspace:()=>cC,WorkspaceFetcher:()=>mE,WorkspaceResolver:()=>Xn,YarnVersion:()=>rn,execUtils:()=>Ur,folderUtils:()=>YP,formatUtils:()=>de,hashUtils:()=>wn,httpUtils:()=>nn,miscUtils:()=>_e,nodeUtils:()=>Ji,parseMessageName:()=>AS,reportOptionDeprecations:()=>LE,scriptUtils:()=>un,semverUtils:()=>kr,stringifyMessageName:()=>Wu,structUtils:()=>W,tgzUtils:()=>Xi,treeUtils:()=>$s});var Ye=Et(()=>{Db();WP();jl();nh();Ib();ql();vb();BU();Qf();bo();Xfe();ipe();u_();S1();S1();ope();A_();ape();f_();fE();fS();cM();zpe();Yl();O1();Xpe();S_();AM();fM();vd();P_();L1();Cne()});var nhe=_((K_t,l2)=>{\"use strict\";var TAt=process.env.TERM_PROGRAM===\"Hyper\",NAt=process.platform===\"win32\",ehe=process.platform===\"linux\",F_={ballotDisabled:\"\\u2612\",ballotOff:\"\\u2610\",ballotOn:\"\\u2611\",bullet:\"\\u2022\",bulletWhite:\"\\u25E6\",fullBlock:\"\\u2588\",heart:\"\\u2764\",identicalTo:\"\\u2261\",line:\"\\u2500\",mark:\"\\u203B\",middot:\"\\xB7\",minus:\"\\uFF0D\",multiplication:\"\\xD7\",obelus:\"\\xF7\",pencilDownRight:\"\\u270E\",pencilRight:\"\\u270F\",pencilUpRight:\"\\u2710\",percent:\"%\",pilcrow2:\"\\u2761\",pilcrow:\"\\xB6\",plusMinus:\"\\xB1\",section:\"\\xA7\",starsOff:\"\\u2606\",starsOn:\"\\u2605\",upDownArrow:\"\\u2195\"},the=Object.assign({},F_,{check:\"\\u221A\",cross:\"\\xD7\",ellipsisLarge:\"...\",ellipsis:\"...\",info:\"i\",question:\"?\",questionSmall:\"?\",pointer:\">\",pointerSmall:\"\\xBB\",radioOff:\"( )\",radioOn:\"(*)\",warning:\"\\u203C\"}),rhe=Object.assign({},F_,{ballotCross:\"\\u2718\",check:\"\\u2714\",cross:\"\\u2716\",ellipsisLarge:\"\\u22EF\",ellipsis:\"\\u2026\",info:\"\\u2139\",question:\"?\",questionFull:\"\\uFF1F\",questionSmall:\"\\uFE56\",pointer:ehe?\"\\u25B8\":\"\\u276F\",pointerSmall:ehe?\"\\u2023\":\"\\u203A\",radioOff:\"\\u25EF\",radioOn:\"\\u25C9\",warning:\"\\u26A0\"});l2.exports=NAt&&!TAt?the:rhe;Reflect.defineProperty(l2.exports,\"common\",{enumerable:!1,value:F_});Reflect.defineProperty(l2.exports,\"windows\",{enumerable:!1,value:the});Reflect.defineProperty(l2.exports,\"other\",{enumerable:!1,value:rhe})});var Kc=_((V_t,R_)=>{\"use strict\";var LAt=t=>t!==null&&typeof t==\"object\"&&!Array.isArray(t),OAt=/[\\u001b\\u009b][[\\]#;?()]*(?:(?:(?:[^\\W_]*;?[^\\W_]*)\\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,ihe=()=>{let t={enabled:!0,visible:!0,styles:{},keys:{}};\"FORCE_COLOR\"in process.env&&(t.enabled=process.env.FORCE_COLOR!==\"0\");let e=n=>{let u=n.open=`\\x1B[${n.codes[0]}m`,A=n.close=`\\x1B[${n.codes[1]}m`,p=n.regex=new RegExp(`\\\\u001b\\\\[${n.codes[1]}m`,\"g\");return n.wrap=(h,E)=>{h.includes(A)&&(h=h.replace(p,A+u));let I=u+h+A;return E?I.replace(/\\r*\\n/g,`${A}$&${u}`):I},n},r=(n,u,A)=>typeof n==\"function\"?n(u):n.wrap(u,A),o=(n,u)=>{if(n===\"\"||n==null)return\"\";if(t.enabled===!1)return n;if(t.visible===!1)return\"\";let A=\"\"+n,p=A.includes(`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:285:${this.getDeclarations()}`}createSession(){return new CH(this.project,this.fullSource)}async processClassic(){let e=this.createSession();return{enforcedDependencies:await this.genEnforcedDependencies(e),enforcedFields:await this.genEnforcedFields(e)}}async process(){let{enforcedDependencies:e,enforcedFields:r}=await this.processClassic(),o=new Map;for(let{workspace:a,dependencyIdent:n,dependencyRange:u,dependencyType:A}of e){let p=B2([A,W.stringifyIdent(n)]),h=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(h,p).set(u??void 0,new Set)}for(let{workspace:a,fieldPath:n,fieldValue:u}of r){let A=B2(n),p=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(p,A).set(JSON.parse(u)??void 0,new Set)}return{manifestUpdates:o,reportedErrors:new Map}}async genEnforcedDependencies(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), dependency_type(DependencyType), gen_enforced_dependency(WorkspaceCwd, DependencyIdent, DependencyRange, DependencyType).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.DependencyIdent),u=em(o.links.DependencyRange),A=em(o.links.DependencyType);if(a===null||n===null)throw new Error(\"Invalid rule\");let p=this.project.getWorkspaceByCwd(a),h=W.parseIdent(n);r.push({workspace:p,dependencyIdent:h,dependencyRange:u,dependencyType:A})}return _e.sortMap(r,[({dependencyRange:o})=>o!==null?\"0\":\"1\",({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({dependencyIdent:o})=>W.stringifyIdent(o)])}async genEnforcedFields(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), gen_enforced_field(WorkspaceCwd, FieldPath, FieldValue).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.FieldPath),u=Xgt(o.links.FieldValue);if(a===null||n===null)throw new Error(\"Invalid rule\");let A=this.project.getWorkspaceByCwd(a);r.push({workspace:A,fieldPath:n,fieldValue:u})}return _e.sortMap(r,[({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({fieldPath:o})=>o])}async*query(e){let r=this.createSession();for await(let o of r.makeQuery(e)){let a={};for(let[n,u]of Object.entries(o.links))n!==\"_\"&&(a[n]=em(u));yield a}}}});var wme=_(Ik=>{\"use strict\";Object.defineProperty(Ik,\"__esModule\",{value:!0});function G2(t){let e=[...t.caches],r=e.shift();return r===void 0?Cme():{get(o,a,n={miss:()=>Promise.resolve()}){return r.get(o,a,n).catch(()=>G2({caches:e}).get(o,a,n))},set(o,a){return r.set(o,a).catch(()=>G2({caches:e}).set(o,a))},delete(o){return r.delete(o).catch(()=>G2({caches:e}).delete(o))},clear(){return r.clear().catch(()=>G2({caches:e}).clear())}}}function Cme(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(a=>Promise.all([a,r.miss(a)])).then(([a])=>a)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}Ik.createFallbackableCache=G2;Ik.createNullCache=Cme});var Bme=_((QWt,Ime)=>{Ime.exports=wme()});var vme=_(TH=>{\"use strict\";Object.defineProperty(TH,\"__esModule\",{value:!0});function ddt(t={serializable:!0}){let e={};return{get(r,o,a={miss:()=>Promise.resolve()}){let n=JSON.stringify(r);if(n in e)return Promise.resolve(t.serializable?JSON.parse(e[n]):e[n]);let u=o(),A=a&&a.miss||(()=>Promise.resolve());return u.then(p=>A(p)).then(()=>u)},set(r,o){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(o):o,Promise.resolve(o)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}TH.createInMemoryCache=ddt});var Sme=_((RWt,Dme)=>{Dme.exports=vme()});var bme=_(Zc=>{\"use strict\";Object.defineProperty(Zc,\"__esModule\",{value:!0});function mdt(t,e,r){let o={\"x-algolia-api-key\":r,\"x-algolia-application-id\":e};return{headers(){return t===NH.WithinHeaders?o:{}},queryParameters(){return t===NH.WithinQueryParameters?o:{}}}}function ydt(t){let e=0,r=()=>(e++,new Promise(o=>{setTimeout(()=>{o(t(r))},Math.min(100*e,1e3))}));return t(r)}function Pme(t,e=(r,o)=>Promise.resolve()){return Object.assign(t,{wait(r){return Pme(t.then(o=>Promise.all([e(o,r),o])).then(o=>o[1]))}})}function Edt(t){let e=t.length-1;for(e;e>0;e--){let r=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[r],t[r]=o}return t}function Cdt(t,e){return e&&Object.keys(e).forEach(r=>{t[r]=e[r](t)}),t}function wdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}var Idt=\"4.14.2\",Bdt=t=>()=>t.transporter.requester.destroy(),NH={WithinQueryParameters:0,WithinHeaders:1};Zc.AuthMode=NH;Zc.addMethods=Cdt;Zc.createAuth=mdt;Zc.createRetryablePromise=ydt;Zc.createWaitablePromise=Pme;Zc.destroy=Bdt;Zc.encode=wdt;Zc.shuffle=Edt;Zc.version=Idt});var Y2=_((NWt,xme)=>{xme.exports=bme()});var kme=_(LH=>{\"use strict\";Object.defineProperty(LH,\"__esModule\",{value:!0});var vdt={Delete:\"DELETE\",Get:\"GET\",Post:\"POST\",Put:\"PUT\"};LH.MethodEnum=vdt});var W2=_((OWt,Qme)=>{Qme.exports=kme()});var Wme=_(Fi=>{\"use strict\";Object.defineProperty(Fi,\"__esModule\",{value:!0});var Rme=W2();function OH(t,e){let r=t||{},o=r.data||{};return Object.keys(r).forEach(a=>{[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(a)===-1&&(o[a]=r[a])}),{data:Object.entries(o).length>0?o:void 0,timeout:r.timeout||e,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var K2={Read:1,Write:2,Any:3},xC={Up:1,Down:2,Timeouted:3},Tme=2*60*1e3;function UH(t,e=xC.Up){return{...t,status:e,lastUpdate:Date.now()}}function Nme(t){return t.status===xC.Up||Date.now()-t.lastUpdate>Tme}function Lme(t){return t.status===xC.Timeouted&&Date.now()-t.lastUpdate<=Tme}function _H(t){return typeof t==\"string\"?{protocol:\"https\",url:t,accept:K2.Any}:{protocol:t.protocol||\"https\",url:t.url,accept:t.accept||K2.Any}}function Ddt(t,e){return Promise.all(e.map(r=>t.get(r,()=>Promise.resolve(UH(r))))).then(r=>{let o=r.filter(A=>Nme(A)),a=r.filter(A=>Lme(A)),n=[...o,...a],u=n.length>0?n.map(A=>_H(A)):e;return{getTimeout(A,p){return(a.length===0&&A===0?1:a.length+3+A)*p},statelessHosts:u}})}var Sdt=({isTimedOut:t,status:e})=>!t&&~~e===0,Pdt=t=>{let e=t.status;return t.isTimedOut||Sdt(t)||~~(e/100)!==2&&~~(e/100)!==4},bdt=({status:t})=>~~(t/100)===2,xdt=(t,e)=>Pdt(t)?e.onRetry(t):bdt(t)?e.onSuccess(t):e.onFail(t);function Fme(t,e,r,o){let a=[],n=Hme(r,o),u=qme(t,o),A=r.method,p=r.method!==Rme.MethodEnum.Get?{}:{...r.data,...o.data},h={\"x-algolia-agent\":t.userAgent.value,...t.queryParameters,...p,...o.queryParameters},E=0,I=(v,x)=>{let C=v.pop();if(C===void 0)throw Yme(MH(a));let R={data:n,headers:u,method:A,url:Ume(C,r.path,h),connectTimeout:x(E,t.timeouts.connect),responseTimeout:x(E,o.timeout)},L=J=>{let te={request:R,response:J,host:C,triesLeft:v.length};return a.push(te),te},U={onSuccess:J=>Ome(J),onRetry(J){let te=L(J);return J.isTimedOut&&E++,Promise.all([t.logger.info(\"Retryable failure\",HH(te)),t.hostsCache.set(C,UH(C,J.isTimedOut?xC.Timeouted:xC.Down))]).then(()=>I(v,x))},onFail(J){throw L(J),Mme(J,MH(a))}};return t.requester.send(R).then(J=>xdt(J,U))};return Ddt(t.hostsCache,e).then(v=>I([...v.statelessHosts].reverse(),v.getTimeout))}function kdt(t){let{hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,hosts:p,queryParameters:h,headers:E}=t,I={hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,headers:E,queryParameters:h,hosts:p.map(v=>_H(v)),read(v,x){let C=OH(x,I.timeouts.read),R=()=>Fme(I,I.hosts.filter(J=>(J.accept&K2.Read)!==0),v,C);if((C.cacheable!==void 0?C.cacheable:v.cacheable)!==!0)return R();let U={request:v,mappedRequestOptions:C,transporter:{queryParameters:I.queryParameters,headers:I.headers}};return I.responsesCache.get(U,()=>I.requestsCache.get(U,()=>I.requestsCache.set(U,R()).then(J=>Promise.all([I.requestsCache.delete(U),J]),J=>Promise.all([I.requestsCache.delete(U),Promise.reject(J)])).then(([J,te])=>te)),{miss:J=>I.responsesCache.set(U,J)})},write(v,x){return Fme(I,I.hosts.filter(C=>(C.accept&K2.Write)!==0),v,OH(x,I.timeouts.write))}};return I}function Qdt(t){let e={value:`Algolia for JavaScript (${t})`,add(r){let o=`; ${r.segment}${r.version!==void 0?` (${r.version})`:\"\"}`;return e.value.indexOf(o)===-1&&(e.value=`${e.value}${o}`),e}};return e}function Ome(t){try{return JSON.parse(t.content)}catch(e){throw Gme(e.message,t)}}function Mme({content:t,status:e},r){let o=t;try{o=JSON.parse(t).message}catch{}return jme(o,e,r)}function Fdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}function Ume(t,e,r){let o=_me(r),a=`${t.protocol}://${t.url}/${e.charAt(0)===\"/\"?e.substr(1):e}`;return o.length&&(a+=`?${o}`),a}function _me(t){let e=r=>Object.prototype.toString.call(r)===\"[object Object]\"||Object.prototype.toString.call(r)===\"[object Array]\";return Object.keys(t).map(r=>Fdt(\"%s=%s\",r,e(t[r])?JSON.stringify(t[r]):t[r])).join(\"&\")}function Hme(t,e){if(t.method===Rme.MethodEnum.Get||t.data===void 0&&e.data===void 0)return;let r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function qme(t,e){let r={...t.headers,...e.headers},o={};return Object.keys(r).forEach(a=>{let n=r[a];o[a.toLowerCase()]=n}),o}function MH(t){return t.map(e=>HH(e))}function HH(t){let e=t.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function jme(t,e,r){return{name:\"ApiError\",message:t,status:e,transporterStackTrace:r}}function Gme(t,e){return{name:\"DeserializationError\",message:t,response:e}}function Yme(t){return{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:t}}Fi.CallEnum=K2;Fi.HostStatusEnum=xC;Fi.createApiError=jme;Fi.createDeserializationError=Gme;Fi.createMappedRequestOptions=OH;Fi.createRetryError=Yme;Fi.createStatefulHost=UH;Fi.createStatelessHost=_H;Fi.createTransporter=kdt;Fi.createUserAgent=Qdt;Fi.deserializeFailure=Mme;Fi.deserializeSuccess=Ome;Fi.isStatefulHostTimeouted=Lme;Fi.isStatefulHostUp=Nme;Fi.serializeData=Hme;Fi.serializeHeaders=qme;Fi.serializeQueryParameters=_me;Fi.serializeUrl=Ume;Fi.stackFrameWithoutCredentials=HH;Fi.stackTraceWithoutCredentials=MH});var V2=_((UWt,Kme)=>{Kme.exports=Wme()});var Vme=_(m0=>{\"use strict\";Object.defineProperty(m0,\"__esModule\",{value:!0});var kC=Y2(),Rdt=V2(),J2=W2(),Tdt=t=>{let e=t.region||\"us\",r=kC.createAuth(kC.AuthMode.WithinHeaders,t.appId,t.apiKey),o=Rdt.createTransporter({hosts:[{url:`analytics.${e}.algolia.com`}],...t,headers:{...r.headers(),\"content-type\":\n\n... [3 lines truncated] ..."}]},"uuid":"81b4ecc9-aab3-4da9-a26b-8cd43f02570a","timestamp":"2025-09-17T14:59:05.951Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:216:`+Ba(r)}async persistLockfile(){let e=V.join(this.cwd,dr.lockfile),r=\"\";try{r=await oe.readFilePromise(e,\"utf8\")}catch{}let o=this.generateLockfile(),a=_g(r,o);a!==r&&(await oe.writeFilePromise(e,a),this.lockFileChecksum=Vpe(a),this.lockfileNeedsRefresh=!1)}async persistInstallStateFile(){let e=[];for(let u of Object.values(b_))e.push(...u);let r=(0,$x.default)(this,e),o=x_.default.serialize(r),a=zs(o);if(this.installStateChecksum===a)return;let n=this.configuration.get(\"installStatePath\");await oe.mkdirPromise(V.dirname(n),{recursive:!0}),await oe.writeFilePromise(n,await bAt(o)),this.installStateChecksum=a}async restoreInstallState({restoreLinkersCustomData:e=!0,restoreResolutions:r=!0,restoreBuildState:o=!0}={}){let a=this.configuration.get(\"installStatePath\"),n;try{let u=await xAt(await oe.readFilePromise(a));n=x_.default.deserialize(u),this.installStateChecksum=zs(u)}catch{r&&await this.applyLightResolution();return}e&&typeof n.linkersCustomData<\"u\"&&(this.linkersCustomData=n.linkersCustomData),o&&Object.assign(this,(0,$x.default)(n,b_.restoreBuildState)),r&&(n.lockFileChecksum===this.lockFileChecksum?Object.assign(this,(0,$x.default)(n,b_.restoreResolutions)):await this.applyLightResolution())}async applyLightResolution(){await this.resolveEverything({lockfileOnly:!0,report:new Qi}),await this.persistInstallStateFile()}async persist(){let e=(0,ek.default)(4);await Promise.all([this.persistLockfile(),...this.workspaces.map(r=>e(()=>r.persistManifest()))])}async cacheCleanup({cache:e,report:r}){if(this.configuration.get(\"enableGlobalCache\"))return null;let o=new Set([\".gitignore\"]);if(!CM(e.cwd,this.cwd)||!await oe.existsPromise(e.cwd))return null;let a=[];for(let u of await oe.readdirPromise(e.cwd)){if(o.has(u))continue;let A=V.resolve(e.cwd,u);e.markedFiles.has(A)||(e.immutable?r.reportError(56,`${Mt(this.configuration,V.basename(A),\"magenta\")} appears to be unused and would be marked for deletion, but the cache is immutable`):a.push(oe.lstatPromise(A).then(async p=>(await oe.removePromise(A),p.size))))}if(a.length===0)return null;let n=await Promise.all(a);return{count:a.length,size:n.reduce((u,A)=>u+A,0)}}}});function FAt(t){let o=Math.floor(t.timeNow/864e5),a=t.updateInterval*864e5,n=t.state.lastUpdate??t.timeNow+a+Math.floor(a*t.randomInitialInterval),u=n+a,A=t.state.lastTips??o*864e5,p=A+864e5+8*36e5-t.timeZone,h=u<=t.timeNow,E=p<=t.timeNow,I=null;return(h||E||!t.state.lastUpdate||!t.state.lastTips)&&(I={},I.lastUpdate=h?t.timeNow:n,I.lastTips=A,I.blocks=h?{}:t.state.blocks,I.displayedTips=t.state.displayedTips),{nextState:I,triggerUpdate:h,triggerTips:E,nextTips:E?o*864e5:A}}var uC,Xpe=Et(()=>{St();L1();nh();Ib();ql();Qf();uC=class{constructor(e,r){this.values=new Map;this.hits=new Map;this.enumerators=new Map;this.nextTips=0;this.displayedTips=[];this.shouldCommitTips=!1;this.configuration=e;let o=this.getRegistryPath();this.isNew=!oe.existsSync(o),this.shouldShowTips=!1,this.sendReport(r),this.startBuffer()}commitTips(){this.shouldShowTips&&(this.shouldCommitTips=!0)}selectTip(e){let r=new Set(this.displayedTips),o=A=>A&&rn?kf(rn,A):!1,a=e.map((A,p)=>p).filter(A=>e[A]&&o(e[A]?.selector));if(a.length===0)return null;let n=a.filter(A=>!r.has(A));if(n.length===0){let A=Math.floor(a.length*.2);this.displayedTips=A>0?this.displayedTips.slice(-A):[],n=a.filter(p=>!r.has(p))}let u=n[Math.floor(Math.random()*n.length)];return this.displayedTips.push(u),this.commitTips(),e[u]}reportVersion(e){this.reportValue(\"version\",e.replace(/-git\\..*/,\"-git\"))}reportCommandName(e){this.reportValue(\"commandName\",e||\"<none>\")}reportPluginName(e){this.reportValue(\"pluginName\",e)}reportProject(e){this.reportEnumerator(\"projectCount\",e)}reportInstall(e){this.reportHit(\"installCount\",e)}reportPackageExtension(e){this.reportValue(\"packageExtension\",e)}reportWorkspaceCount(e){this.reportValue(\"workspaceCount\",String(e))}reportDependencyCount(e){this.reportValue(\"dependencyCount\",String(e))}reportValue(e,r){md(this.values,e).add(r)}reportEnumerator(e,r){md(this.enumerators,e).add(zs(r))}reportHit(e,r=\"*\"){let o=Wy(this.hits,e),a=ol(o,r,()=>0);o.set(r,a+1)}getRegistryPath(){let e=this.configuration.get(\"globalFolder\");return V.join(e,\"telemetry.json\")}sendReport(e){let r=this.getRegistryPath(),o;try{o=oe.readJsonSync(r)}catch{o={}}let{nextState:a,triggerUpdate:n,triggerTips:u,nextTips:A}=FAt({state:o,timeNow:Date.now(),timeZone:new Date().getTimezoneOffset()*60*1e3,randomInitialInterval:Math.random(),updateInterval:this.configuration.get(\"telemetryInterval\")});if(this.nextTips=A,this.displayedTips=o.displayedTips??[],a!==null)try{oe.mkdirSync(V.dirname(r),{recursive:!0}),oe.writeJsonSync(r,a)}catch{return!1}if(u&&this.configuration.get(\"enableTips\")&&(this.shouldShowTips=!0),n){let p=o.blocks??{};if(Object.keys(p).length===0){let h=`https://browser-http-intake.logs.datadoghq.eu/v1/input/${e}?ddsource=yarn`,E=I=>O4(h,I,{configuration:this.configuration}).catch(()=>{});for(let[I,v]of Object.entries(o.blocks??{})){if(Object.keys(v).length===0)continue;let x=v;x.userId=I,x.reportType=\"primary\";for(let L of Object.keys(x.enumerators??{}))x.enumerators[L]=x.enumerators[L].length;E(x);let C=new Map,R=20;for(let[L,U]of Object.entries(x.values))U.length>0&&C.set(L,U.slice(0,R));for(;C.size>0;){let L={};L.userId=I,L.reportType=\"secondary\",L.metrics={};for(let[U,J]of C)L.metrics[U]=J.shift(),J.length===0&&C.delete(U);E(L)}}}}return!0}applyChanges(){let e=this.getRegistryPath(),r;try{r=oe.readJsonSync(e)}catch{r={}}let o=this.configuration.get(\"telemetryUserId\")??\"*\",a=r.blocks=r.blocks??{},n=a[o]=a[o]??{};for(let u of this.hits.keys()){let A=n.hits=n.hits??{},p=A[u]=A[u]??{};for(let[h,E]of this.hits.get(u))p[h]=(p[h]??0)+E}for(let u of[\"values\",\"enumerators\"])for(let A of this[u].keys()){let p=n[u]=n[u]??{};p[A]=[...new Set([...p[A]??[],...this[u].get(A)??[]])]}this.shouldCommitTips&&(r.lastTips=this.nextTips,r.displayedTips=this.displayedTips),oe.mkdirSync(V.dirname(e),{recursive:!0}),oe.writeJsonSync(e,r)}startBuffer(){process.on(\"exit\",()=>{try{this.applyChanges()}catch{}})}}});var o2={};Vt(o2,{BuildDirectiveType:()=>Vx,CACHE_CHECKPOINT:()=>c_,CACHE_VERSION:()=>Kx,Cache:()=>Lr,Configuration:()=>Ke,DEFAULT_RC_FILENAME:()=>G4,FormatType:()=>xle,InstallMode:()=>pl,LEGACY_PLUGINS:()=>v1,LOCKFILE_VERSION:()=>tk,LegacyMigrationResolver:()=>oC,LightReport:()=>AA,LinkType:()=>zy,LockfileResolver:()=>aC,Manifest:()=>Ot,MessageName:()=>wr,MultiFetcher:()=>hE,PackageExtensionStatus:()=>BL,PackageExtensionType:()=>IL,PeerWarningType:()=>rk,Project:()=>Pt,Report:()=>Xs,ReportError:()=>zt,SettingsType:()=>D1,StreamReport:()=>Nt,TAG_REGEXP:()=>FE,TelemetryManager:()=>uC,ThrowReport:()=>Qi,VirtualFetcher:()=>gE,WindowsLinkType:()=>xb,Workspace:()=>cC,WorkspaceFetcher:()=>mE,WorkspaceResolver:()=>Xn,YarnVersion:()=>rn,execUtils:()=>Ur,folderUtils:()=>YP,formatUtils:()=>de,hashUtils:()=>wn,httpUtils:()=>nn,miscUtils:()=>_e,nodeUtils:()=>Ji,parseMessageName:()=>AS,reportOptionDeprecations:()=>LE,scriptUtils:()=>un,semverUtils:()=>kr,stringifyMessageName:()=>Wu,structUtils:()=>W,tgzUtils:()=>Xi,treeUtils:()=>$s});var Ye=Et(()=>{Db();WP();jl();nh();Ib();ql();vb();BU();Qf();bo();Xfe();ipe();u_();S1();S1();ope();A_();ape();f_();fE();fS();cM();zpe();Yl();O1();Xpe();S_();AM();fM();vd();P_();L1();Cne()});var nhe=_((K_t,l2)=>{\"use strict\";var TAt=process.env.TERM_PROGRAM===\"Hyper\",NAt=process.platform===\"win32\",ehe=process.platform===\"linux\",F_={ballotDisabled:\"\\u2612\",ballotOff:\"\\u2610\",ballotOn:\"\\u2611\",bullet:\"\\u2022\",bulletWhite:\"\\u25E6\",fullBlock:\"\\u2588\",heart:\"\\u2764\",identicalTo:\"\\u2261\",line:\"\\u2500\",mark:\"\\u203B\",middot:\"\\xB7\",minus:\"\\uFF0D\",multiplication:\"\\xD7\",obelus:\"\\xF7\",pencilDownRight:\"\\u270E\",pencilRight:\"\\u270F\",pencilUpRight:\"\\u2710\",percent:\"%\",pilcrow2:\"\\u2761\",pilcrow:\"\\xB6\",plusMinus:\"\\xB1\",section:\"\\xA7\",starsOff:\"\\u2606\",starsOn:\"\\u2605\",upDownArrow:\"\\u2195\"},the=Object.assign({},F_,{check:\"\\u221A\",cross:\"\\xD7\",ellipsisLarge:\"...\",ellipsis:\"...\",info:\"i\",question:\"?\",questionSmall:\"?\",pointer:\">\",pointerSmall:\"\\xBB\",radioOff:\"( )\",radioOn:\"(*)\",warning:\"\\u203C\"}),rhe=Object.assign({},F_,{ballotCross:\"\\u2718\",check:\"\\u2714\",cross:\"\\u2716\",ellipsisLarge:\"\\u22EF\",ellipsis:\"\\u2026\",info:\"\\u2139\",question:\"?\",questionFull:\"\\uFF1F\",questionSmall:\"\\uFE56\",pointer:ehe?\"\\u25B8\":\"\\u276F\",pointerSmall:ehe?\"\\u2023\":\"\\u203A\",radioOff:\"\\u25EF\",radioOn:\"\\u25C9\",warning:\"\\u26A0\"});l2.exports=NAt&&!TAt?the:rhe;Reflect.defineProperty(l2.exports,\"common\",{enumerable:!1,value:F_});Reflect.defineProperty(l2.exports,\"windows\",{enumerable:!1,value:the});Reflect.defineProperty(l2.exports,\"other\",{enumerable:!1,value:rhe})});var Kc=_((V_t,R_)=>{\"use strict\";var LAt=t=>t!==null&&typeof t==\"object\"&&!Array.isArray(t),OAt=/[\\u001b\\u009b][[\\]#;?()]*(?:(?:(?:[^\\W_]*;?[^\\W_]*)\\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,ihe=()=>{let t={enabled:!0,visible:!0,styles:{},keys:{}};\"FORCE_COLOR\"in process.env&&(t.enabled=process.env.FORCE_COLOR!==\"0\");let e=n=>{let u=n.open=`\\x1B[${n.codes[0]}m`,A=n.close=`\\x1B[${n.codes[1]}m`,p=n.regex=new RegExp(`\\\\u001b\\\\[${n.codes[1]}m`,\"g\");return n.wrap=(h,E)=>{h.includes(A)&&(h=h.replace(p,A+u));let I=u+h+A;return E?I.replace(/\\r*\\n/g,`${A}$&${u}`):I},n},r=(n,u,A)=>typeof n==\"function\"?n(u):n.wrap(u,A),o=(n,u)=>{if(n===\"\"||n==null)return\"\";if(t.enabled===!1)return n;if(t.visible===!1)return\"\";let A=\"\"+n,p=A.includes(`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:285:${this.getDeclarations()}`}createSession(){return new CH(this.project,this.fullSource)}async processClassic(){let e=this.createSession();return{enforcedDependencies:await this.genEnforcedDependencies(e),enforcedFields:await this.genEnforcedFields(e)}}async process(){let{enforcedDependencies:e,enforcedFields:r}=await this.processClassic(),o=new Map;for(let{workspace:a,dependencyIdent:n,dependencyRange:u,dependencyType:A}of e){let p=B2([A,W.stringifyIdent(n)]),h=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(h,p).set(u??void 0,new Set)}for(let{workspace:a,fieldPath:n,fieldValue:u}of r){let A=B2(n),p=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(p,A).set(JSON.parse(u)??void 0,new Set)}return{manifestUpdates:o,reportedErrors:new Map}}async genEnforcedDependencies(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), dependency_type(DependencyType), gen_enforced_dependency(WorkspaceCwd, DependencyIdent, DependencyRange, DependencyType).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.DependencyIdent),u=em(o.links.DependencyRange),A=em(o.links.DependencyType);if(a===null||n===null)throw new Error(\"Invalid rule\");let p=this.project.getWorkspaceByCwd(a),h=W.parseIdent(n);r.push({workspace:p,dependencyIdent:h,dependencyRange:u,dependencyType:A})}return _e.sortMap(r,[({dependencyRange:o})=>o!==null?\"0\":\"1\",({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({dependencyIdent:o})=>W.stringifyIdent(o)])}async genEnforcedFields(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), gen_enforced_field(WorkspaceCwd, FieldPath, FieldValue).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.FieldPath),u=Xgt(o.links.FieldValue);if(a===null||n===null)throw new Error(\"Invalid rule\");let A=this.project.getWorkspaceByCwd(a);r.push({workspace:A,fieldPath:n,fieldValue:u})}return _e.sortMap(r,[({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({fieldPath:o})=>o])}async*query(e){let r=this.createSession();for await(let o of r.makeQuery(e)){let a={};for(let[n,u]of Object.entries(o.links))n!==\"_\"&&(a[n]=em(u));yield a}}}});var wme=_(Ik=>{\"use strict\";Object.defineProperty(Ik,\"__esModule\",{value:!0});function G2(t){let e=[...t.caches],r=e.shift();return r===void 0?Cme():{get(o,a,n={miss:()=>Promise.resolve()}){return r.get(o,a,n).catch(()=>G2({caches:e}).get(o,a,n))},set(o,a){return r.set(o,a).catch(()=>G2({caches:e}).set(o,a))},delete(o){return r.delete(o).catch(()=>G2({caches:e}).delete(o))},clear(){return r.clear().catch(()=>G2({caches:e}).clear())}}}function Cme(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(a=>Promise.all([a,r.miss(a)])).then(([a])=>a)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}Ik.createFallbackableCache=G2;Ik.createNullCache=Cme});var Bme=_((QWt,Ime)=>{Ime.exports=wme()});var vme=_(TH=>{\"use strict\";Object.defineProperty(TH,\"__esModule\",{value:!0});function ddt(t={serializable:!0}){let e={};return{get(r,o,a={miss:()=>Promise.resolve()}){let n=JSON.stringify(r);if(n in e)return Promise.resolve(t.serializable?JSON.parse(e[n]):e[n]);let u=o(),A=a&&a.miss||(()=>Promise.resolve());return u.then(p=>A(p)).then(()=>u)},set(r,o){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(o):o,Promise.resolve(o)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}TH.createInMemoryCache=ddt});var Sme=_((RWt,Dme)=>{Dme.exports=vme()});var bme=_(Zc=>{\"use strict\";Object.defineProperty(Zc,\"__esModule\",{value:!0});function mdt(t,e,r){let o={\"x-algolia-api-key\":r,\"x-algolia-application-id\":e};return{headers(){return t===NH.WithinHeaders?o:{}},queryParameters(){return t===NH.WithinQueryParameters?o:{}}}}function ydt(t){let e=0,r=()=>(e++,new Promise(o=>{setTimeout(()=>{o(t(r))},Math.min(100*e,1e3))}));return t(r)}function Pme(t,e=(r,o)=>Promise.resolve()){return Object.assign(t,{wait(r){return Pme(t.then(o=>Promise.all([e(o,r),o])).then(o=>o[1]))}})}function Edt(t){let e=t.length-1;for(e;e>0;e--){let r=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[r],t[r]=o}return t}function Cdt(t,e){return e&&Object.keys(e).forEach(r=>{t[r]=e[r](t)}),t}function wdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}var Idt=\"4.14.2\",Bdt=t=>()=>t.transporter.requester.destroy(),NH={WithinQueryParameters:0,WithinHeaders:1};Zc.AuthMode=NH;Zc.addMethods=Cdt;Zc.createAuth=mdt;Zc.createRetryablePromise=ydt;Zc.createWaitablePromise=Pme;Zc.destroy=Bdt;Zc.encode=wdt;Zc.shuffle=Edt;Zc.version=Idt});var Y2=_((NWt,xme)=>{xme.exports=bme()});var kme=_(LH=>{\"use strict\";Object.defineProperty(LH,\"__esModule\",{value:!0});var vdt={Delete:\"DELETE\",Get:\"GET\",Post:\"POST\",Put:\"PUT\"};LH.MethodEnum=vdt});var W2=_((OWt,Qme)=>{Qme.exports=kme()});var Wme=_(Fi=>{\"use strict\";Object.defineProperty(Fi,\"__esModule\",{value:!0});var Rme=W2();function OH(t,e){let r=t||{},o=r.data||{};return Object.keys(r).forEach(a=>{[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(a)===-1&&(o[a]=r[a])}),{data:Object.entries(o).length>0?o:void 0,timeout:r.timeout||e,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var K2={Read:1,Write:2,Any:3},xC={Up:1,Down:2,Timeouted:3},Tme=2*60*1e3;function UH(t,e=xC.Up){return{...t,status:e,lastUpdate:Date.now()}}function Nme(t){return t.status===xC.Up||Date.now()-t.lastUpdate>Tme}function Lme(t){return t.status===xC.Timeouted&&Date.now()-t.lastUpdate<=Tme}function _H(t){return typeof t==\"string\"?{protocol:\"https\",url:t,accept:K2.Any}:{protocol:t.protocol||\"https\",url:t.url,accept:t.accept||K2.Any}}function Ddt(t,e){return Promise.all(e.map(r=>t.get(r,()=>Promise.resolve(UH(r))))).then(r=>{let o=r.filter(A=>Nme(A)),a=r.filter(A=>Lme(A)),n=[...o,...a],u=n.length>0?n.map(A=>_H(A)):e;return{getTimeout(A,p){return(a.length===0&&A===0?1:a.length+3+A)*p},statelessHosts:u}})}var Sdt=({isTimedOut:t,status:e})=>!t&&~~e===0,Pdt=t=>{let e=t.status;return t.isTimedOut||Sdt(t)||~~(e/100)!==2&&~~(e/100)!==4},bdt=({status:t})=>~~(t/100)===2,xdt=(t,e)=>Pdt(t)?e.onRetry(t):bdt(t)?e.onSuccess(t):e.onFail(t);function Fme(t,e,r,o){let a=[],n=Hme(r,o),u=qme(t,o),A=r.method,p=r.method!==Rme.MethodEnum.Get?{}:{...r.data,...o.data},h={\"x-algolia-agent\":t.userAgent.value,...t.queryParameters,...p,...o.queryParameters},E=0,I=(v,x)=>{let C=v.pop();if(C===void 0)throw Yme(MH(a));let R={data:n,headers:u,method:A,url:Ume(C,r.path,h),connectTimeout:x(E,t.timeouts.connect),responseTimeout:x(E,o.timeout)},L=J=>{let te={request:R,response:J,host:C,triesLeft:v.length};return a.push(te),te},U={onSuccess:J=>Ome(J),onRetry(J){let te=L(J);return J.isTimedOut&&E++,Promise.all([t.logger.info(\"Retryable failure\",HH(te)),t.hostsCache.set(C,UH(C,J.isTimedOut?xC.Timeouted:xC.Down))]).then(()=>I(v,x))},onFail(J){throw L(J),Mme(J,MH(a))}};return t.requester.send(R).then(J=>xdt(J,U))};return Ddt(t.hostsCache,e).then(v=>I([...v.statelessHosts].reverse(),v.getTimeout))}function kdt(t){let{hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,hosts:p,queryParameters:h,headers:E}=t,I={hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,headers:E,queryParameters:h,hosts:p.map(v=>_H(v)),read(v,x){let C=OH(x,I.timeouts.read),R=()=>Fme(I,I.hosts.filter(J=>(J.accept&K2.Read)!==0),v,C);if((C.cacheable!==void 0?C.cacheable:v.cacheable)!==!0)return R();let U={request:v,mappedRequestOptions:C,transporter:{queryParameters:I.queryParameters,headers:I.headers}};return I.responsesCache.get(U,()=>I.requestsCache.get(U,()=>I.requestsCache.set(U,R()).then(J=>Promise.all([I.requestsCache.delete(U),J]),J=>Promise.all([I.requestsCache.delete(U),Promise.reject(J)])).then(([J,te])=>te)),{miss:J=>I.responsesCache.set(U,J)})},write(v,x){return Fme(I,I.hosts.filter(C=>(C.accept&K2.Write)!==0),v,OH(x,I.timeouts.write))}};return I}function Qdt(t){let e={value:`Algolia for JavaScript (${t})`,add(r){let o=`; ${r.segment}${r.version!==void 0?` (${r.version})`:\"\"}`;return e.value.indexOf(o)===-1&&(e.value=`${e.value}${o}`),e}};return e}function Ome(t){try{return JSON.parse(t.content)}catch(e){throw Gme(e.message,t)}}function Mme({content:t,status:e},r){let o=t;try{o=JSON.parse(t).message}catch{}return jme(o,e,r)}function Fdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}function Ume(t,e,r){let o=_me(r),a=`${t.protocol}://${t.url}/${e.charAt(0)===\"/\"?e.substr(1):e}`;return o.length&&(a+=`?${o}`),a}function _me(t){let e=r=>Object.prototype.toString.call(r)===\"[object Object]\"||Object.prototype.toString.call(r)===\"[object Array]\";return Object.keys(t).map(r=>Fdt(\"%s=%s\",r,e(t[r])?JSON.stringify(t[r]):t[r])).join(\"&\")}function Hme(t,e){if(t.method===Rme.MethodEnum.Get||t.data===void 0&&e.data===void 0)return;let r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function qme(t,e){let r={...t.headers,...e.headers},o={};return Object.keys(r).forEach(a=>{let n=r[a];o[a.toLowerCase()]=n}),o}function MH(t){return t.map(e=>HH(e))}function HH(t){let e=t.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function jme(t,e,r){return{name:\"ApiError\",message:t,status:e,transporterStackTrace:r}}function Gme(t,e){return{name:\"DeserializationError\",message:t,response:e}}function Yme(t){return{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:t}}Fi.CallEnum=K2;Fi.HostStatusEnum=xC;Fi.createApiError=jme;Fi.createDeserializationError=Gme;Fi.createMappedRequestOptions=OH;Fi.createRetryError=Yme;Fi.createStatefulHost=UH;Fi.createStatelessHost=_H;Fi.createTransporter=kdt;Fi.createUserAgent=Qdt;Fi.deserializeFailure=Mme;Fi.deserializeSuccess=Ome;Fi.isStatefulHostTimeouted=Lme;Fi.isStatefulHostUp=Nme;Fi.serializeData=Hme;Fi.serializeHeaders=qme;Fi.serializeQueryParameters=_me;Fi.serializeUrl=Ume;Fi.stackFrameWithoutCredentials=HH;Fi.stackTraceWithoutCredentials=MH});var V2=_((UWt,Kme)=>{Kme.exports=Wme()});var Vme=_(m0=>{\"use strict\";Object.defineProperty(m0,\"__esModule\",{value:!0});var kC=Y2(),Rdt=V2(),J2=W2(),Tdt=t=>{let e=t.region||\"us\",r=kC.createAuth(kC.AuthMode.WithinHeaders,t.appId,t.apiKey),o=Rdt.createTransporter({hosts:[{url:`analytics.${e}.algolia.com`}],...t,headers:{...r.headers(),\"content-type\":\"application/json\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}}),a=t.appId;return kC.addMethods({appId:a,transporter:o},t.methods)},Ndt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Post,path:\"2/abtests\",data:e},r),Ldt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Delete,path:kC.encode(\"2/abtests/%s\",e)},r),Odt=t=>(e,r)=>t.transporter.read({method:J2.MethodEnum.Get,path:kC.encode(\"2/abtests/%s\",e)},r),Mdt=t=>e=>t.transporter.read({method:J2.MethodEnum.Get,path:\"2/abtests\"},e),Udt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Post,path:kC.encode(\"2/abtests/%s/stop\",e)},r);m0.addABTest=Ndt;m0.createAnalyticsClient=Tdt;m0.deleteABTest=Ldt;m0.getABTest=Odt;m0.getABTests=Mdt;m0.stopABTest=Udt});var zme=_((HWt,Jme)=>{Jme.exports=Vme()});var Zme=_(z2=>{\"use strict\";Object.defineProperty(z2,\"__esModule\",{value:!0});var qH=Y2(),_dt=V2(),Xme=W2(),Hdt=t=>{let e=t.region||\"us\",r=qH.createAuth(qH.AuthMode.WithinHeaders,t.appId,t.apiKey),o=_dt.createTransporter({hosts:[{url:`personalization.${e}.algolia.com`}],...t,headers:{...r.headers(),\"content-type\":\"application/json\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}});return qH.addMethods({appId:t.appId,transporter:o},t.methods)},qdt=t=>e=>t.transporter.read({method:Xme.MethodEnum.Get,path:\"1/strategies/personalization\"},e),jdt=t=>(e,r)=>t.transporter.write({method:Xme.MethodEnum.Post,path:\"1/strategies/personalization\",data:e},r);z2.createPersonalizationClient=Hdt;z2.getPersonalizationStrategy=qdt;z2.setPersonalizationStrategy=jdt});var eye=_((jWt,$me)=>{$me.exports=Zme()});var hye=_(Ft=>{\"use strict\";Object.defineProperty(Ft,\"__esModule\",{value:!0});var Gt=Y2(),Na=V2(),Ir=W2(),Gdt=ve(\"crypto\");function Bk(t){let e=r=>t.request(r).then(o=>{if(t.batch!==void 0&&t.batch(o.hits),!t.shouldStop(o))return o.cursor?e({cursor:o.cursor}):e({page:(r.page||0)+1})});return e({})}var Ydt=t=>{let e=t.appId,r=Gt.createAuth(t.authMode!==void 0?t.authMode:Gt.AuthMode.WithinHeaders,e,t.apiKey),o=Na.createTransporter({hosts:[{url:`${e}-dsn.algolia.net`,accept:Na.CallEnum.Read},{url:`${e}.algolia.net`,accept:Na.CallEnum.Write}].concat(Gt.shuffle([{url:`${e}-1.algolianet.com`},{url:`${e}-2.algolianet.com`},{url:`${e}-3.algolianet.com`}])),...t,headers:{...r.headers(),\"content-type\":\"application/x-www-form-urlencoded\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}}),a={transporter:o,appId:e,addAlgoliaAgent(n,u){o.userAgent.add({segment:n,version:u})},clearCache(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then(()=>{})}};return Gt.addMethods(a,t.methods)};function tye(){return{name:\"MissingObjectIDError\",message:\"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option.\"}}function rye(){return{name:\"ObjectNotFoundError\",message:\"Object not found.\"}}function nye(){return{name:\"ValidUntilNotFoundError\",message:\"ValidUntil not found in given secured api key.\"}}var Wdt=t=>(e,r)=>{let{queryParameters:o,...a}=r||{},n={acl:e,...o!==void 0?{queryParameters:o}:{}},u=(A,p)=>Gt.createRetryablePromise(h=>X2(t)(A.key,p).catch(E=>{if(E.status!==404)throw E;return h()}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/keys\",data:n},a),u)},Kdt=t=>(e,r,o)=>{let a=Na.createMappedRequestOptions(o);return a.queryParameters[\"X-Algolia-User-ID\"]=e,t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping\",data:{cluster:r}},a)},Vdt=t=>(e,r,o)=>t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping/batch\",data:{users:e,cluster:r}},o),Jdt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!0,requests:{action:\"addEntry\",body:[]}}},r),(o,a)=>QC(t)(o.taskID,a)),vk=t=>(e,r,o)=>{let a=(n,u)=>Z2(t)(e,{methods:{waitTask:Zi}}).waitTask(n.taskID,u);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",e),data:{operation:\"copy\",destination:r}},o),a)},zdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Rules]}),Xdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Settings]}),Zdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Synonyms]}),$dt=t=>(e,r)=>e.method===Ir.MethodEnum.Get?t.transporter.read(e,r):t.transporter.write(e,r),emt=t=>(e,r)=>{let o=(a,n)=>Gt.createRetryablePromise(u=>X2(t)(e,n).then(u).catch(A=>{if(A.status!==404)throw A}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/keys/%s\",e)},r),o)},tmt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"deleteEntry\",body:{objectID:n}}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!1,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},rmt=()=>(t,e)=>{let r=Na.serializeQueryParameters(e),o=Gdt.createHmac(\"sha256\",t).update(r).digest(\"hex\");return Buffer.from(o+r).toString(\"base64\")},X2=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/keys/%s\",e)},r),iye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/task/%s\",e.toString())},r),nmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"/1/dictionaries/*/settings\"},e),imt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/logs\"},e),smt=()=>t=>{let e=Buffer.from(t,\"base64\").toString(\"ascii\"),r=/validUntil=(\\d+)/,o=e.match(r);if(o===null)throw nye();return parseInt(o[1],10)-Math.round(new Date().getTime()/1e3)},omt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping/top\"},e),amt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/clusters/mapping/%s\",e)},r),lmt=t=>e=>{let{retrieveMappings:r,...o}=e||{};return r===!0&&(o.getClusters=!0),t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping/pending\"},o)},Z2=t=>(e,r={})=>{let o={transporter:t.transporter,appId:t.appId,indexName:e};return Gt.addMethods(o,r.methods)},cmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/keys\"},e),umt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters\"},e),Amt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/indexes\"},e),fmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping\"},e),pmt=t=>(e,r,o)=>{let a=(n,u)=>Z2(t)(e,{methods:{waitTask:Zi}}).waitTask(n.taskID,u);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",e),data:{operation:\"move\",destination:r}},o),a)},hmt=t=>(e,r)=>{let o=(a,n)=>Promise.all(Object.keys(a.taskID).map(u=>Z2(t)(u,{methods:{waitTask:Zi}}).waitTask(a.taskID[u],n)));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/indexes/*/batch\",data:{requests:e}},r),o)},gmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/objects\",data:{requests:e}},r),dmt=t=>(e,r)=>{let o=e.map(a=>({...a,params:Na.serializeQueryParameters(a.params||{})}));return t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},r)},mmt=t=>(e,r)=>Promise.all(e.map(o=>{let{facetName:a,facetQuery:n,...u}=o.params;return Z2(t)(o.indexName,{methods:{searchForFacetValues:Aye}}).searchForFacetValues(a,n,{...r,...u})})),ymt=t=>(e,r)=>{let o=Na.createMappedRequestOptions(r);return o.queryParameters[\"X-Algolia-User-ID\"]=e,t.transporter.write({method:Ir.MethodEnum.Delete,path:\"1/clusters/mapping\"},o)},Emt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"addEntry\",body:n}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!0,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},Cmt=t=>(e,r)=>{let o=(a,n)=>Gt.createRetryablePromise(u=>X2(t)(e,n).catch(A=>{if(A.status!==404)throw A;return u()}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/keys/%s/restore\",e)},r),o)},wmt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"addEntry\",body:n}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!1,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},Imt=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/search\",e),data:{query:r},cacheable:!0},o),Bmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping/search\",data:{query:e}},r),vmt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:\"/1/dictionaries/*/settings\",data:e},r),(o,a)=>QC(t)(o.taskID,a)),Dmt=t=>(e,r)=>{let o=Object.assign({},r),{queryParameters:a,...n}=r||{},u=a?{queryParameters:a}:{},A=[\"acl\",\"indexes\",\"referers\",\"restrictSources\",\"queryParameters\",\"description\",\"maxQueriesPerIPPerHour\",\"maxHitsPerQuery\"],p=E=>Object.keys(o).filter(I=>A.indexOf(I)!==-1).every(I=>E[I]===o[I]),h=(E,I)=>Gt.createRetryablePromise(v=>X2(t)(e,I).then(x=>p(x)?Promise.resolve():v()));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:Gt.encode(\"1/keys/%s\",e),data:u},n),h)},QC=t=>(e,r)=>Gt.createRetryablePromise(o=>iye(t)(e,r).then(a=>a.status!==\"published\"?o():void 0)),sye=t=>(e,r)=>{let o=(a,n)=>Zi(t)(a.taskID,n);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/batch\",t.indexName),data:{requests:e}},r),o)},Smt=t=>e=>Bk({shouldStop:r=>r.cursor===void 0,...e,request:r=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/browse\",t.indexName),data:r},e)}),Pmt=t=>e=>{let r={hitsPerPage:1e3,...e};return Bk({shouldStop:o=>o.hits.length<r.hitsPerPage,...r,request(o){return fye(t)(\"\",{...r,...o}).then(a=>({...a,hits:a.hits.map(n=>(delete n._highlightResult,n))}))}})},bmt=t=>e=>{let r={hitsPerPage:1e3,...e};return Bk({shouldStop:o=>o.hits.length<r.hitsPerPage,...r,request(o){return pye(t)(\"\",{...r,...o}).then(a=>({...a,hits:a.hits.map(n=>(delete n._highlightResult,n))}))}})},Dk=t=>(e,r,o)=>{let{batchSize:a,...n}=o||{},u={taskIDs:[],objectIDs:[]},A=(p=0)=>{let h=[],E;for(E=p;E<e.length&&(h.push(e[E]),h.length!==(a||1e3));E++);return h.length===0?Promise.resolve(u):sye(t)(h.map(I=>({action:r,body:I})),n).then(I=>(u.objectIDs=u.objectIDs.concat(I.objectIDs),u.taskIDs.push(I.taskID),E++,A(E)))};return Gt.createWaitablePromise(A(),(p,h)=>Promise.all(p.taskIDs.map(E=>Zi(t)(E,h))))},xmt=t=>e=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/clear\",t.indexName)},e),(r,o)=>Zi(t)(r.taskID,o)),kmt=t=>e=>{let{forwardToReplicas:r,...o}=e||{},a=Na.createMappedRequestOptions(o);return r&&(a.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/clear\",t.indexName)},a),(n,u)=>Zi(t)(n.taskID,u))},Qmt=t=>e=>{let{forwardToReplicas:r,...o}=e||{},a=Na.createMappedRequestOptions(o);return r&&(a.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/clear\",t.indexName)},a),(n,u)=>Zi(t)(n.taskID,u))},Fmt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/deleteByQuery\",t.indexName),data:e},r),(o,a)=>Zi(t)(o.taskID,a)),Rmt=t=>e=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s\",t.indexName)},e),(r,o)=>Zi(t)(r.taskID,o)),Tmt=t=>(e,r)=>Gt.createWaitablePromise(oye(t)([e],r).then(o=>({taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),oye=t=>(e,r)=>{let o=e.map(a=>({objectID:a}));return Dk(t)(o,nm.DeleteObject,r)},Nmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s/rules/%s\",t.indexName,e)},n),(u,A)=>Zi(t)(u.taskID,A))},Lmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s/synonyms/%s\",t.indexName,e)},n),(u,A)=>Zi(t)(u.taskID,A))},Omt=t=>e=>aye(t)(e).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),Mmt=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/answers/%s/prediction\",t.indexName),data:{query:e,queryLanguages:r},cacheable:!0},o),Umt=t=>(e,r)=>{let{query:o,paginate:a,...n}=r||{},u=0,A=()=>uye(t)(o||\"\",{...n,page:u}).then(p=>{for(let[h,E]of Object.entries(p.hits))if(e(E))return{object:E,position:parseInt(h,10),page:u};if(u++,a===!1||u>=p.nbPages)throw rye();return A()});return A()},_mt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/%s\",t.indexName,e)},r),Hmt=()=>(t,e)=>{for(let[r,o]of Object.entries(t.hits))if(o.objectID===e)return parseInt(r,10);return-1},qmt=t=>(e,r)=>{let{attributesToRetrieve:o,...a}=r||{},n=e.map(u=>({indexName:t.indexName,objectID:u,...o?{attributesToRetrieve:o}:{}}));return t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/objects\",data:{requests:n}},a)},jmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/rules/%s\",t.indexName,e)},r),aye=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/settings\",t.indexName),data:{getVersion:2}},e),Gmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/synonyms/%s\",t.indexName,e)},r),lye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/task/%s\",t.indexName,e.toString())},r),Ymt=t=>(e,r)=>Gt.createWaitablePromise(cye(t)([e],r).then(o=>({objectID:o.objectIDs[0],taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),cye=t=>(e,r)=>{let{createIfNotExists:o,...a}=r||{},n=o?nm.PartialUpdateObject:nm.PartialUpdateObjectNoCreate;return Dk(t)(e,n,a)},Wmt=t=>(e,r)=>{let{safe:o,autoGenerateObjectIDIfNotExist:a,batchSize:n,...u}=r||{},A=(C,R,L,U)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",C),data:{operation:L,destination:R}},U),(J,te)=>Zi(t)(J.taskID,te)),p=Math.random().toString(36).substring(7),h=`${t.indexName}_tmp_${p}`,E=jH({appId:t.appId,transporter:t.transporter,indexName:h}),I=[],v=A(t.indexName,h,\"copy\",{...u,scope:[\"settings\",\"synonyms\",\"rules\"]});I.push(v);let x=(o?v.wait(u):v).then(()=>{let C=E(e,{...u,autoGenerateObjectIDIfNotExist:a,batchSize:n});return I.push(C),o?C.wait(u):C}).then(()=>{let C=A(h,t.indexName,\"move\",u);return I.push(C),o?C.wait(u):C}).then(()=>Promise.all(I)).then(([C,R,L])=>({objectIDs:R.objectIDs,taskIDs:[C.taskID,...R.taskIDs,L.taskID]}));return Gt.createWaitablePromise(x,(C,R)=>Promise.all(I.map(L=>L.wait(R))))},Kmt=t=>(e,r)=>GH(t)(e,{...r,clearExistingRules:!0}),Vmt=t=>(e,r)=>YH(t)(e,{...r,clearExistingSynonyms:!0}),Jmt=t=>(e,r)=>Gt.createWaitablePromise(jH(t)([e],r).then(o=>({objectID:o.objectIDs[0],taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),jH=t=>(e,r)=>{let{autoGenerateObjectIDIfNotExist:o,...a}=r||{},n=o?nm.AddObject:nm.UpdateObject;if(n===nm.UpdateObject){for(let u of e)if(u.objectID===void 0)return Gt.createWaitablePromise(Promise.reject(tye()))}return Dk(t)(e,n,a)},zmt=t=>(e,r)=>GH(t)([e],r),GH=t=>(e,r)=>{let{forwardToReplicas:o,clearExistingRules:a,...n}=r||{},u=Na.createMappedRequestOptions(n);return o&&(u.queryParameters.forwardToReplicas=1),a&&(u.queryParameters.clearExistingRules=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/batch\",t.indexName),data:e},u),(A,p)=>Zi(t)(A.taskID,p))},Xmt=t=>(e,r)=>YH(t)([e],r),YH=t=>(e,r)=>{let{forwardToReplicas:o,clearExistingSynonyms:a,replaceExistingSynonyms:n,...u}=r||{},A=Na.createMappedRequestOptions(u);return o&&(A.queryParameters.forwardToReplicas=1),(n||a)&&(A.queryParameters.replaceExistingSynonyms=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/batch\",t.indexName),data:e},A),(p,h)=>Zi(t)(p.taskID,h))},uye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/query\",t.indexName),data:{query:e},cacheable:!0},r),Aye=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/facets/%s/query\",t.indexName,e),data:{facetQuery:r},cacheable:!0},o),fye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/search\",t.indexName),data:{query:e}},r),pye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/search\",t.indexName),data:{query:e}},r),Zmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:Gt.encode(\"1/indexes/%s/settings\",t.indexName),data:e},n),(u,A)=>Zi(t)(u.taskID,A))},Zi=t=>(e,r)=>Gt.createRetryablePromise(o=>lye(t)(e,r).then(a=>a.status!==\"published\"?o():void 0)),$mt={AddObject:\"addObject\",Analytics:\"analytics\",Browser:\"browse\",DeleteIndex:\"deleteIndex\",DeleteObject:\"deleteObject\",EditSettings:\"editSettings\",ListIndexes:\"listIndexes\",Logs:\"logs\",Personalization:\"personalization\",Recommendation:\"recommendation\",Search:\"search\",SeeUnretrievableAttributes:\"seeUnretrievableAttributes\",Settings:\"settings\",Usage:\"usage\"},nm={AddObject:\"addObject\",UpdateObject:\"updateObject\",PartialUpdateObject:\"partialUpdateObject\",PartialUpdateObjectNoCreate:\"partialUpdateObjectNoCreate\",DeleteObject:\"deleteObject\",DeleteIndex:\"delete\",ClearIndex:\"clear\"},Sk={Settings:\"settings\",Synonyms:\"synonyms\",Rules:\"rules\"},eyt={None:\"none\",StopIfEnoughMatches:\"stopIfEnoughMatches\"},tyt={Synonym:\"synonym\",OneWaySynonym:\"oneWaySynonym\",AltCorrection1:\"altCorrection1\",AltCorrection2:\"altCorrection2\",Placeholder:\"placeholder\"};Ft.ApiKeyACLEnum=$mt;Ft.BatchActionEnum=nm;Ft.ScopeEnum=Sk;Ft.StrategyEnum=eyt;Ft.SynonymEnum=tyt;Ft.addApiKey=Wdt;Ft.assignUserID=Kdt;Ft.assignUserIDs=Vdt;Ft.batch=sye;Ft.browseObjects=Smt;Ft.browseRules=Pmt;Ft.browseSynonyms=bmt;Ft.chunkedBatch=Dk;Ft.clearDictionaryEntries=Jdt;Ft.clearObjects=xmt;Ft.clearRules=kmt;Ft.clearSynonyms=Qmt;Ft.copyIndex=vk;Ft.copyRules=zdt;Ft.copySettings=Xdt;Ft.copySynonyms=Zdt;Ft.createBrowsablePromise=Bk;Ft.createMissingObjectIDError=tye;Ft.createObjectNotFoundError=rye;Ft.createSearchClient=Ydt;Ft.createValidUntilNotFoundError=nye;Ft.customRequest=$dt;Ft.deleteApiKey=emt;Ft.deleteBy=Fmt;Ft.deleteDictionaryEntries=tmt;Ft.deleteIndex=Rmt;Ft.deleteObject=Tmt;Ft.deleteObjects=oye;Ft.deleteRule=Nmt;Ft.deleteSynonym=Lmt;Ft.exists=Omt;Ft.findAnswers=Mmt;Ft.findObject=Umt;Ft.generateSecuredApiKey=rmt;Ft.getApiKey=X2;Ft.getAppTask=iye;Ft.getDictionarySettings=nmt;Ft.getLogs=imt;Ft.getObject=_mt;Ft.getObjectPosition=Hmt;Ft.getObjects=qmt;Ft.getRule=jmt;Ft.getSecuredApiKeyRemainingValidity=smt;Ft.getSettings=aye;Ft.getSynonym=Gmt;Ft.getTask=lye;Ft.getTopUserIDs=omt;Ft.getUserID=amt;Ft.hasPendingMappings=lmt;Ft.initIndex=Z2;Ft.listApiKeys=cmt;Ft.listClusters=umt;Ft.listIndices=Amt;Ft.listUserIDs=fmt;Ft.moveIndex=pmt;Ft.multipleBatch=hmt;Ft.multipleGetObjects=gmt;Ft.multipleQueries=dmt;Ft.multipleSearchForFacetValues=mmt;Ft.partialUpdateObject=Ymt;Ft.partialUpdateObjects=cye;Ft.removeUserID=ymt;Ft.replaceAllObjects=Wmt;Ft.replaceAllRules=Kmt;Ft.replaceAllSynonyms=Vmt;Ft.replaceDictionaryEntries=Emt;Ft.restoreApiKey=Cmt;Ft.saveDictionaryEntries=wmt;Ft.saveObject=Jmt;Ft.saveObjects=jH;Ft.saveRule=zmt;Ft.saveRules=GH;Ft.saveSynonym=Xmt;Ft.saveSynonyms=YH;Ft.search=uye;Ft.searchDictionaryEntries=Imt;Ft.searchForFacetValues=Aye;Ft.searchRules=fye;Ft.searchSynonyms=pye;Ft.searchUserIDs=Bmt;Ft.setDictionarySettings=vmt;Ft.setSettings=Zmt;Ft.updateApiKey=Dmt;Ft.waitAppTask=QC;Ft.waitTask=Zi});var dye=_((YWt,gye)=>{gye.exports=hye()});var mye=_(Pk=>{\"use strict\";Object.defineProperty(Pk,\"__esModule\",{value:!0});function ryt(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var nyt={Debug:1,Info:2,Error:3};Pk.LogLevelEnum=nyt;Pk.createNullLogger=ryt});var Eye=_((KWt,yye)=>{yye.exports=mye()});var Bye=_(WH=>{\"use strict\";Object.defineProperty(WH,\"__esModule\",{value:!0});var Cye=ve(\"http\"),wye=ve(\"https\"),iyt=ve(\"url\"),Iye={keepAlive:!0},syt=new Cye.Agent(Iye),oyt=new wye.Agent(Iye);function ayt({agent:t,httpAgent:e,httpsAgent:r,requesterOptions:o={}}={}){let a=e||t||syt,n=r||t||oyt;return{send(u){return new Promise(A=>{let p=iyt.parse(u.url),h=p.query===null?p.pathname:`${p.pathname}?${p.query}`,E={...o,agent:p.protocol===\"https:\"?n:a,hostname:p.hostname,path:h,method:u.method,headers:{...o&&o.headers?o.headers:{},...u.headers},...p.port!==void 0?{port:p.port||\"\"}:{}},I=(p.protocol===\"https:\"?wye:Cye).request(E,R=>{let L=[];R.on(\"data\",U=>{L=L.concat(U)}),R.on(\"end\",()=>{clearTimeout(x),clearTimeout(C),A({status:R.statusCode||0,content:Buffer.concat(L).toString(),isTimedOut:!1})})}),v=(R,L)=>setTimeout(()=>{I.abort(),A({status:0,content:L,isTimedOut:!0})},R*1e3),x=v(u.connectTimeout,\"Connection timeout\"),C;I.on(\"error\",R=>{clearTimeout(x),clearTimeout(C),A({status:0,content:R.message,isTimedOut:!1})}),I.once(\"response\",()=>{clearTimeout(x),C=v(u.responseTimeout,\"Socket timeout\")}),u.data!==void 0&&I.write(u.data),I.end()})},destroy(){return a.destroy(),n.destroy(),Promise.resolve()}}}WH.createNodeHttpRequester=ayt});var Dye=_((JWt,vye)=>{vye.exports=Bye()});var xye=_((zWt,bye)=>{\"use strict\";var Sye=Bme(),lyt=Sme(),FC=zme(),VH=Y2(),KH=eye(),Ut=dye(),cyt=Eye(),uyt=Dye(),Ayt=V2();function Pye(t,e,r){let o={appId:t,apiKey:e,timeouts:{connect:2,read:5,write:30},requester:uyt.createNodeHttpRequester(),logger:cyt.createNullLogger(),responsesCache:Sye.createNullCache(),requestsCache:Sye.createNullCache(),hostsCache:lyt.createInMemoryCache(),userAgent:Ayt.createUserAgent(VH.version).add({segment:\"Node.js\",version:process.versions.node})},a={...o,...r},n=()=>u=>KH.createPersonalizationClient({...o,...u,methods:{getPersonalizationStrategy:KH.getPersonalizationStrategy,setPersonalizationStrategy:KH.setPersonalizationStrategy}});return Ut.createSearchClient({...a,methods:{search:Ut.multipleQueries,searchForFacetValues:Ut.multipleSearchForFacetValues,multipleBatch:Ut.multipleBatch,multipleGetObjects:Ut.multipleGetObjects,multipleQueries:Ut.multipleQueries,copyIndex:Ut.copyIndex,copySettings:Ut.copySettings,copyRules:Ut.copyRules,copySynonyms:Ut.copySynonyms,moveIndex:Ut.moveIndex,listIndices:Ut.listIndices,getLogs:Ut.getLogs,listClusters:Ut.listClusters,multipleSearchForFacetValues:Ut.multipleSearchForFacetValues,getApiKey:Ut.getApiKey,addApiKey:Ut.addApiKey,listApiKeys:Ut.listApiKeys,updateApiKey:Ut.updateApiKey,deleteApiKey:Ut.deleteApiKey,restoreApiKey:Ut.restoreApiKey,assignUserID:Ut.assignUserID,assignUserIDs:Ut.assignUserIDs,getUserID:Ut.getUserID,searchUserIDs:Ut.searchUserIDs,listUserIDs:Ut.listUserIDs,getTopUserIDs:Ut.getTopUserIDs,removeUserID:Ut.removeUserID,hasPendingMappings:Ut.hasPendingMappings,generateSecuredApiKey:Ut.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:Ut.getSecuredApiKeyRemainingValidity,destroy:VH.destroy,clearDictionaryEntries:Ut.clearDictionaryEntries,deleteDictionaryEntries:Ut.deleteDictionaryEntries,getDictionarySettings:Ut.getDictionarySettings,getAppTask:Ut.getAppTask,replaceDictionaryEntries:Ut.replaceDictionaryEntries,saveDictionaryEntries:Ut.saveDictionaryEntries,searchDictionaryEntries:Ut.searchDictionaryEntries,setDictionarySettings:Ut.setDictionarySettings,waitAppTask:Ut.waitAppTask,customRequest:Ut.customRequest,initIndex:u=>A=>Ut.initIndex(u)(A,{methods:{batch:Ut.batch,delete:Ut.deleteIndex,findAnswers:Ut.findAnswers,getObject:Ut.getObject,getObjects:Ut.getObjects,saveObject:Ut.saveObject,saveObjects:Ut.saveObjects,search:Ut.search,searchForFacetValues:Ut.searchForFacetValues,waitTask:Ut.waitTask,setSettings:Ut.setSettings,getSettings:Ut.getSettings,partialUpdateObject:Ut.partialUpdateObject,partialUpdateObjects:Ut.partialUpdateObjects,deleteObject:Ut.deleteObject,deleteObjects:Ut.deleteObjects,deleteBy:Ut.deleteBy,clearObjects:Ut.clearObjects,browseObjects:Ut.browseObjects,getObjectPosition:Ut.getObjectPosition,findObject:Ut.findObject,exists:Ut.exists,saveSynonym:Ut.saveSynonym,saveSynonyms:Ut.saveSynonyms,getSynonym:Ut.getSynonym,searchSynonyms:Ut.searchSynonyms,browseSynonyms:Ut.browseSynonyms,deleteSynonym:Ut.deleteSynonym,clearSynonyms:Ut.clearSynonyms,replaceAllObjects:Ut.replaceAllObjects,replaceAllSynonyms:Ut.replaceAllSynonyms,searchRules:Ut.searchRules,getRule:Ut.getRule,deleteRule:Ut.deleteRule,saveRule:Ut.saveRule,saveRules:Ut.saveRules,replaceAllRules:Ut.replaceAllRules,browseRules:Ut.browseRules,clearRules:Ut.clearRules}}),initAnalytics:()=>u=>FC.createAnalyticsClient({...o,...u,methods:{addABTest:FC.addABTest,getABTest:FC.getABTest,getABTests:FC.getABTests,stopABTest:FC.stopABTest,deleteABTest:FC.deleteABTest}}),initPersonalization:n,initRecommendation:()=>u=>(a.logger.info(\"The `initRecommendation` method is deprecated. Use `initPersonalization` instead.\"),n()(u))}})}Pye.version=VH.version;bye.exports=Pye});var zH=_((XWt,JH)=>{var kye=xye();JH.exports=kye;JH.exports.default=kye});var $H=_(($Wt,Rye)=>{\"use strict\";var Fye=Object.getOwnPropertySymbols,pyt=Object.prototype.hasOwnProperty,hyt=Object.prototype.propertyIsEnumerable;function gyt(t){if(t==null)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}function dyt(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",Object.getOwnPropertyNames(t)[0]===\"5\")return!1;for(var e={},r=0;r<10;r++)e[\"_\"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(e).map(function(n){return e[n]});if(o.join(\"\")!==\"0123456789\")return!1;var a={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(n){a[n]=n}),Object.keys(Object.assign({},a)).join(\"\")===\"abcdefghijklmnopqrst\"}catch{return!1}}Rye.exports=dyt()?Object.assign:function(t,e){for(var r,o=gyt(t),a,n=1;n<arguments.length;n++){r=Object(arguments[n]);for(var u in r)pyt.call(r,u)&&(o[u]=r[u]);if(Fye){a=Fye(r);for(var A=0;A<a.length;A++)hyt.call(r,a[A])&&(o[a[A]]=r[a[A]])}}return o}});var Yye=_(Nn=>{\"use strict\";var i6=$H(),$c=typeof Symbol==\"function\"&&Symbol.for,$2=$c?Symbol.for(\"react.element\"):60103,myt=$c?Symbol.for(\"react.portal\"):60106,yyt=$c?Symbol.for(\"react.fragment\"):60107,Eyt=$c?Symbol.for(\"react.strict_mode\"):60108,Cyt=$c?Symbol.for(\"react.profiler\"):60114,wyt=$c?Symbol.for(\"react.provider\"):60109,Iyt=$c?Symbol.for(\"react.context\"):60110,Byt=$c?Symbol.for(\"react.forward_ref\"):60112,vyt=$c?Symbol.for(\"react.suspense\"):60113,Dyt=$c?Symbol.for(\"react.memo\"):60115,Syt=$c?Symbol.for(\"react.lazy\"):60116,Tye=typeof Symbol==\"function\"&&Symbol.iterator;function eB(t){for(var e=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+t,r=1;r<arguments.length;r++)e+=\"&args[]=\"+encodeURIComponent(arguments[r]);return\"Minified React error #\"+t+\"; visit \"+e+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var Nye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lye={};function RC(t,e,r){this.props=t,this.context=e,this.refs=Lye,this.updater=r||Nye}RC.prototype.isReactComponent={};RC.prototype.setState=function(t,e){if(typeof t!=\"object\"&&typeof t!=\"function\"&&t!=null)throw Error(eB(85));this.updater.enqueueSetState(this,t,e,\"setState\")};RC.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,\"forceUpdate\")};function Oye(){}Oye.prototype=RC.prototype;function s6(t,e,r){this.props=t,this.context=e,this.refs=Lye,this.updater=r||Nye}var o6=s6.prototype=new Oye;o6.constructor=s6;i6(o6,RC.prototype);o6.isPureReactComponent=!0;var a6={current:null},Mye=Object.prototype.hasOwnProperty,Uye={key:!0,ref:!0,__self:!0,__source:!0};function _ye(t,e,r){var o,a={},n=null,u=null;if(e!=null)for(o in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(n=\"\"+e.key),e)Mye.call(e,o)&&!Uye.hasOwnProperty(o)&&(a[o]=e[o]);var A=arguments.length-2;if(A===1)a.children=r;else if(1<A){for(var p=Array(A),h=0;h<A;h++)p[h]=arguments[h+2];a.children=p}if(t&&t.defaultProps)for(o in A=t.defaultProps,A)a[o]===void 0&&(a[o]=A[o]);return{$$typeof:$2,type:t,key:n,ref:u,props:a,_owner:a6.current}}function Pyt(t,e){return{$$typeof:$2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l6(t){return typeof t==\"object\"&&t!==null&&t.$$typeof===$2}function byt(t){var e={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+t).replace(/[=:]/g,function(r){return e[r]})}var Hye=/\\/+/g,bk=[];function qye(t,e,r,o){if(bk.length){var a=bk.pop();return a.result=t,a.keyPrefix=e,a.func=r,a.context=o,a.count=0,a}return{result:t,keyPrefix:e,func:r,context:o,count:0}}function jye(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>bk.length&&bk.push(t)}function t6(t,e,r,o){var a=typeof t;(a===\"undefined\"||a===\"boolean\")&&(t=null);var n=!1;if(t===null)n=!0;else switch(a){case\"string\":case\"number\":n=!0;break;case\"object\":switch(t.$$typeof){case $2:case myt:n=!0}}if(n)return r(o,t,e===\"\"?\".\"+e6(t,0):e),1;if(n=0,e=e===\"\"?\".\":e+\":\",Array.isArray(t))for(var u=0;u<t.length;u++){a=t[u];var A=e+e6(a,u);n+=t6(a,A,r,o)}else if(t===null||typeof t!=\"object\"?A=null:(A=Tye&&t[Tye]||t[\"@@iterator\"],A=typeof A==\"function\"?A:null),typeof A==\"function\")for(t=A.call(t),u=0;!(a=t.next()).done;)a=a.value,A=e+e6(a,u++),n+=t6(a,A,r,o);else if(a===\"object\")throw r=\"\"+t,Error(eB(31,r===\"[object Object]\"?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":r,\"\"));return n}function r6(t,e,r){return t==null?0:t6(t,\"\",e,r)}function e6(t,e){return typeof t==\"object\"&&t!==null&&t.key!=null?byt(t.key):e.toString(36)}function xyt(t,e){t.func.call(t.context,e,t.count++)}function kyt(t,e,r){var o=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?n6(t,o,r,function(n){return n}):t!=null&&(l6(t)&&(t=Pyt(t,a+(!t.key||e&&e.key===t.key?\"\":(\"\"+t.key).replace(Hye,\"$&/\")+\"/\")+r)),o.push(t))}function n6(t,e,r,o,a){var n=\"\";r!=null&&(n=(\"\"+r).replace(Hye,\"$&/\")+\"/\"),e=qye(e,n,o,a),r6(t,kyt,e),jye(e)}var Gye={current:null};function Xf(){var t=Gye.current;if(t===null)throw Error(eB(321));return t}var Qyt={ReactCurrentDispatcher:Gye,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:a6,IsSomeRendererActing:{current:!1},assign:i6};Nn.Children={map:function(t,e,r){if(t==null)return t;var o=[];return n6(t,o,null,e,r),o},forEach:function(t,e,r){if(t==null)return t;e=qye(null,null,e,r),r6(t,xyt,e),jye(e)},count:function(t){return r6(t,function(){return null},null)},toArray:function(t){var e=[];return n6(t,e,null,function(r){return r}),e},only:function(t){if(!l6(t))throw Error(eB(143));return t}};Nn.Component=RC;Nn.Fragment=yyt;Nn.Profiler=Cyt;Nn.PureComponent=s6;Nn.StrictMode=Eyt;Nn.Suspense=vyt;Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qyt;Nn.cloneElement=function(t,e,r){if(t==null)throw Error(eB(267,t));var o=i6({},t.props),a=t.key,n=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(n=e.ref,u=a6.current),e.key!==void 0&&(a=\"\"+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(p in e)Mye.call(e,p)&&!Uye.hasOwnProperty(p)&&(o[p]=e[p]===void 0&&A!==void 0?A[p]:e[p])}var p=arguments.length-2;if(p===1)o.children=r;else if(1<p){A=Array(p);for(var h=0;h<p;h++)A[h]=arguments[h+2];o.children=A}return{$$typeof:$2,type:t.type,key:a,ref:n,props:o,_owner:u}};Nn.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Iyt,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:wyt,_context:t},t.Consumer=t};Nn.createElement=_ye;Nn.createFactory=function(t){var e=_ye.bind(null,t);return e.type=t,e};Nn.createRef=function(){return{current:null}};Nn.forwardRef=function(t){return{$$typeof:Byt,render:t}};Nn.isValidElement=l6;Nn.lazy=function(t){return{$$typeof:Syt,_ctor:t,_status:-1,_result:null}};Nn.memo=function(t,e){return{$$typeof:Dyt,type:t,compare:e===void 0?null:e}};Nn.useCallback=function(t,e){return Xf().useCallback(t,e)};Nn.useContext=function(t,e){return Xf().useContext(t,e)};Nn.useDebugValue=function(){};Nn.useEffect=function(t,e){return Xf().useEffect(t,e)};Nn.useImperativeHandle=function(t,e,r){return Xf().useImperativeHandle(t,e,r)};Nn.useLayoutEffect=function(t,e){return Xf().useLayoutEffect(t,e)};Nn.useMemo=function(t,e){return Xf().useMemo(t,e)};Nn.useReducer=function(t,e,r){return Xf().useReducer(t,e,r)};Nn.useRef=function(t){return Xf().useRef(t)};Nn.useState=function(t){return Xf().useState(t)};Nn.version=\"16.13.1\"});var on=_((tKt,Wye)=>{\"use strict\";Wye.exports=Yye()});var u6=_((rKt,c6)=>{\"use strict\";var An=c6.exports;c6.exports.default=An;var Ln=\"\\x1B[\",tB=\"\\x1B]\",TC=\"\\x07\",xk=\";\",Kye=process.env.TERM_PROGRAM===\"Apple_Terminal\";An.cursorTo=(t,e)=>{if(typeof t!=\"number\")throw new TypeError(\"The `x` argument is required\");return typeof e!=\"number\"?Ln+(t+1)+\"G\":Ln+(e+1)+\";\"+(t+1)+\"H\"};An.cursorMove=(t,e)=>{if(typeof t!=\"number\")throw new TypeError(\"The `x` argument is required\");let r=\"\";return t<0?r+=Ln+-t+\"D\":t>0&&(r+=Ln+t+\"C\"),e<0?r+=Ln+-e+\"A\":e>0&&(r+=Ln+e+\"B\"),r};An.cursorUp=(t=1)=>Ln+t+\"A\";An.cursorDown=(t=1)=>Ln+t+\"B\";An.cursorForward=(t=1)=>Ln+t+\"C\";An.cursorBackward=(t=1)=>Ln+t+\"D\";An.cursorLeft=Ln+\"G\";An.cursorSavePosition=Kye?\"\\x1B7\":Ln+\"s\";An.cursorRestorePosition=Kye?\"\\x1B8\":Ln+\"u\";An.cursorGetPosition=Ln+\"6n\";An.cursorNextLine=Ln+\"E\";An.cursorPrevLine=Ln+\"F\";An.cursorHide=Ln+\"?25l\";An.cursorShow=Ln+\"?25h\";An.eraseLines=t=>{let e=\"\";for(let r=0;r<t;r++)e+=An.eraseLine+(r<t-1?An.cursorUp():\"\");return t&&(e+=An.cursorLeft),e};An.eraseEndLine=Ln+\"K\";An.eraseStartLine=Ln+\"1K\";An.eraseLine=Ln+\"2K\";An.eraseDown=Ln+\"J\";An.eraseUp=Ln+\"1J\";An.eraseScreen=Ln+\"2J\";An.scrollUp=Ln+\"S\";An.scrollDown=Ln+\"T\";An.clearScreen=\"\\x1Bc\";An.clearTerminal=process.platform===\"win32\"?`${An.eraseScreen}${Ln}0f`:`${An.eraseScreen}${Ln}3J${Ln}H`;An.beep=TC;An.link=(t,e)=>[tB,\"8\",xk,xk,e,TC,t,tB,\"8\",xk,xk,TC].join(\"\");An.image=(t,e={})=>{let r=`${tB}1337;File=inline=1`;return e.width&&(r+=`;width=${e.width}`),e.height&&(r+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(r+=\";preserveAspectRatio=0\"),r+\":\"+t.toString(\"base64\")+TC};An.iTerm={setCwd:(t=process.cwd())=>`${tB}50;CurrentDir=${t}${TC}`,annotation:(t,e={})=>{let r=`${tB}1337;`,o=typeof e.x<\"u\",a=typeof e.y<\"u\";if((o||a)&&!(o&&a&&typeof e.length<\"u\"))throw new Error(\"`x`, `y` and `length` must be defined when `x` or `y` is defined\");return t=t.replace(/\\|/g,\"\"),r+=e.isHidden?\"AddHiddenAnnotation=\":\"AddAnnotation=\",e.length>0?r+=(o?[t,e.length,e.x,e.y]:[e.length,t]).join(\"|\"):r+=t,r+TC}}});var Jye=_((nKt,A6)=>{\"use strict\";var Vye=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};A6.exports=Vye;A6.exports.default=Vye});var Xye=_((iKt,Qk)=>{\"use strict\";var Fyt=Jye(),kk=new WeakMap,zye=(t,e={})=>{if(typeof t!=\"function\")throw new TypeError(\"Expected a function\");let r,o=0,a=t.displayName||t.name||\"<anonymous>\",n=function(...u){if(kk.set(n,++o),o===1)r=t.apply(this,u),t=null;else if(e.throw===!0)throw new Error(`Function \\`${a}\\` can only be called once`);return r};return Fyt(n,t),kk.set(n,o),n};Qk.exports=zye;Qk.exports.default=zye;Qk.exports.callCount=t=>{if(!kk.has(t))throw new Error(`The given function \\`${t.name}\\` is not wrapped by the \\`onetime\\` package`);return kk.get(t)}});var Zye=_((sKt,Fk)=>{Fk.exports=[\"SIGABRT\",\"SIGALRM\",\"SIGHUP\",\"SIGINT\",\"SIGTERM\"];process.platform!==\"win32\"&&Fk.exports.push(\"SIGVTALRM\",\"SIGXCPU\",\"SIGXFSZ\",\"SIGUSR2\",\"SIGTRAP\",\"SIGSYS\",\"SIGQUIT\",\"SIGIOT\");process.platform===\"linux\"&&Fk.exports.push(\"SIGIO\",\"SIGPOLL\",\"SIGPWR\",\"SIGSTKFLT\",\"SIGUNUSED\")});var h6=_((oKt,OC)=>{var Ei=global.process,im=function(t){return t&&typeof t==\"object\"&&typeof t.removeListener==\"function\"&&typeof t.emit==\"function\"&&typeof t.reallyExit==\"function\"&&typeof t.listeners==\"function\"&&typeof t.kill==\"function\"&&typeof t.pid==\"number\"&&typeof t.on==\"function\"};im(Ei)?($ye=ve(\"assert\"),NC=Zye(),eEe=/^win/i.test(Ei.platform),rB=ve(\"events\"),typeof rB!=\"function\"&&(rB=rB.EventEmitter),Ei.__signal_exit_emitter__?Ts=Ei.__signal_exit_emitter__:(Ts=Ei.__signal_exit_emitter__=new rB,Ts.count=0,Ts.emitted={}),Ts.infinite||(Ts.setMaxListeners(1/0),Ts.infinite=!0),OC.exports=function(t,e){if(!im(global.process))return function(){};$ye.equal(typeof t,\"function\",\"a callback must be provided for exit handler\"),LC===!1&&f6();var r=\"exit\";e&&e.alwaysLast&&(r=\"afterexit\");var o=function(){Ts.removeListener(r,t),Ts.listeners(\"exit\").length===0&&Ts.listeners(\"afterexit\").length===0&&Rk()};return Ts.on(r,t),o},Rk=function(){!LC||!im(global.process)||(LC=!1,NC.forEach(function(e){try{Ei.removeListener(e,Tk[e])}catch{}}),Ei.emit=Nk,Ei.reallyExit=p6,Ts.count-=1)},OC.exports.unload=Rk,sm=function(e,r,o){Ts.emitted[e]||(Ts.emitted[e]=!0,Ts.emit(e,r,o))},Tk={},NC.forEach(function(t){Tk[t]=function(){if(!!im(global.process)){var r=Ei.listeners(t);r.length===Ts.count&&(Rk(),sm(\"exit\",null,t),sm(\"afterexit\",null,t),eEe&&t===\"SIGHUP\"&&(t=\"SIGINT\"),Ei.kill(Ei.pid,t))}}}),OC.exports.signals=function(){return NC},LC=!1,f6=function(){LC||!im(global.process)||(LC=!0,Ts.count+=1,NC=NC.filter(function(e){try{return Ei.on(e,Tk[e]),!0}catch{return!1}}),Ei.emit=rEe,Ei.reallyExit=tEe)},OC.exports.load=f6,p6=Ei.reallyExit,tEe=function(e){!im(global.process)||(Ei.exitCode=e||0,sm(\"exit\",Ei.exitCode,null),sm(\"afterexit\",Ei.exitCode,null),p6.call(Ei,Ei.exitCode))},Nk=Ei.emit,rEe=function(e,r){if(e===\"exit\"&&im(global.process)){r!==void 0&&(Ei.exitCode=r);var o=Nk.apply(this,arguments);return sm(\"exit\",Ei.exitCode,null),sm(\"afterexit\",Ei.exitCode,null),o}else return Nk.apply(this,arguments)}):OC.exports=function(){return function(){}};var $ye,NC,eEe,rB,Ts,Rk,sm,Tk,LC,f6,p6,tEe,Nk,rEe});var iEe=_((aKt,nEe)=>{\"use strict\";var Ryt=Xye(),Tyt=h6();nEe.exports=Ryt(()=>{Tyt(()=>{process.stderr.write(\"\\x1B[?25h\")},{alwaysLast:!0})})});var g6=_(MC=>{\"use strict\";var Nyt=iEe(),Lk=!1;MC.show=(t=process.stderr)=>{!t.isTTY||(Lk=!1,t.write(\"\\x1B[?25h\"))};MC.hide=(t=process.stderr)=>{!t.isTTY||(Nyt(),Lk=!0,t.write(\"\\x1B[?25l\"))};MC.toggle=(t,e)=>{t!==void 0&&(Lk=t),Lk?MC.show(e):MC.hide(e)}});var lEe=_(nB=>{\"use strict\";var aEe=nB&&nB.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nB,\"__esModule\",{value:!0});var sEe=aEe(u6()),oEe=aEe(g6()),Lyt=(t,{showCursor:e=!1}={})=>{let r=0,o=\"\",a=!1,n=u=>{!e&&!a&&(oEe.default.hide(),a=!0);let A=u+`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:287:`).length)};return n.clear=()=>{t.write(sEe.default.eraseLines(r)),o=\"\",r=0},n.done=()=>{o=\"\",r=0,e||(oEe.default.show(),a=!1)},n};nB.default={create:Lyt}});var cEe=_((uKt,Oyt)=>{Oyt.exports=[{name:\"AppVeyor\",constant:\"APPVEYOR\",env:\"APPVEYOR\",pr:\"APPVEYOR_PULL_REQUEST_NUMBER\"},{name:\"Azure Pipelines\",constant:\"AZURE_PIPELINES\",env:\"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI\",pr:\"SYSTEM_PULLREQUEST_PULLREQUESTID\"},{name:\"Bamboo\",constant:\"BAMBOO\",env:\"bamboo_planKey\"},{name:\"Bitbucket Pipelines\",constant:\"BITBUCKET\",env:\"BITBUCKET_COMMIT\",pr:\"BITBUCKET_PR_ID\"},{name:\"Bitrise\",constant:\"BITRISE\",env:\"BITRISE_IO\",pr:\"BITRISE_PULL_REQUEST\"},{name:\"Buddy\",constant:\"BUDDY\",env:\"BUDDY_WORKSPACE_ID\",pr:\"BUDDY_EXECUTION_PULL_REQUEST_ID\"},{name:\"Buildkite\",constant:\"BUILDKITE\",env:\"BUILDKITE\",pr:{env:\"BUILDKITE_PULL_REQUEST\",ne:\"false\"}},{name:\"CircleCI\",constant:\"CIRCLE\",env:\"CIRCLECI\",pr:\"CIRCLE_PULL_REQUEST\"},{name:\"Cirrus CI\",constant:\"CIRRUS\",env:\"CIRRUS_CI\",pr:\"CIRRUS_PR\"},{name:\"AWS CodeBuild\",constant:\"CODEBUILD\",env:\"CODEBUILD_BUILD_ARN\"},{name:\"Codeship\",constant:\"CODESHIP\",env:{CI_NAME:\"codeship\"}},{name:\"Drone\",constant:\"DRONE\",env:\"DRONE\",pr:{DRONE_BUILD_EVENT:\"pull_request\"}},{name:\"dsari\",constant:\"DSARI\",env:\"DSARI\"},{name:\"GitLab CI\",constant:\"GITLAB\",env:\"GITLAB_CI\"},{name:\"GoCD\",constant:\"GOCD\",env:\"GO_PIPELINE_LABEL\"},{name:\"Hudson\",constant:\"HUDSON\",env:\"HUDSON_URL\"},{name:\"Jenkins\",constant:\"JENKINS\",env:[\"JENKINS_URL\",\"BUILD_ID\"],pr:{any:[\"ghprbPullId\",\"CHANGE_ID\"]}},{name:\"Magnum CI\",constant:\"MAGNUM\",env:\"MAGNUM\"},{name:\"Netlify CI\",constant:\"NETLIFY\",env:\"NETLIFY_BUILD_BASE\",pr:{env:\"PULL_REQUEST\",ne:\"false\"}},{name:\"Sail CI\",constant:\"SAIL\",env:\"SAILCI\",pr:\"SAIL_PULL_REQUEST_NUMBER\"},{name:\"Semaphore\",constant:\"SEMAPHORE\",env:\"SEMAPHORE\",pr:\"PULL_REQUEST_NUMBER\"},{name:\"Shippable\",constant:\"SHIPPABLE\",env:\"SHIPPABLE\",pr:{IS_PULL_REQUEST:\"true\"}},{name:\"Solano CI\",constant:\"SOLANO\",env:\"TDDIUM\",pr:\"TDDIUM_PR_ID\"},{name:\"Strider CD\",constant:\"STRIDER\",env:\"STRIDER\"},{name:\"TaskCluster\",constant:\"TASKCLUSTER\",env:[\"TASK_ID\",\"RUN_ID\"]},{name:\"TeamCity\",constant:\"TEAMCITY\",env:\"TEAMCITY_VERSION\"},{name:\"Travis CI\",constant:\"TRAVIS\",env:\"TRAVIS\",pr:{env:\"TRAVIS_PULL_REQUEST\",ne:\"false\"}}]});var fEe=_(gl=>{\"use strict\";var AEe=cEe(),pA=process.env;Object.defineProperty(gl,\"_vendors\",{value:AEe.map(function(t){return t.constant})});gl.name=null;gl.isPR=null;AEe.forEach(function(t){var e=Array.isArray(t.env)?t.env:[t.env],r=e.every(function(o){return uEe(o)});if(gl[t.constant]=r,r)switch(gl.name=t.name,typeof t.pr){case\"string\":gl.isPR=!!pA[t.pr];break;case\"object\":\"env\"in t.pr?gl.isPR=t.pr.env in pA&&pA[t.pr.env]!==t.pr.ne:\"any\"in t.pr?gl.isPR=t.pr.any.some(function(o){return!!pA[o]}):gl.isPR=uEe(t.pr);break;default:gl.isPR=null}});gl.isCI=!!(pA.CI||pA.CONTINUOUS_INTEGRATION||pA.BUILD_NUMBER||pA.RUN_ID||gl.name);function uEe(t){return typeof t==\"string\"?!!pA[t]:Object.keys(t).every(function(e){return pA[e]===t[e]})}});var hEe=_((fKt,pEe)=>{\"use strict\";pEe.exports=fEe().isCI});var dEe=_((pKt,gEe)=>{\"use strict\";var Myt=t=>{let e=new Set;do for(let r of Reflect.ownKeys(t))e.add([t,r]);while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e};gEe.exports=(t,{include:e,exclude:r}={})=>{let o=a=>{let n=u=>typeof u==\"string\"?a===u:u.test(a);return e?e.some(n):r?!r.some(n):!0};for(let[a,n]of Myt(t.constructor.prototype)){if(n===\"constructor\"||!o(n))continue;let u=Reflect.getOwnPropertyDescriptor(a,n);u&&typeof u.value==\"function\"&&(t[n]=t[n].bind(t))}return t}});var BEe=_(kn=>{\"use strict\";Object.defineProperty(kn,\"__esModule\",{value:!0});var _C,oB,Hk,qk,I6;typeof window>\"u\"||typeof MessageChannel!=\"function\"?(UC=null,d6=null,m6=function(){if(UC!==null)try{var t=kn.unstable_now();UC(!0,t),UC=null}catch(e){throw setTimeout(m6,0),e}},mEe=Date.now(),kn.unstable_now=function(){return Date.now()-mEe},_C=function(t){UC!==null?setTimeout(_C,0,t):(UC=t,setTimeout(m6,0))},oB=function(t,e){d6=setTimeout(t,e)},Hk=function(){clearTimeout(d6)},qk=function(){return!1},I6=kn.unstable_forceFrameRate=function(){}):(Ok=window.performance,y6=window.Date,yEe=window.setTimeout,EEe=window.clearTimeout,typeof console<\"u\"&&(CEe=window.cancelAnimationFrame,typeof window.requestAnimationFrame!=\"function\"&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),typeof CEe!=\"function\"&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")),typeof Ok==\"object\"&&typeof Ok.now==\"function\"?kn.unstable_now=function(){return Ok.now()}:(wEe=y6.now(),kn.unstable_now=function(){return y6.now()-wEe}),iB=!1,sB=null,Mk=-1,E6=5,C6=0,qk=function(){return kn.unstable_now()>=C6},I6=function(){},kn.unstable_forceFrameRate=function(t){0>t||125<t?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):E6=0<t?Math.floor(1e3/t):5},w6=new MessageChannel,Uk=w6.port2,w6.port1.onmessage=function(){if(sB!==null){var t=kn.unstable_now();C6=t+E6;try{sB(!0,t)?Uk.postMessage(null):(iB=!1,sB=null)}catch(e){throw Uk.postMessage(null),e}}else iB=!1},_C=function(t){sB=t,iB||(iB=!0,Uk.postMessage(null))},oB=function(t,e){Mk=yEe(function(){t(kn.unstable_now())},e)},Hk=function(){EEe(Mk),Mk=-1});var UC,d6,m6,mEe,Ok,y6,yEe,EEe,CEe,wEe,iB,sB,Mk,E6,C6,w6,Uk;function B6(t,e){var r=t.length;t.push(e);e:for(;;){var o=Math.floor((r-1)/2),a=t[o];if(a!==void 0&&0<_k(a,e))t[o]=e,t[r]=a,r=o;else break e}}function nc(t){return t=t[0],t===void 0?null:t}function jk(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var o=0,a=t.length;o<a;){var n=2*(o+1)-1,u=t[n],A=n+1,p=t[A];if(u!==void 0&&0>_k(u,r))p!==void 0&&0>_k(p,u)?(t[o]=p,t[A]=r,o=A):(t[o]=u,t[n]=r,o=n);else if(p!==void 0&&0>_k(p,r))t[o]=p,t[A]=r,o=A;else break e}}return e}return null}function _k(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var eu=[],y0=[],Uyt=1,na=null,Lo=3,Gk=!1,om=!1,aB=!1;function Yk(t){for(var e=nc(y0);e!==null;){if(e.callback===null)jk(y0);else if(e.startTime<=t)jk(y0),e.sortIndex=e.expirationTime,B6(eu,e);else break;e=nc(y0)}}function v6(t){if(aB=!1,Yk(t),!om)if(nc(eu)!==null)om=!0,_C(D6);else{var e=nc(y0);e!==null&&oB(v6,e.startTime-t)}}function D6(t,e){om=!1,aB&&(aB=!1,Hk()),Gk=!0;var r=Lo;try{for(Yk(e),na=nc(eu);na!==null&&(!(na.expirationTime>e)||t&&!qk());){var o=na.callback;if(o!==null){na.callback=null,Lo=na.priorityLevel;var a=o(na.expirationTime<=e);e=kn.unstable_now(),typeof a==\"function\"?na.callback=a:na===nc(eu)&&jk(eu),Yk(e)}else jk(eu);na=nc(eu)}if(na!==null)var n=!0;else{var u=nc(y0);u!==null&&oB(v6,u.startTime-e),n=!1}return n}finally{na=null,Lo=r,Gk=!1}}function IEe(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var _yt=I6;kn.unstable_ImmediatePriority=1;kn.unstable_UserBlockingPriority=2;kn.unstable_NormalPriority=3;kn.unstable_IdlePriority=5;kn.unstable_LowPriority=4;kn.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Lo;Lo=t;try{return e()}finally{Lo=r}};kn.unstable_next=function(t){switch(Lo){case 1:case 2:case 3:var e=3;break;default:e=Lo}var r=Lo;Lo=e;try{return t()}finally{Lo=r}};kn.unstable_scheduleCallback=function(t,e,r){var o=kn.unstable_now();if(typeof r==\"object\"&&r!==null){var a=r.delay;a=typeof a==\"number\"&&0<a?o+a:o,r=typeof r.timeout==\"number\"?r.timeout:IEe(t)}else r=IEe(t),a=o;return r=a+r,t={id:Uyt++,callback:e,priorityLevel:t,startTime:a,expirationTime:r,sortIndex:-1},a>o?(t.sortIndex=a,B6(y0,t),nc(eu)===null&&t===nc(y0)&&(aB?Hk():aB=!0,oB(v6,a-o))):(t.sortIndex=r,B6(eu,t),om||Gk||(om=!0,_C(D6))),t};kn.unstable_cancelCallback=function(t){t.callback=null};kn.unstable_wrapCallback=function(t){var e=Lo;return function(){var r=Lo;Lo=e;try{return t.apply(this,arguments)}finally{Lo=r}}};kn.unstable_getCurrentPriorityLevel=function(){return Lo};kn.unstable_shouldYield=function(){var t=kn.unstable_now();Yk(t);var e=nc(eu);return e!==na&&na!==null&&e!==null&&e.callback!==null&&e.startTime<=t&&e.expirationTime<na.expirationTime||qk()};kn.unstable_requestPaint=_yt;kn.unstable_continueExecution=function(){om||Gk||(om=!0,_C(D6))};kn.unstable_pauseExecution=function(){};kn.unstable_getFirstCallbackNode=function(){return nc(eu)};kn.unstable_Profiling=null});var S6=_((gKt,vEe)=>{\"use strict\";vEe.exports=BEe()});var DEe=_((dKt,lB)=>{lB.exports=function t(e){\"use strict\";var r=$H(),o=on(),a=S6();function n(S){for(var D=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+S,T=1;T<arguments.length;T++)D+=\"&args[]=\"+encodeURIComponent(arguments[T]);return\"Minified React error #\"+S+\"; visit \"+D+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;u.hasOwnProperty(\"ReactCurrentDispatcher\")||(u.ReactCurrentDispatcher={current:null}),u.hasOwnProperty(\"ReactCurrentBatchConfig\")||(u.ReactCurrentBatchConfig={suspense:null});var A=typeof Symbol==\"function\"&&Symbol.for,p=A?Symbol.for(\"react.element\"):60103,h=A?Symbol.for(\"react.portal\"):60106,E=A?Symbol.for(\"react.fragment\"):60107,I=A?Symbol.for(\"react.strict_mode\"):60108,v=A?Symbol.for(\"react.profiler\"):60114,x=A?Symbol.for(\"react.provider\"):60109,C=A?Symbol.for(\"react.context\"):60110,R=A?Symbol.for(\"react.concurrent_mode\"):60111,L=A?Symbol.for(\"react.forward_ref\"):60112,U=A?Symbol.for(\"react.suspense\"):60113,J=A?Symbol.for(\"react.suspense_list\"):60120,te=A?Symbol.for(\"react.memo\"):60115,ae=A?Symbol.for(\"react.lazy\"):60116;A&&Symbol.for(\"react.fundamental\"),A&&Symbol.for(\"react.responder\"),A&&Symbol.for(\"react.scope\");var fe=typeof Symbol==\"function\"&&Symbol.iterator;function ce(S){return S===null||typeof S!=\"object\"?null:(S=fe&&S[fe]||S[\"@@iterator\"],typeof S==\"function\"?S:null)}function me(S){if(S._status===-1){S._status=0;var D=S._ctor;D=D(),S._result=D,D.then(function(T){S._status===0&&(T=T.default,S._status=1,S._result=T)},function(T){S._status===0&&(S._status=2,S._result=T)})}}function he(S){if(S==null)return null;if(typeof S==\"function\")return S.displayName||S.name||null;if(typeof S==\"string\")return S;switch(S){case E:return\"Fragment\";case h:return\"Portal\";case v:return\"Profiler\";case I:return\"StrictMode\";case U:return\"Suspense\";case J:return\"SuspenseList\"}if(typeof S==\"object\")switch(S.$$typeof){case C:return\"Context.Consumer\";case x:return\"Context.Provider\";case L:var D=S.render;return D=D.displayName||D.name||\"\",S.displayName||(D!==\"\"?\"ForwardRef(\"+D+\")\":\"ForwardRef\");case te:return he(S.type);case ae:if(S=S._status===1?S._result:null)return he(S)}return null}function Be(S){var D=S,T=S;if(S.alternate)for(;D.return;)D=D.return;else{S=D;do D=S,(D.effectTag&1026)!==0&&(T=D.return),S=D.return;while(S)}return D.tag===3?T:null}function we(S){if(Be(S)!==S)throw Error(n(188))}function g(S){var D=S.alternate;if(!D){if(D=Be(S),D===null)throw Error(n(188));return D!==S?null:S}for(var T=S,q=D;;){var Y=T.return;if(Y===null)break;var Ae=Y.alternate;if(Ae===null){if(q=Y.return,q!==null){T=q;continue}break}if(Y.child===Ae.child){for(Ae=Y.child;Ae;){if(Ae===T)return we(Y),S;if(Ae===q)return we(Y),D;Ae=Ae.sibling}throw Error(n(188))}if(T.return!==q.return)T=Y,q=Ae;else{for(var De=!1,vt=Y.child;vt;){if(vt===T){De=!0,T=Y,q=Ae;break}if(vt===q){De=!0,q=Y,T=Ae;break}vt=vt.sibling}if(!De){for(vt=Ae.child;vt;){if(vt===T){De=!0,T=Ae,q=Y;break}if(vt===q){De=!0,q=Ae,T=Y;break}vt=vt.sibling}if(!De)throw Error(n(189))}}if(T.alternate!==q)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?S:D}function Ee(S){if(S=g(S),!S)return null;for(var D=S;;){if(D.tag===5||D.tag===6)return D;if(D.child)D.child.return=D,D=D.child;else{if(D===S)break;for(;!D.sibling;){if(!D.return||D.return===S)return null;D=D.return}D.sibling.return=D.return,D=D.sibling}}return null}function Se(S){if(S=g(S),!S)return null;for(var D=S;;){if(D.tag===5||D.tag===6)return D;if(D.child&&D.tag!==4)D.child.return=D,D=D.child;else{if(D===S)break;for(;!D.sibling;){if(!D.return||D.return===S)return null;D=D.return}D.sibling.return=D.return,D=D.sibling}}return null}var le=e.getPublicInstance,ne=e.getRootHostContext,ee=e.getChildHostContext,Ie=e.prepareForCommit,Fe=e.resetAfterCommit,At=e.createInstance,H=e.appendInitialChild,at=e.finalizeInitialChildren,Re=e.prepareUpdate,ke=e.shouldSetTextContent,xe=e.shouldDeprioritizeSubtree,He=e.createTextInstance,Te=e.setTimeout,Je=e.clearTimeout,qe=e.noTimeout,b=e.isPrimaryRenderer,w=e.supportsMutation,P=e.supportsPersistence,y=e.supportsHydration,F=e.appendChild,z=e.appendChildToContainer,X=e.commitTextUpdate,Z=e.commitMount,ie=e.commitUpdate,Pe=e.insertBefore,Ne=e.insertInContainerBefore,ot=e.removeChild,dt=e.removeChildFromContainer,jt=e.resetTextContent,$t=e.hideInstance,bt=e.hideTextInstance,an=e.unhideInstance,Qr=e.unhideTextInstance,mr=e.cloneInstance,br=e.createContainerChildSet,Wr=e.appendChildToContainerChildSet,Kn=e.finalizeContainerChildren,Ns=e.replaceContainerChildren,Ti=e.cloneHiddenInstance,ps=e.cloneHiddenTextInstance,io=e.canHydrateInstance,Pi=e.canHydrateTextInstance,Ls=e.isSuspenseInstancePending,so=e.isSuspenseInstanceFallback,cc=e.getNextHydratableSibling,cu=e.getFirstHydratableChild,lp=e.hydrateInstance,cp=e.hydrateTextInstance,Os=e.getNextHydratableInstanceAfterSuspenseInstance,Dn=e.commitHydratedContainer,oo=e.commitHydratedSuspenseInstance,Ms=/^(.*)[\\\\\\/]/;function ml(S){var D=\"\";do{e:switch(S.tag){case 3:case 4:case 6:case 7:case 10:case 9:var T=\"\";break e;default:var q=S._debugOwner,Y=S._debugSource,Ae=he(S.type);T=null,q&&(T=he(q.type)),q=Ae,Ae=\"\",Y?Ae=\" (at \"+Y.fileName.replace(Ms,\"\")+\":\"+Y.lineNumber+\")\":T&&(Ae=\" (created by \"+T+\")\"),T=`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:291:`+Module.extraStackTrace()),demangleAll(t)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort(\"Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value \"+TOTAL_MEMORY+\", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 \")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||134217728;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr(\"TOTAL_MEMORY should be larger than TOTAL_STACK, was \"+TOTAL_MEMORY+\"! (TOTAL_STACK=\"+TOTAL_STACK+\")\"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw\"Runtime error: expected the system to be little-endian!\";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(t){for(;t.length>0;){var e=t.shift();if(typeof e==\"function\"){e();continue}var r=e.func;typeof r==\"number\"?e.arg===void 0?Module.dynCall_v(r):Module.dynCall_vi(r,e.arg):r(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun==\"function\"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for(typeof Module.postRun==\"function\"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}Module.addOnPreRun=addOnPreRun;function addOnInit(t){__ATINIT__.unshift(t)}Module.addOnInit=addOnInit;function addOnPreMain(t){__ATMAIN__.unshift(t)}Module.addOnPreMain=addOnPreMain;function addOnExit(t){__ATEXIT__.unshift(t)}Module.addOnExit=addOnExit;function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(t,e,r){var o=r>0?r:lengthBytesUTF8(t)+1,a=new Array(o),n=stringToUTF8Array(t,a,0,a.length);return e&&(a.length=n),a}Module.intArrayFromString=intArrayFromString;function intArrayToString(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];o>255&&(o&=255),e.push(String.fromCharCode(o))}return e.join(\"\")}Module.intArrayToString=intArrayToString;function writeStringToMemory(t,e,r){Runtime.warnOnce(\"writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!\");var o,a;r&&(a=e+lengthBytesUTF8(t),o=HEAP8[a]),stringToUTF8(t,e,1/0),r&&(HEAP8[a]=o)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(t,e){HEAP8.set(t,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(t,e,r){for(var o=0;o<t.length;++o)HEAP8[e++>>0]=t.charCodeAt(o);r||(HEAP8[e>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function t(e,r){var o=e>>>16,a=e&65535,n=r>>>16,u=r&65535;return a*u+(o*u+a*n<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(t){return froundBuffer[0]=t,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(t){t=t>>>0;for(var e=0;e<32;e++)if(t&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(t,e,r,o,a,n,u,A){return _nbind.callbackSignatureList[t].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(t,e,r,o,a,n,u,A){return ASM_CONSTS[t](e,r,o,a,n,u,A)}function _emscripten_asm_const_iiiii(t,e,r,o,a){return ASM_CONSTS[t](e,r,o,a)}function _emscripten_asm_const_iiidddddd(t,e,r,o,a,n,u,A,p){return ASM_CONSTS[t](e,r,o,a,n,u,A,p)}function _emscripten_asm_const_iiididi(t,e,r,o,a,n,u){return ASM_CONSTS[t](e,r,o,a,n,u)}function _emscripten_asm_const_iiii(t,e,r,o){return ASM_CONSTS[t](e,r,o)}function _emscripten_asm_const_iiiid(t,e,r,o,a){return ASM_CONSTS[t](e,r,o,a)}function _emscripten_asm_const_iiiiii(t,e,r,o,a,n){return ASM_CONSTS[t](e,r,o,a,n)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],\"i8\",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(t,e){__ATEXIT__.unshift({func:t,arg:e})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr(\"missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj\"),abort(-1)}function __decorate(t,e,r,o){var a=arguments.length,n=a<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,u;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")n=Reflect.decorate(t,e,r,o);else for(var A=t.length-1;A>=0;A--)(u=t[A])&&(n=(a<3?u(n):a>3?u(e,r,n):u(e,r))||n);return a>3&&n&&Object.defineProperty(e,r,n),n}function _defineHidden(t){return function(e,r){Object.defineProperty(e,r,{configurable:!1,enumerable:!1,value:t,writable:!0})}}var _nbind={};function __nbind_free_external(t){_nbind.externalList[t].dereference(t)}function __nbind_reference_external(t){_nbind.externalList[t].reference()}function _llvm_stackrestore(t){var e=_llvm_stacksave,r=e.LLVM_SAVEDSTACKS[t];e.LLVM_SAVEDSTACKS.splice(t,1),Runtime.stackRestore(r)}function __nbind_register_pool(t,e,r,o){_nbind.Pool.pageSize=t,_nbind.Pool.usedPtr=e/4,_nbind.Pool.rootPtr=r,_nbind.Pool.pagePtr=o/4,HEAP32[e/4]=16909060,HEAP8[e]==1&&(_nbind.bigEndian=!0),HEAP32[e/4]=0,_nbind.makeTypeKindTbl=(n={},n[1024]=_nbind.PrimitiveType,n[64]=_nbind.Int64Type,n[2048]=_nbind.BindClass,n[3072]=_nbind.BindClassPtr,n[4096]=_nbind.SharedClassPtr,n[5120]=_nbind.ArrayType,n[6144]=_nbind.ArrayType,n[7168]=_nbind.CStringType,n[9216]=_nbind.CallbackType,n[10240]=_nbind.BindType,n),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,\"cbFunction &\":_nbind.CallbackType,\"const cbFunction &\":_nbind.CallbackType,\"const std::string &\":_nbind.StringType,\"std::string\":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var a=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:\"\"});a.proto=Module,_nbind.BindClass.list.push(a);var n}function _emscripten_set_main_loop_timing(t,e){if(Browser.mainLoop.timingMode=t,Browser.mainLoop.timingValue=e,!Browser.mainLoop.func)return 1;if(t==0)Browser.mainLoop.scheduler=function(){var u=Math.max(0,Browser.mainLoop.tickStartTime+e-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,u)},Browser.mainLoop.method=\"timeout\";else if(t==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method=\"rAF\";else if(t==2){if(!window.setImmediate){let n=function(u){u.source===window&&u.data===o&&(u.stopPropagation(),r.shift()())};var a=n,r=[],o=\"setimmediate\";window.addEventListener(\"message\",n,!0),window.setImmediate=function(A){r.push(A),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(A),window.postMessage({target:o})):window.postMessage(o,\"*\")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method=\"immediate\"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(t,e,r,o,a){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,\"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.\"),Browser.mainLoop.func=t,Browser.mainLoop.arg=o;var n;typeof o<\"u\"?n=function(){Module.dynCall_vi(t,o)}:n=function(){Module.dynCall_v(t)};var u=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var p=Date.now(),h=Browser.mainLoop.queue.shift();if(h.func(h.arg),Browser.mainLoop.remainingBlockers){var E=Browser.mainLoop.remainingBlockers,I=E%1==0?E-1:Math.floor(E);h.counted?Browser.mainLoop.remainingBlockers=I:(I=I+.5,Browser.mainLoop.remainingBlockers=(8*E+I)/9)}if(console.log('main loop blocker \"'+h.name+'\" took '+(Date.now()-p)+\" ms\"),Browser.mainLoop.updateStatus(),u<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(!(u<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method===\"timeout\"&&Module.ctx&&(Module.printErr(\"Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!\"),Browser.mainLoop.method=\"\"),Browser.mainLoop.runIter(n),!(u<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL==\"object\"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},a||(e&&e>0?_emscripten_set_main_loop_timing(0,1e3/e):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),r)throw\"SimulateInfiniteLoop\"}var Browser={mainLoop:{scheduler:null,method:\"\",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var t=Browser.mainLoop.timingMode,e=Browser.mainLoop.timingValue,r=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(r,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(t,e),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var t=Module.statusMessage||\"Please wait...\",e=Browser.mainLoop.remainingBlockers,r=Browser.mainLoop.expectedBlockers;e?e<r?Module.setStatus(t+\" (\"+(r-e)+\"/\"+r+\")\"):Module.setStatus(t):Module.setStatus(\"\")}},runIter:function(t){if(!ABORT){if(Module.preMainLoop){var e=Module.preMainLoop();if(e===!1)return}try{t()}catch(r){if(r instanceof ExitStatus)return;throw r&&typeof r==\"object\"&&r.stack&&Module.printErr(\"exception thrown: \"+[r,r.stack]),r}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log(\"warning: no blob constructor, cannot create blobs with mimetypes\")}Browser.BlobBuilder=typeof MozBlobBuilder<\"u\"?MozBlobBuilder:typeof WebKitBlobBuilder<\"u\"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log(\"warning: no BlobBuilder\"),Browser.URLObject=typeof window<\"u\"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>\"u\"&&(console.log(\"warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.\"),Module.noImageDecoding=!0);var t={};t.canHandle=function(n){return!Module.noImageDecoding&&/\\.(jpg|jpeg|png|bmp)$/i.test(n)},t.handle=function(n,u,A,p){var h=null;if(Browser.hasBlobConstructor)try{h=new Blob([n],{type:Browser.getMimetype(u)}),h.size!==n.length&&(h=new Blob([new Uint8Array(n).buffer],{type:Browser.getMimetype(u)}))}catch(x){Runtime.warnOnce(\"Blob constructor present but fails: \"+x+\"; falling back to blob builder\")}if(!h){var E=new Browser.BlobBuilder;E.append(new Uint8Array(n).buffer),h=E.getBlob()}var I=Browser.URLObject.createObjectURL(h),v=new Image;v.onload=function(){assert(v.complete,\"Image \"+u+\" could not be decoded\");var C=document.createElement(\"canvas\");C.width=v.width,C.height=v.height;var R=C.getContext(\"2d\");R.drawImage(v,0,0),Module.preloadedImages[u]=C,Browser.URLObject.revokeObjectURL(I),A&&A(n)},v.onerror=function(C){console.log(\"Image \"+I+\" could not be decoded\"),p&&p()},v.src=I},Module.preloadPlugins.push(t);var e={};e.canHandle=function(n){return!Module.noAudioDecoding&&n.substr(-4)in{\".ogg\":1,\".wav\":1,\".mp3\":1}},e.handle=function(n,u,A,p){var h=!1;function E(R){h||(h=!0,Module.preloadedAudios[u]=R,A&&A(n))}function I(){h||(h=!0,Module.preloadedAudios[u]=new Audio,p&&p())}if(Browser.hasBlobConstructor){try{var v=new Blob([n],{type:Browser.getMimetype(u)})}catch{return I()}var x=Browser.URLObject.createObjectURL(v),C=new Audio;C.addEventListener(\"canplaythrough\",function(){E(C)},!1),C.onerror=function(L){if(h)return;console.log(\"warning: browser could not fully decode audio \"+u+\", trying slower base64 approach\");function U(J){for(var te=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",ae=\"=\",fe=\"\",ce=0,me=0,he=0;he<J.length;he++)for(ce=ce<<8|J[he],me+=8;me>=6;){var Be=ce>>me-6&63;me-=6,fe+=te[Be]}return me==2?(fe+=te[(ce&3)<<4],fe+=ae+ae):me==4&&(fe+=te[(ce&15)<<2],fe+=ae),fe}C.src=\"data:audio/x-\"+u.substr(-3)+\";base64,\"+U(n),E(C)},C.src=x,Browser.safeSetTimeout(function(){E(C)},1e4)}else return I()},Module.preloadPlugins.push(e);function r(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var o=Module.canvas;o&&(o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock||o.msRequestPointerLock||function(){},o.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},o.exitPointerLock=o.exitPointerLock.bind(document),document.addEventListener(\"pointerlockchange\",r,!1),document.addEventListener(\"mozpointerlockchange\",r,!1),document.addEventListener(\"webkitpointerlockchange\",r,!1),document.addEventListener(\"mspointerlockchange\",r,!1),Module.elementPointerLock&&o.addEventListener(\"click\",function(a){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),a.preventDefault())},!1))},createContext:function(t,e,r,o){if(e&&Module.ctx&&t==Module.canvas)return Module.ctx;var a,n;if(e){var u={antialias:!1,alpha:!1};if(o)for(var A in o)u[A]=o[A];n=GL.createContext(t,u),n&&(a=GL.getContext(n).GLctx)}else a=t.getContext(\"2d\");return a?(r&&(e||assert(typeof GLctx>\"u\",\"cannot set in module if GLctx is used, but we are a non-GL context that would replace it\"),Module.ctx=a,e&&GL.makeContextCurrent(n),Module.useWebGL=e,Browser.moduleContextCreatedCallbacks.forEach(function(p){p()}),Browser.init()),a):null},destroyContext:function(t,e,r){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(t,e,r){Browser.lockPointer=t,Browser.resizeCanvas=e,Browser.vrDevice=r,typeof Browser.lockPointer>\"u\"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>\"u\"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>\"u\"&&(Browser.vrDevice=null);var o=Module.canvas;function a(){Browser.isFullscreen=!1;var u=o.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===u?(o.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},o.exitFullscreen=o.exitFullscreen.bind(document),Browser.lockPointer&&o.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(u.parentNode.insertBefore(o,u),u.parentNode.removeChild(u),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(o)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener(\"fullscreenchange\",a,!1),document.addEventListener(\"mozfullscreenchange\",a,!1),document.addEventListener(\"webkitfullscreenchange\",a,!1),document.addEventListener(\"MSFullscreenChange\",a,!1));var n=document.createElement(\"div\");o.parentNode.insertBefore(n,o),n.appendChild(o),n.requestFullscreen=n.requestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullscreen?function(){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?n.requestFullscreen({vrDisplay:r}):n.requestFullscreen()},requestFullScreen:function(t,e,r){return Module.printErr(\"Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead.\"),Browser.requestFullScreen=function(o,a,n){return Browser.requestFullscreen(o,a,n)},Browser.requestFullscreen(t,e,r)},nextRAF:0,fakeRequestAnimationFrame:function(t){var e=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=e+1e3/60;else for(;e+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var r=Math.max(Browser.nextRAF-e,0);setTimeout(t,r)},requestAnimationFrame:function t(e){typeof window>\"u\"?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(t){return function(){if(!ABORT)return t.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var t=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],t.forEach(function(e){e()})}},safeRequestAnimationFrame:function(t){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t))})},safeSetTimeout:function(t,e){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t))},e)},safeSetInterval:function(t,e){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&t()},e)},getMimetype:function(t){return{jpg:\"image/jpeg\",jpeg:\"image/jpeg\",png:\"image/png\",bmp:\"image/bmp\",ogg:\"audio/ogg\",wav:\"audio/wav\",mp3:\"audio/mpeg\"}[t.substr(t.lastIndexOf(\".\")+1)]},getUserMedia:function(t){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(t)},getMovementX:function(t){return t.movementX||t.mozMovementX||t.webkitMovementX||0},getMovementY:function(t){return t.movementY||t.mozMovementY||t.webkitMovementY||0},getMouseWheelDelta:function(t){var e=0;switch(t.type){case\"DOMMouseScroll\":e=t.detail;break;case\"mousewheel\":e=t.wheelDelta;break;case\"wheel\":e=t.deltaY;break;default:throw\"unrecognized mouse wheel event: \"+t.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(t){if(Browser.pointerLock)t.type!=\"mousemove\"&&\"mozMovementX\"in t?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(t),Browser.mouseMovementY=Browser.getMovementY(t)),typeof SDL<\"u\"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var e=Module.canvas.getBoundingClientRect(),r=Module.canvas.width,o=Module.canvas.height,a=typeof window.scrollX<\"u\"?window.scrollX:window.pageXOffset,n=typeof window.scrollY<\"u\"?window.scrollY:window.pageYOffset;if(t.type===\"touchstart\"||t.type===\"touchend\"||t.type===\"touchmove\"){var u=t.touch;if(u===void 0)return;var A=u.pageX-(a+e.left),p=u.pageY-(n+e.top);A=A*(r/e.width),p=p*(o/e.height);var h={x:A,y:p};if(t.type===\"touchstart\")Browser.lastTouches[u.identifier]=h,Browser.touches[u.identifier]=h;else if(t.type===\"touchend\"||t.type===\"touchmove\"){var E=Browser.touches[u.identifier];E||(E=h),Browser.lastTouches[u.identifier]=E,Browser.touches[u.identifier]=h}return}var I=t.pageX-(a+e.left),v=t.pageY-(n+e.top);I=I*(r/e.width),v=v*(o/e.height),Browser.mouseMovementX=I-Browser.mouseX,Browser.mouseMovementY=v-Browser.mouseY,Browser.mouseX=I,Browser.mouseY=v}},asyncLoad:function(t,e,r,o){var a=o?\"\":\"al \"+t;Module.readAsync(t,function(n){assert(n,'Loading data file \"'+t+'\" failed (no arrayBuffer).'),e(new Uint8Array(n)),a&&removeRunDependency(a)},function(n){if(r)r();else throw'Loading data file \"'+t+'\" failed.'}),a&&addRunDependency(a)},resizeListeners:[],updateResizeListeners:function(){var t=Module.canvas;Browser.resizeListeners.forEach(function(e){e(t.width,t.height)})},setCanvasSize:function(t,e,r){var o=Module.canvas;Browser.updateCanvasDimensions(o,t,e),r||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<\"u\"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<\"u\"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},updateCanvasDimensions:function(t,e,r){e&&r?(t.widthNative=e,t.heightNative=r):(e=t.widthNative,r=t.heightNative);var o=e,a=r;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(o/a<Module.forcedAspectRatio?o=Math.round(a*Module.forcedAspectRatio):a=Math.round(o/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&typeof screen<\"u\"){var n=Math.min(screen.width/o,screen.height/a);o=Math.round(o*n),a=Math.round(a*n)}Browser.resizeCanvas?(t.width!=o&&(t.width=o),t.height!=a&&(t.height=a),typeof t.style<\"u\"&&(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\"))):(t.width!=e&&(t.width=e),t.height!=r&&(t.height=r),typeof t.style<\"u\"&&(o!=e||a!=r?(t.style.setProperty(\"width\",o+\"px\",\"important\"),t.style.setProperty(\"height\",a+\"px\",\"important\")):(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var t=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,t}},SYSCALLS={varargs:0,get:function(t){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var t=Pointer_stringify(SYSCALLS.get());return t},get64:function(){var t=SYSCALLS.get(),e=SYSCALLS.get();return t>=0?assert(e===0):assert(e===-1),t},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(o){return(typeof FS>\"u\"||!(o instanceof FS.ErrnoError))&&abort(o),-o.errno}}function ___syscall54(t,e){SYSCALLS.varargs=e;try{return 0}catch(r){return(typeof FS>\"u\"||!(r instanceof FS.ErrnoError))&&abort(r),-r.errno}}function _typeModule(t){var e=[[0,1,\"X\"],[1,1,\"const X\"],[128,1,\"X *\"],[256,1,\"X &\"],[384,1,\"X &&\"],[512,1,\"std::shared_ptr<X>\"],[640,1,\"std::unique_ptr<X>\"],[5120,1,\"std::vector<X>\"],[6144,2,\"std::array<X, Y>\"],[9216,-1,\"std::function<X (Y)>\"]];function r(p,h,E,I,v,x){if(h==1){var C=I&896;(C==128||C==256||C==384)&&(p=\"X const\")}var R;return x?R=E.replace(\"X\",p).replace(\"Y\",v):R=p.replace(\"X\",E).replace(\"Y\",v),R.replace(/([*&]) (?=[*&])/g,\"$1\")}function o(p,h,E,I,v){throw new Error(p+\" type \"+E.replace(\"X\",h+\"?\")+(I?\" with flag \"+I:\"\")+\" in \"+v)}function a(p,h,E,I,v,x,C,R){x===void 0&&(x=\"X\"),R===void 0&&(R=1);var L=E(p);if(L)return L;var U=I(p),J=U.placeholderFlag,te=e[J];C&&te&&(x=r(C[2],C[0],x,te[0],\"?\",!0));var ae;J==0&&(ae=\"Unbound\"),J>=10&&(ae=\"Corrupt\"),R>20&&(ae=\"Deeply nested\"),ae&&o(ae,p,x,J,v||\"?\");var fe=U.paramList[0],ce=a(fe,h,E,I,v,x,te,R+1),me,he={flags:te[0],id:p,name:\"\",paramList:[ce]},Be=[],we=\"?\";switch(U.placeholderFlag){case 1:me=ce.spec;break;case 2:if((ce.flags&15360)==1024&&ce.spec.ptrSize==1){he.flags=7168;break}case 3:case 6:case 5:me=ce.spec,ce.flags&15360;break;case 8:we=\"\"+U.paramList[1],he.paramList.push(U.paramList[1]);break;case 9:for(var g=0,Ee=U.paramList[1];g<Ee.length;g++){var Se=Ee[g],le=a(Se,h,E,I,v,x,te,R+1);Be.push(le.name),he.paramList.push(le)}we=Be.join(\", \");break;default:break}if(he.name=r(te[2],te[0],ce.name,ce.flags,we),me){for(var ne=0,ee=Object.keys(me);ne<ee.length;ne++){var Ie=ee[ne];he[Ie]=he[Ie]||me[Ie]}he.flags|=me.flags}return n(h,he)}function n(p,h){var E=h.flags,I=E&896,v=E&15360;return!h.name&&v==1024&&(h.ptrSize==1?h.name=(E&16?\"\":(E&8?\"un\":\"\")+\"signed \")+\"char\":h.name=(E&8?\"u\":\"\")+(E&32?\"float\":\"int\")+(h.ptrSize*8+\"_t\")),h.ptrSize==8&&!(E&32)&&(v=64),v==2048&&(I==512||I==640?v=4096:I&&(v=3072)),p(v,h)}var u=function(){function p(h){this.id=h.id,this.name=h.name,this.flags=h.flags,this.spec=h}return p.prototype.toString=function(){return this.name},p}(),A={Type:u,getComplexType:a,makeType:n,structureList:e};return t.output=A,t.output||A}function __nbind_register_type(t,e){var r=_nbind.readAsciiString(e),o={flags:10240,id:t,name:r};_nbind.makeType(_nbind.constructType,o)}function __nbind_register_callback_signature(t,e){var r=_nbind.readTypeIdList(t,e),o=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[o]=_nbind.makeJSCaller(r),o}function __extends(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o}function __nbind_register_class(t,e,r,o,a,n,u){var A=_nbind.readAsciiString(u),p=_nbind.readPolicyList(e),h=HEAPU32.subarray(t/4,t/4+2),E={flags:2048|(p.Value?2:0),id:h[0],name:A},I=_nbind.makeType(_nbind.constructType,E);I.ptrType=_nbind.getComplexType(h[1],_nbind.constructType,_nbind.getType,_nbind.queryType),I.destroy=_nbind.makeMethodCaller(I.ptrType,{boundID:E.id,flags:0,name:\"destroy\",num:0,ptr:n,title:I.name+\".free\",typeList:[\"void\",\"uint32_t\",\"uint32_t\"]}),a&&(I.superIdList=Array.prototype.slice.call(HEAPU32.subarray(r/4,r/4+a)),I.upcastList=Array.prototype.slice.call(HEAPU32.subarray(o/4,o/4+a))),Module[I.name]=I.makeBound(p),_nbind.BindClass.list.push(I)}function _removeAccessorPrefix(t){var e=/^[Gg]et_?([A-Z]?([A-Z]?))/;return t.replace(e,function(r,o,a){return a?o:o.toLowerCase()})}function __nbind_register_function(t,e,r,o,a,n,u,A,p,h){var E=_nbind.getType(t),I=_nbind.readPolicyList(e),v=_nbind.readTypeIdList(r,o),x;if(u==5)x=[{direct:a,name:\"__nbindConstructor\",ptr:0,title:E.name+\" constructor\",typeList:[\"uint32_t\"].concat(v.slice(1))},{direct:n,name:\"__nbindValueConstructor\",ptr:0,title:E.name+\" value constructor\",typeList:[\"void\",\"uint32_t\"].concat(v.slice(1))}];else{var C=_nbind.readAsciiString(A),R=(E.name&&E.name+\".\")+C;(u==3||u==4)&&(C=_removeAccessorPrefix(C)),x=[{boundID:t,direct:n,name:C,ptr:a,title:R,typeList:v}]}for(var L=0,U=x;L<U.length;L++){var J=U[L];J.signatureType=u,J.policyTbl=I,J.num=p,J.flags=h,E.addMethod(J)}}function _nbind_value(t,e){_nbind.typeNameTbl[t]||_nbind.throwError(\"Unknown value type \"+t),Module.NBind.bind_value(t,e),_defineHidden(_nbind.typeNameTbl[t].proto.prototype.__nbindValueConstructor)(e.prototype,\"__nbindValueConstructor\")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(t,e){var r=_nbind.popValue(t);if(!r.fromJS)throw new Error(\"Object \"+r+\" has no fromJS function\");r.fromJS(function(){r.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([e],arguments))})}function _emscripten_memcpy_big(t,e,r){return HEAPU8.set(HEAPU8.subarray(e,e+r),t),t}function __nbind_register_primitive(t,e,r){var o={flags:1024|r,id:t,ptrSize:e};_nbind.makeType(_nbind.constructType,o)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],\"i8\",ALLOC_STATIC);function ___setErrNo(t){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=t),t}function _llvm_stacksave(){var t=_llvm_stacksave;return t.LLVM_SAVEDSTACKS||(t.LLVM_SAVEDSTACKS=[]),t.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),t.LLVM_SAVEDSTACKS.length-1}function ___syscall140(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.getStreamFromFD(),o=SYSCALLS.get(),a=SYSCALLS.get(),n=SYSCALLS.get(),u=SYSCALLS.get(),A=a;return FS.llseek(r,A,u),HEAP32[n>>2]=r.position,r.getdents&&A===0&&u===0&&(r.getdents=null),0}catch(p){return(typeof FS>\"u\"||!(p instanceof FS.ErrnoError))&&abort(p),-p.errno}}function ___syscall146(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get(),n=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(E,I){var v=___syscall146.buffers[E];assert(v),I===0||I===10?((E===1?Module.print:Module.printErr)(UTF8ArrayToString(v,0)),v.length=0):v.push(I)});for(var u=0;u<a;u++){for(var A=HEAP32[o+u*8>>2],p=HEAP32[o+(u*8+4)>>2],h=0;h<p;h++)___syscall146.printChar(r,HEAPU8[A+h]);n+=p}return n}catch(E){return(typeof FS>\"u\"||!(E instanceof FS.ErrnoError))&&abort(E),-E.errno}}function __nbind_finish(){for(var t=0,e=_nbind.BindClass.list;t<e.length;t++){var r=e[t];r.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function t(){}return t.lalloc=function(e){e=e+7&-8;var r=HEAPU32[t.usedPtr];if(e>t.pageSize/2||e>t.pageSize-r){var o=_nbind.typeNameTbl.NBind.proto;return o.lalloc(e)}else return HEAPU32[t.usedPtr]=r+e,t.rootPtr+r},t.lreset=function(e,r){var o=HEAPU32[t.pagePtr];if(o){var a=_nbind.typeNameTbl.NBind.proto;a.lreset(e,r)}else HEAPU32[t.usedPtr]=e},t}();_nbind.Pool=Pool;function constructType(t,e){var r=t==10240?_nbind.makeTypeNameTbl[e.name]||_nbind.BindType:_nbind.makeTypeKindTbl[t],o=new r(e);return typeIdTbl[e.id]=o,_nbind.typeNameTbl[e.name]=o,o}_nbind.constructType=constructType;function getType(t){return typeIdTbl[t]}_nbind.getType=getType;function queryType(t){var e=HEAPU8[t],r=_nbind.structureList[e][1];t/=4,r<0&&(++t,r=HEAPU32[t]+1);var o=Array.prototype.slice.call(HEAPU32.subarray(t+1,t+1+r));return e==9&&(o=[o[0],o.slice(1)]),{paramList:o,placeholderFlag:e}}_nbind.queryType=queryType;function getTypes(t,e){return t.map(function(r){return typeof r==\"number\"?_nbind.getComplexType(r,constructType,getType,queryType,e):_nbind.typeNameTbl[r]})}_nbind.getTypes=getTypes;function readTypeIdList(t,e){return Array.prototype.slice.call(HEAPU32,t/4,t/4+e)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(t){for(var e=t;HEAPU8[e++];);return String.fromCharCode.apply(\"\",HEAPU8.subarray(t,e-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(t){var e={};if(t)for(;;){var r=HEAPU32[t/4];if(!r)break;e[readAsciiString(r)]=!0,t+=4}return e}_nbind.readPolicyList=readPolicyList;function getDynCall(t,e){var r={float32_t:\"d\",float64_t:\"d\",int64_t:\"d\",uint64_t:\"d\",void:\"v\"},o=t.map(function(n){return r[n.name]||\"i\"}).join(\"\"),a=Module[\"dynCall_\"+o];if(!a)throw new Error(\"dynCall_\"+o+\" not found for \"+e+\"(\"+t.map(function(n){return n.name}).join(\", \")+\")\");return a}_nbind.getDynCall=getDynCall;function addMethod(t,e,r,o){var a=t[e];t.hasOwnProperty(e)&&a?((a.arity||a.arity===0)&&(a=_nbind.makeOverloader(a,a.arity),t[e]=a),a.addMethod(r,o)):(r.arity=o,t[e]=r)}_nbind.addMethod=addMethod;function throwError(t){throw new Error(t)}_nbind.throwError=throwError,_nbind.bigEndian=!1,_a=_typeModule(_typeModule),_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.heap=HEAPU32,r.ptrSize=4,r}return e.prototype.needsWireRead=function(r){return!!this.wireRead||!!this.makeWireRead},e.prototype.needsWireWrite=function(r){return!!this.wireWrite||!!this.makeWireWrite},e}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this,a=r.flags&32?{32:HEAPF32,64:HEAPF64}:r.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return o.heap=a[r.ptrSize*8],o.ptrSize=r.ptrSize,o}return e.prototype.needsWireWrite=function(r){return!!r&&!!r.Strict},e.prototype.makeWireWrite=function(r,o){return o&&o.Strict&&function(a){if(typeof a==\"number\")return a;throw new Error(\"Type mismatch\")}},e}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(t,e){if(t==null){if(e&&e.Nullable)return 0;throw new Error(\"Type mismatch\")}if(e&&e.Strict){if(typeof t!=\"string\")throw new Error(\"Type mismatch\")}else t=t.toString();var r=Module.lengthBytesUTF8(t)+1,o=_nbind.Pool.lalloc(r);return Module.stringToUTF8Array(t,HEAPU8,o,r),o}_nbind.pushCString=pushCString;function popCString(t){return t===0?null:Module.Pointer_stringify(t)}_nbind.popCString=popCString;var CStringType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popCString,r.wireWrite=pushCString,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushCString(a,o)}},e}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=function(o){return!!o},r}return e.prototype.needsWireWrite=function(r){return!!r&&!!r.Strict},e.prototype.makeWireRead=function(r){return\"!!(\"+r+\")\"},e.prototype.makeWireWrite=function(r,o){return o&&o.Strict&&function(a){if(typeof a==\"boolean\")return a;throw new Error(\"Type mismatch\")}||r},e}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function t(){}return t.prototype.persist=function(){this.__nbindState|=1},t}();_nbind.Wrapper=Wrapper;function makeBound(t,e){var r=function(o){__extends(a,o);function a(n,u,A,p){var h=o.call(this)||this;if(!(h instanceof a))return new(Function.prototype.bind.apply(a,Array.prototype.concat.apply([null],arguments)));var E=u,I=A,v=p;if(n!==_nbind.ptrMarker){var x=h.__nbindConstructor.apply(h,arguments);E=4608,v=HEAPU32[x/4],I=HEAPU32[x/4+1]}var C={configurable:!0,enumerable:!1,value:null,writable:!1},R={__nbindFlags:E,__nbindPtr:I};v&&(R.__nbindShared=v,_nbind.mark(h));for(var L=0,U=Object.keys(R);L<U.length;L++){var J=U[L];C.value=R[J],Object.defineProperty(h,J,C)}return _defineHidden(0)(h,\"__nbindState\"),h}return a.prototype.free=function(){e.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,\"__nbindShared\"),disableMember(this,\"__nbindPtr\")},a}(Wrapper);return __decorate([_defineHidden()],r.prototype,\"__nbindConstructor\",void 0),__decorate([_defineHidden()],r.prototype,\"__nbindValueConstructor\",void 0),__decorate([_defineHidden(t)],r.prototype,\"__nbindPolicies\",void 0),r}_nbind.makeBound=makeBound;function disableMember(t,e){function r(){throw new Error(\"Accessing deleted object\")}Object.defineProperty(t,e,{configurable:!1,enumerable:!1,get:r,set:r})}_nbind.ptrMarker={};var BindClass=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;return o.wireRead=function(a){return _nbind.popValue(a,o.ptrType)},o.wireWrite=function(a){return pushPointer(a,o.ptrType,!0)},o.pendingSuperCount=0,o.ready=!1,o.methodTbl={},r.paramList?(o.classType=r.paramList[0].classType,o.proto=o.classType.proto):o.classType=o,o}return e.prototype.makeBound=function(r){var o=_nbind.makeBound(r,this);return this.proto=o,this.ptrType.proto=o,o},e.prototype.addMethod=function(r){var o=this.methodTbl[r.name]||[];o.push(r),this.methodTbl[r.name]=o},e.prototype.registerMethods=function(r,o){for(var a,n=0,u=Object.keys(r.methodTbl);n<u.length;n++)for(var A=u[n],p=r.methodTbl[A],h=0,E=p;h<E.length;h++){var I=E[h],v=void 0,x=void 0;if(v=this.proto.prototype,!(o&&I.signatureType!=1))switch(I.signatureType){case 1:v=this.proto;case 5:x=_nbind.makeCaller(I),_nbind.addMethod(v,I.name,x,I.typeList.length-1);break;case 4:a=_nbind.makeMethodCaller(r.ptrType,I);break;case 3:Object.defineProperty(v,I.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(r.ptrType,I),set:a});break;case 2:x=_nbind.makeMethodCaller(r.ptrType,I),_nbind.addMethod(v,I.name,x,I.typeList.length-1);break;default:break}}},e.prototype.registerSuperMethods=function(r,o,a){if(!a[r.name]){a[r.name]=!0;for(var n=0,u,A=0,p=r.superIdList||[];A<p.length;A++){var h=p[A],E=_nbind.getType(h);n++<o||o<0?u=-1:u=0,this.registerSuperMethods(E,u,a)}this.registerMethods(r,o<0)}},e.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(a){return _nbind.getType(a).finish()});var r=this.proto;if(this.superList.length){var o=function(){this.constructor=r};o.prototype=this.superList[0].proto.prototype,r.prototype=new o}return r!=Module&&(r.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},e.prototype.upcastStep=function(r,o){if(r==this)return o;for(var a=0;a<this.superList.length;++a){var n=this.superList[a].upcastStep(r,_nbind.callUpcast(this.upcastList[a],o));if(n)return n}return 0},e}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(t,e){return t?new e.proto(_nbind.ptrMarker,e.flags,t):null}_nbind.popPointer=popPointer;function pushPointer(t,e,r){if(!(t instanceof _nbind.Wrapper)){if(r)return _nbind.pushValue(t);throw new Error(\"Type mismatch\")}var o=t.__nbindPtr,a=t.__nbindType.classType,n=e.classType;if(t instanceof e.proto)for(;a!=n;)o=_nbind.callUpcast(a.upcastList[0],o),a=a.superList[0];else if(o=a.upcastStep(n,o),!o)throw new Error(\"Type mismatch\");return o}_nbind.pushPointer=pushPointer;function pushMutablePointer(t,e){var r=pushPointer(t,e);if(t.__nbindFlags&1)throw new Error(\"Passing a const value as a non-const argument\");return r}var BindClassPtr=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;o.classType=r.paramList[0].classType,o.proto=o.classType.proto;var a=r.flags&1,n=(o.flags&896)==256&&r.flags&2,u=a?pushPointer:pushMutablePointer,A=n?_nbind.popValue:popPointer;return o.makeWireWrite=function(p,h){return h.Nullable?function(E){return E?u(E,o):0}:function(E){return u(E,o)}},o.wireRead=function(p){return A(p,o)},o.wireWrite=function(p){return u(p,o)},o}return e}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(t,e){var r=HEAPU32[t/4],o=HEAPU32[t/4+1];return o?new e.proto(_nbind.ptrMarker,e.flags,o,r):null}_nbind.popShared=popShared;function pushShared(t,e){if(!(t instanceof e.proto))throw new Error(\"Type mismatch\");return t.__nbindShared}function pushMutableShared(t,e){if(!(t instanceof e.proto))throw new Error(\"Type mismatch\");if(t.__nbindFlags&1)throw new Error(\"Passing a const value as a non-const argument\");return t.__nbindShared}var SharedClassPtr=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;o.readResources=[_nbind.resources.pool],o.classType=r.paramList[0].classType,o.proto=o.classType.proto;var a=r.flags&1,n=a?pushShared:pushMutableShared;return o.wireRead=function(u){return popShared(u,o)},o.wireWrite=function(u){return n(u,o)},o}return e}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function t(e){this.refCount=1,this.data=e}return t.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},t.prototype.reference=function(){++this.refCount},t.prototype.dereference=function(e){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},t}();_nbind.External=External;function popExternal(t){var e=_nbind.externalList[t];return e.dereference(t),e.data}function pushExternal(t){var e=new External(t);return e.reference(),e.register()}var ExternalType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popExternal,r.wireWrite=pushExternal,r}return e}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=function(o){return typeof o!=\"function\"&&_nbind.throwError(\"Type mismatch\"),new _nbind.External(o).register()},r}return e}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(t){var e=firstFreeValue;return e?firstFreeValue=_nbind.valueList[e]:e=_nbind.valueList.length,_nbind.valueList[e]=t,e*2+1}_nbind.pushValue=pushValue;function popValue(t,e){if(t||_nbind.throwError(\"Value type JavaScript class is missing or not registered\"),t&1){t>>=1;var r=_nbind.valueList[t];return _nbind.valueList[t]=firstFreeValue,firstFreeValue=t,r}else{if(e)return _nbind.popShared(t,e);throw new Error(\"Invalid value slot \"+t)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(t){return typeof t==\"number\"?t:pushValue(t)*4096+valueBase}function pop64(t){return t<valueBase?t:popValue((t-valueBase)/4096)}var CreateValueType=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeWireWrite=function(r){return\"(_nbind.pushValue(new \"+r+\"))\"},e}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=push64,r.wireRead=pop64,r}return e}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(t,e){if(!t)return 0;var r=t.length;if((e.size||e.size===0)&&r<e.size)throw new Error(\"Type mismatch\");var o=e.memberType.ptrSize,a=_nbind.Pool.lalloc(4+r*o);HEAPU32[a/4]=r;var n=e.memberType.heap,u=(a+4)/o,A=e.memberType.wireWrite,p=0;if(A)for(;p<r;)n[u++]=A(t[p++]);else for(;p<r;)n[u++]=t[p++];return a}_nbind.pushArray=pushArray;function popArray(t,e){if(t===0)return null;var r=HEAPU32[t/4],o=new Array(r),a=e.memberType.heap;t=(t+4)/e.memberType.ptrSize;var n=e.memberType.wireRead,u=0;if(n)for(;u<r;)o[u++]=n(a[t++]);else for(;u<r;)o[u++]=a[t++];return o}_nbind.popArray=popArray;var ArrayType=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;return o.wireRead=function(a){return popArray(a,o)},o.wireWrite=function(a){return pushArray(a,o)},o.readResources=[_nbind.resources.pool],o.writeResources=[_nbind.resources.pool],o.memberType=r.paramList[0],r.paramList[1]&&(o.size=r.paramList[1]),o}return e}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(t,e){if(t==null)if(e&&e.Nullable)t=\"\";else throw new Error(\"Type mismatch\");if(e&&e.Strict){if(typeof t!=\"string\")throw new Error(\"Type mismatch\")}else t=t.toString();var r=Module.lengthBytesUTF8(t),o=_nbind.Pool.lalloc(4+r+1);return HEAPU32[o/4]=r,Module.stringToUTF8Array(t,HEAPU8,o+4,r+1),o}_nbind.pushString=pushString;function popString(t){if(t===0)return null;var e=HEAPU32[t/4];return Module.Pointer_stringify(t+4,e)}_nbind.popString=popString;var StringType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popString,r.wireWrite=pushString,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushString(a,o)}},e}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(t){return Array.apply(null,Array(t)).map(function(e,r){return\"a\"+(r+1)})}function anyNeedsWireWrite(t,e){return t.reduce(function(r,o){return r||o.needsWireWrite(e)},!1)}function anyNeedsWireRead(t,e){return t.reduce(function(r,o){return r||!!o.needsWireRead(e)},!1)}function makeWireRead(t,e,r,o){var a=t.length;return r.makeWireRead?r.makeWireRead(o,t,a):r.wireRead?(t[a]=r.wireRead,\"(convertParamList[\"+a+\"](\"+o+\"))\"):o}function makeWireWrite(t,e,r,o){var a,n=t.length;return r.makeWireWrite?a=r.makeWireWrite(o,e,t,n):a=r.wireWrite,a?typeof a==\"string\"?a:(t[n]=a,\"(convertParamList[\"+n+\"](\"+o+\"))\"):o}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,\"dynCall(\"+[prefix].concat(argList.map(function(t,e){return makeWireWrite(convertParamList,policyTbl,argTypeList[e],t)})).join(\",\")+\")\"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode=\"function(\"+argList.join(\",\")+\"){\"+(mask?\"this.__nbindFlags&mask&&err();\":\"\")+resourceSet.makeOpen()+\"var r=\"+callExpression+\";\"+resourceSet.makeClose()+\"return r;}\";return eval(\"(\"+sourceCode+\")\")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,\"_nbind.externalList[num].data(\"+argList.map(function(t,e){return makeWireRead(convertParamList,null,argTypeList[e],t)}).join(\",\")+\")\"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode=\"function(\"+[\"dummy\",\"num\"].concat(argList).join(\",\")+\"){\"+resourceSet.makeOpen()+\"var r=\"+callExpression+\";\"+resourceSet.makeClose()+\"return r;}\";return eval(\"(\"+sourceCode+\")\")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(t){var e=t.length-1,r=_nbind.getTypes(t,\"callback\"),o=r[0],a=r.slice(1),n=anyNeedsWireRead(a,null),u=o.needsWireWrite(null);if(!u&&!n)switch(e){case 0:return function(A,p){return _nbind.externalList[p].data()};case 1:return function(A,p,h){return _nbind.externalList[p].data(h)};case 2:return function(A,p,h,E){return _nbind.externalList[p].data(h,E)};case 3:return function(A,p,h,E,I){return _nbind.externalList[p].data(h,E,I)};default:break}return buildJSCallerFunction(o,a)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(t,e){var r=e.typeList.length-1,o=e.typeList.slice(0);o.splice(1,0,\"uint32_t\",e.boundID);var a=_nbind.getTypes(o,e.title),n=a[0],u=a.slice(3),A=n.needsWireRead(e.policyTbl),p=anyNeedsWireWrite(u,e.policyTbl),h=e.ptr,E=e.num,I=_nbind.getDynCall(a,e.title),v=~e.flags&1;function x(){throw new Error(\"Calling a non-const method on a const object\")}if(!A&&!p)switch(r){case 0:return function(){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t))};case 1:return function(C){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C)};case 2:return function(C,R){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C,R)};case 3:return function(C,R,L){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C,R,L)};default:break}return buildCallerFunction(I,t,h,E,e.policyTbl,p,\"ptr,num,pushPointer(this,ptrType)\",n,u,v,x)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(t){var e=t.typeList.length-1,r=_nbind.getTypes(t.typeList,t.title),o=r[0],a=r.slice(1),n=o.needsWireRead(t.policyTbl),u=anyNeedsWireWrite(a,t.policyTbl),A=t.direct,p=t.ptr;if(t.direct&&!n&&!u){var h=_nbind.getDynCall(r,t.title);switch(e){case 0:return function(){return h(A)};case 1:return function(x){return h(A,x)};case 2:return function(x,C){return h(A,x,C)};case 3:return function(x,C,R){return h(A,x,C,R)};default:break}p=0}var E;if(p){var I=t.typeList.slice(0);I.splice(1,0,\"uint32_t\"),r=_nbind.getTypes(I,t.title),E=\"ptr,num\"}else p=A,E=\"ptr\";var v=_nbind.getDynCall(r,t.title);return buildCallerFunction(v,null,p,t.num,t.policyTbl,u,E,o,a)}_nbind.makeCaller=makeCaller;function makeOverloader(t,e){var r=[];function o(){return r[arguments.length].apply(this,arguments)}return o.addMethod=function(a,n){r[n]=a},o.addMethod(t,e),o}_nbind.makeOverloader=makeOverloader;var Resource=function(){function t(e,r){var o=this;this.makeOpen=function(){return Object.keys(o.openTbl).join(\"\")},this.makeClose=function(){return Object.keys(o.closeTbl).join(\"\")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),r&&(this.closeTbl[r]=!0)}return t.prototype.add=function(e){for(var r=0,o=Object.keys(e.openTbl);r<o.length;r++){var a=o[r];this.openTbl[a]=!0}for(var n=0,u=Object.keys(e.closeTbl);n<u.length;n++){var a=u[n];this.closeTbl[a]=!0}},t.prototype.remove=function(e){for(var r=0,o=Object.keys(e.openTbl);r<o.length;r++){var a=o[r];delete this.openTbl[a]}for(var n=0,u=Object.keys(e.closeTbl);n<u.length;n++){var a=u[n];delete this.closeTbl[a]}},t}();_nbind.Resource=Resource;function listResources(t,e){for(var r=new Resource,o=0,a=t;o<a.length;o++)for(var n=a[o],u=0,A=n.readResources||[];u<A.length;u++){var p=A[u];r.add(p)}for(var h=0,E=e;h<E.length;h++)for(var n=E[h],I=0,v=n.writeResources||[];I<v.length;I++){var p=v[I];r.add(p)}return r}_nbind.listResources=listResources,_nbind.resources={pool:new Resource(\"var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];\",\"_nbind.Pool.lreset(used,page);\")};var ExternalBuffer=function(t){__extends(e,t);function e(r,o){var a=t.call(this,r)||this;return a.ptr=o,a}return e.prototype.free=function(){_free(this.ptr)},e}(_nbind.External);function getBuffer(t){return t instanceof ArrayBuffer?new Uint8Array(t):t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pushBuffer(t,e){if(t==null&&e&&e.Nullable&&(t=[]),typeof t!=\"object\")throw new Error(\"Type mismatch\");var r=t,o=r.byteLength||r.length;if(!o&&o!==0&&r.byteLength!==0)throw new Error(\"Type mismatch\");var a=_nbind.Pool.lalloc(8),n=_malloc(o),u=a/4;return HEAPU32[u++]=o,HEAPU32[u++]=n,HEAPU32[u++]=new ExternalBuffer(t,n).register(),HEAPU8.set(getBuffer(t),n),a}var BufferType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=pushBuffer,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushBuffer(a,o)}},e}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(t,e,r){var o=_nbind.externalList[t].data,a=Buffer;if(typeof Buffer!=\"function\"&&(a=function(){}),!(o instanceof Array)){var n=HEAPU8.subarray(e,e+r);if(o instanceof a){var u=void 0;typeof Buffer.from==\"function\"&&Buffer.from.length>=3?u=Buffer.from(n):u=new Buffer(n),u.copy(o)}else getBuffer(o).set(n)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var t=0,e=dirtyList;t<e.length;t++){var r=e[t];r.__nbindState&3||r.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(t){};function toggleLightGC(t){t?_nbind.mark=function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(e){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function t(e,r,o){Module.printErr(\"Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead.\"),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,r,o)},Module.requestFullscreen=function t(e,r,o){Browser.requestFullscreen(e,r,o)},Module.requestAnimationFrame=function t(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function t(e,r,o){Browser.setCanvasSize(e,r,o)},Module.pauseMainLoop=function t(){Browser.mainLoop.pause()},Module.resumeMainLoop=function t(){Browser.mainLoop.resume()},Module.getUserMedia=function t(){Browser.getUserMedia()},Module.createContext=function t(e,r,o,a){return Browser.createContext(e,r,o,a)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof dateNow<\"u\"?_emscripten_get_now=dateNow:typeof self==\"object\"&&self.performance&&typeof self.performance.now==\"function\"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance==\"object\"&&typeof performance.now==\"function\"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var t=Module._fflush;t&&t(0);var e=___syscall146.printChar;if(!!e){var r=___syscall146.buffers;r[1].length&&e(1,10),r[2].length&&e(2,10)}}),DYNAMICTOP_PTR=allocate(1,\"i32\",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(t,e,r,o,a,n){try{Module.dynCall_viiiii(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_vif(t,e,r){try{Module.dynCall_vif(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_vid(t,e,r){try{Module.dynCall_vid(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_fiff(t,e,r,o){try{return Module.dynCall_fiff(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_vi(t,e){try{Module.dynCall_vi(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_vii(t,e,r){try{Module.dynCall_vii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_ii(t,e){try{return Module.dynCall_ii(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_viddi(t,e,r,o,a){try{Module.dynCall_viddi(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}function invoke_vidd(t,e,r,o){try{Module.dynCall_vidd(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_iiii(t,e,r,o){try{return Module.dynCall_iiii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_diii(t,e,r,o){try{return Module.dynCall_diii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_di(t,e){try{return Module.dynCall_di(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_iid(t,e,r){try{return Module.dynCall_iid(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_iii(t,e,r){try{return Module.dynCall_iii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_viiddi(t,e,r,o,a,n){try{Module.dynCall_viiddi(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_viiiiii(t,e,r,o,a,n,u){try{Module.dynCall_viiiiii(t,e,r,o,a,n,u)}catch(A){if(typeof A!=\"number\"&&A!==\"longjmp\")throw A;Module.setThrew(1,0)}}function invoke_dii(t,e,r){try{return Module.dynCall_dii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_i(t){try{return Module.dynCall_i(t)}catch(e){if(typeof e!=\"number\"&&e!==\"longjmp\")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(t,e,r,o,a,n){try{return Module.dynCall_iiiiii(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_viiid(t,e,r,o,a){try{Module.dynCall_viiid(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}function invoke_viififi(t,e,r,o,a,n,u){try{Module.dynCall_viififi(t,e,r,o,a,n,u)}catch(A){if(typeof A!=\"number\"&&A!==\"longjmp\")throw A;Module.setThrew(1,0)}}function invoke_viii(t,e,r,o){try{Module.dynCall_viii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_v(t){try{Module.dynCall_v(t)}catch(e){if(typeof e!=\"number\"&&e!==\"longjmp\")throw e;Module.setThrew(1,0)}}function invoke_viid(t,e,r,o){try{Module.dynCall_viid(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_idd(t,e,r){try{return Module.dynCall_idd(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_viiii(t,e,r,o,a){try{Module.dynCall_viiii(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(t,e,r){var o=new t.Int8Array(r),a=new t.Int16Array(r),n=new t.Int32Array(r),u=new t.Uint8Array(r),A=new t.Uint16Array(r),p=new t.Uint32Array(r),h=new t.Float32Array(r),E=new t.Float64Array(r),I=e.DYNAMICTOP_PTR|0,v=e.tempDoublePtr|0,x=e.ABORT|0,C=e.STACKTOP|0,R=e.STACK_MAX|0,L=e.cttz_i8|0,U=e.___dso_handle|0,J=0,te=0,ae=0,fe=0,ce=t.NaN,me=t.Infinity,he=0,Be=0,we=0,g=0,Ee=0,Se=0,le=t.Math.floor,ne=t.Math.abs,ee=t.Math.sqrt,Ie=t.Math.pow,Fe=t.Math.cos,At=t.Math.sin,H=t.Math.tan,at=t.Math.acos,Re=t.Math.asin,ke=t.Math.atan,xe=t.Math.atan2,He=t.Math.exp,Te=t.Math.log,Je=t.Math.ceil,qe=t.Math.imul,b=t.Math.min,w=t.Math.max,P=t.Math.clz32,y=t.Math.fround,F=e.abort,z=e.assert,X=e.enlargeMemory,Z=e.getTotalMemory,ie=e.abortOnCannotGrowMemory,Pe=e.invoke_viiiii,Ne=e.invoke_vif,ot=e.invoke_vid,dt=e.invoke_fiff,jt=e.invoke_vi,$t=e.invoke_vii,bt=e.invoke_ii,an=e.invoke_viddi,Qr=e.invoke_vidd,mr=e.invoke_iiii,br=e.invoke_diii,Wr=e.invoke_di,Kn=e.invoke_iid,Ns=e.invoke_iii,Ti=e.invoke_viiddi,ps=e.invoke_viiiiii,io=e.invoke_dii,Pi=e.invoke_i,Ls=e.invoke_iiiiii,so=e.invoke_viiid,cc=e.invoke_viififi,cu=e.invoke_viii,lp=e.invoke_v,cp=e.invoke_viid,Os=e.invoke_idd,Dn=e.invoke_viiii,oo=e._emscripten_asm_const_iiiii,Ms=e._emscripten_asm_const_iiidddddd,ml=e._emscripten_asm_const_iiiid,yl=e.__nbind_reference_external,ao=e._emscripten_asm_const_iiiiiiii,Vn=e._removeAccessorPrefix,On=e._typeModule,Ni=e.__nbind_register_pool,Mn=e.__decorate,_i=e._llvm_stackrestore,tr=e.___cxa_atexit,Oe=e.__extends,ii=e.__nbind_get_value_object,Ma=e.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,hr=e._emscripten_set_main_loop_timing,uc=e.__nbind_register_primitive,uu=e.__nbind_register_type,Ac=e._emscripten_memcpy_big,El=e.__nbind_register_function,DA=e.___setErrNo,Au=e.__nbind_register_class,Ce=e.__nbind_finish,Rt=e._abort,fc=e._nbind_value,Hi=e._llvm_stacksave,fu=e.___syscall54,Yt=e._defineHidden,Cl=e._emscripten_set_main_loop,SA=e._emscripten_get_now,up=e.__nbind_register_callback_signature,pc=e._emscripten_asm_const_iiiiii,PA=e.__nbind_free_external,Qn=e._emscripten_asm_const_iiii,hi=e._emscripten_asm_const_iiididi,hc=e.___syscall6,bA=e._atexit,sa=e.___syscall140,Li=e.___syscall146,_o=y(0);let Ze=y(0);function lo(s){s=s|0;var l=0;return l=C,C=C+s|0,C=C+15&-16,l|0}function gc(){return C|0}function pu(s){s=s|0,C=s}function qi(s,l){s=s|0,l=l|0,C=s,R=l}function hu(s,l){s=s|0,l=l|0,J||(J=s,te=l)}function xA(s){s=s|0,Se=s}function Ua(){return Se|0}function dc(){var s=0,l=0;Dr(8104,8,400)|0,Dr(8504,408,540)|0,s=9044,l=s+44|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));o[9088]=0,o[9089]=1,n[2273]=0,n[2274]=948,n[2275]=948,tr(17,8104,U|0)|0}function hs(s){s=s|0,pt(s+948|0)}function _t(s){return s=y(s),((Du(s)|0)&2147483647)>>>0>2139095040|0}function Fn(s,l,c){s=s|0,l=l|0,c=c|0;e:do if(n[s+(l<<3)+4>>2]|0)s=s+(l<<3)|0;else{if((l|2|0)==3&&n[s+60>>2]|0){s=s+56|0;break}switch(l|0){case 0:case 2:case 4:case 5:{if(n[s+52>>2]|0){s=s+48|0;break e}break}default:}if(n[s+68>>2]|0){s=s+64|0;break}else{s=(l|1|0)==5?948:c;break}}while(0);return s|0}function Ci(s){s=s|0;var l=0;return l=pD(1e3)|0,oa(s,(l|0)!=0,2456),n[2276]=(n[2276]|0)+1,Dr(l|0,8104,1e3)|0,o[s+2>>0]|0&&(n[l+4>>2]=2,n[l+12>>2]=4),n[l+976>>2]=s,l|0}function oa(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;d=C,C=C+16|0,f=d,l||(n[f>>2]=c,Eg(s,5,3197,f)),C=d}function co(){return Ci(956)|0}function Us(s){s=s|0;var l=0;return l=Kt(1e3)|0,aa(l,s),oa(n[s+976>>2]|0,1,2456),n[2276]=(n[2276]|0)+1,n[l+944>>2]=0,l|0}function aa(s,l){s=s|0,l=l|0;var c=0;Dr(s|0,l|0,948)|0,Rm(s+948|0,l+948|0),c=s+960|0,s=l+960|0,l=c+40|0;do n[c>>2]=n[s>>2],c=c+4|0,s=s+4|0;while((c|0)<(l|0))}function la(s){s=s|0;var l=0,c=0,f=0,d=0;if(l=s+944|0,c=n[l>>2]|0,c|0&&(Ho(c+948|0,s)|0,n[l>>2]=0),c=wi(s)|0,c|0){l=0;do n[(gs(s,l)|0)+944>>2]=0,l=l+1|0;while((l|0)!=(c|0))}c=s+948|0,f=n[c>>2]|0,d=s+952|0,l=n[d>>2]|0,(l|0)!=(f|0)&&(n[d>>2]=l+(~((l+-4-f|0)>>>2)<<2)),ds(c),hD(s),n[2276]=(n[2276]|0)+-1}function Ho(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0;f=n[s>>2]|0,k=s+4|0,c=n[k>>2]|0,m=c;e:do if((f|0)==(c|0))d=f,B=4;else for(s=f;;){if((n[s>>2]|0)==(l|0)){d=s,B=4;break e}if(s=s+4|0,(s|0)==(c|0)){s=0;break}}while(0);return(B|0)==4&&((d|0)!=(c|0)?(f=d+4|0,s=m-f|0,l=s>>2,l&&(Mw(d|0,f|0,s|0)|0,c=n[k>>2]|0),s=d+(l<<2)|0,(c|0)==(s|0)||(n[k>>2]=c+(~((c+-4-s|0)>>>2)<<2)),s=1):s=0),s|0}function wi(s){return s=s|0,(n[s+952>>2]|0)-(n[s+948>>2]|0)>>2|0}function gs(s,l){s=s|0,l=l|0;var c=0;return c=n[s+948>>2]|0,(n[s+952>>2]|0)-c>>2>>>0>l>>>0?s=n[c+(l<<2)>>2]|0:s=0,s|0}function ds(s){s=s|0;var l=0,c=0,f=0,d=0;f=C,C=C+32|0,l=f,d=n[s>>2]|0,c=(n[s+4>>2]|0)-d|0,((n[s+8>>2]|0)-d|0)>>>0>c>>>0&&(d=c>>2,Ip(l,d,d,s+8|0),Bg(s,l),_A(l)),C=f}function ms(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;M=wi(s)|0;do if(M|0){if((n[(gs(s,0)|0)+944>>2]|0)==(s|0)){if(!(Ho(s+948|0,l)|0))break;Dr(l+400|0,8504,540)|0,n[l+944>>2]=0,Le(s);break}B=n[(n[s+976>>2]|0)+12>>2]|0,k=s+948|0,Q=(B|0)==0,c=0,m=0;do f=n[(n[k>>2]|0)+(m<<2)>>2]|0,(f|0)==(l|0)?Le(s):(d=Us(f)|0,n[(n[k>>2]|0)+(c<<2)>>2]=d,n[d+944>>2]=s,Q||TR[B&15](f,d,s,c),c=c+1|0),m=m+1|0;while((m|0)!=(M|0));if(c>>>0<M>>>0){Q=s+948|0,k=s+952|0,B=c,c=n[k>>2]|0;do m=(n[Q>>2]|0)+(B<<2)|0,f=m+4|0,d=c-f|0,l=d>>2,l&&(Mw(m|0,f|0,d|0)|0,c=n[k>>2]|0),d=c,f=m+(l<<2)|0,(d|0)!=(f|0)&&(c=d+(~((d+-4-f|0)>>>2)<<2)|0,n[k>>2]=c),B=B+1|0;while((B|0)!=(M|0))}}while(0)}function _s(s){s=s|0;var l=0,c=0,f=0,d=0;Un(s,(wi(s)|0)==0,2491),Un(s,(n[s+944>>2]|0)==0,2545),l=s+948|0,c=n[l>>2]|0,f=s+952|0,d=n[f>>2]|0,(d|0)!=(c|0)&&(n[f>>2]=d+(~((d+-4-c|0)>>>2)<<2)),ds(l),l=s+976|0,c=n[l>>2]|0,Dr(s|0,8104,1e3)|0,o[c+2>>0]|0&&(n[s+4>>2]=2,n[s+12>>2]=4),n[l>>2]=c}function Un(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;d=C,C=C+16|0,f=d,l||(n[f>>2]=c,Ao(s,5,3197,f)),C=d}function Sn(){return n[2276]|0}function ys(){var s=0;return s=pD(20)|0,We((s|0)!=0,2592),n[2277]=(n[2277]|0)+1,n[s>>2]=n[239],n[s+4>>2]=n[240],n[s+8>>2]=n[241],n[s+12>>2]=n[242],n[s+16>>2]=n[243],s|0}function We(s,l){s=s|0,l=l|0;var c=0,f=0;f=C,C=C+16|0,c=f,s||(n[c>>2]=l,Ao(0,5,3197,c)),C=f}function tt(s){s=s|0,hD(s),n[2277]=(n[2277]|0)+-1}function It(s,l){s=s|0,l=l|0;var c=0;l?(Un(s,(wi(s)|0)==0,2629),c=1):(c=0,l=0),n[s+964>>2]=l,n[s+988>>2]=c}function nr(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,m=f+8|0,d=f+4|0,B=f,n[d>>2]=l,Un(s,(n[l+944>>2]|0)==0,2709),Un(s,(n[s+964>>2]|0)==0,2763),$(s),l=s+948|0,n[B>>2]=(n[l>>2]|0)+(c<<2),n[m>>2]=n[B>>2],ye(l,m,d)|0,n[(n[d>>2]|0)+944>>2]=s,Le(s),C=f}function $(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;if(c=wi(s)|0,c|0&&(n[(gs(s,0)|0)+944>>2]|0)!=(s|0)){f=n[(n[s+976>>2]|0)+12>>2]|0,d=s+948|0,m=(f|0)==0,l=0;do B=n[(n[d>>2]|0)+(l<<2)>>2]|0,k=Us(B)|0,n[(n[d>>2]|0)+(l<<2)>>2]=k,n[k+944>>2]=s,m||TR[f&15](B,k,s,l),l=l+1|0;while((l|0)!=(c|0))}}function ye(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0;et=C,C=C+64|0,j=et+52|0,k=et+48|0,se=et+28|0,Ge=et+24|0,Me=et+20|0,Qe=et,f=n[s>>2]|0,m=f,l=f+((n[l>>2]|0)-m>>2<<2)|0,f=s+4|0,d=n[f>>2]|0,B=s+8|0;do if(d>>>0<(n[B>>2]|0)>>>0){if((l|0)==(d|0)){n[l>>2]=n[c>>2],n[f>>2]=(n[f>>2]|0)+4;break}HA(s,l,d,l+4|0),l>>>0<=c>>>0&&(c=(n[f>>2]|0)>>>0>c>>>0?c+4|0:c),n[l>>2]=n[c>>2]}else{f=(d-m>>2)+1|0,d=N(s)|0,d>>>0<f>>>0&&zr(s),O=n[s>>2]|0,M=(n[B>>2]|0)-O|0,m=M>>1,Ip(Qe,M>>2>>>0<d>>>1>>>0?m>>>0<f>>>0?f:m:d,l-O>>2,s+8|0),O=Qe+8|0,f=n[O>>2]|0,m=Qe+12|0,M=n[m>>2]|0,B=M,Q=f;do if((f|0)==(M|0)){if(M=Qe+4|0,f=n[M>>2]|0,Xe=n[Qe>>2]|0,d=Xe,f>>>0<=Xe>>>0){f=B-d>>1,f=(f|0)==0?1:f,Ip(se,f,f>>>2,n[Qe+16>>2]|0),n[Ge>>2]=n[M>>2],n[Me>>2]=n[O>>2],n[k>>2]=n[Ge>>2],n[j>>2]=n[Me>>2],Dw(se,k,j),f=n[Qe>>2]|0,n[Qe>>2]=n[se>>2],n[se>>2]=f,f=se+4|0,Xe=n[M>>2]|0,n[M>>2]=n[f>>2],n[f>>2]=Xe,f=se+8|0,Xe=n[O>>2]|0,n[O>>2]=n[f>>2],n[f>>2]=Xe,f=se+12|0,Xe=n[m>>2]|0,n[m>>2]=n[f>>2],n[f>>2]=Xe,_A(se),f=n[O>>2]|0;break}m=f,B=((m-d>>2)+1|0)/-2|0,k=f+(B<<2)|0,d=Q-m|0,m=d>>2,m&&(Mw(k|0,f|0,d|0)|0,f=n[M>>2]|0),Xe=k+(m<<2)|0,n[O>>2]=Xe,n[M>>2]=f+(B<<2),f=Xe}while(0);n[f>>2]=n[c>>2],n[O>>2]=(n[O>>2]|0)+4,l=vg(s,Qe,l)|0,_A(Qe)}while(0);return C=et,l|0}function Le(s){s=s|0;var l=0;do{if(l=s+984|0,o[l>>0]|0)break;o[l>>0]=1,h[s+504>>2]=y(ce),s=n[s+944>>2]|0}while((s|0)!=0)}function pt(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ht(s){return s=s|0,n[s+944>>2]|0}function Tt(s){s=s|0,Un(s,(n[s+964>>2]|0)!=0,2832),Le(s)}function er(s){return s=s|0,(o[s+984>>0]|0)!=0|0}function $r(s,l){s=s|0,l=l|0,QUe(s,l,400)|0&&(Dr(s|0,l|0,400)|0,Le(s))}function ji(s){s=s|0;var l=Ze;return l=y(h[s+44>>2]),s=_t(l)|0,y(s?y(0):l)}function es(s){s=s|0;var l=Ze;return l=y(h[s+48>>2]),_t(l)|0&&(l=o[(n[s+976>>2]|0)+2>>0]|0?y(1):y(0)),y(l)}function bi(s,l){s=s|0,l=l|0,n[s+980>>2]=l}function qo(s){return s=s|0,n[s+980>>2]|0}function kA(s,l){s=s|0,l=l|0;var c=0;c=s+4|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function QA(s){return s=s|0,n[s+4>>2]|0}function Ap(s,l){s=s|0,l=l|0;var c=0;c=s+8|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function ig(s){return s=s|0,n[s+8>>2]|0}function gu(s,l){s=s|0,l=l|0;var c=0;c=s+12|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function sg(s){return s=s|0,n[s+12>>2]|0}function du(s,l){s=s|0,l=l|0;var c=0;c=s+16|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function uo(s){return s=s|0,n[s+16>>2]|0}function FA(s,l){s=s|0,l=l|0;var c=0;c=s+20|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function mc(s){return s=s|0,n[s+20>>2]|0}function ca(s,l){s=s|0,l=l|0;var c=0;c=s+24|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function og(s){return s=s|0,n[s+24>>2]|0}function yc(s,l){s=s|0,l=l|0;var c=0;c=s+28|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function Pm(s){return s=s|0,n[s+28>>2]|0}function ag(s,l){s=s|0,l=l|0;var c=0;c=s+32|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function $n(s){return s=s|0,n[s+32>>2]|0}function fp(s,l){s=s|0,l=l|0;var c=0;c=s+36|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function lg(s){return s=s|0,n[s+36>>2]|0}function RA(s,l){s=s|0,l=y(l);var c=0;c=s+40|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Hs(s,l){s=s|0,l=y(l);var c=0;c=s+44|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function mu(s,l){s=s|0,l=y(l);var c=0;c=s+48|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Ha(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+52|0,d=s+56|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Gi(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+52|0,c=s+56|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function ua(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+52|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function yu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+132+(l<<3)|0,l=s+132+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Es(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+132+(l<<3)|0,l=s+132+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Ec(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+132+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function Cc(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+60+(l<<3)|0,l=s+60+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function G(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+60+(l<<3)|0,l=s+60+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Dt(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+60+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function wl(s,l){s=s|0,l=l|0;var c=0;c=s+60+(l<<3)+4|0,(n[c>>2]|0)!=3&&(h[s+60+(l<<3)>>2]=y(ce),n[c>>2]=3,Le(s))}function xi(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+204+(l<<3)|0,l=s+204+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function wc(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+204+(l<<3)|0,l=s+204+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function ct(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+204+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function Eu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+276+(l<<3)|0,l=s+276+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function cg(s,l){return s=s|0,l=l|0,y(h[s+276+(l<<3)>>2])}function yw(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+348|0,d=s+352|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function TA(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+348|0,c=s+352|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function pp(s){s=s|0;var l=0;l=s+352|0,(n[l>>2]|0)!=3&&(h[s+348>>2]=y(ce),n[l>>2]=3,Le(s))}function Br(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+348|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Cs(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+356|0,d=s+360|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function ug(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+356|0,c=s+360|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function Ag(s){s=s|0;var l=0;l=s+360|0,(n[l>>2]|0)!=3&&(h[s+356>>2]=y(ce),n[l>>2]=3,Le(s))}function fg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+356|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function hp(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+364|0,d=s+368|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ic(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+364|0,d=s+368|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ct(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+364|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function bm(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+372|0,d=s+376|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function pg(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+372|0,d=s+376|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function hg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+372|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Cu(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+380|0,d=s+384|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function xm(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+380|0,d=s+384|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function gg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+380|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function wu(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+388|0,d=s+392|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ew(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+388|0,d=s+392|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function km(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+388|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Aa(s,l){s=s|0,l=y(l);var c=0;c=s+396|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Bc(s){return s=s|0,y(h[s+396>>2])}function Il(s){return s=s|0,y(h[s+400>>2])}function Iu(s){return s=s|0,y(h[s+404>>2])}function dg(s){return s=s|0,y(h[s+408>>2])}function NA(s){return s=s|0,y(h[s+412>>2])}function gp(s){return s=s|0,y(h[s+416>>2])}function qa(s){return s=s|0,y(h[s+420>>2])}function mg(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+424+(l<<2)>>2])}function dp(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+448+(l<<2)>>2])}function jo(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+472+(l<<2)>>2])}function ws(s,l){s=s|0,l=l|0;var c=0,f=Ze;return c=n[s+4>>2]|0,(c|0)==(n[l+4>>2]|0)?c?(f=y(h[s>>2]),s=y(ne(y(f-y(h[l>>2]))))<y(999999974e-13)):s=1:s=0,s|0}function Ii(s,l){s=y(s),l=y(l);var c=0;return _t(s)|0?c=_t(l)|0:c=y(ne(y(s-l)))<y(999999974e-13),c|0}function Qm(s,l){s=s|0,l=l|0,Fm(s,l)}function Fm(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c+4|0,n[f>>2]=0,n[f+4>>2]=0,n[f+8>>2]=0,Ma(f|0,s|0,l|0,0),Ao(s,3,(o[f+11>>0]|0)<0?n[f>>2]|0:f,c),e3e(f),C=c}function Go(s,l,c,f){s=y(s),l=y(l),c=c|0,f=f|0;var d=Ze;s=y(s*l),d=y(bR(s,y(1)));do if(Ii(d,y(0))|0)s=y(s-d);else{if(s=y(s-d),Ii(d,y(1))|0){s=y(s+y(1));break}if(c){s=y(s+y(1));break}f||(d>y(.5)?d=y(1):(f=Ii(d,y(.5))|0,d=y(f?1:0)),s=y(s+d))}while(0);return y(s/l)}function LA(s,l,c,f,d,m,B,k,Q,M,O,j,se){s=s|0,l=y(l),c=c|0,f=y(f),d=d|0,m=y(m),B=B|0,k=y(k),Q=y(Q),M=y(M),O=y(O),j=y(j),se=se|0;var Ge=0,Me=Ze,Qe=Ze,et=Ze,Xe=Ze,lt=Ze,Ue=Ze;return Q<y(0)|M<y(0)?se=0:((se|0)!=0&&(Me=y(h[se+4>>2]),Me!=y(0))?(et=y(Go(l,Me,0,0)),Xe=y(Go(f,Me,0,0)),Qe=y(Go(m,Me,0,0)),Me=y(Go(k,Me,0,0))):(Qe=m,et=l,Me=k,Xe=f),(d|0)==(s|0)?Ge=Ii(Qe,et)|0:Ge=0,(B|0)==(c|0)?se=Ii(Me,Xe)|0:se=0,!Ge&&(lt=y(l-O),!(mp(s,lt,Q)|0))&&!(yp(s,lt,d,Q)|0)?Ge=yg(s,lt,d,m,Q)|0:Ge=1,!se&&(Ue=y(f-j),!(mp(c,Ue,M)|0))&&!(yp(c,Ue,B,M)|0)?se=yg(c,Ue,B,k,M)|0:se=1,se=Ge&se),se|0}function mp(s,l,c){return s=s|0,l=y(l),c=y(c),(s|0)==1?s=Ii(l,c)|0:s=0,s|0}function yp(s,l,c,f){return s=s|0,l=y(l),c=c|0,f=y(f),(s|0)==2&(c|0)==0?l>=f?s=1:s=Ii(l,f)|0:s=0,s|0}function yg(s,l,c,f,d){return s=s|0,l=y(l),c=c|0,f=y(f),d=y(d),(s|0)==2&(c|0)==2&f>l?d<=l?s=1:s=Ii(l,d)|0:s=0,s|0}function fa(s,l,c,f,d,m,B,k,Q,M,O){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=m|0,B=y(B),k=y(k),Q=Q|0,M=M|0,O=O|0;var j=0,se=0,Ge=0,Me=0,Qe=Ze,et=Ze,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=Ze,go=Ze,mo=Ze,yo=0,ya=0;ir=C,C=C+160|0,Xt=ir+152|0,or=ir+120|0,Mr=ir+104|0,Ue=ir+72|0,Me=ir+56|0,Lt=ir+8|0,lt=ir,je=(n[2279]|0)+1|0,n[2279]=je,Sr=s+984|0,(o[Sr>>0]|0)!=0&&(n[s+512>>2]|0)!=(n[2278]|0)?Xe=4:(n[s+516>>2]|0)==(f|0)?Nr=0:Xe=4,(Xe|0)==4&&(n[s+520>>2]=0,n[s+924>>2]=-1,n[s+928>>2]=-1,h[s+932>>2]=y(-1),h[s+936>>2]=y(-1),Nr=1);e:do if(n[s+964>>2]|0)if(Qe=y(ln(s,2,B)),et=y(ln(s,0,B)),j=s+916|0,mo=y(h[j>>2]),go=y(h[s+920>>2]),xn=y(h[s+932>>2]),LA(d,l,m,c,n[s+924>>2]|0,mo,n[s+928>>2]|0,go,xn,y(h[s+936>>2]),Qe,et,O)|0)Xe=22;else if(Ge=n[s+520>>2]|0,!Ge)Xe=21;else for(se=0;;){if(j=s+524+(se*24|0)|0,xn=y(h[j>>2]),go=y(h[s+524+(se*24|0)+4>>2]),mo=y(h[s+524+(se*24|0)+16>>2]),LA(d,l,m,c,n[s+524+(se*24|0)+8>>2]|0,xn,n[s+524+(se*24|0)+12>>2]|0,go,mo,y(h[s+524+(se*24|0)+20>>2]),Qe,et,O)|0){Xe=22;break e}if(se=se+1|0,se>>>0>=Ge>>>0){Xe=21;break}}else{if(Q){if(j=s+916|0,!(Ii(y(h[j>>2]),l)|0)){Xe=21;break}if(!(Ii(y(h[s+920>>2]),c)|0)){Xe=21;break}if((n[s+924>>2]|0)!=(d|0)){Xe=21;break}j=(n[s+928>>2]|0)==(m|0)?j:0,Xe=22;break}if(Ge=n[s+520>>2]|0,!Ge)Xe=21;else for(se=0;;){if(j=s+524+(se*24|0)|0,Ii(y(h[j>>2]),l)|0&&Ii(y(h[s+524+(se*24|0)+4>>2]),c)|0&&(n[s+524+(se*24|0)+8>>2]|0)==(d|0)&&(n[s+524+(se*24|0)+12>>2]|0)==(m|0)){Xe=22;break e}if(se=se+1|0,se>>>0>=Ge>>>0){Xe=21;break}}}while(0);do if((Xe|0)==21)o[11697]|0?(j=0,Xe=28):(j=0,Xe=31);else if((Xe|0)==22){if(se=(o[11697]|0)!=0,!((j|0)!=0&(Nr^1)))if(se){Xe=28;break}else{Xe=31;break}Me=j+16|0,n[s+908>>2]=n[Me>>2],Ge=j+20|0,n[s+912>>2]=n[Ge>>2],(o[11698]|0)==0|se^1||(n[lt>>2]=OA(je)|0,n[lt+4>>2]=je,Ao(s,4,2972,lt),se=n[s+972>>2]|0,se|0&&tf[se&127](s),d=ja(d,Q)|0,m=ja(m,Q)|0,ya=+y(h[Me>>2]),yo=+y(h[Ge>>2]),n[Lt>>2]=d,n[Lt+4>>2]=m,E[Lt+8>>3]=+l,E[Lt+16>>3]=+c,E[Lt+24>>3]=ya,E[Lt+32>>3]=yo,n[Lt+40>>2]=M,Ao(s,4,2989,Lt))}while(0);return(Xe|0)==28&&(se=OA(je)|0,n[Me>>2]=se,n[Me+4>>2]=je,n[Me+8>>2]=Nr?3047:11699,Ao(s,4,3038,Me),se=n[s+972>>2]|0,se|0&&tf[se&127](s),Lt=ja(d,Q)|0,Xe=ja(m,Q)|0,n[Ue>>2]=Lt,n[Ue+4>>2]=Xe,E[Ue+8>>3]=+l,E[Ue+16>>3]=+c,n[Ue+24>>2]=M,Ao(s,4,3049,Ue),Xe=31),(Xe|0)==31&&(si(s,l,c,f,d,m,B,k,Q,O),o[11697]|0&&(se=n[2279]|0,Lt=OA(se)|0,n[Mr>>2]=Lt,n[Mr+4>>2]=se,n[Mr+8>>2]=Nr?3047:11699,Ao(s,4,3083,Mr),se=n[s+972>>2]|0,se|0&&tf[se&127](s),Lt=ja(d,Q)|0,Mr=ja(m,Q)|0,yo=+y(h[s+908>>2]),ya=+y(h[s+912>>2]),n[or>>2]=Lt,n[or+4>>2]=Mr,E[or+8>>3]=yo,E[or+16>>3]=ya,n[or+24>>2]=M,Ao(s,4,3092,or)),n[s+516>>2]=f,j||(se=s+520|0,j=n[se>>2]|0,(j|0)==16&&(o[11697]|0&&Ao(s,4,3124,Xt),n[se>>2]=0,j=0),Q?j=s+916|0:(n[se>>2]=j+1,j=s+524+(j*24|0)|0),h[j>>2]=l,h[j+4>>2]=c,n[j+8>>2]=d,n[j+12>>2]=m,n[j+16>>2]=n[s+908>>2],n[j+20>>2]=n[s+912>>2],j=0)),Q&&(n[s+416>>2]=n[s+908>>2],n[s+420>>2]=n[s+912>>2],o[s+985>>0]=1,o[Sr>>0]=0),n[2279]=(n[2279]|0)+-1,n[s+512>>2]=n[2278],C=ir,Nr|(j|0)==0|0}function ln(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(K(s,l,c)),y(f+y(re(s,l,c)))}function Ao(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=C,C=C+16|0,d=m,n[d>>2]=f,s?f=n[s+976>>2]|0:f=0,Cg(f,s,l,c,d),C=m}function OA(s){return s=s|0,(s>>>0>60?3201:3201+(60-s)|0)|0}function ja(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+32|0,c=d+12|0,f=d,n[c>>2]=n[254],n[c+4>>2]=n[255],n[c+8>>2]=n[256],n[f>>2]=n[257],n[f+4>>2]=n[258],n[f+8>>2]=n[259],(s|0)>2?s=11699:s=n[(l?f:c)+(s<<2)>>2]|0,C=d,s|0}function si(s,l,c,f,d,m,B,k,Q,M){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=m|0,B=y(B),k=y(k),Q=Q|0,M=M|0;var O=0,j=0,se=0,Ge=0,Me=Ze,Qe=Ze,et=Ze,Xe=Ze,lt=Ze,Ue=Ze,je=Ze,Lt=0,Mr=0,or=0,Xt=Ze,Sr=Ze,Nr=0,ir=Ze,xn=0,go=0,mo=0,yo=0,ya=0,Fp=0,Rp=0,bl=0,Tp=0,Fu=0,Ru=0,Np=0,Lp=0,Op=0,Xr=0,xl=0,Mp=0,xc=0,Up=Ze,_p=Ze,Tu=Ze,Nu=Ze,kc=Ze,js=0,za=0,Wo=0,kl=0,nf=0,sf=Ze,Lu=Ze,of=Ze,af=Ze,Gs=Ze,vs=Ze,Ql=0,Rn=Ze,lf=Ze,Eo=Ze,Qc=Ze,Co=Ze,Fc=Ze,cf=0,uf=0,Rc=Ze,Ys=Ze,Fl=0,Af=0,ff=0,pf=0,xr=Ze,Jn=0,Ds=0,wo=0,Ws=0,Rr=0,ur=0,Rl=0,Jt=Ze,hf=0,li=0;Rl=C,C=C+16|0,js=Rl+12|0,za=Rl+8|0,Wo=Rl+4|0,kl=Rl,Un(s,(d|0)==0|(_t(l)|0)^1,3326),Un(s,(m|0)==0|(_t(c)|0)^1,3406),Ds=mt(s,f)|0,n[s+496>>2]=Ds,Rr=fr(2,Ds)|0,ur=fr(0,Ds)|0,h[s+440>>2]=y(K(s,Rr,B)),h[s+444>>2]=y(re(s,Rr,B)),h[s+428>>2]=y(K(s,ur,B)),h[s+436>>2]=y(re(s,ur,B)),h[s+464>>2]=y(Cr(s,Rr)),h[s+468>>2]=y(yn(s,Rr)),h[s+452>>2]=y(Cr(s,ur)),h[s+460>>2]=y(yn(s,ur)),h[s+488>>2]=y(oi(s,Rr,B)),h[s+492>>2]=y(Oi(s,Rr,B)),h[s+476>>2]=y(oi(s,ur,B)),h[s+484>>2]=y(Oi(s,ur,B));do if(n[s+964>>2]|0)Ig(s,l,c,d,m,B,k);else{if(wo=s+948|0,Ws=(n[s+952>>2]|0)-(n[wo>>2]|0)>>2,!Ws){Gv(s,l,c,d,m,B,k);break}if(!Q&&Yv(s,l,c,d,m,B,k)|0)break;$(s),xl=s+508|0,o[xl>>0]=0,Rr=fr(n[s+4>>2]|0,Ds)|0,ur=ww(Rr,Ds)|0,Jn=pe(Rr)|0,Mp=n[s+8>>2]|0,Af=s+28|0,xc=(n[Af>>2]|0)!=0,Co=Jn?B:k,Rc=Jn?k:B,Up=y(Cp(s,Rr,B)),_p=y(Iw(s,Rr,B)),Me=y(Cp(s,ur,B)),Fc=y(En(s,Rr,B)),Ys=y(En(s,ur,B)),or=Jn?d:m,Fl=Jn?m:d,xr=Jn?Fc:Ys,lt=Jn?Ys:Fc,Qc=y(ln(s,2,B)),Xe=y(ln(s,0,B)),Qe=y(y(Gr(s+364|0,B))-xr),et=y(y(Gr(s+380|0,B))-xr),Ue=y(y(Gr(s+372|0,k))-lt),je=y(y(Gr(s+388|0,k))-lt),Tu=Jn?Qe:Ue,Nu=Jn?et:je,Qc=y(l-Qc),l=y(Qc-xr),_t(l)|0?xr=l:xr=y(_n(y(Tg(l,et)),Qe)),lf=y(c-Xe),l=y(lf-lt),_t(l)|0?Eo=l:Eo=y(_n(y(Tg(l,je)),Ue)),Qe=Jn?xr:Eo,Rn=Jn?Eo:xr;e:do if((or|0)==1)for(f=0,j=0;;){if(O=gs(s,j)|0,!f)y(rs(O))>y(0)&&y(qs(O))>y(0)?f=O:f=0;else if(Tm(O)|0){Ge=0;break e}if(j=j+1|0,j>>>0>=Ws>>>0){Ge=f;break}}else Ge=0;while(0);Lt=Ge+500|0,Mr=Ge+504|0,f=0,O=0,l=y(0),se=0;do{if(j=n[(n[wo>>2]|0)+(se<<2)>>2]|0,(n[j+36>>2]|0)==1)Bu(j),o[j+985>>0]=1,o[j+984>>0]=0;else{Bl(j),Q&&Ep(j,mt(j,Ds)|0,Qe,Rn,xr);do if((n[j+24>>2]|0)!=1)if((j|0)==(Ge|0)){n[Lt>>2]=n[2278],h[Mr>>2]=y(0);break}else{Nm(s,j,xr,d,Eo,xr,Eo,m,Ds,M);break}else O|0&&(n[O+960>>2]=j),n[j+960>>2]=0,O=j,f=(f|0)==0?j:f;while(0);vs=y(h[j+504>>2]),l=y(l+y(vs+y(ln(j,Rr,xr))))}se=se+1|0}while((se|0)!=(Ws|0));for(mo=l>Qe,Ql=xc&((or|0)==2&mo)?1:or,xn=(Fl|0)==1,ya=xn&(Q^1),Fp=(Ql|0)==1,Rp=(Ql|0)==2,bl=976+(Rr<<2)|0,Tp=(Fl|2|0)==2,Op=xn&(xc^1),Fu=1040+(ur<<2)|0,Ru=1040+(Rr<<2)|0,Np=976+(ur<<2)|0,Lp=(Fl|0)!=1,mo=xc&((or|0)!=0&mo),go=s+976|0,xn=xn^1,l=Qe,Nr=0,yo=0,vs=y(0),kc=y(0);;){e:do if(Nr>>>0<Ws>>>0)for(Mr=n[wo>>2]|0,se=0,je=y(0),Ue=y(0),et=y(0),Qe=y(0),j=0,O=0,Ge=Nr;;){if(Lt=n[Mr+(Ge<<2)>>2]|0,(n[Lt+36>>2]|0)!=1&&(n[Lt+940>>2]=yo,(n[Lt+24>>2]|0)!=1)){if(Xe=y(ln(Lt,Rr,xr)),Xr=n[bl>>2]|0,c=y(Gr(Lt+380+(Xr<<3)|0,Co)),lt=y(h[Lt+504>>2]),c=y(Tg(c,lt)),c=y(_n(y(Gr(Lt+364+(Xr<<3)|0,Co)),c)),xc&(se|0)!=0&y(Xe+y(Ue+c))>l){m=se,Xe=je,or=Ge;break e}Xe=y(Xe+c),c=y(Ue+Xe),Xe=y(je+Xe),Tm(Lt)|0&&(et=y(et+y(rs(Lt))),Qe=y(Qe-y(lt*y(qs(Lt))))),O|0&&(n[O+960>>2]=Lt),n[Lt+960>>2]=0,se=se+1|0,O=Lt,j=(j|0)==0?Lt:j}else Xe=je,c=Ue;if(Ge=Ge+1|0,Ge>>>0<Ws>>>0)je=Xe,Ue=c;else{m=se,or=Ge;break}}else m=0,Xe=y(0),et=y(0),Qe=y(0),j=0,or=Nr;while(0);Xr=et>y(0)&et<y(1),Xt=Xr?y(1):et,Xr=Qe>y(0)&Qe<y(1),je=Xr?y(1):Qe;do if(Fp)Xr=51;else if(Xe<Tu&((_t(Tu)|0)^1))l=Tu,Xr=51;else if(Xe>Nu&((_t(Nu)|0)^1))l=Nu,Xr=51;else if(o[(n[go>>2]|0)+3>>0]|0)Xr=51;else{if(Xt!=y(0)&&y(rs(s))!=y(0)){Xr=53;break}l=Xe,Xr=53}while(0);if((Xr|0)==51&&(Xr=0,_t(l)|0?Xr=53:(Sr=y(l-Xe),ir=l)),(Xr|0)==53&&(Xr=0,Xe<y(0)?(Sr=y(-Xe),ir=l):(Sr=y(0),ir=l)),!ya&&(nf=(j|0)==0,!nf)){se=n[bl>>2]|0,Ge=Sr<y(0),lt=y(Sr/je),Lt=Sr>y(0),Ue=y(Sr/Xt),et=y(0),Xe=y(0),l=y(0),O=j;do c=y(Gr(O+380+(se<<3)|0,Co)),Qe=y(Gr(O+364+(se<<3)|0,Co)),Qe=y(Tg(c,y(_n(Qe,y(h[O+504>>2]))))),Ge?(c=y(Qe*y(qs(O))),c!=y(-0)&&(Jt=y(Qe-y(lt*c)),sf=y(Bi(O,Rr,Jt,ir,xr)),Jt!=sf)&&(et=y(et-y(sf-Qe)),l=y(l+c))):Lt&&(Lu=y(rs(O)),Lu!=y(0))&&(Jt=y(Qe+y(Ue*Lu)),of=y(Bi(O,Rr,Jt,ir,xr)),Jt!=of)&&(et=y(et-y(of-Qe)),Xe=y(Xe-Lu)),O=n[O+960>>2]|0;while((O|0)!=0);if(l=y(je+l),Qe=y(Sr+et),nf)l=y(0);else{lt=y(Xt+Xe),Ge=n[bl>>2]|0,Lt=Qe<y(0),Mr=l==y(0),Ue=y(Qe/l),se=Qe>y(0),lt=y(Qe/lt),l=y(0);do{Jt=y(Gr(j+380+(Ge<<3)|0,Co)),et=y(Gr(j+364+(Ge<<3)|0,Co)),et=y(Tg(Jt,y(_n(et,y(h[j+504>>2]))))),Lt?(Jt=y(et*y(qs(j))),Qe=y(-Jt),Jt!=y(-0)?(Jt=y(Ue*Qe),Qe=y(Bi(j,Rr,y(et+(Mr?Qe:Jt)),ir,xr))):Qe=et):se&&(af=y(rs(j)),af!=y(0))?Qe=y(Bi(j,Rr,y(et+y(lt*af)),ir,xr)):Qe=et,l=y(l-y(Qe-et)),Xe=y(ln(j,Rr,xr)),c=y(ln(j,ur,xr)),Qe=y(Qe+Xe),h[za>>2]=Qe,n[kl>>2]=1,et=y(h[j+396>>2]);e:do if(_t(et)|0){O=_t(Rn)|0;do if(!O){if(mo|(ts(j,ur,Rn)|0|xn)||(ha(s,j)|0)!=4||(n[(vl(j,ur)|0)+4>>2]|0)==3||(n[(Sc(j,ur)|0)+4>>2]|0)==3)break;h[js>>2]=Rn,n[Wo>>2]=1;break e}while(0);if(ts(j,ur,Rn)|0){O=n[j+992+(n[Np>>2]<<2)>>2]|0,Jt=y(c+y(Gr(O,Rn))),h[js>>2]=Jt,O=Lp&(n[O+4>>2]|0)==2,n[Wo>>2]=((_t(Jt)|0|O)^1)&1;break}else{h[js>>2]=Rn,n[Wo>>2]=O?0:2;break}}else Jt=y(Qe-Xe),Xt=y(Jt/et),Jt=y(et*Jt),n[Wo>>2]=1,h[js>>2]=y(c+(Jn?Xt:Jt));while(0);yr(j,Rr,ir,xr,kl,za),yr(j,ur,Rn,xr,Wo,js);do if(!(ts(j,ur,Rn)|0)&&(ha(s,j)|0)==4){if((n[(vl(j,ur)|0)+4>>2]|0)==3){O=0;break}O=(n[(Sc(j,ur)|0)+4>>2]|0)!=3}else O=0;while(0);Jt=y(h[za>>2]),Xt=y(h[js>>2]),hf=n[kl>>2]|0,li=n[Wo>>2]|0,fa(j,Jn?Jt:Xt,Jn?Xt:Jt,Ds,Jn?hf:li,Jn?li:hf,xr,Eo,Q&(O^1),3488,M)|0,o[xl>>0]=o[xl>>0]|o[j+508>>0],j=n[j+960>>2]|0}while((j|0)!=0)}}else l=y(0);if(l=y(Sr+l),li=l<y(0)&1,o[xl>>0]=li|u[xl>>0],Rp&l>y(0)?(O=n[bl>>2]|0,(n[s+364+(O<<3)+4>>2]|0)!=0&&(Gs=y(Gr(s+364+(O<<3)|0,Co)),Gs>=y(0))?Qe=y(_n(y(0),y(Gs-y(ir-l)))):Qe=y(0)):Qe=l,Lt=Nr>>>0<or>>>0,Lt){Ge=n[wo>>2]|0,se=Nr,O=0;do j=n[Ge+(se<<2)>>2]|0,n[j+24>>2]|0||(O=((n[(vl(j,Rr)|0)+4>>2]|0)==3&1)+O|0,O=O+((n[(Sc(j,Rr)|0)+4>>2]|0)==3&1)|0),se=se+1|0;while((se|0)!=(or|0));O?(Xe=y(0),c=y(0)):Xr=101}else Xr=101;e:do if((Xr|0)==101)switch(Xr=0,Mp|0){case 1:{O=0,Xe=y(Qe*y(.5)),c=y(0);break e}case 2:{O=0,Xe=Qe,c=y(0);break e}case 3:{if(m>>>0<=1){O=0,Xe=y(0),c=y(0);break e}c=y((m+-1|0)>>>0),O=0,Xe=y(0),c=y(y(_n(Qe,y(0)))/c);break e}case 5:{c=y(Qe/y((m+1|0)>>>0)),O=0,Xe=c;break e}case 4:{c=y(Qe/y(m>>>0)),O=0,Xe=y(c*y(.5));break e}default:{O=0,Xe=y(0),c=y(0);break e}}while(0);if(l=y(Up+Xe),Lt){et=y(Qe/y(O|0)),se=n[wo>>2]|0,j=Nr,Qe=y(0);do{O=n[se+(j<<2)>>2]|0;e:do if((n[O+36>>2]|0)!=1){switch(n[O+24>>2]|0){case 1:{if(gi(O,Rr)|0){if(!Q)break e;Jt=y(Or(O,Rr,ir)),Jt=y(Jt+y(Cr(s,Rr))),Jt=y(Jt+y(K(O,Rr,xr))),h[O+400+(n[Ru>>2]<<2)>>2]=Jt;break e}break}case 0:if(li=(n[(vl(O,Rr)|0)+4>>2]|0)==3,Jt=y(et+l),l=li?Jt:l,Q&&(li=O+400+(n[Ru>>2]<<2)|0,h[li>>2]=y(l+y(h[li>>2]))),li=(n[(Sc(O,Rr)|0)+4>>2]|0)==3,Jt=y(et+l),l=li?Jt:l,ya){Jt=y(c+y(ln(O,Rr,xr))),Qe=Rn,l=y(l+y(Jt+y(h[O+504>>2])));break e}else{l=y(l+y(c+y(ns(O,Rr,xr)))),Qe=y(_n(Qe,y(ns(O,ur,xr))));break e}default:}Q&&(Jt=y(Xe+y(Cr(s,Rr))),li=O+400+(n[Ru>>2]<<2)|0,h[li>>2]=y(Jt+y(h[li>>2])))}while(0);j=j+1|0}while((j|0)!=(or|0))}else Qe=y(0);if(c=y(_p+l),Tp?Xe=y(y(Bi(s,ur,y(Ys+Qe),Rc,B))-Ys):Xe=Rn,et=y(y(Bi(s,ur,y(Ys+(Op?Rn:Qe)),Rc,B))-Ys),Lt&Q){j=Nr;do{se=n[(n[wo>>2]|0)+(j<<2)>>2]|0;do if((n[se+36>>2]|0)!=1){if((n[se+24>>2]|0)==1){if(gi(se,ur)|0){if(Jt=y(Or(se,ur,Rn)),Jt=y(Jt+y(Cr(s,ur))),Jt=y(Jt+y(K(se,ur,xr))),O=n[Fu>>2]|0,h[se+400+(O<<2)>>2]=Jt,!(_t(Jt)|0))break}else O=n[Fu>>2]|0;Jt=y(Cr(s,ur)),h[se+400+(O<<2)>>2]=y(Jt+y(K(se,ur,xr)));break}O=ha(s,se)|0;do if((O|0)==4){if((n[(vl(se,ur)|0)+4>>2]|0)==3){Xr=139;break}if((n[(Sc(se,ur)|0)+4>>2]|0)==3){Xr=139;break}if(ts(se,ur,Rn)|0){l=Me;break}hf=n[se+908+(n[bl>>2]<<2)>>2]|0,n[js>>2]=hf,l=y(h[se+396>>2]),li=_t(l)|0,Qe=(n[v>>2]=hf,y(h[v>>2])),li?l=et:(Sr=y(ln(se,ur,xr)),Jt=y(Qe/l),l=y(l*Qe),l=y(Sr+(Jn?Jt:l))),h[za>>2]=l,h[js>>2]=y(y(ln(se,Rr,xr))+Qe),n[Wo>>2]=1,n[kl>>2]=1,yr(se,Rr,ir,xr,Wo,js),yr(se,ur,Rn,xr,kl,za),l=y(h[js>>2]),Sr=y(h[za>>2]),Jt=Jn?l:Sr,l=Jn?Sr:l,li=((_t(Jt)|0)^1)&1,fa(se,Jt,l,Ds,li,((_t(l)|0)^1)&1,xr,Eo,1,3493,M)|0,l=Me}else Xr=139;while(0);e:do if((Xr|0)==139){Xr=0,l=y(Xe-y(ns(se,ur,xr)));do if((n[(vl(se,ur)|0)+4>>2]|0)==3){if((n[(Sc(se,ur)|0)+4>>2]|0)!=3)break;l=y(Me+y(_n(y(0),y(l*y(.5)))));break e}while(0);if((n[(Sc(se,ur)|0)+4>>2]|0)==3){l=Me;break}if((n[(vl(se,ur)|0)+4>>2]|0)==3){l=y(Me+y(_n(y(0),l)));break}switch(O|0){case 1:{l=Me;break e}case 2:{l=y(Me+y(l*y(.5)));break e}default:{l=y(Me+l);break e}}}while(0);Jt=y(vs+l),li=se+400+(n[Fu>>2]<<2)|0,h[li>>2]=y(Jt+y(h[li>>2]))}while(0);j=j+1|0}while((j|0)!=(or|0))}if(vs=y(vs+et),kc=y(_n(kc,c)),m=yo+1|0,or>>>0>=Ws>>>0)break;l=ir,Nr=or,yo=m}do if(Q){if(O=m>>>0>1,!O&&!(Yi(s)|0))break;if(!(_t(Rn)|0)){l=y(Rn-vs);e:do switch(n[s+12>>2]|0){case 3:{Me=y(Me+l),Ue=y(0);break}case 2:{Me=y(Me+y(l*y(.5))),Ue=y(0);break}case 4:{Rn>vs?Ue=y(l/y(m>>>0)):Ue=y(0);break}case 7:if(Rn>vs){Me=y(Me+y(l/y(m<<1>>>0))),Ue=y(l/y(m>>>0)),Ue=O?Ue:y(0);break e}else{Me=y(Me+y(l*y(.5))),Ue=y(0);break e}case 6:{Ue=y(l/y(yo>>>0)),Ue=Rn>vs&O?Ue:y(0);break}default:Ue=y(0)}while(0);if(m|0)for(Lt=1040+(ur<<2)|0,Mr=976+(ur<<2)|0,Ge=0,j=0;;){e:do if(j>>>0<Ws>>>0)for(Qe=y(0),et=y(0),l=y(0),se=j;;){O=n[(n[wo>>2]|0)+(se<<2)>>2]|0;do if((n[O+36>>2]|0)!=1&&(n[O+24>>2]|0)==0){if((n[O+940>>2]|0)!=(Ge|0))break e;if(Lm(O,ur)|0&&(Jt=y(h[O+908+(n[Mr>>2]<<2)>>2]),l=y(_n(l,y(Jt+y(ln(O,ur,xr)))))),(ha(s,O)|0)!=5)break;Gs=y(Ya(O)),Gs=y(Gs+y(K(O,0,xr))),Jt=y(h[O+912>>2]),Jt=y(y(Jt+y(ln(O,0,xr)))-Gs),Gs=y(_n(et,Gs)),Jt=y(_n(Qe,Jt)),Qe=Jt,et=Gs,l=y(_n(l,y(Gs+Jt)))}while(0);if(O=se+1|0,O>>>0<Ws>>>0)se=O;else{se=O;break}}else et=y(0),l=y(0),se=j;while(0);if(lt=y(Ue+l),c=Me,Me=y(Me+lt),j>>>0<se>>>0){Xe=y(c+et),O=j;do{j=n[(n[wo>>2]|0)+(O<<2)>>2]|0;e:do if((n[j+36>>2]|0)!=1&&(n[j+24>>2]|0)==0)switch(ha(s,j)|0){case 1:{Jt=y(c+y(K(j,ur,xr))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 3:{Jt=y(y(Me-y(re(j,ur,xr)))-y(h[j+908+(n[Mr>>2]<<2)>>2])),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 2:{Jt=y(c+y(y(lt-y(h[j+908+(n[Mr>>2]<<2)>>2]))*y(.5))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 4:{if(Jt=y(c+y(K(j,ur,xr))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt,ts(j,ur,Rn)|0||(Jn?(Qe=y(h[j+908>>2]),l=y(Qe+y(ln(j,Rr,xr))),et=lt):(et=y(h[j+912>>2]),et=y(et+y(ln(j,ur,xr))),l=lt,Qe=y(h[j+908>>2])),Ii(l,Qe)|0&&Ii(et,y(h[j+912>>2]))|0))break e;fa(j,l,et,Ds,1,1,xr,Eo,1,3501,M)|0;break e}case 5:{h[j+404>>2]=y(y(Xe-y(Ya(j)))+y(Or(j,0,Rn)));break e}default:break e}while(0);O=O+1|0}while((O|0)!=(se|0))}if(Ge=Ge+1|0,(Ge|0)==(m|0))break;j=se}}}while(0);if(h[s+908>>2]=y(Bi(s,2,Qc,B,B)),h[s+912>>2]=y(Bi(s,0,lf,k,B)),(Ql|0)!=0&&(cf=n[s+32>>2]|0,uf=(Ql|0)==2,!(uf&(cf|0)!=2))?uf&(cf|0)==2&&(l=y(Fc+ir),l=y(_n(y(Tg(l,y(MA(s,Rr,kc,Co)))),Fc)),Xr=198):(l=y(Bi(s,Rr,kc,Co,B)),Xr=198),(Xr|0)==198&&(h[s+908+(n[976+(Rr<<2)>>2]<<2)>>2]=l),(Fl|0)!=0&&(ff=n[s+32>>2]|0,pf=(Fl|0)==2,!(pf&(ff|0)!=2))?pf&(ff|0)==2&&(l=y(Ys+Rn),l=y(_n(y(Tg(l,y(MA(s,ur,y(Ys+vs),Rc)))),Ys)),Xr=204):(l=y(Bi(s,ur,y(Ys+vs),Rc,B)),Xr=204),(Xr|0)==204&&(h[s+908+(n[976+(ur<<2)>>2]<<2)>>2]=l),Q){if((n[Af>>2]|0)==2){j=976+(ur<<2)|0,se=1040+(ur<<2)|0,O=0;do Ge=gs(s,O)|0,n[Ge+24>>2]|0||(hf=n[j>>2]|0,Jt=y(h[s+908+(hf<<2)>>2]),li=Ge+400+(n[se>>2]<<2)|0,Jt=y(Jt-y(h[li>>2])),h[li>>2]=y(Jt-y(h[Ge+908+(hf<<2)>>2]))),O=O+1|0;while((O|0)!=(Ws|0))}if(f|0){O=Jn?Ql:d;do Om(s,f,xr,O,Eo,Ds,M),f=n[f+960>>2]|0;while((f|0)!=0)}if(O=(Rr|2|0)==3,j=(ur|2|0)==3,O|j){f=0;do se=n[(n[wo>>2]|0)+(f<<2)>>2]|0,(n[se+36>>2]|0)!=1&&(O&&wp(s,se,Rr),j&&wp(s,se,ur)),f=f+1|0;while((f|0)!=(Ws|0))}}}while(0);C=Rl}function pa(s,l){s=s|0,l=y(l);var c=0;oa(s,l>=y(0),3147),c=l==y(0),h[s+4>>2]=c?y(0):l}function vc(s,l,c,f){s=s|0,l=y(l),c=y(c),f=f|0;var d=Ze,m=Ze,B=0,k=0,Q=0;n[2278]=(n[2278]|0)+1,Bl(s),ts(s,2,l)|0?(d=y(Gr(n[s+992>>2]|0,l)),Q=1,d=y(d+y(ln(s,2,l)))):(d=y(Gr(s+380|0,l)),d>=y(0)?Q=2:(Q=((_t(l)|0)^1)&1,d=l)),ts(s,0,c)|0?(m=y(Gr(n[s+996>>2]|0,c)),k=1,m=y(m+y(ln(s,0,l)))):(m=y(Gr(s+388|0,c)),m>=y(0)?k=2:(k=((_t(c)|0)^1)&1,m=c)),B=s+976|0,fa(s,d,m,f,Q,k,l,c,1,3189,n[B>>2]|0)|0&&(Ep(s,n[s+496>>2]|0,l,c,l),Dc(s,y(h[(n[B>>2]|0)+4>>2]),y(0),y(0)),o[11696]|0)&&Qm(s,7)}function Bl(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;k=C,C=C+32|0,B=k+24|0,m=k+16|0,f=k+8|0,d=k,c=0;do l=s+380+(c<<3)|0,(n[s+380+(c<<3)+4>>2]|0)!=0&&(Q=l,M=n[Q+4>>2]|0,O=f,n[O>>2]=n[Q>>2],n[O+4>>2]=M,O=s+364+(c<<3)|0,M=n[O+4>>2]|0,Q=d,n[Q>>2]=n[O>>2],n[Q+4>>2]=M,n[m>>2]=n[f>>2],n[m+4>>2]=n[f+4>>2],n[B>>2]=n[d>>2],n[B+4>>2]=n[d+4>>2],ws(m,B)|0)||(l=s+348+(c<<3)|0),n[s+992+(c<<2)>>2]=l,c=c+1|0;while((c|0)!=2);C=k}function ts(s,l,c){s=s|0,l=l|0,c=y(c);var f=0;switch(s=n[s+992+(n[976+(l<<2)>>2]<<2)>>2]|0,n[s+4>>2]|0){case 0:case 3:{s=0;break}case 1:{y(h[s>>2])<y(0)?s=0:f=5;break}case 2:{y(h[s>>2])<y(0)?s=0:s=(_t(c)|0)^1;break}default:f=5}return(f|0)==5&&(s=1),s|0}function Gr(s,l){switch(s=s|0,l=y(l),n[s+4>>2]|0){case 2:{l=y(y(y(h[s>>2])*l)/y(100));break}case 1:{l=y(h[s>>2]);break}default:l=y(ce)}return y(l)}function Ep(s,l,c,f,d){s=s|0,l=l|0,c=y(c),f=y(f),d=y(d);var m=0,B=Ze;l=n[s+944>>2]|0?l:1,m=fr(n[s+4>>2]|0,l)|0,l=ww(m,l)|0,c=y(Mm(s,m,c)),f=y(Mm(s,l,f)),B=y(c+y(K(s,m,d))),h[s+400+(n[1040+(m<<2)>>2]<<2)>>2]=B,c=y(c+y(re(s,m,d))),h[s+400+(n[1e3+(m<<2)>>2]<<2)>>2]=c,c=y(f+y(K(s,l,d))),h[s+400+(n[1040+(l<<2)>>2]<<2)>>2]=c,d=y(f+y(re(s,l,d))),h[s+400+(n[1e3+(l<<2)>>2]<<2)>>2]=d}function Dc(s,l,c,f){s=s|0,l=y(l),c=y(c),f=y(f);var d=0,m=0,B=Ze,k=Ze,Q=0,M=0,O=Ze,j=0,se=Ze,Ge=Ze,Me=Ze,Qe=Ze;if(l!=y(0)&&(d=s+400|0,Qe=y(h[d>>2]),m=s+404|0,Me=y(h[m>>2]),j=s+416|0,Ge=y(h[j>>2]),M=s+420|0,B=y(h[M>>2]),se=y(Qe+c),O=y(Me+f),f=y(se+Ge),k=y(O+B),Q=(n[s+988>>2]|0)==1,h[d>>2]=y(Go(Qe,l,0,Q)),h[m>>2]=y(Go(Me,l,0,Q)),c=y(bR(y(Ge*l),y(1))),Ii(c,y(0))|0?m=0:m=(Ii(c,y(1))|0)^1,c=y(bR(y(B*l),y(1))),Ii(c,y(0))|0?d=0:d=(Ii(c,y(1))|0)^1,Qe=y(Go(f,l,Q&m,Q&(m^1))),h[j>>2]=y(Qe-y(Go(se,l,0,Q))),Qe=y(Go(k,l,Q&d,Q&(d^1))),h[M>>2]=y(Qe-y(Go(O,l,0,Q))),m=(n[s+952>>2]|0)-(n[s+948>>2]|0)>>2,m|0)){d=0;do Dc(gs(s,d)|0,l,se,O),d=d+1|0;while((d|0)!=(m|0))}}function Cw(s,l,c,f,d){switch(s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,c|0){case 5:case 0:{s=i7(n[489]|0,f,d)|0;break}default:s=zUe(f,d)|0}return s|0}function Eg(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;d=C,C=C+16|0,m=d,n[m>>2]=f,Cg(s,0,l,c,m),C=d}function Cg(s,l,c,f,d){if(s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,s=s|0?s:956,D7[n[s+8>>2]&1](s,l,c,f,d)|0,(c|0)==5)Rt();else return}function Ga(s,l,c){s=s|0,l=l|0,c=c|0,o[s+l>>0]=c&1}function Rm(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(wg(s,f),Qt(s,n[l>>2]|0,n[c>>2]|0,f))}function wg(s,l){s=s|0,l=l|0;var c=0;if((N(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function Qt(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function N(s){return s=s|0,1073741823}function K(s,l,c){return s=s|0,l=l|0,c=y(c),pe(l)|0&&(n[s+96>>2]|0)!=0?s=s+92|0:s=Fn(s+60|0,n[1040+(l<<2)>>2]|0,992)|0,y(ze(s,c))}function re(s,l,c){return s=s|0,l=l|0,c=y(c),pe(l)|0&&(n[s+104>>2]|0)!=0?s=s+100|0:s=Fn(s+60|0,n[1e3+(l<<2)>>2]|0,992)|0,y(ze(s,c))}function pe(s){return s=s|0,(s|1|0)==3|0}function ze(s,l){return s=s|0,l=y(l),(n[s+4>>2]|0)==3?l=y(0):l=y(Gr(s,l)),y(l)}function mt(s,l){return s=s|0,l=l|0,s=n[s>>2]|0,((s|0)==0?(l|0)>1?l:1:s)|0}function fr(s,l){s=s|0,l=l|0;var c=0;e:do if((l|0)==2){switch(s|0){case 2:{s=3;break e}case 3:break;default:{c=4;break e}}s=2}else c=4;while(0);return s|0}function Cr(s,l){s=s|0,l=l|0;var c=Ze;return pe(l)|0&&(n[s+312>>2]|0)!=0&&(c=y(h[s+308>>2]),c>=y(0))||(c=y(_n(y(h[(Fn(s+276|0,n[1040+(l<<2)>>2]|0,992)|0)>>2]),y(0)))),y(c)}function yn(s,l){s=s|0,l=l|0;var c=Ze;return pe(l)|0&&(n[s+320>>2]|0)!=0&&(c=y(h[s+316>>2]),c>=y(0))||(c=y(_n(y(h[(Fn(s+276|0,n[1e3+(l<<2)>>2]|0,992)|0)>>2]),y(0)))),y(c)}function oi(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return pe(l)|0&&(n[s+240>>2]|0)!=0&&(f=y(Gr(s+236|0,c)),f>=y(0))||(f=y(_n(y(Gr(Fn(s+204|0,n[1040+(l<<2)>>2]|0,992)|0,c)),y(0)))),y(f)}function Oi(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return pe(l)|0&&(n[s+248>>2]|0)!=0&&(f=y(Gr(s+244|0,c)),f>=y(0))||(f=y(_n(y(Gr(Fn(s+204|0,n[1e3+(l<<2)>>2]|0,992)|0,c)),y(0)))),y(f)}function Ig(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=Ze,Q=Ze,M=Ze,O=Ze,j=Ze,se=Ze,Ge=0,Me=0,Qe=0;Qe=C,C=C+16|0,Ge=Qe,Me=s+964|0,Un(s,(n[Me>>2]|0)!=0,3519),k=y(En(s,2,l)),Q=y(En(s,0,l)),M=y(ln(s,2,l)),O=y(ln(s,0,l)),_t(l)|0?j=l:j=y(_n(y(0),y(y(l-M)-k))),_t(c)|0?se=c:se=y(_n(y(0),y(y(c-O)-Q))),(f|0)==1&(d|0)==1?(h[s+908>>2]=y(Bi(s,2,y(l-M),m,m)),l=y(Bi(s,0,y(c-O),B,m))):(S7[n[Me>>2]&1](Ge,s,j,f,se,d),j=y(k+y(h[Ge>>2])),se=y(l-M),h[s+908>>2]=y(Bi(s,2,(f|2|0)==2?j:se,m,m)),se=y(Q+y(h[Ge+4>>2])),l=y(c-O),l=y(Bi(s,0,(d|2|0)==2?se:l,B,m))),h[s+912>>2]=l,C=Qe}function Gv(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=Ze,Q=Ze,M=Ze,O=Ze;M=y(En(s,2,m)),k=y(En(s,0,m)),O=y(ln(s,2,m)),Q=y(ln(s,0,m)),l=y(l-O),h[s+908>>2]=y(Bi(s,2,(f|2|0)==2?M:l,m,m)),c=y(c-Q),h[s+912>>2]=y(Bi(s,0,(d|2|0)==2?k:c,B,m))}function Yv(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=0,Q=Ze,M=Ze;return k=(f|0)==2,!(l<=y(0)&k)&&!(c<=y(0)&(d|0)==2)&&!((f|0)==1&(d|0)==1)?s=0:(Q=y(ln(s,0,m)),M=y(ln(s,2,m)),k=l<y(0)&k|(_t(l)|0),l=y(l-M),h[s+908>>2]=y(Bi(s,2,k?y(0):l,m,m)),l=y(c-Q),k=c<y(0)&(d|0)==2|(_t(c)|0),h[s+912>>2]=y(Bi(s,0,k?y(0):l,B,m)),s=1),s|0}function ww(s,l){return s=s|0,l=l|0,UA(s)|0?s=fr(2,l)|0:s=0,s|0}function Cp(s,l,c){return s=s|0,l=l|0,c=y(c),c=y(oi(s,l,c)),y(c+y(Cr(s,l)))}function Iw(s,l,c){return s=s|0,l=l|0,c=y(c),c=y(Oi(s,l,c)),y(c+y(yn(s,l)))}function En(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(Cp(s,l,c)),y(f+y(Iw(s,l,c)))}function Tm(s){return s=s|0,n[s+24>>2]|0?s=0:y(rs(s))!=y(0)?s=1:s=y(qs(s))!=y(0),s|0}function rs(s){s=s|0;var l=Ze;if(n[s+944>>2]|0){if(l=y(h[s+44>>2]),_t(l)|0)return l=y(h[s+40>>2]),s=l>y(0)&((_t(l)|0)^1),y(s?l:y(0))}else l=y(0);return y(l)}function qs(s){s=s|0;var l=Ze,c=0,f=Ze;do if(n[s+944>>2]|0){if(l=y(h[s+48>>2]),_t(l)|0){if(c=o[(n[s+976>>2]|0)+2>>0]|0,c<<24>>24==0&&(f=y(h[s+40>>2]),f<y(0)&((_t(f)|0)^1))){l=y(-f);break}l=c<<24>>24?y(1):y(0)}}else l=y(0);while(0);return y(l)}function Bu(s){s=s|0;var l=0,c=0;if(Xm(s+400|0,0,540)|0,o[s+985>>0]=1,$(s),c=wi(s)|0,c|0){l=s+948|0,s=0;do Bu(n[(n[l>>2]|0)+(s<<2)>>2]|0),s=s+1|0;while((s|0)!=(c|0))}}function Nm(s,l,c,f,d,m,B,k,Q,M){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=y(m),B=y(B),k=k|0,Q=Q|0,M=M|0;var O=0,j=Ze,se=0,Ge=0,Me=Ze,Qe=Ze,et=0,Xe=Ze,lt=0,Ue=Ze,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0,go=0;xn=C,C=C+16|0,Mr=xn+12|0,or=xn+8|0,Xt=xn+4|0,Sr=xn,ir=fr(n[s+4>>2]|0,Q)|0,je=pe(ir)|0,j=y(Gr(Bw(l)|0,je?m:B)),Lt=ts(l,2,m)|0,Nr=ts(l,0,B)|0;do if(!(_t(j)|0)&&!(_t(je?c:d)|0)){if(O=l+504|0,!(_t(y(h[O>>2]))|0)&&(!(vw(n[l+976>>2]|0,0)|0)||(n[l+500>>2]|0)==(n[2278]|0)))break;h[O>>2]=y(_n(j,y(En(l,ir,m))))}else se=7;while(0);do if((se|0)==7){if(lt=je^1,!(lt|Lt^1)){B=y(Gr(n[l+992>>2]|0,m)),h[l+504>>2]=y(_n(B,y(En(l,2,m))));break}if(!(je|Nr^1)){B=y(Gr(n[l+996>>2]|0,B)),h[l+504>>2]=y(_n(B,y(En(l,0,m))));break}h[Mr>>2]=y(ce),h[or>>2]=y(ce),n[Xt>>2]=0,n[Sr>>2]=0,Xe=y(ln(l,2,m)),Ue=y(ln(l,0,m)),Lt?(Me=y(Xe+y(Gr(n[l+992>>2]|0,m))),h[Mr>>2]=Me,n[Xt>>2]=1,Ge=1):(Ge=0,Me=y(ce)),Nr?(j=y(Ue+y(Gr(n[l+996>>2]|0,B))),h[or>>2]=j,n[Sr>>2]=1,O=1):(O=0,j=y(ce)),se=n[s+32>>2]|0,je&(se|0)==2?se=2:_t(Me)|0&&!(_t(c)|0)&&(h[Mr>>2]=c,n[Xt>>2]=2,Ge=2,Me=c),!((se|0)==2&lt)&&_t(j)|0&&!(_t(d)|0)&&(h[or>>2]=d,n[Sr>>2]=2,O=2,j=d),Qe=y(h[l+396>>2]),et=_t(Qe)|0;do if(et)se=Ge;else{if((Ge|0)==1&lt){h[or>>2]=y(y(Me-Xe)/Qe),n[Sr>>2]=1,O=1,se=1;break}je&(O|0)==1?(h[Mr>>2]=y(Qe*y(j-Ue)),n[Xt>>2]=1,O=1,se=1):se=Ge}while(0);go=_t(c)|0,Ge=(ha(s,l)|0)!=4,!(je|Lt|((f|0)!=1|go)|(Ge|(se|0)==1))&&(h[Mr>>2]=c,n[Xt>>2]=1,!et)&&(h[or>>2]=y(y(c-Xe)/Qe),n[Sr>>2]=1,O=1),!(Nr|lt|((k|0)!=1|(_t(d)|0))|(Ge|(O|0)==1))&&(h[or>>2]=d,n[Sr>>2]=1,!et)&&(h[Mr>>2]=y(Qe*y(d-Ue)),n[Xt>>2]=1),yr(l,2,m,m,Xt,Mr),yr(l,0,B,m,Sr,or),c=y(h[Mr>>2]),d=y(h[or>>2]),fa(l,c,d,Q,n[Xt>>2]|0,n[Sr>>2]|0,m,B,0,3565,M)|0,B=y(h[l+908+(n[976+(ir<<2)>>2]<<2)>>2]),h[l+504>>2]=y(_n(B,y(En(l,ir,m))))}while(0);n[l+500>>2]=n[2278],C=xn}function Bi(s,l,c,f,d){return s=s|0,l=l|0,c=y(c),f=y(f),d=y(d),f=y(MA(s,l,c,f)),y(_n(f,y(En(s,l,d))))}function ha(s,l){return s=s|0,l=l|0,l=l+20|0,l=n[((n[l>>2]|0)==0?s+16|0:l)>>2]|0,(l|0)==5&&UA(n[s+4>>2]|0)|0&&(l=1),l|0}function vl(s,l){return s=s|0,l=l|0,pe(l)|0&&(n[s+96>>2]|0)!=0?l=4:l=n[1040+(l<<2)>>2]|0,s+60+(l<<3)|0}function Sc(s,l){return s=s|0,l=l|0,pe(l)|0&&(n[s+104>>2]|0)!=0?l=5:l=n[1e3+(l<<2)>>2]|0,s+60+(l<<3)|0}function yr(s,l,c,f,d,m){switch(s=s|0,l=l|0,c=y(c),f=y(f),d=d|0,m=m|0,c=y(Gr(s+380+(n[976+(l<<2)>>2]<<3)|0,c)),c=y(c+y(ln(s,l,f))),n[d>>2]|0){case 2:case 1:{d=_t(c)|0,f=y(h[m>>2]),h[m>>2]=d|f<c?f:c;break}case 0:{_t(c)|0||(n[d>>2]=2,h[m>>2]=c);break}default:}}function gi(s,l){return s=s|0,l=l|0,s=s+132|0,pe(l)|0&&(n[(Fn(s,4,948)|0)+4>>2]|0)!=0?s=1:s=(n[(Fn(s,n[1040+(l<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function Or(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0;return s=s+132|0,pe(l)|0&&(f=Fn(s,4,948)|0,(n[f+4>>2]|0)!=0)?d=4:(f=Fn(s,n[1040+(l<<2)>>2]|0,948)|0,n[f+4>>2]|0?d=4:c=y(0)),(d|0)==4&&(c=y(Gr(f,c))),y(c)}function ns(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(h[s+908+(n[976+(l<<2)>>2]<<2)>>2]),f=y(f+y(K(s,l,c))),y(f+y(re(s,l,c)))}function Yi(s){s=s|0;var l=0,c=0,f=0;e:do if(UA(n[s+4>>2]|0)|0)l=0;else if((n[s+16>>2]|0)!=5)if(c=wi(s)|0,!c)l=0;else for(l=0;;){if(f=gs(s,l)|0,(n[f+24>>2]|0)==0&&(n[f+20>>2]|0)==5){l=1;break e}if(l=l+1|0,l>>>0>=c>>>0){l=0;break}}else l=1;while(0);return l|0}function Lm(s,l){s=s|0,l=l|0;var c=Ze;return c=y(h[s+908+(n[976+(l<<2)>>2]<<2)>>2]),c>=y(0)&((_t(c)|0)^1)|0}function Ya(s){s=s|0;var l=Ze,c=0,f=0,d=0,m=0,B=0,k=0,Q=Ze;if(c=n[s+968>>2]|0,c)Q=y(h[s+908>>2]),l=y(h[s+912>>2]),l=y(w7[c&0](s,Q,l)),Un(s,(_t(l)|0)^1,3573);else{m=wi(s)|0;do if(m|0){for(c=0,d=0;;){if(f=gs(s,d)|0,n[f+940>>2]|0){B=8;break}if((n[f+24>>2]|0)!=1)if(k=(ha(s,f)|0)==5,k){c=f;break}else c=(c|0)==0?f:c;if(d=d+1|0,d>>>0>=m>>>0){B=8;break}}if((B|0)==8&&!c)break;return l=y(Ya(c)),y(l+y(h[c+404>>2]))}while(0);l=y(h[s+912>>2])}return y(l)}function MA(s,l,c,f){s=s|0,l=l|0,c=y(c),f=y(f);var d=Ze,m=0;return UA(l)|0?(l=1,m=3):pe(l)|0?(l=0,m=3):(f=y(ce),d=y(ce)),(m|0)==3&&(d=y(Gr(s+364+(l<<3)|0,f)),f=y(Gr(s+380+(l<<3)|0,f))),m=f<c&(f>=y(0)&((_t(f)|0)^1)),c=m?f:c,m=d>=y(0)&((_t(d)|0)^1)&c<d,y(m?d:c)}function Om(s,l,c,f,d,m,B){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0,B=B|0;var k=Ze,Q=Ze,M=0,O=0,j=Ze,se=Ze,Ge=Ze,Me=0,Qe=0,et=0,Xe=0,lt=Ze,Ue=0;et=fr(n[s+4>>2]|0,m)|0,Me=ww(et,m)|0,Qe=pe(et)|0,j=y(ln(l,2,c)),se=y(ln(l,0,c)),ts(l,2,c)|0?k=y(j+y(Gr(n[l+992>>2]|0,c))):gi(l,2)|0&&sr(l,2)|0?(k=y(h[s+908>>2]),Q=y(Cr(s,2)),Q=y(k-y(Q+y(yn(s,2)))),k=y(Or(l,2,c)),k=y(Bi(l,2,y(Q-y(k+y(vu(l,2,c)))),c,c))):k=y(ce),ts(l,0,d)|0?Q=y(se+y(Gr(n[l+996>>2]|0,d))):gi(l,0)|0&&sr(l,0)|0?(Q=y(h[s+912>>2]),lt=y(Cr(s,0)),lt=y(Q-y(lt+y(yn(s,0)))),Q=y(Or(l,0,d)),Q=y(Bi(l,0,y(lt-y(Q+y(vu(l,0,d)))),d,c))):Q=y(ce),M=_t(k)|0,O=_t(Q)|0;do if(M^O&&(Ge=y(h[l+396>>2]),!(_t(Ge)|0)))if(M){k=y(j+y(y(Q-se)*Ge));break}else{lt=y(se+y(y(k-j)/Ge)),Q=O?lt:Q;break}while(0);O=_t(k)|0,M=_t(Q)|0,O|M&&(Ue=(O^1)&1,f=c>y(0)&((f|0)!=0&O),k=Qe?k:f?c:k,fa(l,k,Q,m,Qe?Ue:f?2:Ue,O&(M^1)&1,k,Q,0,3623,B)|0,k=y(h[l+908>>2]),k=y(k+y(ln(l,2,c))),Q=y(h[l+912>>2]),Q=y(Q+y(ln(l,0,c)))),fa(l,k,Q,m,1,1,k,Q,1,3635,B)|0,sr(l,et)|0&&!(gi(l,et)|0)?(Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),lt=y(lt-y(yn(s,et))),lt=y(lt-y(re(l,et,c))),lt=y(lt-y(vu(l,et,Qe?c:d))),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt):Xe=21;do if((Xe|0)==21){if(!(gi(l,et)|0)&&(n[s+8>>2]|0)==1){Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(y(lt-y(h[l+908+(Ue<<2)>>2]))*y(.5)),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt;break}!(gi(l,et)|0)&&(n[s+8>>2]|0)==2&&(Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt)}while(0);sr(l,Me)|0&&!(gi(l,Me)|0)?(Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),lt=y(lt-y(yn(s,Me))),lt=y(lt-y(re(l,Me,c))),lt=y(lt-y(vu(l,Me,Qe?d:c))),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt):Xe=30;do if((Xe|0)==30&&!(gi(l,Me)|0)){if((ha(s,l)|0)==2){Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(y(lt-y(h[l+908+(Ue<<2)>>2]))*y(.5)),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt;break}Ue=(ha(s,l)|0)==3,Ue^(n[s+28>>2]|0)==2&&(Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt)}while(0)}function wp(s,l,c){s=s|0,l=l|0,c=c|0;var f=Ze,d=0;d=n[976+(c<<2)>>2]|0,f=y(h[l+908+(d<<2)>>2]),f=y(y(h[s+908+(d<<2)>>2])-f),f=y(f-y(h[l+400+(n[1040+(c<<2)>>2]<<2)>>2])),h[l+400+(n[1e3+(c<<2)>>2]<<2)>>2]=f}function UA(s){return s=s|0,(s|1|0)==1|0}function Bw(s){s=s|0;var l=Ze;switch(n[s+56>>2]|0){case 0:case 3:{l=y(h[s+40>>2]),l>y(0)&((_t(l)|0)^1)?s=o[(n[s+976>>2]|0)+2>>0]|0?1056:992:s=1056;break}default:s=s+52|0}return s|0}function vw(s,l){return s=s|0,l=l|0,(o[s+l>>0]|0)!=0|0}function sr(s,l){return s=s|0,l=l|0,s=s+132|0,pe(l)|0&&(n[(Fn(s,5,948)|0)+4>>2]|0)!=0?s=1:s=(n[(Fn(s,n[1e3+(l<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function vu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0;return s=s+132|0,pe(l)|0&&(f=Fn(s,5,948)|0,(n[f+4>>2]|0)!=0)?d=4:(f=Fn(s,n[1e3+(l<<2)>>2]|0,948)|0,n[f+4>>2]|0?d=4:c=y(0)),(d|0)==4&&(c=y(Gr(f,c))),y(c)}function Mm(s,l,c){return s=s|0,l=l|0,c=y(c),gi(s,l)|0?c=y(Or(s,l,c)):c=y(-y(vu(s,l,c))),y(c)}function Du(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function Ip(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function Bg(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function _A(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function HA(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;if(B=s+4|0,k=n[B>>2]|0,d=k-f|0,m=d>>2,s=l+(m<<2)|0,s>>>0<c>>>0){f=k;do n[f>>2]=n[s>>2],s=s+4|0,f=(n[B>>2]|0)+4|0,n[B>>2]=f;while(s>>>0<c>>>0)}m|0&&Mw(k+(0-m<<2)|0,l|0,d|0)|0}function vg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0;return k=l+4|0,Q=n[k>>2]|0,d=n[s>>2]|0,B=c,m=B-d|0,f=Q+(0-(m>>2)<<2)|0,n[k>>2]=f,(m|0)>0&&Dr(f|0,d|0,m|0)|0,d=s+4|0,m=l+8|0,f=(n[d>>2]|0)-B|0,(f|0)>0&&(Dr(n[m>>2]|0,c|0,f|0)|0,n[m>>2]=(n[m>>2]|0)+(f>>>2<<2)),B=n[s>>2]|0,n[s>>2]=n[k>>2],n[k>>2]=B,B=n[d>>2]|0,n[d>>2]=n[m>>2],n[m>>2]=B,B=s+8|0,c=l+12|0,s=n[B>>2]|0,n[B>>2]=n[c>>2],n[c>>2]=s,n[l>>2]=n[k>>2],Q|0}function Dw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;if(B=n[l>>2]|0,m=n[c>>2]|0,(B|0)!=(m|0)){d=s+8|0,c=((m+-4-B|0)>>>2)+1|0,s=B,f=n[d>>2]|0;do n[f>>2]=n[s>>2],f=(n[d>>2]|0)+4|0,n[d>>2]=f,s=s+4|0;while((s|0)!=(m|0));n[l>>2]=B+(c<<2)}}function Um(){dc()}function ga(){var s=0;return s=Kt(4)|0,qA(s),s|0}function qA(s){s=s|0,n[s>>2]=ys()|0}function Pc(s){s=s|0,s|0&&(Dg(s),gt(s))}function Dg(s){s=s|0,tt(n[s>>2]|0)}function _m(s,l,c){s=s|0,l=l|0,c=c|0,Ga(n[s>>2]|0,l,c)}function fo(s,l){s=s|0,l=y(l),pa(n[s>>2]|0,l)}function Wv(s,l){return s=s|0,l=l|0,vw(n[s>>2]|0,l)|0}function Sw(){var s=0;return s=Kt(8)|0,Kv(s,0),s|0}function Kv(s,l){s=s|0,l=l|0,l?l=Ci(n[l>>2]|0)|0:l=co()|0,n[s>>2]=l,n[s+4>>2]=0,bi(l,s)}function AF(s){s=s|0;var l=0;return l=Kt(8)|0,Kv(l,s),l|0}function Vv(s){s=s|0,s|0&&(Su(s),gt(s))}function Su(s){s=s|0;var l=0;la(n[s>>2]|0),l=s+4|0,s=n[l>>2]|0,n[l>>2]=0,s|0&&(jA(s),gt(s))}function jA(s){s=s|0,GA(s)}function GA(s){s=s|0,s=n[s>>2]|0,s|0&&PA(s|0)}function Pw(s){return s=s|0,qo(s)|0}function Hm(s){s=s|0;var l=0,c=0;c=s+4|0,l=n[c>>2]|0,n[c>>2]=0,l|0&&(jA(l),gt(l)),_s(n[s>>2]|0)}function fF(s,l){s=s|0,l=l|0,$r(n[s>>2]|0,n[l>>2]|0)}function pF(s,l){s=s|0,l=l|0,ca(n[s>>2]|0,l)}function Jv(s,l,c){s=s|0,l=l|0,c=+c,yu(n[s>>2]|0,l,y(c))}function zv(s,l,c){s=s|0,l=l|0,c=+c,Es(n[s>>2]|0,l,y(c))}function bw(s,l){s=s|0,l=l|0,gu(n[s>>2]|0,l)}function Pu(s,l){s=s|0,l=l|0,du(n[s>>2]|0,l)}function hF(s,l){s=s|0,l=l|0,FA(n[s>>2]|0,l)}function gF(s,l){s=s|0,l=l|0,kA(n[s>>2]|0,l)}function Bp(s,l){s=s|0,l=l|0,yc(n[s>>2]|0,l)}function dF(s,l){s=s|0,l=l|0,Ap(n[s>>2]|0,l)}function Xv(s,l,c){s=s|0,l=l|0,c=+c,Cc(n[s>>2]|0,l,y(c))}function YA(s,l,c){s=s|0,l=l|0,c=+c,G(n[s>>2]|0,l,y(c))}function mF(s,l){s=s|0,l=l|0,wl(n[s>>2]|0,l)}function yF(s,l){s=s|0,l=l|0,ag(n[s>>2]|0,l)}function Zv(s,l){s=s|0,l=l|0,fp(n[s>>2]|0,l)}function xw(s,l){s=s|0,l=+l,RA(n[s>>2]|0,y(l))}function kw(s,l){s=s|0,l=+l,Ha(n[s>>2]|0,y(l))}function EF(s,l){s=s|0,l=+l,Gi(n[s>>2]|0,y(l))}function CF(s,l){s=s|0,l=+l,Hs(n[s>>2]|0,y(l))}function Dl(s,l){s=s|0,l=+l,mu(n[s>>2]|0,y(l))}function Qw(s,l){s=s|0,l=+l,yw(n[s>>2]|0,y(l))}function wF(s,l){s=s|0,l=+l,TA(n[s>>2]|0,y(l))}function WA(s){s=s|0,pp(n[s>>2]|0)}function qm(s,l){s=s|0,l=+l,Cs(n[s>>2]|0,y(l))}function bu(s,l){s=s|0,l=+l,ug(n[s>>2]|0,y(l))}function Fw(s){s=s|0,Ag(n[s>>2]|0)}function Rw(s,l){s=s|0,l=+l,hp(n[s>>2]|0,y(l))}function IF(s,l){s=s|0,l=+l,Ic(n[s>>2]|0,y(l))}function $v(s,l){s=s|0,l=+l,bm(n[s>>2]|0,y(l))}function KA(s,l){s=s|0,l=+l,pg(n[s>>2]|0,y(l))}function eD(s,l){s=s|0,l=+l,Cu(n[s>>2]|0,y(l))}function jm(s,l){s=s|0,l=+l,xm(n[s>>2]|0,y(l))}function tD(s,l){s=s|0,l=+l,wu(n[s>>2]|0,y(l))}function rD(s,l){s=s|0,l=+l,Ew(n[s>>2]|0,y(l))}function Gm(s,l){s=s|0,l=+l,Aa(n[s>>2]|0,y(l))}function nD(s,l,c){s=s|0,l=l|0,c=+c,Eu(n[s>>2]|0,l,y(c))}function BF(s,l,c){s=s|0,l=l|0,c=+c,xi(n[s>>2]|0,l,y(c))}function S(s,l,c){s=s|0,l=l|0,c=+c,wc(n[s>>2]|0,l,y(c))}function D(s){return s=s|0,og(n[s>>2]|0)|0}function T(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Ec(d,n[l>>2]|0,c),q(s,d),C=f}function q(s,l){s=s|0,l=l|0,Y(s,n[l+4>>2]|0,+y(h[l>>2]))}function Y(s,l,c){s=s|0,l=l|0,c=+c,n[s>>2]=l,E[s+8>>3]=c}function Ae(s){return s=s|0,sg(n[s>>2]|0)|0}function De(s){return s=s|0,uo(n[s>>2]|0)|0}function vt(s){return s=s|0,mc(n[s>>2]|0)|0}function wt(s){return s=s|0,QA(n[s>>2]|0)|0}function xt(s){return s=s|0,Pm(n[s>>2]|0)|0}function _r(s){return s=s|0,ig(n[s>>2]|0)|0}function is(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Dt(d,n[l>>2]|0,c),q(s,d),C=f}function di(s){return s=s|0,$n(n[s>>2]|0)|0}function po(s){return s=s|0,lg(n[s>>2]|0)|0}function VA(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,ua(f,n[l>>2]|0),q(s,f),C=c}function Yo(s){return s=s|0,+ +y(ji(n[s>>2]|0))}function rt(s){return s=s|0,+ +y(es(n[s>>2]|0))}function Ve(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Br(f,n[l>>2]|0),q(s,f),C=c}function ft(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,fg(f,n[l>>2]|0),q(s,f),C=c}function Wt(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Ct(f,n[l>>2]|0),q(s,f),C=c}function vr(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,hg(f,n[l>>2]|0),q(s,f),C=c}function Pn(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,gg(f,n[l>>2]|0),q(s,f),C=c}function Fr(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,km(f,n[l>>2]|0),q(s,f),C=c}function bn(s){return s=s|0,+ +y(Bc(n[s>>2]|0))}function ai(s,l){return s=s|0,l=l|0,+ +y(cg(n[s>>2]|0,l))}function tn(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,ct(d,n[l>>2]|0,c),q(s,d),C=f}function ho(s,l,c){s=s|0,l=l|0,c=c|0,nr(n[s>>2]|0,n[l>>2]|0,c)}function vF(s,l){s=s|0,l=l|0,ms(n[s>>2]|0,n[l>>2]|0)}function eve(s){return s=s|0,wi(n[s>>2]|0)|0}function tve(s){return s=s|0,s=ht(n[s>>2]|0)|0,s?s=Pw(s)|0:s=0,s|0}function rve(s,l){return s=s|0,l=l|0,s=gs(n[s>>2]|0,l)|0,s?s=Pw(s)|0:s=0,s|0}function nve(s,l){s=s|0,l=l|0;var c=0,f=0;f=Kt(4)|0,zG(f,l),c=s+4|0,l=n[c>>2]|0,n[c>>2]=f,l|0&&(jA(l),gt(l)),It(n[s>>2]|0,1)}function zG(s,l){s=s|0,l=l|0,gve(s,l)}function ive(s,l,c,f,d,m){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0;var B=0,k=0;B=C,C=C+16|0,k=B,sve(k,qo(l)|0,+c,f,+d,m),h[s>>2]=y(+E[k>>3]),h[s+4>>2]=y(+E[k+8>>3]),C=B}function sve(s,l,c,f,d,m){s=s|0,l=l|0,c=+c,f=f|0,d=+d,m=m|0;var B=0,k=0,Q=0,M=0,O=0;B=C,C=C+32|0,O=B+8|0,M=B+20|0,Q=B,k=B+16|0,E[O>>3]=c,n[M>>2]=f,E[Q>>3]=d,n[k>>2]=m,ove(s,n[l+4>>2]|0,O,M,Q,k),C=B}function ove(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0;B=C,C=C+16|0,k=B,Ka(k),l=da(l)|0,ave(s,l,+E[c>>3],n[f>>2]|0,+E[d>>3],n[m>>2]|0),Va(k),C=B}function da(s){return s=s|0,n[s>>2]|0}function ave(s,l,c,f,d,m){s=s|0,l=l|0,c=+c,f=f|0,d=+d,m=m|0;var B=0;B=Sl(lve()|0)|0,c=+JA(c),f=DF(f)|0,d=+JA(d),cve(s,hi(0,B|0,l|0,+c,f|0,+d,DF(m)|0)|0)}function lve(){var s=0;return o[7608]|0||(pve(9120),s=7608,n[s>>2]=1,n[s+4>>2]=0),9120}function Sl(s){return s=s|0,n[s+8>>2]|0}function JA(s){return s=+s,+ +SF(s)}function DF(s){return s=s|0,ZG(s)|0}function cve(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+32|0,c=d,f=l,f&1?(uve(c,0),ii(f|0,c|0)|0,Ave(s,c),fve(c)):(n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2]),C=d}function uve(s,l){s=s|0,l=l|0,XG(s,l),n[s+8>>2]=0,o[s+24>>0]=0}function Ave(s,l){s=s|0,l=l|0,l=l+8|0,n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2]}function fve(s){s=s|0,o[s+24>>0]=0}function XG(s,l){s=s|0,l=l|0,n[s>>2]=l}function ZG(s){return s=s|0,s|0}function SF(s){return s=+s,+s}function pve(s){s=s|0,Pl(s,hve()|0,4)}function hve(){return 1064}function Pl(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=up(l|0,c+1|0)|0}function gve(s,l){s=s|0,l=l|0,l=n[l>>2]|0,n[s>>2]=l,yl(l|0)}function dve(s){s=s|0;var l=0,c=0;c=s+4|0,l=n[c>>2]|0,n[c>>2]=0,l|0&&(jA(l),gt(l)),It(n[s>>2]|0,0)}function mve(s){s=s|0,Tt(n[s>>2]|0)}function yve(s){return s=s|0,er(n[s>>2]|0)|0}function Eve(s,l,c,f){s=s|0,l=+l,c=+c,f=f|0,vc(n[s>>2]|0,y(l),y(c),f)}function Cve(s){return s=s|0,+ +y(Il(n[s>>2]|0))}function wve(s){return s=s|0,+ +y(dg(n[s>>2]|0))}function Ive(s){return s=s|0,+ +y(Iu(n[s>>2]|0))}function Bve(s){return s=s|0,+ +y(NA(n[s>>2]|0))}function vve(s){return s=s|0,+ +y(gp(n[s>>2]|0))}function Dve(s){return s=s|0,+ +y(qa(n[s>>2]|0))}function Sve(s,l){s=s|0,l=l|0,E[s>>3]=+y(Il(n[l>>2]|0)),E[s+8>>3]=+y(dg(n[l>>2]|0)),E[s+16>>3]=+y(Iu(n[l>>2]|0)),E[s+24>>3]=+y(NA(n[l>>2]|0)),E[s+32>>3]=+y(gp(n[l>>2]|0)),E[s+40>>3]=+y(qa(n[l>>2]|0))}function Pve(s,l){return s=s|0,l=l|0,+ +y(mg(n[s>>2]|0,l))}function bve(s,l){return s=s|0,l=l|0,+ +y(dp(n[s>>2]|0,l))}function xve(s,l){return s=s|0,l=l|0,+ +y(jo(n[s>>2]|0,l))}function kve(){return Sn()|0}function Qve(){Fve(),Rve(),Tve(),Nve(),Lve(),Ove()}function Fve(){LNe(11713,4938,1)}function Rve(){tNe(10448)}function Tve(){LTe(10408)}function Nve(){sTe(10324)}function Lve(){pFe(10096)}function Ove(){Mve(9132)}function Mve(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0,go=0,mo=0,yo=0,ya=0,Fp=0,Rp=0,bl=0,Tp=0,Fu=0,Ru=0,Np=0,Lp=0,Op=0,Xr=0,xl=0,Mp=0,xc=0,Up=0,_p=0,Tu=0,Nu=0,kc=0,js=0,za=0,Wo=0,kl=0,nf=0,sf=0,Lu=0,of=0,af=0,Gs=0,vs=0,Ql=0,Rn=0,lf=0,Eo=0,Qc=0,Co=0,Fc=0,cf=0,uf=0,Rc=0,Ys=0,Fl=0,Af=0,ff=0,pf=0,xr=0,Jn=0,Ds=0,wo=0,Ws=0,Rr=0,ur=0,Rl=0;l=C,C=C+672|0,c=l+656|0,Rl=l+648|0,ur=l+640|0,Rr=l+632|0,Ws=l+624|0,wo=l+616|0,Ds=l+608|0,Jn=l+600|0,xr=l+592|0,pf=l+584|0,ff=l+576|0,Af=l+568|0,Fl=l+560|0,Ys=l+552|0,Rc=l+544|0,uf=l+536|0,cf=l+528|0,Fc=l+520|0,Co=l+512|0,Qc=l+504|0,Eo=l+496|0,lf=l+488|0,Rn=l+480|0,Ql=l+472|0,vs=l+464|0,Gs=l+456|0,af=l+448|0,of=l+440|0,Lu=l+432|0,sf=l+424|0,nf=l+416|0,kl=l+408|0,Wo=l+400|0,za=l+392|0,js=l+384|0,kc=l+376|0,Nu=l+368|0,Tu=l+360|0,_p=l+352|0,Up=l+344|0,xc=l+336|0,Mp=l+328|0,xl=l+320|0,Xr=l+312|0,Op=l+304|0,Lp=l+296|0,Np=l+288|0,Ru=l+280|0,Fu=l+272|0,Tp=l+264|0,bl=l+256|0,Rp=l+248|0,Fp=l+240|0,ya=l+232|0,yo=l+224|0,mo=l+216|0,go=l+208|0,xn=l+200|0,ir=l+192|0,Nr=l+184|0,Sr=l+176|0,Xt=l+168|0,or=l+160|0,Mr=l+152|0,Lt=l+144|0,je=l+136|0,Ue=l+128|0,lt=l+120|0,Xe=l+112|0,et=l+104|0,Qe=l+96|0,Me=l+88|0,Ge=l+80|0,se=l+72|0,j=l+64|0,O=l+56|0,M=l+48|0,Q=l+40|0,k=l+32|0,B=l+24|0,m=l+16|0,d=l+8|0,f=l,Uve(s,3646),_ve(s,3651,2)|0,Hve(s,3665,2)|0,qve(s,3682,18)|0,n[Rl>>2]=19,n[Rl+4>>2]=0,n[c>>2]=n[Rl>>2],n[c+4>>2]=n[Rl+4>>2],Tw(s,3690,c)|0,n[ur>>2]=1,n[ur+4>>2]=0,n[c>>2]=n[ur>>2],n[c+4>>2]=n[ur+4>>2],jve(s,3696,c)|0,n[Rr>>2]=2,n[Rr+4>>2]=0,n[c>>2]=n[Rr>>2],n[c+4>>2]=n[Rr+4>>2],xu(s,3706,c)|0,n[Ws>>2]=1,n[Ws+4>>2]=0,n[c>>2]=n[Ws>>2],n[c+4>>2]=n[Ws+4>>2],Sg(s,3722,c)|0,n[wo>>2]=2,n[wo+4>>2]=0,n[c>>2]=n[wo>>2],n[c+4>>2]=n[wo+4>>2],Sg(s,3734,c)|0,n[Ds>>2]=3,n[Ds+4>>2]=0,n[c>>2]=n[Ds>>2],n[c+4>>2]=n[Ds+4>>2],xu(s,3753,c)|0,n[Jn>>2]=4,n[Jn+4>>2]=0,n[c>>2]=n[Jn>>2],n[c+4>>2]=n[Jn+4>>2],xu(s,3769,c)|0,n[xr>>2]=5,n[xr+4>>2]=0,n[c>>2]=n[xr>>2],n[c+4>>2]=n[xr+4>>2],xu(s,3783,c)|0,n[pf>>2]=6,n[pf+4>>2]=0,n[c>>2]=n[pf>>2],n[c+4>>2]=n[pf+4>>2],xu(s,3796,c)|0,n[ff>>2]=7,n[ff+4>>2]=0,n[c>>2]=n[ff>>2],n[c+4>>2]=n[ff+4>>2],xu(s,3813,c)|0,n[Af>>2]=8,n[Af+4>>2]=0,n[c>>2]=n[Af>>2],n[c+4>>2]=n[Af+4>>2],xu(s,3825,c)|0,n[Fl>>2]=3,n[Fl+4>>2]=0,n[c>>2]=n[Fl>>2],n[c+4>>2]=n[Fl+4>>2],Sg(s,3843,c)|0,n[Ys>>2]=4,n[Ys+4>>2]=0,n[c>>2]=n[Ys>>2],n[c+4>>2]=n[Ys+4>>2],Sg(s,3853,c)|0,n[Rc>>2]=9,n[Rc+4>>2]=0,n[c>>2]=n[Rc>>2],n[c+4>>2]=n[Rc+4>>2],xu(s,3870,c)|0,n[uf>>2]=10,n[uf+4>>2]=0,n[c>>2]=n[uf>>2],n[c+4>>2]=n[uf+4>>2],xu(s,3884,c)|0,n[cf>>2]=11,n[cf+4>>2]=0,n[c>>2]=n[cf>>2],n[c+4>>2]=n[cf+4>>2],xu(s,3896,c)|0,n[Fc>>2]=1,n[Fc+4>>2]=0,n[c>>2]=n[Fc>>2],n[c+4>>2]=n[Fc+4>>2],Is(s,3907,c)|0,n[Co>>2]=2,n[Co+4>>2]=0,n[c>>2]=n[Co>>2],n[c+4>>2]=n[Co+4>>2],Is(s,3915,c)|0,n[Qc>>2]=3,n[Qc+4>>2]=0,n[c>>2]=n[Qc>>2],n[c+4>>2]=n[Qc+4>>2],Is(s,3928,c)|0,n[Eo>>2]=4,n[Eo+4>>2]=0,n[c>>2]=n[Eo>>2],n[c+4>>2]=n[Eo+4>>2],Is(s,3948,c)|0,n[lf>>2]=5,n[lf+4>>2]=0,n[c>>2]=n[lf>>2],n[c+4>>2]=n[lf+4>>2],Is(s,3960,c)|0,n[Rn>>2]=6,n[Rn+4>>2]=0,n[c>>2]=n[Rn>>2],n[c+4>>2]=n[Rn+4>>2],Is(s,3974,c)|0,n[Ql>>2]=7,n[Ql+4>>2]=0,n[c>>2]=n[Ql>>2],n[c+4>>2]=n[Ql+4>>2],Is(s,3983,c)|0,n[vs>>2]=20,n[vs+4>>2]=0,n[c>>2]=n[vs>>2],n[c+4>>2]=n[vs+4>>2],Tw(s,3999,c)|0,n[Gs>>2]=8,n[Gs+4>>2]=0,n[c>>2]=n[Gs>>2],n[c+4>>2]=n[Gs+4>>2],Is(s,4012,c)|0,n[af>>2]=9,n[af+4>>2]=0,n[c>>2]=n[af>>2],n[c+4>>2]=n[af+4>>2],Is(s,4022,c)|0,n[of>>2]=21,n[of+4>>2]=0,n[c>>2]=n[of>>2],n[c+4>>2]=n[of+4>>2],Tw(s,4039,c)|0,n[Lu>>2]=10,n[Lu+4>>2]=0,n[c>>2]=n[Lu>>2],n[c+4>>2]=n[Lu+4>>2],Is(s,4053,c)|0,n[sf>>2]=11,n[sf+4>>2]=0,n[c>>2]=n[sf>>2],n[c+4>>2]=n[sf+4>>2],Is(s,4065,c)|0,n[nf>>2]=12,n[nf+4>>2]=0,n[c>>2]=n[nf>>2],n[c+4>>2]=n[nf+4>>2],Is(s,4084,c)|0,n[kl>>2]=13,n[kl+4>>2]=0,n[c>>2]=n[kl>>2],n[c+4>>2]=n[kl+4>>2],Is(s,4097,c)|0,n[Wo>>2]=14,n[Wo+4>>2]=0,n[c>>2]=n[Wo>>2],n[c+4>>2]=n[Wo+4>>2],Is(s,4117,c)|0,n[za>>2]=15,n[za+4>>2]=0,n[c>>2]=n[za>>2],n[c+4>>2]=n[za+4>>2],Is(s,4129,c)|0,n[js>>2]=16,n[js+4>>2]=0,n[c>>2]=n[js>>2],n[c+4>>2]=n[js+4>>2],Is(s,4148,c)|0,n[kc>>2]=17,n[kc+4>>2]=0,n[c>>2]=n[kc>>2],n[c+4>>2]=n[kc+4>>2],Is(s,4161,c)|0,n[Nu>>2]=18,n[Nu+4>>2]=0,n[c>>2]=n[Nu>>2],n[c+4>>2]=n[Nu+4>>2],Is(s,4181,c)|0,n[Tu>>2]=5,n[Tu+4>>2]=0,n[c>>2]=n[Tu>>2],n[c+4>>2]=n[Tu+4>>2],Sg(s,4196,c)|0,n[_p>>2]=6,n[_p+4>>2]=0,n[c>>2]=n[_p>>2],n[c+4>>2]=n[_p+4>>2],Sg(s,4206,c)|0,n[Up>>2]=7,n[Up+4>>2]=0,n[c>>2]=n[Up>>2],n[c+4>>2]=n[Up+4>>2],Sg(s,4217,c)|0,n[xc>>2]=3,n[xc+4>>2]=0,n[c>>2]=n[xc>>2],n[c+4>>2]=n[xc+4>>2],zA(s,4235,c)|0,n[Mp>>2]=1,n[Mp+4>>2]=0,n[c>>2]=n[Mp>>2],n[c+4>>2]=n[Mp+4>>2],PF(s,4251,c)|0,n[xl>>2]=4,n[xl+4>>2]=0,n[c>>2]=n[xl>>2],n[c+4>>2]=n[xl+4>>2],zA(s,4263,c)|0,n[Xr>>2]=5,n[Xr+4>>2]=0,n[c>>2]=n[Xr>>2],n[c+4>>2]=n[Xr+4>>2],zA(s,4279,c)|0,n[Op>>2]=6,n[Op+4>>2]=0,n[c>>2]=n[Op>>2],n[c+4>>2]=n[Op+4>>2],zA(s,4293,c)|0,n[Lp>>2]=7,n[Lp+4>>2]=0,n[c>>2]=n[Lp>>2],n[c+4>>2]=n[Lp+4>>2],zA(s,4306,c)|0,n[Np>>2]=8,n[Np+4>>2]=0,n[c>>2]=n[Np>>2],n[c+4>>2]=n[Np+4>>2],zA(s,4323,c)|0,n[Ru>>2]=9,n[Ru+4>>2]=0,n[c>>2]=n[Ru>>2],n[c+4>>2]=n[Ru+4>>2],zA(s,4335,c)|0,n[Fu>>2]=2,n[Fu+4>>2]=0,n[c>>2]=n[Fu>>2],n[c+4>>2]=n[Fu+4>>2],PF(s,4353,c)|0,n[Tp>>2]=12,n[Tp+4>>2]=0,n[c>>2]=n[Tp>>2],n[c+4>>2]=n[Tp+4>>2],Pg(s,4363,c)|0,n[bl>>2]=1,n[bl+4>>2]=0,n[c>>2]=n[bl>>2],n[c+4>>2]=n[bl+4>>2],XA(s,4376,c)|0,n[Rp>>2]=2,n[Rp+4>>2]=0,n[c>>2]=n[Rp>>2],n[c+4>>2]=n[Rp+4>>2],XA(s,4388,c)|0,n[Fp>>2]=13,n[Fp+4>>2]=0,n[c>>2]=n[Fp>>2],n[c+4>>2]=n[Fp+4>>2],Pg(s,4402,c)|0,n[ya>>2]=14,n[ya+4>>2]=0,n[c>>2]=n[ya>>2],n[c+4>>2]=n[ya+4>>2],Pg(s,4411,c)|0,n[yo>>2]=15,n[yo+4>>2]=0,n[c>>2]=n[yo>>2],n[c+4>>2]=n[yo+4>>2],Pg(s,4421,c)|0,n[mo>>2]=16,n[mo+4>>2]=0,n[c>>2]=n[mo>>2],n[c+4>>2]=n[mo+4>>2],Pg(s,4433,c)|0,n[go>>2]=17,n[go+4>>2]=0,n[c>>2]=n[go>>2],n[c+4>>2]=n[go+4>>2],Pg(s,4446,c)|0,n[xn>>2]=18,n[xn+4>>2]=0,n[c>>2]=n[xn>>2],n[c+4>>2]=n[xn+4>>2],Pg(s,4458,c)|0,n[ir>>2]=3,n[ir+4>>2]=0,n[c>>2]=n[ir>>2],n[c+4>>2]=n[ir+4>>2],XA(s,4471,c)|0,n[Nr>>2]=1,n[Nr+4>>2]=0,n[c>>2]=n[Nr>>2],n[c+4>>2]=n[Nr+4>>2],iD(s,4486,c)|0,n[Sr>>2]=10,n[Sr+4>>2]=0,n[c>>2]=n[Sr>>2],n[c+4>>2]=n[Sr+4>>2],zA(s,4496,c)|0,n[Xt>>2]=11,n[Xt+4>>2]=0,n[c>>2]=n[Xt>>2],n[c+4>>2]=n[Xt+4>>2],zA(s,4508,c)|0,n[or>>2]=3,n[or+4>>2]=0,n[c>>2]=n[or>>2],n[c+4>>2]=n[or+4>>2],PF(s,4519,c)|0,n[Mr>>2]=4,n[Mr+4>>2]=0,n[c>>2]=n[Mr>>2],n[c+4>>2]=n[Mr+4>>2],Gve(s,4530,c)|0,n[Lt>>2]=19,n[Lt+4>>2]=0,n[c>>2]=n[Lt>>2],n[c+4>>2]=n[Lt+4>>2],Yve(s,4542,c)|0,n[je>>2]=12,n[je+4>>2]=0,n[c>>2]=n[je>>2],n[c+4>>2]=n[je+4>>2],Wve(s,4554,c)|0,n[Ue>>2]=13,n[Ue+4>>2]=0,n[c>>2]=n[Ue>>2],n[c+4>>2]=n[Ue+4>>2],Kve(s,4568,c)|0,n[lt>>2]=2,n[lt+4>>2]=0,n[c>>2]=n[lt>>2],n[c+4>>2]=n[lt+4>>2],Vve(s,4578,c)|0,n[Xe>>2]=20,n[Xe+4>>2]=0,n[c>>2]=n[Xe>>2],n[c+4>>2]=n[Xe+4>>2],Jve(s,4587,c)|0,n[et>>2]=22,n[et+4>>2]=0,n[c>>2]=n[et>>2],n[c+4>>2]=n[et+4>>2],Tw(s,4602,c)|0,n[Qe>>2]=23,n[Qe+4>>2]=0,n[c>>2]=n[Qe>>2],n[c+4>>2]=n[Qe+4>>2],Tw(s,4619,c)|0,n[Me>>2]=14,n[Me+4>>2]=0,n[c>>2]=n[Me>>2],n[c+4>>2]=n[Me+4>>2],zve(s,4629,c)|0,n[Ge>>2]=1,n[Ge+4>>2]=0,n[c>>2]=n[Ge>>2],n[c+4>>2]=n[Ge+4>>2],Xve(s,4637,c)|0,n[se>>2]=4,n[se+4>>2]=0,n[c>>2]=n[se>>2],n[c+4>>2]=n[se+4>>2],XA(s,4653,c)|0,n[j>>2]=5,n[j+4>>2]=0,n[c>>2]=n[j>>2],n[c+4>>2]=n[j+4>>2],XA(s,4669,c)|0,n[O>>2]=6,n[O+4>>2]=0,n[c>>2]=n[O>>2],n[c+4>>2]=n[O+4>>2],XA(s,4686,c)|0,n[M>>2]=7,n[M+4>>2]=0,n[c>>2]=n[M>>2],n[c+4>>2]=n[M+4>>2],XA(s,4701,c)|0,n[Q>>2]=8,n[Q+4>>2]=0,n[c>>2]=n[Q>>2],n[c+4>>2]=n[Q+4>>2],XA(s,4719,c)|0,n[k>>2]=9,n[k+4>>2]=0,n[c>>2]=n[k>>2],n[c+4>>2]=n[k+4>>2],XA(s,4736,c)|0,n[B>>2]=21,n[B+4>>2]=0,n[c>>2]=n[B>>2],n[c+4>>2]=n[B+4>>2],Zve(s,4754,c)|0,n[m>>2]=2,n[m+4>>2]=0,n[c>>2]=n[m>>2],n[c+4>>2]=n[m+4>>2],iD(s,4772,c)|0,n[d>>2]=3,n[d+4>>2]=0,n[c>>2]=n[d>>2],n[c+4>>2]=n[d+4>>2],iD(s,4790,c)|0,n[f>>2]=4,n[f+4>>2]=0,n[c>>2]=n[f>>2],n[c+4>>2]=n[f+4>>2],iD(s,4808,c)|0,C=l}function Uve(s,l){s=s|0,l=l|0;var c=0;c=iFe()|0,n[s>>2]=c,sFe(c,l),xp(n[s>>2]|0)}function _ve(s,l,c){return s=s|0,l=l|0,c=c|0,GQe(s,pn(l)|0,c,0),s|0}function Hve(s,l,c){return s=s|0,l=l|0,c=c|0,bQe(s,pn(l)|0,c,0),s|0}function qve(s,l,c){return s=s|0,l=l|0,c=c|0,hQe(s,pn(l)|0,c,0),s|0}function Tw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Zke(s,l,d),C=f,s|0}function jve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Rke(s,l,d),C=f,s|0}function xu(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],mke(s,l,d),C=f,s|0}function Sg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tke(s,l,d),C=f,s|0}function Is(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Uxe(s,l,d),C=f,s|0}function zA(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Bxe(s,l,d),C=f,s|0}function PF(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],axe(s,l,d),C=f,s|0}function Pg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Rbe(s,l,d),C=f,s|0}function XA(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],mbe(s,l,d),C=f,s|0}function iD(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tbe(s,l,d),C=f,s|0}function Gve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],UPe(s,l,d),C=f,s|0}function Yve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],BPe(s,l,d),C=f,s|0}function Wve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],lPe(s,l,d),C=f,s|0}function Kve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],KSe(s,l,d),C=f,s|0}function Vve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],kSe(s,l,d),C=f,s|0}function Jve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],pSe(s,l,d),C=f,s|0}function zve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],XDe(s,l,d),C=f,s|0}function Xve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],RDe(s,l,d),C=f,s|0}function Zve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],$ve(s,l,d),C=f,s|0}function $ve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],eDe(s,c,d,1),C=f}function pn(s){return s=s|0,s|0}function eDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=bF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=tDe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,rDe(m,f)|0,f),C=d}function bF(){var s=0,l=0;if(o[7616]|0||(t5(9136),tr(24,9136,U|0)|0,l=7616,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9136)|0)){s=9136,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));t5(9136)}return 9136}function tDe(s){return s=s|0,0}function rDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=bF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],e5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sDe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function hn(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0;B=C,C=C+32|0,se=B+24|0,j=B+20|0,Q=B+16|0,O=B+12|0,M=B+8|0,k=B+4|0,Ge=B,n[j>>2]=l,n[Q>>2]=c,n[O>>2]=f,n[M>>2]=d,n[k>>2]=m,m=s+28|0,n[Ge>>2]=n[m>>2],n[se>>2]=n[Ge>>2],nDe(s+24|0,se,j,O,M,Q,k)|0,n[m>>2]=n[n[m>>2]>>2],C=B}function nDe(s,l,c,f,d,m,B){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,s=iDe(l)|0,l=Kt(24)|0,$G(l+4|0,n[c>>2]|0,n[f>>2]|0,n[d>>2]|0,n[m>>2]|0,n[B>>2]|0),n[l>>2]=n[s>>2],n[s>>2]=l,l|0}function iDe(s){return s=s|0,n[s>>2]|0}function $G(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=f,n[s+12>>2]=d,n[s+16>>2]=m}function gr(s,l){return s=s|0,l=l|0,l|s|0}function e5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oDe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,aDe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],e5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lDe(s,k),cDe(k),C=M;return}}function oDe(s){return s=s|0,357913941}function aDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cDe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function t5(s){s=s|0,fDe(s)}function uDe(s){s=s|0,ADe(s+24|0)}function Tr(s){return s=s|0,n[s>>2]|0}function ADe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fDe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,3,l,pDe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Kr(){return 9228}function pDe(){return 1140}function hDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=gDe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=dDe(l,f)|0,C=c,l|0}function Vr(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=f,n[s+12>>2]=d,n[s+16>>2]=m}function gDe(s){return s=s|0,(n[(bF()|0)+24>>2]|0)+(s*12|0)|0}function dDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+48|0,f=d,c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),rf[c&31](f,s),f=mDe(f)|0,C=d,f|0}function mDe(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(r5()|0)|0,f?(kF(l,f),QF(c,l),yDe(s,c),s=FF(l)|0):s=EDe(s)|0,C=d,s|0}function r5(){var s=0;return o[7632]|0||(xDe(9184),tr(25,9184,U|0)|0,s=7632,n[s>>2]=1,n[s+4>>2]=0),9184}function xF(s){return s=s|0,n[s+36>>2]|0}function kF(s,l){s=s|0,l=l|0,n[s>>2]=l,n[s+4>>2]=s,n[s+8>>2]=0}function QF(s,l){s=s|0,l=l|0,n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=0}function yDe(s,l){s=s|0,l=l|0,BDe(l,s,s+8|0,s+16|0,s+24|0,s+32|0,s+40|0)|0}function FF(s){return s=s|0,n[(n[s+4>>2]|0)+8>>2]|0}function EDe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0;Q=C,C=C+16|0,c=Q+4|0,f=Q,d=Wa(8)|0,m=d,B=Kt(48)|0,k=B,l=k+48|0;do n[k>>2]=n[s>>2],k=k+4|0,s=s+4|0;while((k|0)<(l|0));return l=m+4|0,n[l>>2]=B,k=Kt(8)|0,B=n[l>>2]|0,n[f>>2]=0,n[c>>2]=n[f>>2],n5(k,B,c),n[d>>2]=k,C=Q,m|0}function n5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1092,n[c+12>>2]=l,n[s+4>>2]=c}function CDe(s){s=s|0,zm(s),gt(s)}function wDe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function IDe(s){s=s|0,gt(s)}function BDe(s,l,c,f,d,m,B){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,m=vDe(n[s>>2]|0,l,c,f,d,m,B)|0,B=s+4|0,n[(n[B>>2]|0)+8>>2]=m,n[(n[B>>2]|0)+8>>2]|0}function vDe(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0;var k=0,Q=0;return k=C,C=C+16|0,Q=k,Ka(Q),s=da(s)|0,B=DDe(s,+E[l>>3],+E[c>>3],+E[f>>3],+E[d>>3],+E[m>>3],+E[B>>3])|0,Va(Q),C=k,B|0}function DDe(s,l,c,f,d,m,B){s=s|0,l=+l,c=+c,f=+f,d=+d,m=+m,B=+B;var k=0;return k=Sl(SDe()|0)|0,l=+JA(l),c=+JA(c),f=+JA(f),d=+JA(d),m=+JA(m),Ms(0,k|0,s|0,+l,+c,+f,+d,+m,+ +JA(B))|0}function SDe(){var s=0;return o[7624]|0||(PDe(9172),s=7624,n[s>>2]=1,n[s+4>>2]=0),9172}function PDe(s){s=s|0,Pl(s,bDe()|0,6)}function bDe(){return 1112}function xDe(s){s=s|0,vp(s)}function kDe(s){s=s|0,i5(s+24|0),s5(s+16|0)}function i5(s){s=s|0,FDe(s)}function s5(s){s=s|0,QDe(s)}function QDe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function FDe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function vp(s){s=s|0;var l=0;n[s+16>>2]=0,n[s+20>>2]=0,l=s+24|0,n[l>>2]=0,n[s+28>>2]=l,n[s+36>>2]=0,o[s+40>>0]=0,o[s+41>>0]=0}function RDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],TDe(s,c,d,0),C=f}function TDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=RF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=NDe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,LDe(m,f)|0,f),C=d}function RF(){var s=0,l=0;if(o[7640]|0||(a5(9232),tr(26,9232,U|0)|0,l=7640,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9232)|0)){s=9232,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));a5(9232)}return 9232}function NDe(s){return s=s|0,0}function LDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=RF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],o5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(ODe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function o5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function ODe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=MDe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,UDe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],o5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_De(s,k),HDe(k),C=M;return}}function MDe(s){return s=s|0,357913941}function UDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _De(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function HDe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function a5(s){s=s|0,GDe(s)}function qDe(s){s=s|0,jDe(s+24|0)}function jDe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function GDe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,YDe()|0,3),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function YDe(){return 1144}function WDe(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+16|0,B=m+8|0,k=m,Q=KDe(s)|0,s=n[Q+4>>2]|0,n[k>>2]=n[Q>>2],n[k+4>>2]=s,n[B>>2]=n[k>>2],n[B+4>>2]=n[k+4>>2],VDe(l,B,c,f,d),C=m}function KDe(s){return s=s|0,(n[(RF()|0)+24>>2]|0)+(s*12|0)|0}function VDe(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0;var m=0,B=0,k=0,Q=0,M=0;M=C,C=C+16|0,B=M+2|0,k=M+1|0,Q=M,m=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(m=n[(n[s>>2]|0)+m>>2]|0),ku(B,c),c=+Qu(B,c),ku(k,f),f=+Qu(k,f),ZA(Q,d),Q=$A(Q,d)|0,I7[m&1](s,c,f,Q),C=M}function ku(s,l){s=s|0,l=+l}function Qu(s,l){return s=s|0,l=+l,+ +zDe(l)}function ZA(s,l){s=s|0,l=l|0}function $A(s,l){return s=s|0,l=l|0,JDe(l)|0}function JDe(s){return s=s|0,s|0}function zDe(s){return s=+s,+s}function XDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],ZDe(s,c,d,1),C=f}function ZDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=TF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=$De(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,eSe(m,f)|0,f),C=d}function TF(){var s=0,l=0;if(o[7648]|0||(c5(9268),tr(27,9268,U|0)|0,l=7648,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9268)|0)){s=9268,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));c5(9268)}return 9268}function $De(s){return s=s|0,0}function eSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=TF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],l5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(tSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function l5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function tSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=rSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,nSe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],l5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,iSe(s,k),sSe(k),C=M;return}}function rSe(s){return s=s|0,357913941}function nSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function iSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function sSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function c5(s){s=s|0,lSe(s)}function oSe(s){s=s|0,aSe(s+24|0)}function aSe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function lSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,4,l,cSe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function cSe(){return 1160}function uSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=ASe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=fSe(l,f)|0,C=c,l|0}function ASe(s){return s=s|0,(n[(TF()|0)+24>>2]|0)+(s*12|0)|0}function fSe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),u5(Lg[c&31](s)|0)|0}function u5(s){return s=s|0,s&1|0}function pSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],hSe(s,c,d,0),C=f}function hSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=NF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=gSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,dSe(m,f)|0,f),C=d}function NF(){var s=0,l=0;if(o[7656]|0||(f5(9304),tr(28,9304,U|0)|0,l=7656,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9304)|0)){s=9304,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));f5(9304)}return 9304}function gSe(s){return s=s|0,0}function dSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=NF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],A5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(mSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function A5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function mSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=ySe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,ESe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],A5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,CSe(s,k),wSe(k),C=M;return}}function ySe(s){return s=s|0,357913941}function ESe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function CSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function wSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function f5(s){s=s|0,vSe(s)}function ISe(s){s=s|0,BSe(s+24|0)}function BSe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function vSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,DSe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function DSe(){return 1164}function SSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=PSe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],bSe(l,d,c),C=f}function PSe(s){return s=s|0,(n[(NF()|0)+24>>2]|0)+(s*12|0)|0}function bSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),Dp(d,c),c=Sp(d,c)|0,rf[f&31](s,c),Pp(d),C=m}function Dp(s,l){s=s|0,l=l|0,xSe(s,l)}function Sp(s,l){return s=s|0,l=l|0,s|0}function Pp(s){s=s|0,jA(s)}function xSe(s,l){s=s|0,l=l|0,LF(s,l)}function LF(s,l){s=s|0,l=l|0,n[s>>2]=l}function kSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],QSe(s,c,d,0),C=f}function QSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=OF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=FSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,RSe(m,f)|0,f),C=d}function OF(){var s=0,l=0;if(o[7664]|0||(h5(9340),tr(29,9340,U|0)|0,l=7664,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9340)|0)){s=9340,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));h5(9340)}return 9340}function FSe(s){return s=s|0,0}function RSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=OF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],p5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(TSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function p5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function TSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=NSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,LSe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],p5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,OSe(s,k),MSe(k),C=M;return}}function NSe(s){return s=s|0,357913941}function LSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function OSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function MSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function h5(s){s=s|0,HSe(s)}function USe(s){s=s|0,_Se(s+24|0)}function _Se(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function HSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,4,l,qSe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function qSe(){return 1180}function jSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=GSe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=YSe(l,d,c)|0,C=f,c|0}function GSe(s){return s=s|0,(n[(OF()|0)+24>>2]|0)+(s*12|0)|0}function YSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),bg(d,c),d=xg(d,c)|0,d=sD(RR[f&15](s,d)|0)|0,C=m,d|0}function bg(s,l){s=s|0,l=l|0}function xg(s,l){return s=s|0,l=l|0,WSe(l)|0}function sD(s){return s=s|0,s|0}function WSe(s){return s=s|0,s|0}function KSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],VSe(s,c,d,0),C=f}function VSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=MF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=JSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,zSe(m,f)|0,f),C=d}function MF(){var s=0,l=0;if(o[7672]|0||(d5(9376),tr(30,9376,U|0)|0,l=7672,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9376)|0)){s=9376,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));d5(9376)}return 9376}function JSe(s){return s=s|0,0}function zSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=MF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],g5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(XSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function g5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function XSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=ZSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,$Se(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],g5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,ePe(s,k),tPe(k),C=M;return}}function ZSe(s){return s=s|0,357913941}function $Se(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function ePe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function tPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function d5(s){s=s|0,iPe(s)}function rPe(s){s=s|0,nPe(s+24|0)}function nPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function iPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,m5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function m5(){return 1196}function sPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=oPe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=aPe(l,f)|0,C=c,l|0}function oPe(s){return s=s|0,(n[(MF()|0)+24>>2]|0)+(s*12|0)|0}function aPe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),sD(Lg[c&31](s)|0)|0}function lPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],cPe(s,c,d,1),C=f}function cPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=UF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=uPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,APe(m,f)|0,f),C=d}function UF(){var s=0,l=0;if(o[7680]|0||(E5(9412),tr(31,9412,U|0)|0,l=7680,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9412)|0)){s=9412,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));E5(9412)}return 9412}function uPe(s){return s=s|0,0}function APe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=UF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],y5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(fPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function y5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function fPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=pPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,hPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],y5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,gPe(s,k),dPe(k),C=M;return}}function pPe(s){return s=s|0,357913941}function hPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function gPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function dPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function E5(s){s=s|0,EPe(s)}function mPe(s){s=s|0,yPe(s+24|0)}function yPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function EPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,C5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function C5(){return 1200}function CPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=wPe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=IPe(l,f)|0,C=c,l|0}function wPe(s){return s=s|0,(n[(UF()|0)+24>>2]|0)+(s*12|0)|0}function IPe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),oD(Lg[c&31](s)|0)|0}function oD(s){return s=s|0,s|0}function BPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],vPe(s,c,d,0),C=f}function vPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=_F()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=DPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,SPe(m,f)|0,f),C=d}function _F(){var s=0,l=0;if(o[7688]|0||(I5(9448),tr(32,9448,U|0)|0,l=7688,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9448)|0)){s=9448,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));I5(9448)}return 9448}function DPe(s){return s=s|0,0}function SPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=_F()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],w5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(PPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function w5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function PPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=bPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,xPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],w5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,kPe(s,k),QPe(k),C=M;return}}function bPe(s){return s=s|0,357913941}function xPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function kPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function QPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function I5(s){s=s|0,TPe(s)}function FPe(s){s=s|0,RPe(s+24|0)}function RPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function TPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,B5()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function B5(){return 1204}function NPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=LPe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],OPe(l,d,c),C=f}function LPe(s){return s=s|0,(n[(_F()|0)+24>>2]|0)+(s*12|0)|0}function OPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),HF(d,c),d=qF(d,c)|0,rf[f&31](s,d),C=m}function HF(s,l){s=s|0,l=l|0}function qF(s,l){return s=s|0,l=l|0,MPe(l)|0}function MPe(s){return s=s|0,s|0}function UPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],_Pe(s,c,d,0),C=f}function _Pe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=jF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=HPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,qPe(m,f)|0,f),C=d}function jF(){var s=0,l=0;if(o[7696]|0||(D5(9484),tr(33,9484,U|0)|0,l=7696,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9484)|0)){s=9484,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));D5(9484)}return 9484}function HPe(s){return s=s|0,0}function qPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=jF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],v5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(jPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function v5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function jPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=GPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,YPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],v5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,WPe(s,k),KPe(k),C=M;return}}function GPe(s){return s=s|0,357913941}function YPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function WPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function KPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function D5(s){s=s|0,zPe(s)}function VPe(s){s=s|0,JPe(s+24|0)}function JPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function zPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,XPe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function XPe(){return 1212}function ZPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=$Pe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],ebe(l,m,c,f),C=d}function $Pe(s){return s=s|0,(n[(jF()|0)+24>>2]|0)+(s*12|0)|0}function ebe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),HF(m,c),m=qF(m,c)|0,bg(B,f),B=xg(B,f)|0,Hw[d&15](s,m,B),C=k}function tbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rbe(s,c,d,1),C=f}function rbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=GF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nbe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,ibe(m,f)|0,f),C=d}function GF(){var s=0,l=0;if(o[7704]|0||(P5(9520),tr(34,9520,U|0)|0,l=7704,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9520)|0)){s=9520,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));P5(9520)}return 9520}function nbe(s){return s=s|0,0}function ibe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=GF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],S5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sbe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function S5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=obe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,abe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],S5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lbe(s,k),cbe(k),C=M;return}}function obe(s){return s=s|0,357913941}function abe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function P5(s){s=s|0,fbe(s)}function ube(s){s=s|0,Abe(s+24|0)}function Abe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,pbe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pbe(){return 1224}function hbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;return d=C,C=C+16|0,m=d+8|0,B=d,k=gbe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],f=+dbe(l,m,c),C=d,+f}function gbe(s){return s=s|0,(n[(GF()|0)+24>>2]|0)+(s*12|0)|0}function dbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,B=+SF(+v7[f&7](s,d)),C=m,+B}function mbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],ybe(s,c,d,1),C=f}function ybe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=YF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Ebe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Cbe(m,f)|0,f),C=d}function YF(){var s=0,l=0;if(o[7712]|0||(x5(9556),tr(35,9556,U|0)|0,l=7712,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9556)|0)){s=9556,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));x5(9556)}return 9556}function Ebe(s){return s=s|0,0}function Cbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=YF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],b5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(wbe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function b5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function wbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Ibe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Bbe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],b5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,vbe(s,k),Dbe(k),C=M;return}}function Ibe(s){return s=s|0,357913941}function Bbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function vbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Dbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function x5(s){s=s|0,bbe(s)}function Sbe(s){s=s|0,Pbe(s+24|0)}function Pbe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function bbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,xbe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function xbe(){return 1232}function kbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=Qbe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=+Fbe(l,d),C=f,+c}function Qbe(s){return s=s|0,(n[(YF()|0)+24>>2]|0)+(s*12|0)|0}function Fbe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),+ +SF(+B7[c&15](s))}function Rbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Tbe(s,c,d,1),C=f}function Tbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=WF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Nbe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Lbe(m,f)|0,f),C=d}function WF(){var s=0,l=0;if(o[7720]|0||(Q5(9592),tr(36,9592,U|0)|0,l=7720,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9592)|0)){s=9592,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Q5(9592)}return 9592}function Nbe(s){return s=s|0,0}function Lbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=WF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],k5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Obe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function k5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Obe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Mbe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Ube(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],k5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_be(s,k),Hbe(k),C=M;return}}function Mbe(s){return s=s|0,357913941}function Ube(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _be(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Hbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function Q5(s){s=s|0,Gbe(s)}function qbe(s){s=s|0,jbe(s+24|0)}function jbe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Gbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,7,l,Ybe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Ybe(){return 1276}function Wbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=Kbe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=Vbe(l,f)|0,C=c,l|0}function Kbe(s){return s=s|0,(n[(WF()|0)+24>>2]|0)+(s*12|0)|0}function Vbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+16|0,f=d,c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),rf[c&31](f,s),f=F5(f)|0,C=d,f|0}function F5(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(R5()|0)|0,f?(kF(l,f),QF(c,l),Jbe(s,c),s=FF(l)|0):s=zbe(s)|0,C=d,s|0}function R5(){var s=0;return o[7736]|0||(oxe(9640),tr(25,9640,U|0)|0,s=7736,n[s>>2]=1,n[s+4>>2]=0),9640}function Jbe(s,l){s=s|0,l=l|0,exe(l,s,s+8|0)|0}function zbe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(16)|0,n[k>>2]=n[s>>2],n[k+4>>2]=n[s+4>>2],n[k+8>>2]=n[s+8>>2],n[k+12>>2]=n[s+12>>2],m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],KF(s,m,d),n[f>>2]=s,C=c,l|0}function KF(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1244,n[c+12>>2]=l,n[s+4>>2]=c}function Xbe(s){s=s|0,zm(s),gt(s)}function Zbe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function $be(s){s=s|0,gt(s)}function exe(s,l,c){return s=s|0,l=l|0,c=c|0,l=txe(n[s>>2]|0,l,c)|0,c=s+4|0,n[(n[c>>2]|0)+8>>2]=l,n[(n[c>>2]|0)+8>>2]|0}function txe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;return f=C,C=C+16|0,d=f,Ka(d),s=da(s)|0,c=rxe(s,n[l>>2]|0,+E[c>>3])|0,Va(d),C=f,c|0}function rxe(s,l,c){s=s|0,l=l|0,c=+c;var f=0;return f=Sl(nxe()|0)|0,l=DF(l)|0,ml(0,f|0,s|0,l|0,+ +JA(c))|0}function nxe(){var s=0;return o[7728]|0||(ixe(9628),s=7728,n[s>>2]=1,n[s+4>>2]=0),9628}function ixe(s){s=s|0,Pl(s,sxe()|0,2)}function sxe(){return 1264}function oxe(s){s=s|0,vp(s)}function axe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],lxe(s,c,d,1),C=f}function lxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=VF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=cxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,uxe(m,f)|0,f),C=d}function VF(){var s=0,l=0;if(o[7744]|0||(N5(9684),tr(37,9684,U|0)|0,l=7744,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9684)|0)){s=9684,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));N5(9684)}return 9684}function cxe(s){return s=s|0,0}function uxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=VF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],T5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Axe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function T5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Axe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=fxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,pxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],T5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,hxe(s,k),gxe(k),C=M;return}}function fxe(s){return s=s|0,357913941}function pxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function hxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function gxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function N5(s){s=s|0,yxe(s)}function dxe(s){s=s|0,mxe(s+24|0)}function mxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function yxe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,Exe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Exe(){return 1280}function Cxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=wxe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=Ixe(l,d,c)|0,C=f,c|0}function wxe(s){return s=s|0,(n[(VF()|0)+24>>2]|0)+(s*12|0)|0}function Ixe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return B=C,C=C+32|0,d=B,m=B+16|0,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(m,c),m=$A(m,c)|0,Hw[f&15](d,s,m),m=F5(d)|0,C=B,m|0}function Bxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],vxe(s,c,d,1),C=f}function vxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=JF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Dxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Sxe(m,f)|0,f),C=d}function JF(){var s=0,l=0;if(o[7752]|0||(O5(9720),tr(38,9720,U|0)|0,l=7752,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9720)|0)){s=9720,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));O5(9720)}return 9720}function Dxe(s){return s=s|0,0}function Sxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=JF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],L5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Pxe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function L5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Pxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=bxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,xxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],L5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,kxe(s,k),Qxe(k),C=M;return}}function bxe(s){return s=s|0,357913941}function xxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function kxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Qxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function O5(s){s=s|0,Txe(s)}function Fxe(s){s=s|0,Rxe(s+24|0)}function Rxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Txe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Nxe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Nxe(){return 1288}function Lxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=Oxe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=Mxe(l,f)|0,C=c,l|0}function Oxe(s){return s=s|0,(n[(JF()|0)+24>>2]|0)+(s*12|0)|0}function Mxe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),ZG(Lg[c&31](s)|0)|0}function Uxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],_xe(s,c,d,0),C=f}function _xe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=zF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Hxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,qxe(m,f)|0,f),C=d}function zF(){var s=0,l=0;if(o[7760]|0||(U5(9756),tr(39,9756,U|0)|0,l=7760,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9756)|0)){s=9756,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));U5(9756)}return 9756}function Hxe(s){return s=s|0,0}function qxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=zF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],M5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(jxe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function M5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function jxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Gxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Yxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],M5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,Wxe(s,k),Kxe(k),C=M;return}}function Gxe(s){return s=s|0,357913941}function Yxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function Wxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Kxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function U5(s){s=s|0,zxe(s)}function Vxe(s){s=s|0,Jxe(s+24|0)}function Jxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function zxe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Xxe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Xxe(){return 1292}function Zxe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=$xe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],eke(l,d,c),C=f}function $xe(s){return s=s|0,(n[(zF()|0)+24>>2]|0)+(s*12|0)|0}function eke(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ku(d,c),c=+Qu(d,c),C7[f&31](s,c),C=m}function tke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rke(s,c,d,0),C=f}function rke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=XF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,ike(m,f)|0,f),C=d}function XF(){var s=0,l=0;if(o[7768]|0||(H5(9792),tr(40,9792,U|0)|0,l=7768,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9792)|0)){s=9792,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));H5(9792)}return 9792}function nke(s){return s=s|0,0}function ike(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=XF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],_5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(ske(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function _5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function ske(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oke(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,ake(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],_5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lke(s,k),cke(k),C=M;return}}function oke(s){return s=s|0,357913941}function ake(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function H5(s){s=s|0,fke(s)}function uke(s){s=s|0,Ake(s+24|0)}function Ake(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,pke()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pke(){return 1300}function hke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=gke(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],dke(l,m,c,f),C=d}function gke(s){return s=s|0,(n[(XF()|0)+24>>2]|0)+(s*12|0)|0}function dke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),ZA(m,c),m=$A(m,c)|0,ku(B,f),f=+Qu(B,f),b7[d&15](s,m,f),C=k}function mke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],yke(s,c,d,0),C=f}function yke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=ZF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Eke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Cke(m,f)|0,f),C=d}function ZF(){var s=0,l=0;if(o[7776]|0||(j5(9828),tr(41,9828,U|0)|0,l=7776,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9828)|0)){s=9828,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));j5(9828)}return 9828}function Eke(s){return s=s|0,0}function Cke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=ZF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],q5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(wke(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function q5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function wke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Ike(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Bke(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],q5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,vke(s,k),Dke(k),C=M;return}}function Ike(s){return s=s|0,357913941}function Bke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function vke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Dke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function j5(s){s=s|0,bke(s)}function Ske(s){s=s|0,Pke(s+24|0)}function Pke(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function bke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,7,l,xke()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function xke(){return 1312}function kke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=Qke(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Fke(l,d,c),C=f}function Qke(s){return s=s|0,(n[(ZF()|0)+24>>2]|0)+(s*12|0)|0}function Fke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,rf[f&31](s,d),C=m}function Rke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Tke(s,c,d,0),C=f}function Tke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=$F()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Nke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Lke(m,f)|0,f),C=d}function $F(){var s=0,l=0;if(o[7784]|0||(Y5(9864),tr(42,9864,U|0)|0,l=7784,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9864)|0)){s=9864,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Y5(9864)}return 9864}function Nke(s){return s=s|0,0}function Lke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=$F()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],G5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Oke(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function G5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Oke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Mke(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Uke(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],G5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_ke(s,k),Hke(k),C=M;return}}function Mke(s){return s=s|0,357913941}function Uke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _ke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Hke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function Y5(s){s=s|0,Gke(s)}function qke(s){s=s|0,jke(s+24|0)}function jke(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Gke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Yke()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Yke(){return 1320}function Wke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=Kke(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Vke(l,d,c),C=f}function Kke(s){return s=s|0,(n[($F()|0)+24>>2]|0)+(s*12|0)|0}function Vke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),Jke(d,c),d=zke(d,c)|0,rf[f&31](s,d),C=m}function Jke(s,l){s=s|0,l=l|0}function zke(s,l){return s=s|0,l=l|0,Xke(l)|0}function Xke(s){return s=s|0,s|0}function Zke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],$ke(s,c,d,0),C=f}function $ke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=eR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=eQe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,tQe(m,f)|0,f),C=d}function eR(){var s=0,l=0;if(o[7792]|0||(K5(9900),tr(43,9900,U|0)|0,l=7792,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9900)|0)){s=9900,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));K5(9900)}return 9900}function eQe(s){return s=s|0,0}function tQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=eR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],W5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(rQe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function W5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function rQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=nQe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,iQe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],W5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,sQe(s,k),oQe(k),C=M;return}}function nQe(s){return s=s|0,357913941}function iQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function sQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function oQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function K5(s){s=s|0,cQe(s)}function aQe(s){s=s|0,lQe(s+24|0)}function lQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function cQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,22,l,uQe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function uQe(){return 1344}function AQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;c=C,C=C+16|0,f=c+8|0,d=c,m=fQe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],pQe(l,f),C=c}function fQe(s){return s=s|0,(n[(eR()|0)+24>>2]|0)+(s*12|0)|0}function pQe(s,l){s=s|0,l=l|0;var c=0;c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),tf[c&127](s)}function hQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=tR()|0,s=gQe(c)|0,hn(m,l,d,s,dQe(c,f)|0,f)}function tR(){var s=0,l=0;if(o[7800]|0||(J5(9936),tr(44,9936,U|0)|0,l=7800,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9936)|0)){s=9936,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));J5(9936)}return 9936}function gQe(s){return s=s|0,s|0}function dQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=tR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(V5(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(mQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function V5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function mQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=yQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,EQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,V5(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,CQe(s,d),wQe(d),C=k;return}}function yQe(s){return s=s|0,536870911}function EQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function CQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function wQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function J5(s){s=s|0,vQe(s)}function IQe(s){s=s|0,BQe(s+24|0)}function BQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function vQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,23,l,B5()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function DQe(s,l){s=s|0,l=l|0,PQe(n[(SQe(s)|0)>>2]|0,l)}function SQe(s){return s=s|0,(n[(tR()|0)+24>>2]|0)+(s<<3)|0}function PQe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,HF(f,l),l=qF(f,l)|0,tf[s&127](l),C=c}function bQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=rR()|0,s=xQe(c)|0,hn(m,l,d,s,kQe(c,f)|0,f)}function rR(){var s=0,l=0;if(o[7808]|0||(X5(9972),tr(45,9972,U|0)|0,l=7808,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9972)|0)){s=9972,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));X5(9972)}return 9972}function xQe(s){return s=s|0,s|0}function kQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=rR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(z5(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(QQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function z5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function QQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=FQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,RQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,z5(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,TQe(s,d),NQe(d),C=k;return}}function FQe(s){return s=s|0,536870911}function RQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function TQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function NQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function X5(s){s=s|0,MQe(s)}function LQe(s){s=s|0,OQe(s+24|0)}function OQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function MQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,9,l,UQe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function UQe(){return 1348}function _Qe(s,l){return s=s|0,l=l|0,qQe(n[(HQe(s)|0)>>2]|0,l)|0}function HQe(s){return s=s|0,(n[(rR()|0)+24>>2]|0)+(s<<3)|0}function qQe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,Z5(f,l),l=$5(f,l)|0,l=sD(Lg[s&31](l)|0)|0,C=c,l|0}function Z5(s,l){s=s|0,l=l|0}function $5(s,l){return s=s|0,l=l|0,jQe(l)|0}function jQe(s){return s=s|0,s|0}function GQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=nR()|0,s=YQe(c)|0,hn(m,l,d,s,WQe(c,f)|0,f)}function nR(){var s=0,l=0;if(o[7816]|0||(t9(10008),tr(46,10008,U|0)|0,l=7816,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10008)|0)){s=10008,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));t9(10008)}return 10008}function YQe(s){return s=s|0,s|0}function WQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=nR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(e9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(KQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function e9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function KQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=VQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,JQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,e9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,zQe(s,d),XQe(d),C=k;return}}function VQe(s){return s=s|0,536870911}function JQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function zQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function XQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function t9(s){s=s|0,eFe(s)}function ZQe(s){s=s|0,$Qe(s+24|0)}function $Qe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function eFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,15,l,m5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function tFe(s){return s=s|0,nFe(n[(rFe(s)|0)>>2]|0)|0}function rFe(s){return s=s|0,(n[(nR()|0)+24>>2]|0)+(s<<3)|0}function nFe(s){return s=s|0,sD(CD[s&7]()|0)|0}function iFe(){var s=0;return o[7832]|0||(fFe(10052),tr(25,10052,U|0)|0,s=7832,n[s>>2]=1,n[s+4>>2]=0),10052}function sFe(s,l){s=s|0,l=l|0,n[s>>2]=oFe()|0,n[s+4>>2]=aFe()|0,n[s+12>>2]=l,n[s+8>>2]=lFe()|0,n[s+32>>2]=2}function oFe(){return 11709}function aFe(){return 1188}function lFe(){return aD()|0}function cFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(uFe(c),gt(c)):l|0&&(Su(l),gt(l))}function bp(s,l){return s=s|0,l=l|0,l&s|0}function uFe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function aD(){var s=0;return o[7824]|0||(n[2511]=AFe()|0,n[2512]=0,s=7824,n[s>>2]=1,n[s+4>>2]=0),10044}function AFe(){return 0}function fFe(s){s=s|0,vp(s)}function pFe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0;l=C,C=C+32|0,c=l+24|0,m=l+16|0,d=l+8|0,f=l,hFe(s,4827),gFe(s,4834,3)|0,dFe(s,3682,47)|0,n[m>>2]=9,n[m+4>>2]=0,n[c>>2]=n[m>>2],n[c+4>>2]=n[m+4>>2],mFe(s,4841,c)|0,n[d>>2]=1,n[d+4>>2]=0,n[c>>2]=n[d>>2],n[c+4>>2]=n[d+4>>2],yFe(s,4871,c)|0,n[f>>2]=10,n[f+4>>2]=0,n[c>>2]=n[f>>2],n[c+4>>2]=n[f+4>>2],EFe(s,4891,c)|0,C=l}function hFe(s,l){s=s|0,l=l|0;var c=0;c=XRe()|0,n[s>>2]=c,ZRe(c,l),xp(n[s>>2]|0)}function gFe(s,l,c){return s=s|0,l=l|0,c=c|0,NRe(s,pn(l)|0,c,0),s|0}function dFe(s,l,c){return s=s|0,l=l|0,c=c|0,CRe(s,pn(l)|0,c,0),s|0}function mFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tRe(s,l,d),C=f,s|0}function yFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],LFe(s,l,d),C=f,s|0}function EFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],CFe(s,l,d),C=f,s|0}function CFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],wFe(s,c,d,1),C=f}function wFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=iR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=IFe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,BFe(m,f)|0,f),C=d}function iR(){var s=0,l=0;if(o[7840]|0||(n9(10100),tr(48,10100,U|0)|0,l=7840,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10100)|0)){s=10100,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));n9(10100)}return 10100}function IFe(s){return s=s|0,0}function BFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=iR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],r9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(vFe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function r9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function vFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=DFe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,SFe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],r9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,PFe(s,k),bFe(k),C=M;return}}function DFe(s){return s=s|0,357913941}function SFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function PFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function bFe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function n9(s){s=s|0,QFe(s)}function xFe(s){s=s|0,kFe(s+24|0)}function kFe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function QFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,FFe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function FFe(){return 1364}function RFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=TFe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=NFe(l,d,c)|0,C=f,c|0}function TFe(s){return s=s|0,(n[(iR()|0)+24>>2]|0)+(s*12|0)|0}function NFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,d=u5(RR[f&15](s,d)|0)|0,C=m,d|0}function LFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],OFe(s,c,d,0),C=f}function OFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=sR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=MFe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,UFe(m,f)|0,f),C=d}function sR(){var s=0,l=0;if(o[7848]|0||(s9(10136),tr(49,10136,U|0)|0,l=7848,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10136)|0)){s=10136,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));s9(10136)}return 10136}function MFe(s){return s=s|0,0}function UFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=sR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],i9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(_Fe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function i9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function _Fe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=HFe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,qFe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],i9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,jFe(s,k),GFe(k),C=M;return}}function HFe(s){return s=s|0,357913941}function qFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function jFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function GFe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function s9(s){s=s|0,KFe(s)}function YFe(s){s=s|0,WFe(s+24|0)}function WFe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function KFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,9,l,VFe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function VFe(){return 1372}function JFe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=zFe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],XFe(l,d,c),C=f}function zFe(s){return s=s|0,(n[(sR()|0)+24>>2]|0)+(s*12|0)|0}function XFe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=Ze;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZFe(d,c),B=y($Fe(d,c)),E7[f&1](s,B),C=m}function ZFe(s,l){s=s|0,l=+l}function $Fe(s,l){return s=s|0,l=+l,y(eRe(l))}function eRe(s){return s=+s,y(s)}function tRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rRe(s,c,d,0),C=f}function rRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=oR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nRe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,iRe(m,f)|0,f),C=d}function oR(){var s=0,l=0;if(o[7856]|0||(a9(10172),tr(50,10172,U|0)|0,l=7856,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10172)|0)){s=10172,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));a9(10172)}return 10172}function nRe(s){return s=s|0,0}function iRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=oR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],o9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sRe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function o9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oRe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,aRe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],o9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lRe(s,k),cRe(k),C=M;return}}function oRe(s){return s=s|0,357913941}function aRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function a9(s){s=s|0,fRe(s)}function uRe(s){s=s|0,ARe(s+24|0)}function ARe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,3,l,pRe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pRe(){return 1380}function hRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=gRe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],dRe(l,m,c,f),C=d}function gRe(s){return s=s|0,(n[(oR()|0)+24>>2]|0)+(s*12|0)|0}function dRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),ZA(m,c),m=$A(m,c)|0,mRe(B,f),B=yRe(B,f)|0,Hw[d&15](s,m,B),C=k}function mRe(s,l){s=s|0,l=l|0}function yRe(s,l){return s=s|0,l=l|0,ERe(l)|0}function ERe(s){return s=s|0,(s|0)!=0|0}function CRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=aR()|0,s=wRe(c)|0,hn(m,l,d,s,IRe(c,f)|0,f)}function aR(){var s=0,l=0;if(o[7864]|0||(c9(10208),tr(51,10208,U|0)|0,l=7864,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10208)|0)){s=10208,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));c9(10208)}return 10208}function wRe(s){return s=s|0,s|0}function IRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=aR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(l9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(BRe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function l9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function BRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=vRe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,DRe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,l9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,SRe(s,d),PRe(d),C=k;return}}function vRe(s){return s=s|0,536870911}function DRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function SRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function PRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function c9(s){s=s|0,kRe(s)}function bRe(s){s=s|0,xRe(s+24|0)}function xRe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function kRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,24,l,QRe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function QRe(){return 1392}function FRe(s,l){s=s|0,l=l|0,TRe(n[(RRe(s)|0)>>2]|0,l)}function RRe(s){return s=s|0,(n[(aR()|0)+24>>2]|0)+(s<<3)|0}function TRe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Z5(f,l),l=$5(f,l)|0,tf[s&127](l),C=c}function NRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=lR()|0,s=LRe(c)|0,hn(m,l,d,s,ORe(c,f)|0,f)}function lR(){var s=0,l=0;if(o[7872]|0||(A9(10244),tr(52,10244,U|0)|0,l=7872,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10244)|0)){s=10244,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));A9(10244)}return 10244}function LRe(s){return s=s|0,s|0}function ORe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=lR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(u9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(MRe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function u9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function MRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=URe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,_Re(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,u9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,HRe(s,d),qRe(d),C=k;return}}function URe(s){return s=s|0,536870911}function _Re(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function HRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function qRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function A9(s){s=s|0,YRe(s)}function jRe(s){s=s|0,GRe(s+24|0)}function GRe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function YRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,16,l,WRe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function WRe(){return 1400}function KRe(s){return s=s|0,JRe(n[(VRe(s)|0)>>2]|0)|0}function VRe(s){return s=s|0,(n[(lR()|0)+24>>2]|0)+(s<<3)|0}function JRe(s){return s=s|0,zRe(CD[s&7]()|0)|0}function zRe(s){return s=s|0,s|0}function XRe(){var s=0;return o[7880]|0||(iTe(10280),tr(25,10280,U|0)|0,s=7880,n[s>>2]=1,n[s+4>>2]=0),10280}function ZRe(s,l){s=s|0,l=l|0,n[s>>2]=$Re()|0,n[s+4>>2]=eTe()|0,n[s+12>>2]=l,n[s+8>>2]=tTe()|0,n[s+32>>2]=4}function $Re(){return 11711}function eTe(){return 1356}function tTe(){return aD()|0}function rTe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(nTe(c),gt(c)):l|0&&(Dg(l),gt(l))}function nTe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function iTe(s){s=s|0,vp(s)}function sTe(s){s=s|0,oTe(s,4920),aTe(s)|0,lTe(s)|0}function oTe(s,l){s=s|0,l=l|0;var c=0;c=R5()|0,n[s>>2]=c,xTe(c,l),xp(n[s>>2]|0)}function aTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,ETe()|0),s|0}function lTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,cTe()|0),s|0}function cTe(){var s=0;return o[7888]|0||(f9(10328),tr(53,10328,U|0)|0,s=7888,n[s>>2]=1,n[s+4>>2]=0),Tr(10328)|0||f9(10328),10328}function kg(s,l){s=s|0,l=l|0,hn(s,0,l,0,0,0)}function f9(s){s=s|0,fTe(s),Qg(s,10)}function uTe(s){s=s|0,ATe(s+24|0)}function ATe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function fTe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,1,l,dTe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pTe(s,l,c){s=s|0,l=l|0,c=+c,hTe(s,l,c)}function Qg(s,l){s=s|0,l=l|0,n[s+20>>2]=l}function hTe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,m=f+8|0,k=f+13|0,d=f,B=f+12|0,ZA(k,l),n[m>>2]=$A(k,l)|0,ku(B,c),E[d>>3]=+Qu(B,c),gTe(s,m,d),C=f}function gTe(s,l,c){s=s|0,l=l|0,c=c|0,Y(s+8|0,n[l>>2]|0,+E[c>>3]),o[s+24>>0]=1}function dTe(){return 1404}function mTe(s,l){return s=s|0,l=+l,yTe(s,l)|0}function yTe(s,l){s=s|0,l=+l;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+16|0,m=f+4|0,B=f+8|0,k=f,d=Wa(8)|0,c=d,Q=Kt(16)|0,ZA(m,s),s=$A(m,s)|0,ku(B,l),Y(Q,s,+Qu(B,l)),B=c+4|0,n[B>>2]=Q,s=Kt(8)|0,B=n[B>>2]|0,n[k>>2]=0,n[m>>2]=n[k>>2],KF(s,B,m),n[d>>2]=s,C=f,c|0}function ETe(){var s=0;return o[7896]|0||(p9(10364),tr(54,10364,U|0)|0,s=7896,n[s>>2]=1,n[s+4>>2]=0),Tr(10364)|0||p9(10364),10364}function p9(s){s=s|0,ITe(s),Qg(s,55)}function CTe(s){s=s|0,wTe(s+24|0)}function wTe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function ITe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,4,l,STe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function BTe(s){s=s|0,vTe(s)}function vTe(s){s=s|0,DTe(s)}function DTe(s){s=s|0,h9(s+8|0),o[s+24>>0]=1}function h9(s){s=s|0,n[s>>2]=0,E[s+8>>3]=0}function STe(){return 1424}function PTe(){return bTe()|0}function bTe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,f=Kt(16)|0,h9(f),m=s+4|0,n[m>>2]=f,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],KF(f,m,d),n[c>>2]=f,C=l,s|0}function xTe(s,l){s=s|0,l=l|0,n[s>>2]=kTe()|0,n[s+4>>2]=QTe()|0,n[s+12>>2]=l,n[s+8>>2]=FTe()|0,n[s+32>>2]=5}function kTe(){return 11710}function QTe(){return 1416}function FTe(){return lD()|0}function RTe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(TTe(c),gt(c)):l|0&&gt(l)}function TTe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function lD(){var s=0;return o[7904]|0||(n[2600]=NTe()|0,n[2601]=0,s=7904,n[s>>2]=1,n[s+4>>2]=0),10400}function NTe(){return n[357]|0}function LTe(s){s=s|0,OTe(s,4926),MTe(s)|0}function OTe(s,l){s=s|0,l=l|0;var c=0;c=r5()|0,n[s>>2]=c,JTe(c,l),xp(n[s>>2]|0)}function MTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,UTe()|0),s|0}function UTe(){var s=0;return o[7912]|0||(g9(10412),tr(56,10412,U|0)|0,s=7912,n[s>>2]=1,n[s+4>>2]=0),Tr(10412)|0||g9(10412),10412}function g9(s){s=s|0,qTe(s),Qg(s,57)}function _Te(s){s=s|0,HTe(s+24|0)}function HTe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function qTe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,5,l,WTe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function jTe(s){s=s|0,GTe(s)}function GTe(s){s=s|0,YTe(s)}function YTe(s){s=s|0;var l=0,c=0;l=s+8|0,c=l+48|0;do n[l>>2]=0,l=l+4|0;while((l|0)<(c|0));o[s+56>>0]=1}function WTe(){return 1432}function KTe(){return VTe()|0}function VTe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0,k=0;B=C,C=C+16|0,s=B+4|0,l=B,c=Wa(8)|0,f=c,d=Kt(48)|0,m=d,k=m+48|0;do n[m>>2]=0,m=m+4|0;while((m|0)<(k|0));return m=f+4|0,n[m>>2]=d,k=Kt(8)|0,m=n[m>>2]|0,n[l>>2]=0,n[s>>2]=n[l>>2],n5(k,m,s),n[c>>2]=k,C=B,f|0}function JTe(s,l){s=s|0,l=l|0,n[s>>2]=zTe()|0,n[s+4>>2]=XTe()|0,n[s+12>>2]=l,n[s+8>>2]=ZTe()|0,n[s+32>>2]=6}function zTe(){return 11704}function XTe(){return 1436}function ZTe(){return lD()|0}function $Te(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(eNe(c),gt(c)):l|0&&gt(l)}function eNe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function tNe(s){s=s|0,rNe(s,4933),nNe(s)|0,iNe(s)|0}function rNe(s,l){s=s|0,l=l|0;var c=0;c=bNe()|0,n[s>>2]=c,xNe(c,l),xp(n[s>>2]|0)}function nNe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,yNe()|0),s|0}function iNe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,sNe()|0),s|0}function sNe(){var s=0;return o[7920]|0||(d9(10452),tr(58,10452,U|0)|0,s=7920,n[s>>2]=1,n[s+4>>2]=0),Tr(10452)|0||d9(10452),10452}function d9(s){s=s|0,lNe(s),Qg(s,1)}function oNe(s){s=s|0,aNe(s+24|0)}function aNe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function lNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,1,l,fNe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function cNe(s,l,c){s=s|0,l=+l,c=+c,uNe(s,l,c)}function uNe(s,l,c){s=s|0,l=+l,c=+c;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,m=f+8|0,k=f+17|0,d=f,B=f+16|0,ku(k,l),E[m>>3]=+Qu(k,l),ku(B,c),E[d>>3]=+Qu(B,c),ANe(s,m,d),C=f}function ANe(s,l,c){s=s|0,l=l|0,c=c|0,m9(s+8|0,+E[l>>3],+E[c>>3]),o[s+24>>0]=1}function m9(s,l,c){s=s|0,l=+l,c=+c,E[s>>3]=l,E[s+8>>3]=c}function fNe(){return 1472}function pNe(s,l){return s=+s,l=+l,hNe(s,l)|0}function hNe(s,l){s=+s,l=+l;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+16|0,B=f+4|0,k=f+8|0,Q=f,d=Wa(8)|0,c=d,m=Kt(16)|0,ku(B,s),s=+Qu(B,s),ku(k,l),m9(m,s,+Qu(k,l)),k=c+4|0,n[k>>2]=m,m=Kt(8)|0,k=n[k>>2]|0,n[Q>>2]=0,n[B>>2]=n[Q>>2],y9(m,k,B),n[d>>2]=m,C=f,c|0}function y9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1452,n[c+12>>2]=l,n[s+4>>2]=c}function gNe(s){s=s|0,zm(s),gt(s)}function dNe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function mNe(s){s=s|0,gt(s)}function yNe(){var s=0;return o[7928]|0||(E9(10488),tr(59,10488,U|0)|0,s=7928,n[s>>2]=1,n[s+4>>2]=0),Tr(10488)|0||E9(10488),10488}function E9(s){s=s|0,wNe(s),Qg(s,60)}function ENe(s){s=s|0,CNe(s+24|0)}function CNe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function wNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,6,l,DNe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function INe(s){s=s|0,BNe(s)}function BNe(s){s=s|0,vNe(s)}function vNe(s){s=s|0,C9(s+8|0),o[s+24>>0]=1}function C9(s){s=s|0,n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,n[s+12>>2]=0}function DNe(){return 1492}function SNe(){return PNe()|0}function PNe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,f=Kt(16)|0,C9(f),m=s+4|0,n[m>>2]=f,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],y9(f,m,d),n[c>>2]=f,C=l,s|0}function bNe(){var s=0;return o[7936]|0||(NNe(10524),tr(25,10524,U|0)|0,s=7936,n[s>>2]=1,n[s+4>>2]=0),10524}function xNe(s,l){s=s|0,l=l|0,n[s>>2]=kNe()|0,n[s+4>>2]=QNe()|0,n[s+12>>2]=l,n[s+8>>2]=FNe()|0,n[s+32>>2]=7}function kNe(){return 11700}function QNe(){return 1484}function FNe(){return lD()|0}function RNe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(TNe(c),gt(c)):l|0&&gt(l)}function TNe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function NNe(s){s=s|0,vp(s)}function LNe(s,l,c){s=s|0,l=l|0,c=c|0,s=pn(l)|0,l=ONe(c)|0,c=MNe(c,0)|0,hLe(s,l,c,cR()|0,0)}function ONe(s){return s=s|0,s|0}function MNe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=cR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(I9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(YNe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function cR(){var s=0,l=0;if(o[7944]|0||(w9(10568),tr(61,10568,U|0)|0,l=7944,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10568)|0)){s=10568,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));w9(10568)}return 10568}function w9(s){s=s|0,HNe(s)}function UNe(s){s=s|0,_Ne(s+24|0)}function _Ne(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function HNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,17,l,C5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function qNe(s){return s=s|0,GNe(n[(jNe(s)|0)>>2]|0)|0}function jNe(s){return s=s|0,(n[(cR()|0)+24>>2]|0)+(s<<3)|0}function GNe(s){return s=s|0,oD(CD[s&7]()|0)|0}function I9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function YNe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=WNe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,KNe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,I9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,VNe(s,d),JNe(d),C=k;return}}function WNe(s){return s=s|0,536870911}function KNe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function VNe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function JNe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function zNe(){XNe()}function XNe(){ZNe(10604)}function ZNe(s){s=s|0,$Ne(s,4955)}function $Ne(s,l){s=s|0,l=l|0;var c=0;c=eLe()|0,n[s>>2]=c,tLe(c,l),xp(n[s>>2]|0)}function eLe(){var s=0;return o[7952]|0||(uLe(10612),tr(25,10612,U|0)|0,s=7952,n[s>>2]=1,n[s+4>>2]=0),10612}function tLe(s,l){s=s|0,l=l|0,n[s>>2]=sLe()|0,n[s+4>>2]=oLe()|0,n[s+12>>2]=l,n[s+8>>2]=aLe()|0,n[s+32>>2]=8}function xp(s){s=s|0;var l=0,c=0;l=C,C=C+16|0,c=l,Ym()|0,n[c>>2]=s,rLe(10608,c),C=l}function Ym(){return o[11714]|0||(n[2652]=0,tr(62,10608,U|0)|0,o[11714]=1),10608}function rLe(s,l){s=s|0,l=l|0;var c=0;c=Kt(8)|0,n[c+4>>2]=n[l>>2],n[c>>2]=n[s>>2],n[s>>2]=c}function nLe(s){s=s|0,iLe(s)}function iLe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function sLe(){return 11715}function oLe(){return 1496}function aLe(){return aD()|0}function lLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(cLe(c),gt(c)):l|0&&gt(l)}function cLe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function uLe(s){s=s|0,vp(s)}function ALe(s,l){s=s|0,l=l|0;var c=0,f=0;Ym()|0,c=n[2652]|0;e:do if(c|0){for(;f=n[c+4>>2]|0,!(f|0&&(n7(uR(f)|0,s)|0)==0);)if(c=n[c>>2]|0,!c)break e;fLe(f,l)}while(0)}function uR(s){return s=s|0,n[s+12>>2]|0}function fLe(s,l){s=s|0,l=l|0;var c=0;s=s+36|0,c=n[s>>2]|0,c|0&&(jA(c),gt(c)),c=Kt(4)|0,zG(c,l),n[s>>2]=c}function AR(){return o[11716]|0||(n[2664]=0,tr(63,10656,U|0)|0,o[11716]=1),10656}function B9(){var s=0;return o[11717]|0?s=n[2665]|0:(pLe(),n[2665]=1504,o[11717]=1,s=1504),s|0}function pLe(){o[11740]|0||(o[11718]=gr(gr(8,0)|0,0)|0,o[11719]=gr(gr(0,0)|0,0)|0,o[11720]=gr(gr(0,16)|0,0)|0,o[11721]=gr(gr(8,0)|0,0)|0,o[11722]=gr(gr(0,0)|0,0)|0,o[11723]=gr(gr(8,0)|0,0)|0,o[11724]=gr(gr(0,0)|0,0)|0,o[11725]=gr(gr(8,0)|0,0)|0,o[11726]=gr(gr(0,0)|0,0)|0,o[11727]=gr(gr(8,0)|0,0)|0,o[11728]=gr(gr(0,0)|0,0)|0,o[11729]=gr(gr(0,0)|0,32)|0,o[11730]=gr(gr(0,0)|0,32)|0,o[11740]=1)}function v9(){return 1572}function hLe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0;m=C,C=C+32|0,O=m+16|0,M=m+12|0,Q=m+8|0,k=m+4|0,B=m,n[O>>2]=s,n[M>>2]=l,n[Q>>2]=c,n[k>>2]=f,n[B>>2]=d,AR()|0,gLe(10656,O,M,Q,k,B),C=m}function gLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0;B=Kt(24)|0,$G(B+4|0,n[l>>2]|0,n[c>>2]|0,n[f>>2]|0,n[d>>2]|0,n[m>>2]|0),n[B>>2]=n[s>>2],n[s>>2]=B}function D9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0;if(lt=C,C=C+32|0,Me=lt+20|0,Qe=lt+8|0,et=lt+4|0,Xe=lt,l=n[l>>2]|0,l|0){Ge=Me+4|0,Q=Me+8|0,M=Qe+4|0,O=Qe+8|0,j=Qe+8|0,se=Me+8|0;do{if(B=l+4|0,k=fR(B)|0,k|0){if(d=Nw(k)|0,n[Me>>2]=0,n[Ge>>2]=0,n[Q>>2]=0,f=(Lw(k)|0)+1|0,dLe(Me,f),f|0)for(;f=f+-1|0,bc(Qe,n[d>>2]|0),m=n[Ge>>2]|0,m>>>0<(n[se>>2]|0)>>>0?(n[m>>2]=n[Qe>>2],n[Ge>>2]=(n[Ge>>2]|0)+4):pR(Me,Qe),f;)d=d+4|0;f=Ow(k)|0,n[Qe>>2]=0,n[M>>2]=0,n[O>>2]=0;e:do if(n[f>>2]|0)for(d=0,m=0;;){if((d|0)==(m|0)?mLe(Qe,f):(n[d>>2]=n[f>>2],n[M>>2]=(n[M>>2]|0)+4),f=f+4|0,!(n[f>>2]|0))break e;d=n[M>>2]|0,m=n[j>>2]|0}while(0);n[et>>2]=cD(B)|0,n[Xe>>2]=Tr(k)|0,yLe(c,s,et,Xe,Me,Qe),hR(Qe),ef(Me)}l=n[l>>2]|0}while((l|0)!=0)}C=lt}function fR(s){return s=s|0,n[s+12>>2]|0}function Nw(s){return s=s|0,n[s+12>>2]|0}function Lw(s){return s=s|0,n[s+16>>2]|0}function dLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+32|0,c=d,f=n[s>>2]|0,(n[s+8>>2]|0)-f>>2>>>0<l>>>0&&(R9(c,l,(n[s+4>>2]|0)-f>>2,s+8|0),T9(s,c),N9(c)),C=d}function pR(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;if(B=C,C=C+32|0,c=B,f=s+4|0,d=((n[f>>2]|0)-(n[s>>2]|0)>>2)+1|0,m=F9(s)|0,m>>>0<d>>>0)zr(s);else{k=n[s>>2]|0,M=(n[s+8>>2]|0)-k|0,Q=M>>1,R9(c,M>>2>>>0<m>>>1>>>0?Q>>>0<d>>>0?d:Q:m,(n[f>>2]|0)-k>>2,s+8|0),m=c+8|0,n[n[m>>2]>>2]=n[l>>2],n[m>>2]=(n[m>>2]|0)+4,T9(s,c),N9(c),C=B;return}}function Ow(s){return s=s|0,n[s+8>>2]|0}function mLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;if(B=C,C=C+32|0,c=B,f=s+4|0,d=((n[f>>2]|0)-(n[s>>2]|0)>>2)+1|0,m=Q9(s)|0,m>>>0<d>>>0)zr(s);else{k=n[s>>2]|0,M=(n[s+8>>2]|0)-k|0,Q=M>>1,OLe(c,M>>2>>>0<m>>>1>>>0?Q>>>0<d>>>0?d:Q:m,(n[f>>2]|0)-k>>2,s+8|0),m=c+8|0,n[n[m>>2]>>2]=n[l>>2],n[m>>2]=(n[m>>2]|0)+4,MLe(s,c),ULe(c),C=B;return}}function cD(s){return s=s|0,n[s>>2]|0}function yLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,ELe(s,l,c,f,d,m)}function hR(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ef(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ELe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+48|0,O=B+40|0,k=B+32|0,j=B+24|0,Q=B+12|0,M=B,Ka(k),s=da(s)|0,n[j>>2]=n[l>>2],c=n[c>>2]|0,f=n[f>>2]|0,gR(Q,d),CLe(M,m),n[O>>2]=n[j>>2],wLe(s,O,c,f,Q,M),hR(M),ef(Q),Va(k),C=B}function gR(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(NLe(s,f),LLe(s,n[l>>2]|0,n[c>>2]|0,f))}function CLe(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(RLe(s,f),TLe(s,n[l>>2]|0,n[c>>2]|0,f))}function wLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+32|0,O=B+28|0,j=B+24|0,k=B+12|0,Q=B,M=Sl(ILe()|0)|0,n[j>>2]=n[l>>2],n[O>>2]=n[j>>2],l=Fg(O)|0,c=S9(c)|0,f=dR(f)|0,n[k>>2]=n[d>>2],O=d+4|0,n[k+4>>2]=n[O>>2],j=d+8|0,n[k+8>>2]=n[j>>2],n[j>>2]=0,n[O>>2]=0,n[d>>2]=0,d=mR(k)|0,n[Q>>2]=n[m>>2],O=m+4|0,n[Q+4>>2]=n[O>>2],j=m+8|0,n[Q+8>>2]=n[j>>2],n[j>>2]=0,n[O>>2]=0,n[m>>2]=0,ao(0,M|0,s|0,l|0,c|0,f|0,d|0,BLe(Q)|0)|0,hR(Q),ef(k),C=B}function ILe(){var s=0;return o[7968]|0||(QLe(10708),s=7968,n[s>>2]=1,n[s+4>>2]=0),10708}function Fg(s){return s=s|0,b9(s)|0}function S9(s){return s=s|0,P9(s)|0}function dR(s){return s=s|0,oD(s)|0}function mR(s){return s=s|0,DLe(s)|0}function BLe(s){return s=s|0,vLe(s)|0}function vLe(s){s=s|0;var l=0,c=0,f=0;if(f=(n[s+4>>2]|0)-(n[s>>2]|0)|0,c=f>>2,f=Wa(f+4|0)|0,n[f>>2]=c,c|0){l=0;do n[f+4+(l<<2)>>2]=P9(n[(n[s>>2]|0)+(l<<2)>>2]|0)|0,l=l+1|0;while((l|0)!=(c|0))}return f|0}function P9(s){return s=s|0,s|0}function DLe(s){s=s|0;var l=0,c=0,f=0;if(f=(n[s+4>>2]|0)-(n[s>>2]|0)|0,c=f>>2,f=Wa(f+4|0)|0,n[f>>2]=c,c|0){l=0;do n[f+4+(l<<2)>>2]=b9((n[s>>2]|0)+(l<<2)|0)|0,l=l+1|0;while((l|0)!=(c|0))}return f|0}function b9(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(x9()|0)|0,f?(kF(l,f),QF(c,l),aUe(s,c),s=FF(l)|0):s=SLe(s)|0,C=d,s|0}function x9(){var s=0;return o[7960]|0||(kLe(10664),tr(25,10664,U|0)|0,s=7960,n[s>>2]=1,n[s+4>>2]=0),10664}function SLe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(4)|0,n[k>>2]=n[s>>2],m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],k9(s,m,d),n[f>>2]=s,C=c,l|0}function k9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1656,n[c+12>>2]=l,n[s+4>>2]=c}function PLe(s){s=s|0,zm(s),gt(s)}function bLe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function xLe(s){s=s|0,gt(s)}function kLe(s){s=s|0,vp(s)}function QLe(s){s=s|0,Pl(s,FLe()|0,5)}function FLe(){return 1676}function RLe(s,l){s=s|0,l=l|0;var c=0;if((Q9(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function TLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function Q9(s){return s=s|0,1073741823}function NLe(s,l){s=s|0,l=l|0;var c=0;if((F9(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function LLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function F9(s){return s=s|0,1073741823}function OLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function MLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function ULe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function R9(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function T9(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function N9(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function _Le(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;if(Qe=C,C=C+32|0,O=Qe+20|0,j=Qe+12|0,M=Qe+16|0,se=Qe+4|0,Ge=Qe,Me=Qe+8|0,k=B9()|0,m=n[k>>2]|0,B=n[m>>2]|0,B|0)for(Q=n[k+8>>2]|0,k=n[k+4>>2]|0;bc(O,B),HLe(s,O,k,Q),m=m+4|0,B=n[m>>2]|0,B;)Q=Q+1|0,k=k+1|0;if(m=v9()|0,B=n[m>>2]|0,B|0)do bc(O,B),n[j>>2]=n[m+4>>2],qLe(l,O,j),m=m+8|0,B=n[m>>2]|0;while((B|0)!=0);if(m=n[(Ym()|0)>>2]|0,m|0)do l=n[m+4>>2]|0,bc(O,n[(Wm(l)|0)>>2]|0),n[j>>2]=uR(l)|0,jLe(c,O,j),m=n[m>>2]|0;while((m|0)!=0);if(bc(M,0),m=AR()|0,n[O>>2]=n[M>>2],D9(O,m,d),m=n[(Ym()|0)>>2]|0,m|0){s=O+4|0,l=O+8|0,c=O+8|0;do{if(Q=n[m+4>>2]|0,bc(j,n[(Wm(Q)|0)>>2]|0),GLe(se,L9(Q)|0),B=n[se>>2]|0,B|0){n[O>>2]=0,n[s>>2]=0,n[l>>2]=0;do bc(Ge,n[(Wm(n[B+4>>2]|0)|0)>>2]|0),k=n[s>>2]|0,k>>>0<(n[c>>2]|0)>>>0?(n[k>>2]=n[Ge>>2],n[s>>2]=(n[s>>2]|0)+4):pR(O,Ge),B=n[B>>2]|0;while((B|0)!=0);YLe(f,j,O),ef(O)}n[Me>>2]=n[j>>2],M=O9(Q)|0,n[O>>2]=n[Me>>2],D9(O,M,d),s5(se),m=n[m>>2]|0}while((m|0)!=0)}C=Qe}function HLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,nOe(s,l,c,f)}function qLe(s,l,c){s=s|0,l=l|0,c=c|0,rOe(s,l,c)}function Wm(s){return s=s|0,s|0}function jLe(s,l,c){s=s|0,l=l|0,c=c|0,ZLe(s,l,c)}function L9(s){return s=s|0,s+16|0}function GLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;if(m=C,C=C+16|0,d=m+8|0,c=m,n[s>>2]=0,f=n[l>>2]|0,n[d>>2]=f,n[c>>2]=s,c=XLe(c)|0,f|0){if(f=Kt(12)|0,B=(M9(d)|0)+4|0,s=n[B+4>>2]|0,l=f+4|0,n[l>>2]=n[B>>2],n[l+4>>2]=s,l=n[n[d>>2]>>2]|0,n[d>>2]=l,!l)s=f;else for(l=f;s=Kt(12)|0,Q=(M9(d)|0)+4|0,k=n[Q+4>>2]|0,B=s+4|0,n[B>>2]=n[Q>>2],n[B+4>>2]=k,n[l>>2]=s,B=n[n[d>>2]>>2]|0,n[d>>2]=B,B;)l=s;n[s>>2]=n[c>>2],n[c>>2]=f}C=m}function YLe(s,l,c){s=s|0,l=l|0,c=c|0,WLe(s,l,c)}function O9(s){return s=s|0,s+24|0}function WLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,B=f+24|0,d=f+16|0,k=f+12|0,m=f,Ka(d),s=da(s)|0,n[k>>2]=n[l>>2],gR(m,c),n[B>>2]=n[k>>2],KLe(s,B,m),ef(m),Va(d),C=f}function KLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,B=f+16|0,k=f+12|0,d=f,m=Sl(VLe()|0)|0,n[k>>2]=n[l>>2],n[B>>2]=n[k>>2],l=Fg(B)|0,n[d>>2]=n[c>>2],B=c+4|0,n[d+4>>2]=n[B>>2],k=c+8|0,n[d+8>>2]=n[k>>2],n[k>>2]=0,n[B>>2]=0,n[c>>2]=0,oo(0,m|0,s|0,l|0,mR(d)|0)|0,ef(d),C=f}function VLe(){var s=0;return o[7976]|0||(JLe(10720),s=7976,n[s>>2]=1,n[s+4>>2]=0),10720}function JLe(s){s=s|0,Pl(s,zLe()|0,2)}function zLe(){return 1732}function XLe(s){return s=s|0,n[s>>2]|0}function M9(s){return s=s|0,n[s>>2]|0}function ZLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+32|0,m=f+16|0,d=f+8|0,B=f,Ka(d),s=da(s)|0,n[B>>2]=n[l>>2],c=n[c>>2]|0,n[m>>2]=n[B>>2],U9(s,m,c),Va(d),C=f}function U9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,m=f+4|0,B=f,d=Sl($Le()|0)|0,n[B>>2]=n[l>>2],n[m>>2]=n[B>>2],l=Fg(m)|0,oo(0,d|0,s|0,l|0,S9(c)|0)|0,C=f}function $Le(){var s=0;return o[7984]|0||(eOe(10732),s=7984,n[s>>2]=1,n[s+4>>2]=0),10732}function eOe(s){s=s|0,Pl(s,tOe()|0,2)}function tOe(){return 1744}function rOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+32|0,m=f+16|0,d=f+8|0,B=f,Ka(d),s=da(s)|0,n[B>>2]=n[l>>2],c=n[c>>2]|0,n[m>>2]=n[B>>2],U9(s,m,c),Va(d),C=f}function nOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+32|0,B=d+16|0,m=d+8|0,k=d,Ka(m),s=da(s)|0,n[k>>2]=n[l>>2],c=o[c>>0]|0,f=o[f>>0]|0,n[B>>2]=n[k>>2],iOe(s,B,c,f),Va(m),C=d}function iOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,B=d+4|0,k=d,m=Sl(sOe()|0)|0,n[k>>2]=n[l>>2],n[B>>2]=n[k>>2],l=Fg(B)|0,c=Km(c)|0,pc(0,m|0,s|0,l|0,c|0,Km(f)|0)|0,C=d}function sOe(){var s=0;return o[7992]|0||(aOe(10744),s=7992,n[s>>2]=1,n[s+4>>2]=0),10744}function Km(s){return s=s|0,oOe(s)|0}function oOe(s){return s=s|0,s&255|0}function aOe(s){s=s|0,Pl(s,lOe()|0,3)}function lOe(){return 1756}function cOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;switch(se=C,C=C+32|0,k=se+8|0,Q=se+4|0,M=se+20|0,O=se,LF(s,0),f=oUe(l)|0,n[k>>2]=0,j=k+4|0,n[j>>2]=0,n[k+8>>2]=0,f<<24>>24){case 0:{o[M>>0]=0,uOe(Q,c,M),uD(s,Q)|0,GA(Q);break}case 8:{j=BR(l)|0,o[M>>0]=8,bc(O,n[j+4>>2]|0),AOe(Q,c,M,O,j+8|0),uD(s,Q)|0,GA(Q);break}case 9:{if(m=BR(l)|0,l=n[m+4>>2]|0,l|0)for(B=k+8|0,d=m+12|0;l=l+-1|0,bc(Q,n[d>>2]|0),f=n[j>>2]|0,f>>>0<(n[B>>2]|0)>>>0?(n[f>>2]=n[Q>>2],n[j>>2]=(n[j>>2]|0)+4):pR(k,Q),l;)d=d+4|0;o[M>>0]=9,bc(O,n[m+8>>2]|0),fOe(Q,c,M,O,k),uD(s,Q)|0,GA(Q);break}default:j=BR(l)|0,o[M>>0]=f,bc(O,n[j+4>>2]|0),pOe(Q,c,M,O),uD(s,Q)|0,GA(Q)}ef(k),C=se}function uOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Ka(d),l=da(l)|0,SOe(s,l,o[c>>0]|0),Va(d),C=f}function uD(s,l){s=s|0,l=l|0;var c=0;return c=n[s>>2]|0,c|0&&PA(c|0),n[s>>2]=n[l>>2],n[l>>2]=0,s|0}function AOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+32|0,k=m+16|0,B=m+8|0,Q=m,Ka(B),l=da(l)|0,c=o[c>>0]|0,n[Q>>2]=n[f>>2],d=n[d>>2]|0,n[k>>2]=n[Q>>2],IOe(s,l,c,k,d),Va(B),C=m}function fOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0;m=C,C=C+32|0,Q=m+24|0,B=m+16|0,M=m+12|0,k=m,Ka(B),l=da(l)|0,c=o[c>>0]|0,n[M>>2]=n[f>>2],gR(k,d),n[Q>>2]=n[M>>2],yOe(s,l,c,Q,k),ef(k),Va(B),C=m}function pOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+32|0,B=d+16|0,m=d+8|0,k=d,Ka(m),l=da(l)|0,c=o[c>>0]|0,n[k>>2]=n[f>>2],n[B>>2]=n[k>>2],hOe(s,l,c,B),Va(m),C=d}function hOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+4|0,k=d,B=Sl(gOe()|0)|0,c=Km(c)|0,n[k>>2]=n[f>>2],n[m>>2]=n[k>>2],AD(s,oo(0,B|0,l|0,c|0,Fg(m)|0)|0),C=d}function gOe(){var s=0;return o[8e3]|0||(dOe(10756),s=8e3,n[s>>2]=1,n[s+4>>2]=0),10756}function AD(s,l){s=s|0,l=l|0,LF(s,l)}function dOe(s){s=s|0,Pl(s,mOe()|0,2)}function mOe(){return 1772}function yOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0;m=C,C=C+32|0,Q=m+16|0,M=m+12|0,B=m,k=Sl(EOe()|0)|0,c=Km(c)|0,n[M>>2]=n[f>>2],n[Q>>2]=n[M>>2],f=Fg(Q)|0,n[B>>2]=n[d>>2],Q=d+4|0,n[B+4>>2]=n[Q>>2],M=d+8|0,n[B+8>>2]=n[M>>2],n[M>>2]=0,n[Q>>2]=0,n[d>>2]=0,AD(s,pc(0,k|0,l|0,c|0,f|0,mR(B)|0)|0),ef(B),C=m}function EOe(){var s=0;return o[8008]|0||(COe(10768),s=8008,n[s>>2]=1,n[s+4>>2]=0),10768}function COe(s){s=s|0,Pl(s,wOe()|0,3)}function wOe(){return 1784}function IOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+16|0,k=m+4|0,Q=m,B=Sl(BOe()|0)|0,c=Km(c)|0,n[Q>>2]=n[f>>2],n[k>>2]=n[Q>>2],f=Fg(k)|0,AD(s,pc(0,B|0,l|0,c|0,f|0,dR(d)|0)|0),C=m}function BOe(){var s=0;return o[8016]|0||(vOe(10780),s=8016,n[s>>2]=1,n[s+4>>2]=0),10780}function vOe(s){s=s|0,Pl(s,DOe()|0,3)}function DOe(){return 1800}function SOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=Sl(POe()|0)|0,AD(s,Qn(0,f|0,l|0,Km(c)|0)|0)}function POe(){var s=0;return o[8024]|0||(bOe(10792),s=8024,n[s>>2]=1,n[s+4>>2]=0),10792}function bOe(s){s=s|0,Pl(s,xOe()|0,1)}function xOe(){return 1816}function kOe(){QOe(),FOe(),ROe()}function QOe(){n[2702]=p7(65536)|0}function FOe(){$Oe(10856)}function ROe(){TOe(10816)}function TOe(s){s=s|0,NOe(s,5044),LOe(s)|0}function NOe(s,l){s=s|0,l=l|0;var c=0;c=x9()|0,n[s>>2]=c,KOe(c,l),xp(n[s>>2]|0)}function LOe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,OOe()|0),s|0}function OOe(){var s=0;return o[8032]|0||(_9(10820),tr(64,10820,U|0)|0,s=8032,n[s>>2]=1,n[s+4>>2]=0),Tr(10820)|0||_9(10820),10820}function _9(s){s=s|0,_Oe(s),Qg(s,25)}function MOe(s){s=s|0,UOe(s+24|0)}function UOe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function _Oe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,18,l,GOe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function HOe(s,l){s=s|0,l=l|0,qOe(s,l)}function qOe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;c=C,C=C+16|0,f=c,d=c+4|0,bg(d,l),n[f>>2]=xg(d,l)|0,jOe(s,f),C=c}function jOe(s,l){s=s|0,l=l|0,H9(s+4|0,n[l>>2]|0),o[s+8>>0]=1}function H9(s,l){s=s|0,l=l|0,n[s>>2]=l}function GOe(){return 1824}function YOe(s){return s=s|0,WOe(s)|0}function WOe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(4)|0,bg(d,s),H9(k,xg(d,s)|0),m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],k9(s,m,d),n[f>>2]=s,C=c,l|0}function Wa(s){s=s|0;var l=0,c=0;return s=s+7&-8,s>>>0<=32768&&(l=n[2701]|0,s>>>0<=(65536-l|0)>>>0)?(c=(n[2702]|0)+l|0,n[2701]=l+s,s=c):(s=p7(s+8|0)|0,n[s>>2]=n[2703],n[2703]=s,s=s+8|0),s|0}function KOe(s,l){s=s|0,l=l|0,n[s>>2]=VOe()|0,n[s+4>>2]=JOe()|0,n[s+12>>2]=l,n[s+8>>2]=zOe()|0,n[s+32>>2]=9}function VOe(){return 11744}function JOe(){return 1832}function zOe(){return lD()|0}function XOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(ZOe(c),gt(c)):l|0&&gt(l)}function ZOe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function $Oe(s){s=s|0,eMe(s,5052),tMe(s)|0,rMe(s,5058,26)|0,nMe(s,5069,1)|0,iMe(s,5077,10)|0,sMe(s,5087,19)|0,oMe(s,5094,27)|0}function eMe(s,l){s=s|0,l=l|0;var c=0;c=Z4e()|0,n[s>>2]=c,$4e(c,l),xp(n[s>>2]|0)}function tMe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,M4e()|0),s|0}function rMe(s,l,c){return s=s|0,l=l|0,c=c|0,C4e(s,pn(l)|0,c,0),s|0}function nMe(s,l,c){return s=s|0,l=l|0,c=c|0,s4e(s,pn(l)|0,c,0),s|0}function iMe(s,l,c){return s=s|0,l=l|0,c=c|0,OMe(s,pn(l)|0,c,0),s|0}function sMe(s,l,c){return s=s|0,l=l|0,c=c|0,IMe(s,pn(l)|0,c,0),s|0}function q9(s,l){s=s|0,l=l|0;var c=0,f=0;e:for(;;){for(c=n[2703]|0;;){if((c|0)==(l|0))break e;if(f=n[c>>2]|0,n[2703]=f,!c)c=f;else break}gt(c)}n[2701]=s}function oMe(s,l,c){return s=s|0,l=l|0,c=c|0,aMe(s,pn(l)|0,c,0),s|0}function aMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=yR()|0,s=lMe(c)|0,hn(m,l,d,s,cMe(c,f)|0,f)}function yR(){var s=0,l=0;if(o[8040]|0||(G9(10860),tr(65,10860,U|0)|0,l=8040,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10860)|0)){s=10860,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));G9(10860)}return 10860}function lMe(s){return s=s|0,s|0}function cMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=yR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(j9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(uMe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function j9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function uMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=AMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,fMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,j9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,pMe(s,d),hMe(d),C=k;return}}function AMe(s){return s=s|0,536870911}function fMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function pMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function hMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function G9(s){s=s|0,mMe(s)}function gMe(s){s=s|0,dMe(s+24|0)}function dMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function mMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,11,l,yMe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function yMe(){return 1840}function EMe(s,l,c){s=s|0,l=l|0,c=c|0,wMe(n[(CMe(s)|0)>>2]|0,l,c)}function CMe(s){return s=s|0,(n[(yR()|0)+24>>2]|0)+(s<<3)|0}function wMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;f=C,C=C+16|0,m=f+1|0,d=f,bg(m,l),l=xg(m,l)|0,bg(d,c),c=xg(d,c)|0,rf[s&31](l,c),C=f}function IMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=ER()|0,s=BMe(c)|0,hn(m,l,d,s,vMe(c,f)|0,f)}function ER(){var s=0,l=0;if(o[8048]|0||(W9(10896),tr(66,10896,U|0)|0,l=8048,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10896)|0)){s=10896,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));W9(10896)}return 10896}function BMe(s){return s=s|0,s|0}function vMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=ER()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(Y9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(DMe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function Y9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function DMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=SMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,PMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,Y9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,bMe(s,d),xMe(d),C=k;return}}function SMe(s){return s=s|0,536870911}function PMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function bMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function xMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function W9(s){s=s|0,FMe(s)}function kMe(s){s=s|0,QMe(s+24|0)}function QMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function FMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,11,l,RMe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function RMe(){return 1852}function TMe(s,l){return s=s|0,l=l|0,LMe(n[(NMe(s)|0)>>2]|0,l)|0}function NMe(s){return s=s|0,(n[(ER()|0)+24>>2]|0)+(s<<3)|0}function LMe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,bg(f,l),l=xg(f,l)|0,l=oD(Lg[s&31](l)|0)|0,C=c,l|0}function OMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=CR()|0,s=MMe(c)|0,hn(m,l,d,s,UMe(c,f)|0,f)}function CR(){var s=0,l=0;if(o[8056]|0||(V9(10932),tr(67,10932,U|0)|0,l=8056,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10932)|0)){s=10932,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));V9(10932)}return 10932}function MMe(s){return s=s|0,s|0}function UMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=CR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(K9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(_Me(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function K9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function _Me(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=HMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,qMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,K9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,jMe(s,d),GMe(d),C=k;return}}function HMe(s){return s=s|0,536870911}function qMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function jMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function GMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function V9(s){s=s|0,KMe(s)}function YMe(s){s=s|0,WMe(s+24|0)}function WMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function KMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,7,l,VMe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function VMe(){return 1860}function JMe(s,l,c){return s=s|0,l=l|0,c=c|0,XMe(n[(zMe(s)|0)>>2]|0,l,c)|0}function zMe(s){return s=s|0,(n[(CR()|0)+24>>2]|0)+(s<<3)|0}function XMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+32|0,B=f+12|0,m=f+8|0,k=f,Q=f+16|0,d=f+4|0,ZMe(Q,l),$Me(k,Q,l),Dp(d,c),c=Sp(d,c)|0,n[B>>2]=n[k>>2],Hw[s&15](m,B,c),c=e4e(m)|0,GA(m),Pp(d),C=f,c|0}function ZMe(s,l){s=s|0,l=l|0}function $Me(s,l,c){s=s|0,l=l|0,c=c|0,t4e(s,c)}function e4e(s){return s=s|0,da(s)|0}function t4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+16|0,c=d,f=l,f&1?(r4e(c,0),ii(f|0,c|0)|0,n4e(s,c),i4e(c)):n[s>>2]=n[l>>2],C=d}function r4e(s,l){s=s|0,l=l|0,XG(s,l),n[s+4>>2]=0,o[s+8>>0]=0}function n4e(s,l){s=s|0,l=l|0,n[s>>2]=n[l+4>>2]}function i4e(s){s=s|0,o[s+8>>0]=0}function s4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=wR()|0,s=o4e(c)|0,hn(m,l,d,s,a4e(c,f)|0,f)}function wR(){var s=0,l=0;if(o[8064]|0||(z9(10968),tr(68,10968,U|0)|0,l=8064,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10968)|0)){s=10968,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));z9(10968)}return 10968}function o4e(s){return s=s|0,s|0}function a4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=wR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(J9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(l4e(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function J9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function l4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=c4e(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,u4e(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,J9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,A4e(s,d),f4e(d),C=k;return}}function c4e(s){return s=s|0,536870911}function u4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function A4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function f4e(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function z9(s){s=s|0,g4e(s)}function p4e(s){s=s|0,h4e(s+24|0)}function h4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function g4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,1,l,d4e()|0,5),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function d4e(){return 1872}function m4e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,E4e(n[(y4e(s)|0)>>2]|0,l,c,f,d,m)}function y4e(s){return s=s|0,(n[(wR()|0)+24>>2]|0)+(s<<3)|0}function E4e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+32|0,k=B+16|0,Q=B+12|0,M=B+8|0,O=B+4|0,j=B,Dp(k,l),l=Sp(k,l)|0,Dp(Q,c),c=Sp(Q,c)|0,Dp(M,f),f=Sp(M,f)|0,Dp(O,d),d=Sp(O,d)|0,Dp(j,m),m=Sp(j,m)|0,y7[s&1](l,c,f,d,m),Pp(j),Pp(O),Pp(M),Pp(Q),Pp(k),C=B}function C4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=IR()|0,s=w4e(c)|0,hn(m,l,d,s,I4e(c,f)|0,f)}function IR(){var s=0,l=0;if(o[8072]|0||(Z9(11004),tr(69,11004,U|0)|0,l=8072,n[l>>2]=1,n[l+4>>2]=0),!(Tr(11004)|0)){s=11004,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Z9(11004)}return 11004}function w4e(s){return s=s|0,s|0}function I4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=IR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(X9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(B4e(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function X9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function B4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=v4e(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,D4e(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,X9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,S4e(s,d),P4e(d),C=k;return}}function v4e(s){return s=s|0,536870911}function D4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function S4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function P4e(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function Z9(s){s=s|0,k4e(s)}function b4e(s){s=s|0,x4e(s+24|0)}function x4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function k4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,12,l,Q4e()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Q4e(){return 1896}function F4e(s,l,c){s=s|0,l=l|0,c=c|0,T4e(n[(R4e(s)|0)>>2]|0,l,c)}function R4e(s){return s=s|0,(n[(IR()|0)+24>>2]|0)+(s<<3)|0}function T4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;f=C,C=C+16|0,m=f+4|0,d=f,N4e(m,l),l=L4e(m,l)|0,Dp(d,c),c=Sp(d,c)|0,rf[s&31](l,c),Pp(d),C=f}function N4e(s,l){s=s|0,l=l|0}function L4e(s,l){return s=s|0,l=l|0,O4e(l)|0}function O4e(s){return s=s|0,s|0}function M4e(){var s=0;return o[8080]|0||($9(11040),tr(70,11040,U|0)|0,s=8080,n[s>>2]=1,n[s+4>>2]=0),Tr(11040)|0||$9(11040),11040}function $9(s){s=s|0,H4e(s),Qg(s,71)}function U4e(s){s=s|0,_4e(s+24|0)}function _4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function H4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,7,l,Y4e()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function q4e(s){s=s|0,j4e(s)}function j4e(s){s=s|0,G4e(s)}function G4e(s){s=s|0,o[s+8>>0]=1}function Y4e(){return 1936}function W4e(){return K4e()|0}function K4e(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,m=s+4|0,n[m>>2]=Kt(1)|0,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],V4e(f,m,d),n[c>>2]=f,C=l,s|0}function V4e(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1916,n[c+12>>2]=l,n[s+4>>2]=c}function J4e(s){s=s|0,zm(s),gt(s)}function z4e(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function X4e(s){s=s|0,gt(s)}function Z4e(){var s=0;return o[8088]|0||(sUe(11076),tr(25,11076,U|0)|0,s=8088,n[s>>2]=1,n[s+4>>2]=0),11076}function $4e(s,l){s=s|0,l=l|0,n[s>>2]=eUe()|0,n[s+4>>2]=tUe()|0,n[s+12>>2]=l,n[s+8>>2]=rUe()|0,n[s+32>>2]=10}function eUe(){return 11745}function tUe(){return 1940}function rUe(){return aD()|0}function nUe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(iUe(c),gt(c)):l|0&&gt(l)}function iUe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function sUe(s){s=s|0,vp(s)}function bc(s,l){s=s|0,l=l|0,n[s>>2]=l}function BR(s){return s=s|0,n[s>>2]|0}function oUe(s){return s=s|0,o[n[s>>2]>>0]|0}function aUe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,n[f>>2]=n[s>>2],lUe(l,f)|0,C=c}function lUe(s,l){s=s|0,l=l|0;var c=0;return c=cUe(n[s>>2]|0,l)|0,l=s+4|0,n[(n[l>>2]|0)+8>>2]=c,n[(n[l>>2]|0)+8>>2]|0}function cUe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,Ka(f),s=da(s)|0,l=uUe(s,n[l>>2]|0)|0,Va(f),C=c,l|0}function Ka(s){s=s|0,n[s>>2]=n[2701],n[s+4>>2]=n[2703]}function uUe(s,l){s=s|0,l=l|0;var c=0;return c=Sl(AUe()|0)|0,Qn(0,c|0,s|0,dR(l)|0)|0}function Va(s){s=s|0,q9(n[s>>2]|0,n[s+4>>2]|0)}function AUe(){var s=0;return o[8096]|0||(fUe(11120),s=8096,n[s>>2]=1,n[s+4>>2]=0),11120}function fUe(s){s=s|0,Pl(s,pUe()|0,1)}function pUe(){return 1948}function hUe(){gUe()}function gUe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;if(Me=C,C=C+16|0,O=Me+4|0,j=Me,Ni(65536,10804,n[2702]|0,10812),c=B9()|0,l=n[c>>2]|0,s=n[l>>2]|0,s|0)for(f=n[c+8>>2]|0,c=n[c+4>>2]|0;uc(s|0,u[c>>0]|0|0,o[f>>0]|0),l=l+4|0,s=n[l>>2]|0,s;)f=f+1|0,c=c+1|0;if(s=v9()|0,l=n[s>>2]|0,l|0)do uu(l|0,n[s+4>>2]|0),s=s+8|0,l=n[s>>2]|0;while((l|0)!=0);uu(dUe()|0,5167),M=Ym()|0,s=n[M>>2]|0;e:do if(s|0){do mUe(n[s+4>>2]|0),s=n[s>>2]|0;while((s|0)!=0);if(s=n[M>>2]|0,s|0){Q=M;do{for(;d=s,s=n[s>>2]|0,d=n[d+4>>2]|0,!!(yUe(d)|0);)if(n[j>>2]=Q,n[O>>2]=n[j>>2],EUe(M,O)|0,!s)break e;if(CUe(d),Q=n[Q>>2]|0,l=e7(d)|0,m=Hi()|0,B=C,C=C+((1*(l<<2)|0)+15&-16)|0,k=C,C=C+((1*(l<<2)|0)+15&-16)|0,l=n[(L9(d)|0)>>2]|0,l|0)for(c=B,f=k;n[c>>2]=n[(Wm(n[l+4>>2]|0)|0)>>2],n[f>>2]=n[l+8>>2],l=n[l>>2]|0,l;)c=c+4|0,f=f+4|0;Qe=Wm(d)|0,l=wUe(d)|0,c=e7(d)|0,f=IUe(d)|0,Au(Qe|0,l|0,B|0,k|0,c|0,f|0,uR(d)|0),_i(m|0)}while((s|0)!=0)}}while(0);if(s=n[(AR()|0)>>2]|0,s|0)do Qe=s+4|0,M=fR(Qe)|0,d=Ow(M)|0,m=Nw(M)|0,B=(Lw(M)|0)+1|0,k=fD(M)|0,Q=t7(Qe)|0,M=Tr(M)|0,O=cD(Qe)|0,j=vR(Qe)|0,El(0,d|0,m|0,B|0,k|0,Q|0,M|0,O|0,j|0,DR(Qe)|0),s=n[s>>2]|0;while((s|0)!=0);s=n[(Ym()|0)>>2]|0;e:do if(s|0){t:for(;;){if(l=n[s+4>>2]|0,l|0&&(se=n[(Wm(l)|0)>>2]|0,Ge=n[(O9(l)|0)>>2]|0,Ge|0)){c=Ge;do{l=c+4|0,f=fR(l)|0;r:do if(f|0)switch(Tr(f)|0){case 0:break t;case 4:case 3:case 2:{k=Ow(f)|0,Q=Nw(f)|0,M=(Lw(f)|0)+1|0,O=fD(f)|0,j=Tr(f)|0,Qe=cD(l)|0,El(se|0,k|0,Q|0,M|0,O|0,0,j|0,Qe|0,vR(l)|0,DR(l)|0);break r}case 1:{B=Ow(f)|0,k=Nw(f)|0,Q=(Lw(f)|0)+1|0,M=fD(f)|0,O=t7(l)|0,j=Tr(f)|0,Qe=cD(l)|0,El(se|0,B|0,k|0,Q|0,M|0,O|0,j|0,Qe|0,vR(l)|0,DR(l)|0);break r}case 5:{M=Ow(f)|0,O=Nw(f)|0,j=(Lw(f)|0)+1|0,Qe=fD(f)|0,El(se|0,M|0,O|0,j|0,Qe|0,BUe(f)|0,Tr(f)|0,0,0,0);break r}default:break r}while(0);c=n[c>>2]|0}while((c|0)!=0)}if(s=n[s>>2]|0,!s)break e}Rt()}while(0);Ce(),C=Me}function dUe(){return 11703}function mUe(s){s=s|0,o[s+40>>0]=0}function yUe(s){return s=s|0,(o[s+40>>0]|0)!=0|0}function EUe(s,l){return s=s|0,l=l|0,l=vUe(l)|0,s=n[l>>2]|0,n[l>>2]=n[s>>2],gt(s),n[l>>2]|0}function CUe(s){s=s|0,o[s+40>>0]=1}function e7(s){return s=s|0,n[s+20>>2]|0}function wUe(s){return s=s|0,n[s+8>>2]|0}function IUe(s){return s=s|0,n[s+32>>2]|0}function fD(s){return s=s|0,n[s+4>>2]|0}function t7(s){return s=s|0,n[s+4>>2]|0}function vR(s){return s=s|0,n[s+8>>2]|0}function DR(s){return s=s|0,n[s+16>>2]|0}function BUe(s){return s=s|0,n[s+20>>2]|0}function vUe(s){return s=s|0,n[s>>2]|0}function pD(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0;Lt=C,C=C+16|0,se=Lt;do if(s>>>0<245){if(M=s>>>0<11?16:s+11&-8,s=M>>>3,j=n[2783]|0,c=j>>>s,c&3|0)return l=(c&1^1)+s|0,s=11172+(l<<1<<2)|0,c=s+8|0,f=n[c>>2]|0,d=f+8|0,m=n[d>>2]|0,(s|0)==(m|0)?n[2783]=j&~(1<<l):(n[m+12>>2]=s,n[c>>2]=m),je=l<<3,n[f+4>>2]=je|3,je=f+je+4|0,n[je>>2]=n[je>>2]|1,je=d,C=Lt,je|0;if(O=n[2785]|0,M>>>0>O>>>0){if(c|0)return l=2<<s,l=c<<s&(l|0-l),l=(l&0-l)+-1|0,B=l>>>12&16,l=l>>>B,c=l>>>5&8,l=l>>>c,d=l>>>2&4,l=l>>>d,s=l>>>1&2,l=l>>>s,f=l>>>1&1,f=(c|B|d|s|f)+(l>>>f)|0,l=11172+(f<<1<<2)|0,s=l+8|0,d=n[s>>2]|0,B=d+8|0,c=n[B>>2]|0,(l|0)==(c|0)?(s=j&~(1<<f),n[2783]=s):(n[c+12>>2]=l,n[s>>2]=c,s=j),m=(f<<3)-M|0,n[d+4>>2]=M|3,f=d+M|0,n[f+4>>2]=m|1,n[f+m>>2]=m,O|0&&(d=n[2788]|0,l=O>>>3,c=11172+(l<<1<<2)|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=d,n[l+12>>2]=d,n[d+8>>2]=l,n[d+12>>2]=c),n[2785]=m,n[2788]=f,je=B,C=Lt,je|0;if(k=n[2784]|0,k){if(c=(k&0-k)+-1|0,B=c>>>12&16,c=c>>>B,m=c>>>5&8,c=c>>>m,Q=c>>>2&4,c=c>>>Q,f=c>>>1&2,c=c>>>f,s=c>>>1&1,s=n[11436+((m|B|Q|f|s)+(c>>>s)<<2)>>2]|0,c=(n[s+4>>2]&-8)-M|0,f=n[s+16+(((n[s+16>>2]|0)==0&1)<<2)>>2]|0,!f)Q=s,m=c;else{do B=(n[f+4>>2]&-8)-M|0,Q=B>>>0<c>>>0,c=Q?B:c,s=Q?f:s,f=n[f+16+(((n[f+16>>2]|0)==0&1)<<2)>>2]|0;while((f|0)!=0);Q=s,m=c}if(B=Q+M|0,Q>>>0<B>>>0){d=n[Q+24>>2]|0,l=n[Q+12>>2]|0;do if((l|0)==(Q|0)){if(s=Q+20|0,l=n[s>>2]|0,!l&&(s=Q+16|0,l=n[s>>2]|0,!l)){c=0;break}for(;;){if(c=l+20|0,f=n[c>>2]|0,f|0){l=f,s=c;continue}if(c=l+16|0,f=n[c>>2]|0,f)l=f,s=c;else break}n[s>>2]=0,c=l}else c=n[Q+8>>2]|0,n[c+12>>2]=l,n[l+8>>2]=c,c=l;while(0);do if(d|0){if(l=n[Q+28>>2]|0,s=11436+(l<<2)|0,(Q|0)==(n[s>>2]|0)){if(n[s>>2]=c,!c){n[2784]=k&~(1<<l);break}}else if(n[d+16+(((n[d+16>>2]|0)!=(Q|0)&1)<<2)>>2]=c,!c)break;n[c+24>>2]=d,l=n[Q+16>>2]|0,l|0&&(n[c+16>>2]=l,n[l+24>>2]=c),l=n[Q+20>>2]|0,l|0&&(n[c+20>>2]=l,n[l+24>>2]=c)}while(0);return m>>>0<16?(je=m+M|0,n[Q+4>>2]=je|3,je=Q+je+4|0,n[je>>2]=n[je>>2]|1):(n[Q+4>>2]=M|3,n[B+4>>2]=m|1,n[B+m>>2]=m,O|0&&(f=n[2788]|0,l=O>>>3,c=11172+(l<<1<<2)|0,l=1<<l,j&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=j|l,l=c,s=c+8|0),n[s>>2]=f,n[l+12>>2]=f,n[f+8>>2]=l,n[f+12>>2]=c),n[2785]=m,n[2788]=B),je=Q+8|0,C=Lt,je|0}else j=M}else j=M}else j=M}else if(s>>>0<=4294967231)if(s=s+11|0,M=s&-8,Q=n[2784]|0,Q){f=0-M|0,s=s>>>8,s?M>>>0>16777215?k=31:(j=(s+1048320|0)>>>16&8,Ue=s<<j,O=(Ue+520192|0)>>>16&4,Ue=Ue<<O,k=(Ue+245760|0)>>>16&2,k=14-(O|j|k)+(Ue<<k>>>15)|0,k=M>>>(k+7|0)&1|k<<1):k=0,c=n[11436+(k<<2)>>2]|0;e:do if(!c)c=0,s=0,Ue=57;else for(s=0,B=M<<((k|0)==31?0:25-(k>>>1)|0),m=0;;){if(d=(n[c+4>>2]&-8)-M|0,d>>>0<f>>>0)if(d)s=c,f=d;else{s=c,f=0,d=c,Ue=61;break e}if(d=n[c+20>>2]|0,c=n[c+16+(B>>>31<<2)>>2]|0,m=(d|0)==0|(d|0)==(c|0)?m:d,d=(c|0)==0,d){c=m,Ue=57;break}else B=B<<((d^1)&1)}while(0);if((Ue|0)==57){if((c|0)==0&(s|0)==0){if(s=2<<k,s=Q&(s|0-s),!s){j=M;break}j=(s&0-s)+-1|0,B=j>>>12&16,j=j>>>B,m=j>>>5&8,j=j>>>m,k=j>>>2&4,j=j>>>k,O=j>>>1&2,j=j>>>O,c=j>>>1&1,s=0,c=n[11436+((m|B|k|O|c)+(j>>>c)<<2)>>2]|0}c?(d=c,Ue=61):(k=s,B=f)}if((Ue|0)==61)for(;;)if(Ue=0,c=(n[d+4>>2]&-8)-M|0,j=c>>>0<f>>>0,c=j?c:f,s=j?d:s,d=n[d+16+(((n[d+16>>2]|0)==0&1)<<2)>>2]|0,d)f=c,Ue=61;else{k=s,B=c;break}if((k|0)!=0&&B>>>0<((n[2785]|0)-M|0)>>>0){if(m=k+M|0,k>>>0>=m>>>0)return je=0,C=Lt,je|0;d=n[k+24>>2]|0,l=n[k+12>>2]|0;do if((l|0)==(k|0)){if(s=k+20|0,l=n[s>>2]|0,!l&&(s=k+16|0,l=n[s>>2]|0,!l)){l=0;break}for(;;){if(c=l+20|0,f=n[c>>2]|0,f|0){l=f,s=c;continue}if(c=l+16|0,f=n[c>>2]|0,f)l=f,s=c;else break}n[s>>2]=0}else je=n[k+8>>2]|0,n[je+12>>2]=l,n[l+8>>2]=je;while(0);do if(d){if(s=n[k+28>>2]|0,c=11436+(s<<2)|0,(k|0)==(n[c>>2]|0)){if(n[c>>2]=l,!l){f=Q&~(1<<s),n[2784]=f;break}}else if(n[d+16+(((n[d+16>>2]|0)!=(k|0)&1)<<2)>>2]=l,!l){f=Q;break}n[l+24>>2]=d,s=n[k+16>>2]|0,s|0&&(n[l+16>>2]=s,n[s+24>>2]=l),s=n[k+20>>2]|0,s&&(n[l+20>>2]=s,n[s+24>>2]=l),f=Q}else f=Q;while(0);do if(B>>>0>=16){if(n[k+4>>2]=M|3,n[m+4>>2]=B|1,n[m+B>>2]=B,l=B>>>3,B>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=m,n[l+12>>2]=m,n[m+8>>2]=l,n[m+12>>2]=c;break}if(l=B>>>8,l?B>>>0>16777215?l=31:(Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,l=(je+245760|0)>>>16&2,l=14-(lt|Ue|l)+(je<<l>>>15)|0,l=B>>>(l+7|0)&1|l<<1):l=0,c=11436+(l<<2)|0,n[m+28>>2]=l,s=m+16|0,n[s+4>>2]=0,n[s>>2]=0,s=1<<l,!(f&s)){n[2784]=f|s,n[c>>2]=m,n[m+24>>2]=c,n[m+12>>2]=m,n[m+8>>2]=m;break}for(s=B<<((l|0)==31?0:25-(l>>>1)|0),c=n[c>>2]|0;;){if((n[c+4>>2]&-8|0)==(B|0)){Ue=97;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=96;break}}if((Ue|0)==96){n[f>>2]=m,n[m+24>>2]=c,n[m+12>>2]=m,n[m+8>>2]=m;break}else if((Ue|0)==97){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=m,n[Ue>>2]=m,n[m+8>>2]=je,n[m+12>>2]=c,n[m+24>>2]=0;break}}else je=B+M|0,n[k+4>>2]=je|3,je=k+je+4|0,n[je>>2]=n[je>>2]|1;while(0);return je=k+8|0,C=Lt,je|0}else j=M}else j=M;else j=-1;while(0);if(c=n[2785]|0,c>>>0>=j>>>0)return l=c-j|0,s=n[2788]|0,l>>>0>15?(je=s+j|0,n[2788]=je,n[2785]=l,n[je+4>>2]=l|1,n[je+l>>2]=l,n[s+4>>2]=j|3):(n[2785]=0,n[2788]=0,n[s+4>>2]=c|3,je=s+c+4|0,n[je>>2]=n[je>>2]|1),je=s+8|0,C=Lt,je|0;if(B=n[2786]|0,B>>>0>j>>>0)return lt=B-j|0,n[2786]=lt,je=n[2789]|0,Ue=je+j|0,n[2789]=Ue,n[Ue+4>>2]=lt|1,n[je+4>>2]=j|3,je=je+8|0,C=Lt,je|0;if(n[2901]|0?s=n[2903]|0:(n[2903]=4096,n[2902]=4096,n[2904]=-1,n[2905]=-1,n[2906]=0,n[2894]=0,s=se&-16^1431655768,n[se>>2]=s,n[2901]=s,s=4096),k=j+48|0,Q=j+47|0,m=s+Q|0,d=0-s|0,M=m&d,M>>>0<=j>>>0||(s=n[2893]|0,s|0&&(O=n[2891]|0,se=O+M|0,se>>>0<=O>>>0|se>>>0>s>>>0)))return je=0,C=Lt,je|0;e:do if(n[2894]&4)l=0,Ue=133;else{c=n[2789]|0;t:do if(c){for(f=11580;s=n[f>>2]|0,!(s>>>0<=c>>>0&&(Qe=f+4|0,(s+(n[Qe>>2]|0)|0)>>>0>c>>>0));)if(s=n[f+8>>2]|0,s)f=s;else{Ue=118;break t}if(l=m-B&d,l>>>0<2147483647)if(s=Qp(l|0)|0,(s|0)==((n[f>>2]|0)+(n[Qe>>2]|0)|0)){if((s|0)!=-1){B=l,m=s,Ue=135;break e}}else f=s,Ue=126;else l=0}else Ue=118;while(0);do if((Ue|0)==118)if(c=Qp(0)|0,(c|0)!=-1&&(l=c,Ge=n[2902]|0,Me=Ge+-1|0,l=((Me&l|0)==0?0:(Me+l&0-Ge)-l|0)+M|0,Ge=n[2891]|0,Me=l+Ge|0,l>>>0>j>>>0&l>>>0<2147483647)){if(Qe=n[2893]|0,Qe|0&&Me>>>0<=Ge>>>0|Me>>>0>Qe>>>0){l=0;break}if(s=Qp(l|0)|0,(s|0)==(c|0)){B=l,m=c,Ue=135;break e}else f=s,Ue=126}else l=0;while(0);do if((Ue|0)==126){if(c=0-l|0,!(k>>>0>l>>>0&(l>>>0<2147483647&(f|0)!=-1)))if((f|0)==-1){l=0;break}else{B=l,m=f,Ue=135;break e}if(s=n[2903]|0,s=Q-l+s&0-s,s>>>0>=2147483647){B=l,m=f,Ue=135;break e}if((Qp(s|0)|0)==-1){Qp(c|0)|0,l=0;break}else{B=s+l|0,m=f,Ue=135;break e}}while(0);n[2894]=n[2894]|4,Ue=133}while(0);if((Ue|0)==133&&M>>>0<2147483647&&(lt=Qp(M|0)|0,Qe=Qp(0)|0,et=Qe-lt|0,Xe=et>>>0>(j+40|0)>>>0,!((lt|0)==-1|Xe^1|lt>>>0<Qe>>>0&((lt|0)!=-1&(Qe|0)!=-1)^1))&&(B=Xe?et:l,m=lt,Ue=135),(Ue|0)==135){l=(n[2891]|0)+B|0,n[2891]=l,l>>>0>(n[2892]|0)>>>0&&(n[2892]=l),Q=n[2789]|0;do if(Q){for(l=11580;;){if(s=n[l>>2]|0,c=l+4|0,f=n[c>>2]|0,(m|0)==(s+f|0)){Ue=145;break}if(d=n[l+8>>2]|0,d)l=d;else break}if((Ue|0)==145&&(n[l+12>>2]&8|0)==0&&Q>>>0<m>>>0&Q>>>0>=s>>>0){n[c>>2]=f+B,je=Q+8|0,je=(je&7|0)==0?0:0-je&7,Ue=Q+je|0,je=(n[2786]|0)+(B-je)|0,n[2789]=Ue,n[2786]=je,n[Ue+4>>2]=je|1,n[Ue+je+4>>2]=40,n[2790]=n[2905];break}for(m>>>0<(n[2787]|0)>>>0&&(n[2787]=m),c=m+B|0,l=11580;;){if((n[l>>2]|0)==(c|0)){Ue=153;break}if(s=n[l+8>>2]|0,s)l=s;else break}if((Ue|0)==153&&(n[l+12>>2]&8|0)==0){n[l>>2]=m,O=l+4|0,n[O>>2]=(n[O>>2]|0)+B,O=m+8|0,O=m+((O&7|0)==0?0:0-O&7)|0,l=c+8|0,l=c+((l&7|0)==0?0:0-l&7)|0,M=O+j|0,k=l-O-j|0,n[O+4>>2]=j|3;do if((l|0)!=(Q|0)){if((l|0)==(n[2788]|0)){je=(n[2785]|0)+k|0,n[2785]=je,n[2788]=M,n[M+4>>2]=je|1,n[M+je>>2]=je;break}if(s=n[l+4>>2]|0,(s&3|0)==1){B=s&-8,f=s>>>3;e:do if(s>>>0<256)if(s=n[l+8>>2]|0,c=n[l+12>>2]|0,(c|0)==(s|0)){n[2783]=n[2783]&~(1<<f);break}else{n[s+12>>2]=c,n[c+8>>2]=s;break}else{m=n[l+24>>2]|0,s=n[l+12>>2]|0;do if((s|0)==(l|0)){if(f=l+16|0,c=f+4|0,s=n[c>>2]|0,!s)if(s=n[f>>2]|0,s)c=f;else{s=0;break}for(;;){if(f=s+20|0,d=n[f>>2]|0,d|0){s=d,c=f;continue}if(f=s+16|0,d=n[f>>2]|0,d)s=d,c=f;else break}n[c>>2]=0}else je=n[l+8>>2]|0,n[je+12>>2]=s,n[s+8>>2]=je;while(0);if(!m)break;c=n[l+28>>2]|0,f=11436+(c<<2)|0;do if((l|0)!=(n[f>>2]|0)){if(n[m+16+(((n[m+16>>2]|0)!=(l|0)&1)<<2)>>2]=s,!s)break e}else{if(n[f>>2]=s,s|0)break;n[2784]=n[2784]&~(1<<c);break e}while(0);if(n[s+24>>2]=m,c=l+16|0,f=n[c>>2]|0,f|0&&(n[s+16>>2]=f,n[f+24>>2]=s),c=n[c+4>>2]|0,!c)break;n[s+20>>2]=c,n[c+24>>2]=s}while(0);l=l+B|0,d=B+k|0}else d=k;if(l=l+4|0,n[l>>2]=n[l>>2]&-2,n[M+4>>2]=d|1,n[M+d>>2]=d,l=d>>>3,d>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=M,n[l+12>>2]=M,n[M+8>>2]=l,n[M+12>>2]=c;break}l=d>>>8;do if(!l)l=0;else{if(d>>>0>16777215){l=31;break}Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,l=(je+245760|0)>>>16&2,l=14-(lt|Ue|l)+(je<<l>>>15)|0,l=d>>>(l+7|0)&1|l<<1}while(0);if(f=11436+(l<<2)|0,n[M+28>>2]=l,s=M+16|0,n[s+4>>2]=0,n[s>>2]=0,s=n[2784]|0,c=1<<l,!(s&c)){n[2784]=s|c,n[f>>2]=M,n[M+24>>2]=f,n[M+12>>2]=M,n[M+8>>2]=M;break}for(s=d<<((l|0)==31?0:25-(l>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(d|0)){Ue=194;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=193;break}}if((Ue|0)==193){n[f>>2]=M,n[M+24>>2]=c,n[M+12>>2]=M,n[M+8>>2]=M;break}else if((Ue|0)==194){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=M,n[Ue>>2]=M,n[M+8>>2]=je,n[M+12>>2]=c,n[M+24>>2]=0;break}}else je=(n[2786]|0)+k|0,n[2786]=je,n[2789]=M,n[M+4>>2]=je|1;while(0);return je=O+8|0,C=Lt,je|0}for(l=11580;s=n[l>>2]|0,!(s>>>0<=Q>>>0&&(je=s+(n[l+4>>2]|0)|0,je>>>0>Q>>>0));)l=n[l+8>>2]|0;d=je+-47|0,s=d+8|0,s=d+((s&7|0)==0?0:0-s&7)|0,d=Q+16|0,s=s>>>0<d>>>0?Q:s,l=s+8|0,c=m+8|0,c=(c&7|0)==0?0:0-c&7,Ue=m+c|0,c=B+-40-c|0,n[2789]=Ue,n[2786]=c,n[Ue+4>>2]=c|1,n[Ue+c+4>>2]=40,n[2790]=n[2905],c=s+4|0,n[c>>2]=27,n[l>>2]=n[2895],n[l+4>>2]=n[2896],n[l+8>>2]=n[2897],n[l+12>>2]=n[2898],n[2895]=m,n[2896]=B,n[2898]=0,n[2897]=l,l=s+24|0;do Ue=l,l=l+4|0,n[l>>2]=7;while((Ue+8|0)>>>0<je>>>0);if((s|0)!=(Q|0)){if(m=s-Q|0,n[c>>2]=n[c>>2]&-2,n[Q+4>>2]=m|1,n[s>>2]=m,l=m>>>3,m>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=Q,n[l+12>>2]=Q,n[Q+8>>2]=l,n[Q+12>>2]=c;break}if(l=m>>>8,l?m>>>0>16777215?c=31:(Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,c=(je+245760|0)>>>16&2,c=14-(lt|Ue|c)+(je<<c>>>15)|0,c=m>>>(c+7|0)&1|c<<1):c=0,f=11436+(c<<2)|0,n[Q+28>>2]=c,n[Q+20>>2]=0,n[d>>2]=0,l=n[2784]|0,s=1<<c,!(l&s)){n[2784]=l|s,n[f>>2]=Q,n[Q+24>>2]=f,n[Q+12>>2]=Q,n[Q+8>>2]=Q;break}for(s=m<<((c|0)==31?0:25-(c>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(m|0)){Ue=216;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=215;break}}if((Ue|0)==215){n[f>>2]=Q,n[Q+24>>2]=c,n[Q+12>>2]=Q,n[Q+8>>2]=Q;break}else if((Ue|0)==216){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=Q,n[Ue>>2]=Q,n[Q+8>>2]=je,n[Q+12>>2]=c,n[Q+24>>2]=0;break}}}else{je=n[2787]|0,(je|0)==0|m>>>0<je>>>0&&(n[2787]=m),n[2895]=m,n[2896]=B,n[2898]=0,n[2792]=n[2901],n[2791]=-1,l=0;do je=11172+(l<<1<<2)|0,n[je+12>>2]=je,n[je+8>>2]=je,l=l+1|0;while((l|0)!=32);je=m+8|0,je=(je&7|0)==0?0:0-je&7,Ue=m+je|0,je=B+-40-je|0,n[2789]=Ue,n[2786]=je,n[Ue+4>>2]=je|1,n[Ue+je+4>>2]=40,n[2790]=n[2905]}while(0);if(l=n[2786]|0,l>>>0>j>>>0)return lt=l-j|0,n[2786]=lt,je=n[2789]|0,Ue=je+j|0,n[2789]=Ue,n[Ue+4>>2]=lt|1,n[je+4>>2]=j|3,je=je+8|0,C=Lt,je|0}return n[(Vm()|0)>>2]=12,je=0,C=Lt,je|0}function hD(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0;if(!!s){c=s+-8|0,d=n[2787]|0,s=n[s+-4>>2]|0,l=s&-8,Q=c+l|0;do if(s&1)k=c,B=c;else{if(f=n[c>>2]|0,!(s&3)||(B=c+(0-f)|0,m=f+l|0,B>>>0<d>>>0))return;if((B|0)==(n[2788]|0)){if(s=Q+4|0,l=n[s>>2]|0,(l&3|0)!=3){k=B,l=m;break}n[2785]=m,n[s>>2]=l&-2,n[B+4>>2]=m|1,n[B+m>>2]=m;return}if(c=f>>>3,f>>>0<256)if(s=n[B+8>>2]|0,l=n[B+12>>2]|0,(l|0)==(s|0)){n[2783]=n[2783]&~(1<<c),k=B,l=m;break}else{n[s+12>>2]=l,n[l+8>>2]=s,k=B,l=m;break}d=n[B+24>>2]|0,s=n[B+12>>2]|0;do if((s|0)==(B|0)){if(c=B+16|0,l=c+4|0,s=n[l>>2]|0,!s)if(s=n[c>>2]|0,s)l=c;else{s=0;break}for(;;){if(c=s+20|0,f=n[c>>2]|0,f|0){s=f,l=c;continue}if(c=s+16|0,f=n[c>>2]|0,f)s=f,l=c;else break}n[l>>2]=0}else k=n[B+8>>2]|0,n[k+12>>2]=s,n[s+8>>2]=k;while(0);if(d){if(l=n[B+28>>2]|0,c=11436+(l<<2)|0,(B|0)==(n[c>>2]|0)){if(n[c>>2]=s,!s){n[2784]=n[2784]&~(1<<l),k=B,l=m;break}}else if(n[d+16+(((n[d+16>>2]|0)!=(B|0)&1)<<2)>>2]=s,!s){k=B,l=m;break}n[s+24>>2]=d,l=B+16|0,c=n[l>>2]|0,c|0&&(n[s+16>>2]=c,n[c+24>>2]=s),l=n[l+4>>2]|0,l?(n[s+20>>2]=l,n[l+24>>2]=s,k=B,l=m):(k=B,l=m)}else k=B,l=m}while(0);if(!(B>>>0>=Q>>>0)&&(s=Q+4|0,f=n[s>>2]|0,!!(f&1))){if(f&2)n[s>>2]=f&-2,n[k+4>>2]=l|1,n[B+l>>2]=l,d=l;else{if(s=n[2788]|0,(Q|0)==(n[2789]|0)){if(Q=(n[2786]|0)+l|0,n[2786]=Q,n[2789]=k,n[k+4>>2]=Q|1,(k|0)!=(s|0))return;n[2788]=0,n[2785]=0;return}if((Q|0)==(s|0)){Q=(n[2785]|0)+l|0,n[2785]=Q,n[2788]=B,n[k+4>>2]=Q|1,n[B+Q>>2]=Q;return}d=(f&-8)+l|0,c=f>>>3;do if(f>>>0<256)if(l=n[Q+8>>2]|0,s=n[Q+12>>2]|0,(s|0)==(l|0)){n[2783]=n[2783]&~(1<<c);break}else{n[l+12>>2]=s,n[s+8>>2]=l;break}else{m=n[Q+24>>2]|0,s=n[Q+12>>2]|0;do if((s|0)==(Q|0)){if(c=Q+16|0,l=c+4|0,s=n[l>>2]|0,!s)if(s=n[c>>2]|0,s)l=c;else{c=0;break}for(;;){if(c=s+20|0,f=n[c>>2]|0,f|0){s=f,l=c;continue}if(c=s+16|0,f=n[c>>2]|0,f)s=f,l=c;else break}n[l>>2]=0,c=s}else c=n[Q+8>>2]|0,n[c+12>>2]=s,n[s+8>>2]=c,c=s;while(0);if(m|0){if(s=n[Q+28>>2]|0,l=11436+(s<<2)|0,(Q|0)==(n[l>>2]|0)){if(n[l>>2]=c,!c){n[2784]=n[2784]&~(1<<s);break}}else if(n[m+16+(((n[m+16>>2]|0)!=(Q|0)&1)<<2)>>2]=c,!c)break;n[c+24>>2]=m,s=Q+16|0,l=n[s>>2]|0,l|0&&(n[c+16>>2]=l,n[l+24>>2]=c),s=n[s+4>>2]|0,s|0&&(n[c+20>>2]=s,n[s+24>>2]=c)}}while(0);if(n[k+4>>2]=d|1,n[B+d>>2]=d,(k|0)==(n[2788]|0)){n[2785]=d;return}}if(s=d>>>3,d>>>0<256){c=11172+(s<<1<<2)|0,l=n[2783]|0,s=1<<s,l&s?(l=c+8|0,s=n[l>>2]|0):(n[2783]=l|s,s=c,l=c+8|0),n[l>>2]=k,n[s+12>>2]=k,n[k+8>>2]=s,n[k+12>>2]=c;return}s=d>>>8,s?d>>>0>16777215?s=31:(B=(s+1048320|0)>>>16&8,Q=s<<B,m=(Q+520192|0)>>>16&4,Q=Q<<m,s=(Q+245760|0)>>>16&2,s=14-(m|B|s)+(Q<<s>>>15)|0,s=d>>>(s+7|0)&1|s<<1):s=0,f=11436+(s<<2)|0,n[k+28>>2]=s,n[k+20>>2]=0,n[k+16>>2]=0,l=n[2784]|0,c=1<<s;do if(l&c){for(l=d<<((s|0)==31?0:25-(s>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(d|0)){s=73;break}if(f=c+16+(l>>>31<<2)|0,s=n[f>>2]|0,s)l=l<<1,c=s;else{s=72;break}}if((s|0)==72){n[f>>2]=k,n[k+24>>2]=c,n[k+12>>2]=k,n[k+8>>2]=k;break}else if((s|0)==73){B=c+8|0,Q=n[B>>2]|0,n[Q+12>>2]=k,n[B>>2]=k,n[k+8>>2]=Q,n[k+12>>2]=c,n[k+24>>2]=0;break}}else n[2784]=l|c,n[f>>2]=k,n[k+24>>2]=f,n[k+12>>2]=k,n[k+8>>2]=k;while(0);if(Q=(n[2791]|0)+-1|0,n[2791]=Q,!Q)s=11588;else return;for(;s=n[s>>2]|0,s;)s=s+8|0;n[2791]=-1}}}function DUe(){return 11628}function SUe(s){s=s|0;var l=0,c=0;return l=C,C=C+16|0,c=l,n[c>>2]=xUe(n[s+60>>2]|0)|0,s=gD(hc(6,c|0)|0)|0,C=l,s|0}function r7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0;j=C,C=C+48|0,M=j+16|0,m=j,d=j+32|0,k=s+28|0,f=n[k>>2]|0,n[d>>2]=f,Q=s+20|0,f=(n[Q>>2]|0)-f|0,n[d+4>>2]=f,n[d+8>>2]=l,n[d+12>>2]=c,f=f+c|0,B=s+60|0,n[m>>2]=n[B>>2],n[m+4>>2]=d,n[m+8>>2]=2,m=gD(Li(146,m|0)|0)|0;e:do if((f|0)!=(m|0)){for(l=2;!((m|0)<0);)if(f=f-m|0,Ge=n[d+4>>2]|0,se=m>>>0>Ge>>>0,d=se?d+8|0:d,l=(se<<31>>31)+l|0,Ge=m-(se?Ge:0)|0,n[d>>2]=(n[d>>2]|0)+Ge,se=d+4|0,n[se>>2]=(n[se>>2]|0)-Ge,n[M>>2]=n[B>>2],n[M+4>>2]=d,n[M+8>>2]=l,m=gD(Li(146,M|0)|0)|0,(f|0)==(m|0)){O=3;break e}n[s+16>>2]=0,n[k>>2]=0,n[Q>>2]=0,n[s>>2]=n[s>>2]|32,(l|0)==2?c=0:c=c-(n[d+4>>2]|0)|0}else O=3;while(0);return(O|0)==3&&(Ge=n[s+44>>2]|0,n[s+16>>2]=Ge+(n[s+48>>2]|0),n[k>>2]=Ge,n[Q>>2]=Ge),C=j,c|0}function PUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return d=C,C=C+32|0,m=d,f=d+20|0,n[m>>2]=n[s+60>>2],n[m+4>>2]=0,n[m+8>>2]=l,n[m+12>>2]=f,n[m+16>>2]=c,(gD(sa(140,m|0)|0)|0)<0?(n[f>>2]=-1,s=-1):s=n[f>>2]|0,C=d,s|0}function gD(s){return s=s|0,s>>>0>4294963200&&(n[(Vm()|0)>>2]=0-s,s=-1),s|0}function Vm(){return(bUe()|0)+64|0}function bUe(){return SR()|0}function SR(){return 2084}function xUe(s){return s=s|0,s|0}function kUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;return d=C,C=C+32|0,f=d,n[s+36>>2]=1,(n[s>>2]&64|0)==0&&(n[f>>2]=n[s+60>>2],n[f+4>>2]=21523,n[f+8>>2]=d+16,fu(54,f|0)|0)&&(o[s+75>>0]=-1),f=r7(s,l,c)|0,C=d,f|0}function n7(s,l){s=s|0,l=l|0;var c=0,f=0;if(c=o[s>>0]|0,f=o[l>>0]|0,c<<24>>24==0||c<<24>>24!=f<<24>>24)s=f;else{do s=s+1|0,l=l+1|0,c=o[s>>0]|0,f=o[l>>0]|0;while(!(c<<24>>24==0||c<<24>>24!=f<<24>>24));s=f}return(c&255)-(s&255)|0}function QUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;e:do if(!c)s=0;else{for(;f=o[s>>0]|0,d=o[l>>0]|0,f<<24>>24==d<<24>>24;)if(c=c+-1|0,c)s=s+1|0,l=l+1|0;else{s=0;break e}s=(f&255)-(d&255)|0}while(0);return s|0}function i7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;Qe=C,C=C+224|0,O=Qe+120|0,j=Qe+80|0,Ge=Qe,Me=Qe+136|0,f=j,d=f+40|0;do n[f>>2]=0,f=f+4|0;while((f|0)<(d|0));return n[O>>2]=n[c>>2],(PR(0,l,O,Ge,j)|0)<0?c=-1:((n[s+76>>2]|0)>-1?se=FUe(s)|0:se=0,c=n[s>>2]|0,M=c&32,(o[s+74>>0]|0)<1&&(n[s>>2]=c&-33),f=s+48|0,n[f>>2]|0?c=PR(s,l,O,Ge,j)|0:(d=s+44|0,m=n[d>>2]|0,n[d>>2]=Me,B=s+28|0,n[B>>2]=Me,k=s+20|0,n[k>>2]=Me,n[f>>2]=80,Q=s+16|0,n[Q>>2]=Me+80,c=PR(s,l,O,Ge,j)|0,m&&(ED[n[s+36>>2]&7](s,0,0)|0,c=(n[k>>2]|0)==0?-1:c,n[d>>2]=m,n[f>>2]=0,n[Q>>2]=0,n[B>>2]=0,n[k>>2]=0)),f=n[s>>2]|0,n[s>>2]=f|M,se|0&&RUe(s),c=(f&32|0)==0?c:-1),C=Qe,c|0}function PR(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0;ir=C,C=C+64|0,or=ir+16|0,Xt=ir,Lt=ir+24|0,Sr=ir+8|0,Nr=ir+20|0,n[or>>2]=l,lt=(s|0)!=0,Ue=Lt+40|0,je=Ue,Lt=Lt+39|0,Mr=Sr+4|0,B=0,m=0,O=0;e:for(;;){do if((m|0)>-1)if((B|0)>(2147483647-m|0)){n[(Vm()|0)>>2]=75,m=-1;break}else{m=B+m|0;break}while(0);if(B=o[l>>0]|0,B<<24>>24)k=l;else{Xe=87;break}t:for(;;){switch(B<<24>>24){case 37:{B=k,Xe=9;break t}case 0:{B=k;break t}default:}et=k+1|0,n[or>>2]=et,B=o[et>>0]|0,k=et}t:do if((Xe|0)==9)for(;;){if(Xe=0,(o[k+1>>0]|0)!=37)break t;if(B=B+1|0,k=k+2|0,n[or>>2]=k,(o[k>>0]|0)==37)Xe=9;else break}while(0);if(B=B-l|0,lt&&ss(s,l,B),B|0){l=k;continue}Q=k+1|0,B=(o[Q>>0]|0)+-48|0,B>>>0<10?(et=(o[k+2>>0]|0)==36,Qe=et?B:-1,O=et?1:O,Q=et?k+3|0:Q):Qe=-1,n[or>>2]=Q,B=o[Q>>0]|0,k=(B<<24>>24)+-32|0;t:do if(k>>>0<32)for(M=0,j=B;;){if(B=1<<k,!(B&75913)){B=j;break t}if(M=B|M,Q=Q+1|0,n[or>>2]=Q,B=o[Q>>0]|0,k=(B<<24>>24)+-32|0,k>>>0>=32)break;j=B}else M=0;while(0);if(B<<24>>24==42){if(k=Q+1|0,B=(o[k>>0]|0)+-48|0,B>>>0<10&&(o[Q+2>>0]|0)==36)n[d+(B<<2)>>2]=10,B=n[f+((o[k>>0]|0)+-48<<3)>>2]|0,O=1,Q=Q+3|0;else{if(O|0){m=-1;break}lt?(O=(n[c>>2]|0)+(4-1)&~(4-1),B=n[O>>2]|0,n[c>>2]=O+4,O=0,Q=k):(B=0,O=0,Q=k)}n[or>>2]=Q,et=(B|0)<0,B=et?0-B|0:B,M=et?M|8192:M}else{if(B=s7(or)|0,(B|0)<0){m=-1;break}Q=n[or>>2]|0}do if((o[Q>>0]|0)==46){if((o[Q+1>>0]|0)!=42){n[or>>2]=Q+1,k=s7(or)|0,Q=n[or>>2]|0;break}if(j=Q+2|0,k=(o[j>>0]|0)+-48|0,k>>>0<10&&(o[Q+3>>0]|0)==36){n[d+(k<<2)>>2]=10,k=n[f+((o[j>>0]|0)+-48<<3)>>2]|0,Q=Q+4|0,n[or>>2]=Q;break}if(O|0){m=-1;break e}lt?(et=(n[c>>2]|0)+(4-1)&~(4-1),k=n[et>>2]|0,n[c>>2]=et+4):k=0,n[or>>2]=j,Q=j}else k=-1;while(0);for(Me=0;;){if(((o[Q>>0]|0)+-65|0)>>>0>57){m=-1;break e}if(et=Q+1|0,n[or>>2]=et,j=o[(o[Q>>0]|0)+-65+(5178+(Me*58|0))>>0]|0,se=j&255,(se+-1|0)>>>0<8)Me=se,Q=et;else break}if(!(j<<24>>24)){m=-1;break}Ge=(Qe|0)>-1;do if(j<<24>>24==19)if(Ge){m=-1;break e}else Xe=49;else{if(Ge){n[d+(Qe<<2)>>2]=se,Ge=f+(Qe<<3)|0,Qe=n[Ge+4>>2]|0,Xe=Xt,n[Xe>>2]=n[Ge>>2],n[Xe+4>>2]=Qe,Xe=49;break}if(!lt){m=0;break e}o7(Xt,se,c)}while(0);if((Xe|0)==49&&(Xe=0,!lt)){B=0,l=et;continue}Q=o[Q>>0]|0,Q=(Me|0)!=0&(Q&15|0)==3?Q&-33:Q,Ge=M&-65537,Qe=(M&8192|0)==0?M:Ge;t:do switch(Q|0){case 110:switch((Me&255)<<24>>24){case 0:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 1:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 2:{B=n[Xt>>2]|0,n[B>>2]=m,n[B+4>>2]=((m|0)<0)<<31>>31,B=0,l=et;continue e}case 3:{a[n[Xt>>2]>>1]=m,B=0,l=et;continue e}case 4:{o[n[Xt>>2]>>0]=m,B=0,l=et;continue e}case 6:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 7:{B=n[Xt>>2]|0,n[B>>2]=m,n[B+4>>2]=((m|0)<0)<<31>>31,B=0,l=et;continue e}default:{B=0,l=et;continue e}}case 112:{Q=120,k=k>>>0>8?k:8,l=Qe|8,Xe=61;break}case 88:case 120:{l=Qe,Xe=61;break}case 111:{Q=Xt,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,se=NUe(l,Q,Ue)|0,Ge=je-se|0,M=0,j=5642,k=(Qe&8|0)==0|(k|0)>(Ge|0)?k:Ge+1|0,Ge=Qe,Xe=67;break}case 105:case 100:if(Q=Xt,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,(Q|0)<0){l=dD(0,0,l|0,Q|0)|0,Q=Se,M=Xt,n[M>>2]=l,n[M+4>>2]=Q,M=1,j=5642,Xe=66;break t}else{M=(Qe&2049|0)!=0&1,j=(Qe&2048|0)==0?(Qe&1|0)==0?5642:5644:5643,Xe=66;break t}case 117:{Q=Xt,M=0,j=5642,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,Xe=66;break}case 99:{o[Lt>>0]=n[Xt>>2],l=Lt,M=0,j=5642,se=Ue,Q=1,k=Ge;break}case 109:{Q=LUe(n[(Vm()|0)>>2]|0)|0,Xe=71;break}case 115:{Q=n[Xt>>2]|0,Q=Q|0?Q:5652,Xe=71;break}case 67:{n[Sr>>2]=n[Xt>>2],n[Mr>>2]=0,n[Xt>>2]=Sr,se=-1,Q=Sr,Xe=75;break}case 83:{l=n[Xt>>2]|0,k?(se=k,Q=l,Xe=75):(Bs(s,32,B,0,Qe),l=0,Xe=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{B=MUe(s,+E[Xt>>3],B,k,Qe,Q)|0,l=et;continue e}default:M=0,j=5642,se=Ue,Q=k,k=Qe}while(0);t:do if((Xe|0)==61)Qe=Xt,Me=n[Qe>>2]|0,Qe=n[Qe+4>>2]|0,se=TUe(Me,Qe,Ue,Q&32)|0,j=(l&8|0)==0|(Me|0)==0&(Qe|0)==0,M=j?0:2,j=j?5642:5642+(Q>>4)|0,Ge=l,l=Me,Q=Qe,Xe=67;else if((Xe|0)==66)se=Jm(l,Q,Ue)|0,Ge=Qe,Xe=67;else if((Xe|0)==71)Xe=0,Qe=OUe(Q,0,k)|0,Me=(Qe|0)==0,l=Q,M=0,j=5642,se=Me?Q+k|0:Qe,Q=Me?k:Qe-Q|0,k=Ge;else if((Xe|0)==75){for(Xe=0,j=Q,l=0,k=0;M=n[j>>2]|0,!(!M||(k=a7(Nr,M)|0,(k|0)<0|k>>>0>(se-l|0)>>>0));)if(l=k+l|0,se>>>0>l>>>0)j=j+4|0;else break;if((k|0)<0){m=-1;break e}if(Bs(s,32,B,l,Qe),!l)l=0,Xe=84;else for(M=0;;){if(k=n[Q>>2]|0,!k){Xe=84;break t}if(k=a7(Nr,k)|0,M=k+M|0,(M|0)>(l|0)){Xe=84;break t}if(ss(s,Nr,k),M>>>0>=l>>>0){Xe=84;break}else Q=Q+4|0}}while(0);if((Xe|0)==67)Xe=0,Q=(l|0)!=0|(Q|0)!=0,Qe=(k|0)!=0|Q,Q=((Q^1)&1)+(je-se)|0,l=Qe?se:Ue,se=Ue,Q=Qe?(k|0)>(Q|0)?k:Q:k,k=(k|0)>-1?Ge&-65537:Ge;else if((Xe|0)==84){Xe=0,Bs(s,32,B,l,Qe^8192),B=(B|0)>(l|0)?B:l,l=et;continue}Me=se-l|0,Ge=(Q|0)<(Me|0)?Me:Q,Qe=Ge+M|0,B=(B|0)<(Qe|0)?Qe:B,Bs(s,32,B,Qe,k),ss(s,j,M),Bs(s,48,B,Qe,k^65536),Bs(s,48,Ge,Me,0),ss(s,l,Me),Bs(s,32,B,Qe,k^8192),l=et}e:do if((Xe|0)==87&&!s)if(!O)m=0;else{for(m=1;l=n[d+(m<<2)>>2]|0,!!l;)if(o7(f+(m<<3)|0,l,c),m=m+1|0,(m|0)>=10){m=1;break e}for(;;){if(n[d+(m<<2)>>2]|0){m=-1;break e}if(m=m+1|0,(m|0)>=10){m=1;break}}}while(0);return C=ir,m|0}function FUe(s){return s=s|0,0}function RUe(s){s=s|0}function ss(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]&32||KUe(l,c,s)|0}function s7(s){s=s|0;var l=0,c=0,f=0;if(c=n[s>>2]|0,f=(o[c>>0]|0)+-48|0,f>>>0<10){l=0;do l=f+(l*10|0)|0,c=c+1|0,n[s>>2]=c,f=(o[c>>0]|0)+-48|0;while(f>>>0<10)}else l=0;return l|0}function o7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;e:do if(l>>>0<=20)do switch(l|0){case 9:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,n[s>>2]=l;break e}case 10:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,f=s,n[f>>2]=l,n[f+4>>2]=((l|0)<0)<<31>>31;break e}case 11:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,f=s,n[f>>2]=l,n[f+4>>2]=0;break e}case 12:{f=(n[c>>2]|0)+(8-1)&~(8-1),l=f,d=n[l>>2]|0,l=n[l+4>>2]|0,n[c>>2]=f+8,f=s,n[f>>2]=d,n[f+4>>2]=l;break e}case 13:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,f=(f&65535)<<16>>16,d=s,n[d>>2]=f,n[d+4>>2]=((f|0)<0)<<31>>31;break e}case 14:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,d=s,n[d>>2]=f&65535,n[d+4>>2]=0;break e}case 15:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,f=(f&255)<<24>>24,d=s,n[d>>2]=f,n[d+4>>2]=((f|0)<0)<<31>>31;break e}case 16:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,d=s,n[d>>2]=f&255,n[d+4>>2]=0;break e}case 17:{d=(n[c>>2]|0)+(8-1)&~(8-1),m=+E[d>>3],n[c>>2]=d+8,E[s>>3]=m;break e}case 18:{d=(n[c>>2]|0)+(8-1)&~(8-1),m=+E[d>>3],n[c>>2]=d+8,E[s>>3]=m;break e}default:break e}while(0);while(0)}function TUe(s,l,c,f){if(s=s|0,l=l|0,c=c|0,f=f|0,!((s|0)==0&(l|0)==0))do c=c+-1|0,o[c>>0]=u[5694+(s&15)>>0]|0|f,s=mD(s|0,l|0,4)|0,l=Se;while(!((s|0)==0&(l|0)==0));return c|0}function NUe(s,l,c){if(s=s|0,l=l|0,c=c|0,!((s|0)==0&(l|0)==0))do c=c+-1|0,o[c>>0]=s&7|48,s=mD(s|0,l|0,3)|0,l=Se;while(!((s|0)==0&(l|0)==0));return c|0}function Jm(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;if(l>>>0>0|(l|0)==0&s>>>0>4294967295){for(;f=QR(s|0,l|0,10,0)|0,c=c+-1|0,o[c>>0]=f&255|48,f=s,s=kR(s|0,l|0,10,0)|0,l>>>0>9|(l|0)==9&f>>>0>4294967295;)l=Se;l=s}else l=s;if(l)for(;c=c+-1|0,o[c>>0]=(l>>>0)%10|0|48,!(l>>>0<10);)l=(l>>>0)/10|0;return c|0}function LUe(s){return s=s|0,jUe(s,n[(qUe()|0)+188>>2]|0)|0}function OUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;m=l&255,f=(c|0)!=0;e:do if(f&(s&3|0)!=0)for(d=l&255;;){if((o[s>>0]|0)==d<<24>>24){B=6;break e}if(s=s+1|0,c=c+-1|0,f=(c|0)!=0,!(f&(s&3|0)!=0)){B=5;break}}else B=5;while(0);(B|0)==5&&(f?B=6:c=0);e:do if((B|0)==6&&(d=l&255,(o[s>>0]|0)!=d<<24>>24)){f=qe(m,16843009)|0;t:do if(c>>>0>3){for(;m=n[s>>2]^f,!((m&-2139062144^-2139062144)&m+-16843009|0);)if(s=s+4|0,c=c+-4|0,c>>>0<=3){B=11;break t}}else B=11;while(0);if((B|0)==11&&!c){c=0;break}for(;;){if((o[s>>0]|0)==d<<24>>24)break e;if(s=s+1|0,c=c+-1|0,!c){c=0;break}}}while(0);return(c|0?s:0)|0}function Bs(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0;if(B=C,C=C+256|0,m=B,(c|0)>(f|0)&(d&73728|0)==0){if(d=c-f|0,Xm(m|0,l|0,(d>>>0<256?d:256)|0)|0,d>>>0>255){l=c-f|0;do ss(s,m,256),d=d+-256|0;while(d>>>0>255);d=l&255}ss(s,m,d)}C=B}function a7(s,l){return s=s|0,l=l|0,s?s=_Ue(s,l,0)|0:s=0,s|0}function MUe(s,l,c,f,d,m){s=s|0,l=+l,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0;xn=C,C=C+560|0,Q=xn+8|0,et=xn,ir=xn+524|0,Nr=ir,M=xn+512|0,n[et>>2]=0,Sr=M+12|0,l7(l)|0,(Se|0)<0?(l=-l,or=1,Mr=5659):(or=(d&2049|0)!=0&1,Mr=(d&2048|0)==0?(d&1|0)==0?5660:5665:5662),l7(l)|0,Xt=Se&2146435072;do if(Xt>>>0<2146435072|(Xt|0)==2146435072&0<0){if(Ge=+UUe(l,et)*2,B=Ge!=0,B&&(n[et>>2]=(n[et>>2]|0)+-1),lt=m|32,(lt|0)==97){Me=m&32,se=(Me|0)==0?Mr:Mr+9|0,j=or|2,B=12-f|0;do if(f>>>0>11|(B|0)==0)l=Ge;else{l=8;do B=B+-1|0,l=l*16;while((B|0)!=0);if((o[se>>0]|0)==45){l=-(l+(-Ge-l));break}else{l=Ge+l-l;break}}while(0);k=n[et>>2]|0,B=(k|0)<0?0-k|0:k,B=Jm(B,((B|0)<0)<<31>>31,Sr)|0,(B|0)==(Sr|0)&&(B=M+11|0,o[B>>0]=48),o[B+-1>>0]=(k>>31&2)+43,O=B+-2|0,o[O>>0]=m+15,M=(f|0)<1,Q=(d&8|0)==0,B=ir;do Xt=~~l,k=B+1|0,o[B>>0]=u[5694+Xt>>0]|Me,l=(l-+(Xt|0))*16,(k-Nr|0)==1&&!(Q&(M&l==0))?(o[k>>0]=46,B=B+2|0):B=k;while(l!=0);Xt=B-Nr|0,Nr=Sr-O|0,Sr=(f|0)!=0&(Xt+-2|0)<(f|0)?f+2|0:Xt,B=Nr+j+Sr|0,Bs(s,32,c,B,d),ss(s,se,j),Bs(s,48,c,B,d^65536),ss(s,ir,Xt),Bs(s,48,Sr-Xt|0,0,0),ss(s,O,Nr),Bs(s,32,c,B,d^8192);break}k=(f|0)<0?6:f,B?(B=(n[et>>2]|0)+-28|0,n[et>>2]=B,l=Ge*268435456):(l=Ge,B=n[et>>2]|0),Xt=(B|0)<0?Q:Q+288|0,Q=Xt;do je=~~l>>>0,n[Q>>2]=je,Q=Q+4|0,l=(l-+(je>>>0))*1e9;while(l!=0);if((B|0)>0)for(M=Xt,j=Q;;){if(O=(B|0)<29?B:29,B=j+-4|0,B>>>0>=M>>>0){Q=0;do Ue=h7(n[B>>2]|0,0,O|0)|0,Ue=xR(Ue|0,Se|0,Q|0,0)|0,je=Se,Xe=QR(Ue|0,je|0,1e9,0)|0,n[B>>2]=Xe,Q=kR(Ue|0,je|0,1e9,0)|0,B=B+-4|0;while(B>>>0>=M>>>0);Q&&(M=M+-4|0,n[M>>2]=Q)}for(Q=j;!(Q>>>0<=M>>>0);)if(B=Q+-4|0,!(n[B>>2]|0))Q=B;else break;if(B=(n[et>>2]|0)-O|0,n[et>>2]=B,(B|0)>0)j=Q;else break}else M=Xt;if((B|0)<0){f=((k+25|0)/9|0)+1|0,Qe=(lt|0)==102;do{if(Me=0-B|0,Me=(Me|0)<9?Me:9,M>>>0<Q>>>0){O=(1<<Me)+-1|0,j=1e9>>>Me,se=0,B=M;do je=n[B>>2]|0,n[B>>2]=(je>>>Me)+se,se=qe(je&O,j)|0,B=B+4|0;while(B>>>0<Q>>>0);B=(n[M>>2]|0)==0?M+4|0:M,se?(n[Q>>2]=se,M=B,B=Q+4|0):(M=B,B=Q)}else M=(n[M>>2]|0)==0?M+4|0:M,B=Q;Q=Qe?Xt:M,Q=(B-Q>>2|0)>(f|0)?Q+(f<<2)|0:B,B=(n[et>>2]|0)+Me|0,n[et>>2]=B}while((B|0)<0);B=M,f=Q}else B=M,f=Q;if(je=Xt,B>>>0<f>>>0){if(Q=(je-B>>2)*9|0,O=n[B>>2]|0,O>>>0>=10){M=10;do M=M*10|0,Q=Q+1|0;while(O>>>0>=M>>>0)}}else Q=0;if(Qe=(lt|0)==103,Xe=(k|0)!=0,M=k-((lt|0)!=102?Q:0)+((Xe&Qe)<<31>>31)|0,(M|0)<(((f-je>>2)*9|0)+-9|0)){if(M=M+9216|0,Me=Xt+4+(((M|0)/9|0)+-1024<<2)|0,M=((M|0)%9|0)+1|0,(M|0)<9){O=10;do O=O*10|0,M=M+1|0;while((M|0)!=9)}else O=10;if(j=n[Me>>2]|0,se=(j>>>0)%(O>>>0)|0,M=(Me+4|0)==(f|0),M&(se|0)==0)M=Me;else if(Ge=(((j>>>0)/(O>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,Ue=(O|0)/2|0,l=se>>>0<Ue>>>0?.5:M&(se|0)==(Ue|0)?1:1.5,or&&(Ue=(o[Mr>>0]|0)==45,l=Ue?-l:l,Ge=Ue?-Ge:Ge),M=j-se|0,n[Me>>2]=M,Ge+l!=Ge){if(Ue=M+O|0,n[Me>>2]=Ue,Ue>>>0>999999999)for(Q=Me;M=Q+-4|0,n[Q>>2]=0,M>>>0<B>>>0&&(B=B+-4|0,n[B>>2]=0),Ue=(n[M>>2]|0)+1|0,n[M>>2]=Ue,Ue>>>0>999999999;)Q=M;else M=Me;if(Q=(je-B>>2)*9|0,j=n[B>>2]|0,j>>>0>=10){O=10;do O=O*10|0,Q=Q+1|0;while(j>>>0>=O>>>0)}}else M=Me;M=M+4|0,M=f>>>0>M>>>0?M:f,Ue=B}else M=f,Ue=B;for(lt=M;;){if(lt>>>0<=Ue>>>0){et=0;break}if(B=lt+-4|0,!(n[B>>2]|0))lt=B;else{et=1;break}}f=0-Q|0;do if(Qe)if(B=((Xe^1)&1)+k|0,(B|0)>(Q|0)&(Q|0)>-5?(O=m+-1|0,k=B+-1-Q|0):(O=m+-2|0,k=B+-1|0),B=d&8,B)Me=B;else{if(et&&(Lt=n[lt+-4>>2]|0,(Lt|0)!=0))if((Lt>>>0)%10|0)M=0;else{M=0,B=10;do B=B*10|0,M=M+1|0;while(!((Lt>>>0)%(B>>>0)|0|0))}else M=9;if(B=((lt-je>>2)*9|0)+-9|0,(O|32|0)==102){Me=B-M|0,Me=(Me|0)>0?Me:0,k=(k|0)<(Me|0)?k:Me,Me=0;break}else{Me=B+Q-M|0,Me=(Me|0)>0?Me:0,k=(k|0)<(Me|0)?k:Me,Me=0;break}}else O=m,Me=d&8;while(0);if(Qe=k|Me,j=(Qe|0)!=0&1,se=(O|32|0)==102,se)Xe=0,B=(Q|0)>0?Q:0;else{if(B=(Q|0)<0?f:Q,B=Jm(B,((B|0)<0)<<31>>31,Sr)|0,M=Sr,(M-B|0)<2)do B=B+-1|0,o[B>>0]=48;while((M-B|0)<2);o[B+-1>>0]=(Q>>31&2)+43,B=B+-2|0,o[B>>0]=O,Xe=B,B=M-B|0}if(B=or+1+k+j+B|0,Bs(s,32,c,B,d),ss(s,Mr,or),Bs(s,48,c,B,d^65536),se){O=Ue>>>0>Xt>>>0?Xt:Ue,Me=ir+9|0,j=Me,se=ir+8|0,M=O;do{if(Q=Jm(n[M>>2]|0,0,Me)|0,(M|0)==(O|0))(Q|0)==(Me|0)&&(o[se>>0]=48,Q=se);else if(Q>>>0>ir>>>0){Xm(ir|0,48,Q-Nr|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}ss(s,Q,j-Q|0),M=M+4|0}while(M>>>0<=Xt>>>0);if(Qe|0&&ss(s,5710,1),M>>>0<lt>>>0&(k|0)>0)for(;;){if(Q=Jm(n[M>>2]|0,0,Me)|0,Q>>>0>ir>>>0){Xm(ir|0,48,Q-Nr|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}if(ss(s,Q,(k|0)<9?k:9),M=M+4|0,Q=k+-9|0,M>>>0<lt>>>0&(k|0)>9)k=Q;else{k=Q;break}}Bs(s,48,k+9|0,9,0)}else{if(Qe=et?lt:Ue+4|0,(k|0)>-1){et=ir+9|0,Me=(Me|0)==0,f=et,j=0-Nr|0,se=ir+8|0,O=Ue;do{Q=Jm(n[O>>2]|0,0,et)|0,(Q|0)==(et|0)&&(o[se>>0]=48,Q=se);do if((O|0)==(Ue|0)){if(M=Q+1|0,ss(s,Q,1),Me&(k|0)<1){Q=M;break}ss(s,5710,1),Q=M}else{if(Q>>>0<=ir>>>0)break;Xm(ir|0,48,Q+j|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}while(0);Nr=f-Q|0,ss(s,Q,(k|0)>(Nr|0)?Nr:k),k=k-Nr|0,O=O+4|0}while(O>>>0<Qe>>>0&(k|0)>-1)}Bs(s,48,k+18|0,18,0),ss(s,Xe,Sr-Xe|0)}Bs(s,32,c,B,d^8192)}else ir=(m&32|0)!=0,B=or+3|0,Bs(s,32,c,B,d&-65537),ss(s,Mr,or),ss(s,l!=l|!1?ir?5686:5690:ir?5678:5682,3),Bs(s,32,c,B,d^8192);while(0);return C=xn,((B|0)<(c|0)?c:B)|0}function l7(s){s=+s;var l=0;return E[v>>3]=s,l=n[v>>2]|0,Se=n[v+4>>2]|0,l|0}function UUe(s,l){return s=+s,l=l|0,+ +c7(s,l)}function c7(s,l){s=+s,l=l|0;var c=0,f=0,d=0;switch(E[v>>3]=s,c=n[v>>2]|0,f=n[v+4>>2]|0,d=mD(c|0,f|0,52)|0,d&2047){case 0:{s!=0?(s=+c7(s*18446744073709552e3,l),c=(n[l>>2]|0)+-64|0):c=0,n[l>>2]=c;break}case 2047:break;default:n[l>>2]=(d&2047)+-1022,n[v>>2]=c,n[v+4>>2]=f&-2146435073|1071644672,s=+E[v>>3]}return+s}function _Ue(s,l,c){s=s|0,l=l|0,c=c|0;do if(s){if(l>>>0<128){o[s>>0]=l,s=1;break}if(!(n[n[(HUe()|0)+188>>2]>>2]|0))if((l&-128|0)==57216){o[s>>0]=l,s=1;break}else{n[(Vm()|0)>>2]=84,s=-1;break}if(l>>>0<2048){o[s>>0]=l>>>6|192,o[s+1>>0]=l&63|128,s=2;break}if(l>>>0<55296|(l&-8192|0)==57344){o[s>>0]=l>>>12|224,o[s+1>>0]=l>>>6&63|128,o[s+2>>0]=l&63|128,s=3;break}if((l+-65536|0)>>>0<1048576){o[s>>0]=l>>>18|240,o[s+1>>0]=l>>>12&63|128,o[s+2>>0]=l>>>6&63|128,o[s+3>>0]=l&63|128,s=4;break}else{n[(Vm()|0)>>2]=84,s=-1;break}}else s=1;while(0);return s|0}function HUe(){return SR()|0}function qUe(){return SR()|0}function jUe(s,l){s=s|0,l=l|0;var c=0,f=0;for(f=0;;){if((u[5712+f>>0]|0)==(s|0)){s=2;break}if(c=f+1|0,(c|0)==87){c=5800,f=87,s=5;break}else f=c}if((s|0)==2&&(f?(c=5800,s=5):c=5800),(s|0)==5)for(;;){do s=c,c=c+1|0;while((o[s>>0]|0)!=0);if(f=f+-1|0,f)s=5;else break}return GUe(c,n[l+20>>2]|0)|0}function GUe(s,l){return s=s|0,l=l|0,YUe(s,l)|0}function YUe(s,l){return s=s|0,l=l|0,l?l=WUe(n[l>>2]|0,n[l+4>>2]|0,s)|0:l=0,(l|0?l:s)|0}function WUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;se=(n[s>>2]|0)+1794895138|0,m=Rg(n[s+8>>2]|0,se)|0,f=Rg(n[s+12>>2]|0,se)|0,d=Rg(n[s+16>>2]|0,se)|0;e:do if(m>>>0<l>>>2>>>0&&(j=l-(m<<2)|0,f>>>0<j>>>0&d>>>0<j>>>0)&&((d|f)&3|0)==0){for(j=f>>>2,O=d>>>2,M=0;;){if(k=m>>>1,Q=M+k|0,B=Q<<1,d=B+j|0,f=Rg(n[s+(d<<2)>>2]|0,se)|0,d=Rg(n[s+(d+1<<2)>>2]|0,se)|0,!(d>>>0<l>>>0&f>>>0<(l-d|0)>>>0)){f=0;break e}if(o[s+(d+f)>>0]|0){f=0;break e}if(f=n7(c,s+d|0)|0,!f)break;if(f=(f|0)<0,(m|0)==1){f=0;break e}else M=f?M:Q,m=f?k:m-k|0}f=B+O|0,d=Rg(n[s+(f<<2)>>2]|0,se)|0,f=Rg(n[s+(f+1<<2)>>2]|0,se)|0,f>>>0<l>>>0&d>>>0<(l-f|0)>>>0?f=(o[s+(f+d)>>0]|0)==0?s+f|0:0:f=0}else f=0;while(0);return f|0}function Rg(s,l){s=s|0,l=l|0;var c=0;return c=m7(s|0)|0,((l|0)==0?s:c)|0}function KUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=c+16|0,d=n[f>>2]|0,d?m=5:VUe(c)|0?f=0:(d=n[f>>2]|0,m=5);e:do if((m|0)==5){if(k=c+20|0,B=n[k>>2]|0,f=B,(d-B|0)>>>0<l>>>0){f=ED[n[c+36>>2]&7](c,s,l)|0;break}t:do if((o[c+75>>0]|0)>-1){for(B=l;;){if(!B){m=0,d=s;break t}if(d=B+-1|0,(o[s+d>>0]|0)==10)break;B=d}if(f=ED[n[c+36>>2]&7](c,s,B)|0,f>>>0<B>>>0)break e;m=B,d=s+B|0,l=l-B|0,f=n[k>>2]|0}else m=0,d=s;while(0);Dr(f|0,d|0,l|0)|0,n[k>>2]=(n[k>>2]|0)+l,f=m+l|0}while(0);return f|0}function VUe(s){s=s|0;var l=0,c=0;return l=s+74|0,c=o[l>>0]|0,o[l>>0]=c+255|c,l=n[s>>2]|0,l&8?(n[s>>2]=l|32,s=-1):(n[s+8>>2]=0,n[s+4>>2]=0,c=n[s+44>>2]|0,n[s+28>>2]=c,n[s+20>>2]=c,n[s+16>>2]=c+(n[s+48>>2]|0),s=0),s|0}function _n(s,l){s=y(s),l=y(l);var c=0,f=0;c=u7(s)|0;do if((c&2147483647)>>>0<=2139095040){if(f=u7(l)|0,(f&2147483647)>>>0<=2139095040)if((f^c|0)<0){s=(c|0)<0?l:s;break}else{s=s<l?l:s;break}}else s=l;while(0);return y(s)}function u7(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function Tg(s,l){s=y(s),l=y(l);var c=0,f=0;c=A7(s)|0;do if((c&2147483647)>>>0<=2139095040){if(f=A7(l)|0,(f&2147483647)>>>0<=2139095040)if((f^c|0)<0){s=(c|0)<0?s:l;break}else{s=s<l?s:l;break}}else s=l;while(0);return y(s)}function A7(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function bR(s,l){s=y(s),l=y(l);var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;m=(h[v>>2]=s,n[v>>2]|0),k=(h[v>>2]=l,n[v>>2]|0),c=m>>>23&255,B=k>>>23&255,Q=m&-2147483648,d=k<<1;e:do if((d|0)!=0&&!((c|0)==255|((JUe(l)|0)&2147483647)>>>0>2139095040)){if(f=m<<1,f>>>0<=d>>>0)return l=y(s*y(0)),y((f|0)==(d|0)?l:s);if(c)f=m&8388607|8388608;else{if(c=m<<9,(c|0)>-1){f=c,c=0;do c=c+-1|0,f=f<<1;while((f|0)>-1)}else c=0;f=m<<1-c}if(B)k=k&8388607|8388608;else{if(m=k<<9,(m|0)>-1){d=0;do d=d+-1|0,m=m<<1;while((m|0)>-1)}else d=0;B=d,k=k<<1-d}d=f-k|0,m=(d|0)>-1;t:do if((c|0)>(B|0)){for(;;){if(m)if(d)f=d;else break;if(f=f<<1,c=c+-1|0,d=f-k|0,m=(d|0)>-1,(c|0)<=(B|0))break t}l=y(s*y(0));break e}while(0);if(m)if(d)f=d;else{l=y(s*y(0));break}if(f>>>0<8388608)do f=f<<1,c=c+-1|0;while(f>>>0<8388608);(c|0)>0?c=f+-8388608|c<<23:c=f>>>(1-c|0),l=(n[v>>2]=c|Q,y(h[v>>2]))}else M=3;while(0);return(M|0)==3&&(l=y(s*l),l=y(l/l)),y(l)}function JUe(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function zUe(s,l){return s=s|0,l=l|0,i7(n[582]|0,s,l)|0}function zr(s){s=s|0,Rt()}function zm(s){s=s|0}function XUe(s,l){return s=s|0,l=l|0,0}function ZUe(s){return s=s|0,(f7(s+4|0)|0)==-1?(tf[n[(n[s>>2]|0)+8>>2]&127](s),s=1):s=0,s|0}function f7(s){s=s|0;var l=0;return l=n[s>>2]|0,n[s>>2]=l+-1,l+-1|0}function kp(s){s=s|0,ZUe(s)|0&&$Ue(s)}function $Ue(s){s=s|0;var l=0;l=s+8|0,(n[l>>2]|0)!=0&&(f7(l)|0)!=-1||tf[n[(n[s>>2]|0)+16>>2]&127](s)}function Kt(s){s=s|0;var l=0;for(l=(s|0)==0?1:s;s=pD(l)|0,!(s|0);){if(s=t3e()|0,!s){s=0;break}P7[s&0]()}return s|0}function p7(s){return s=s|0,Kt(s)|0}function gt(s){s=s|0,hD(s)}function e3e(s){s=s|0,(o[s+11>>0]|0)<0&&gt(n[s>>2]|0)}function t3e(){var s=0;return s=n[2923]|0,n[2923]=s+0,s|0}function r3e(){}function dD(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,f=l-f-(c>>>0>s>>>0|0)>>>0,Se=f,s-c>>>0|0|0}function xR(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,c=s+c>>>0,Se=l+f+(c>>>0<s>>>0|0)>>>0,c|0|0}function Xm(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;if(m=s+c|0,l=l&255,(c|0)>=67){for(;s&3;)o[s>>0]=l,s=s+1|0;for(f=m&-4|0,d=f-64|0,B=l|l<<8|l<<16|l<<24;(s|0)<=(d|0);)n[s>>2]=B,n[s+4>>2]=B,n[s+8>>2]=B,n[s+12>>2]=B,n[s+16>>2]=B,n[s+20>>2]=B,n[s+24>>2]=B,n[s+28>>2]=B,n[s+32>>2]=B,n[s+36>>2]=B,n[s+40>>2]=B,n[s+44>>2]=B,n[s+48>>2]=B,n[s+52>>2]=B,n[s+56>>2]=B,n[s+60>>2]=B,s=s+64|0;for(;(s|0)<(f|0);)n[s>>2]=B,s=s+4|0}for(;(s|0)<(m|0);)o[s>>0]=l,s=s+1|0;return m-c|0}function h7(s,l,c){return s=s|0,l=l|0,c=c|0,(c|0)<32?(Se=l<<c|(s&(1<<c)-1<<32-c)>>>32-c,s<<c):(Se=s<<c-32,0)}function mD(s,l,c){return s=s|0,l=l|0,c=c|0,(c|0)<32?(Se=l>>>c,s>>>c|(l&(1<<c)-1)<<32-c):(Se=0,l>>>c-32|0)}function Dr(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;if((c|0)>=8192)return Ac(s|0,l|0,c|0)|0;if(m=s|0,d=s+c|0,(s&3)==(l&3)){for(;s&3;){if(!c)return m|0;o[s>>0]=o[l>>0]|0,s=s+1|0,l=l+1|0,c=c-1|0}for(c=d&-4|0,f=c-64|0;(s|0)<=(f|0);)n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2],n[s+16>>2]=n[l+16>>2],n[s+20>>2]=n[l+20>>2],n[s+24>>2]=n[l+24>>2],n[s+28>>2]=n[l+28>>2],n[s+32>>2]=n[l+32>>2],n[s+36>>2]=n[l+36>>2],n[s+40>>2]=n[l+40>>2],n[s+44>>2]=n[l+44>>2],n[s+48>>2]=n[l+48>>2],n[s+52>>2]=n[l+52>>2],n[s+56>>2]=n[l+56>>2],n[s+60>>2]=n[l+60>>2],s=s+64|0,l=l+64|0;for(;(s|0)<(c|0);)n[s>>2]=n[l>>2],s=s+4|0,l=l+4|0}else for(c=d-4|0;(s|0)<(c|0);)o[s>>0]=o[l>>0]|0,o[s+1>>0]=o[l+1>>0]|0,o[s+2>>0]=o[l+2>>0]|0,o[s+3>>0]=o[l+3>>0]|0,s=s+4|0,l=l+4|0;for(;(s|0)<(d|0);)o[s>>0]=o[l>>0]|0,s=s+1|0,l=l+1|0;return m|0}function g7(s){s=s|0;var l=0;return l=o[L+(s&255)>>0]|0,(l|0)<8?l|0:(l=o[L+(s>>8&255)>>0]|0,(l|0)<8?l+8|0:(l=o[L+(s>>16&255)>>0]|0,(l|0)<8?l+16|0:(o[L+(s>>>24)>>0]|0)+24|0))}function d7(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0;if(O=s,Q=l,M=Q,B=c,se=f,k=se,!M)return m=(d|0)!=0,k?m?(n[d>>2]=s|0,n[d+4>>2]=l&0,se=0,d=0,Se=se,d|0):(se=0,d=0,Se=se,d|0):(m&&(n[d>>2]=(O>>>0)%(B>>>0),n[d+4>>2]=0),se=0,d=(O>>>0)/(B>>>0)>>>0,Se=se,d|0);m=(k|0)==0;do if(B){if(!m){if(m=(P(k|0)|0)-(P(M|0)|0)|0,m>>>0<=31){j=m+1|0,k=31-m|0,l=m-31>>31,B=j,s=O>>>(j>>>0)&l|M<<k,l=M>>>(j>>>0)&l,m=0,k=O<<k;break}return d?(n[d>>2]=s|0,n[d+4>>2]=Q|l&0,se=0,d=0,Se=se,d|0):(se=0,d=0,Se=se,d|0)}if(m=B-1|0,m&B|0){k=(P(B|0)|0)+33-(P(M|0)|0)|0,Me=64-k|0,j=32-k|0,Q=j>>31,Ge=k-32|0,l=Ge>>31,B=k,s=j-1>>31&M>>>(Ge>>>0)|(M<<j|O>>>(k>>>0))&l,l=l&M>>>(k>>>0),m=O<<Me&Q,k=(M<<Me|O>>>(Ge>>>0))&Q|O<<j&k-33>>31;break}return d|0&&(n[d>>2]=m&O,n[d+4>>2]=0),(B|0)==1?(Ge=Q|l&0,Me=s|0|0,Se=Ge,Me|0):(Me=g7(B|0)|0,Ge=M>>>(Me>>>0)|0,Me=M<<32-Me|O>>>(Me>>>0)|0,Se=Ge,Me|0)}else{if(m)return d|0&&(n[d>>2]=(M>>>0)%(B>>>0),n[d+4>>2]=0),Ge=0,Me=(M>>>0)/(B>>>0)>>>0,Se=Ge,Me|0;if(!O)return d|0&&(n[d>>2]=0,n[d+4>>2]=(M>>>0)%(k>>>0)),Ge=0,Me=(M>>>0)/(k>>>0)>>>0,Se=Ge,Me|0;if(m=k-1|0,!(m&k))return d|0&&(n[d>>2]=s|0,n[d+4>>2]=m&M|l&0),Ge=0,Me=M>>>((g7(k|0)|0)>>>0),Se=Ge,Me|0;if(m=(P(k|0)|0)-(P(M|0)|0)|0,m>>>0<=30){l=m+1|0,k=31-m|0,B=l,s=M<<k|O>>>(l>>>0),l=M>>>(l>>>0),m=0,k=O<<k;break}return d?(n[d>>2]=s|0,n[d+4>>2]=Q|l&0,Ge=0,Me=0,Se=Ge,Me|0):(Ge=0,Me=0,Se=Ge,Me|0)}while(0);if(!B)M=k,Q=0,k=0;else{j=c|0|0,O=se|f&0,M=xR(j|0,O|0,-1,-1)|0,c=Se,Q=k,k=0;do f=Q,Q=m>>>31|Q<<1,m=k|m<<1,f=s<<1|f>>>31|0,se=s>>>31|l<<1|0,dD(M|0,c|0,f|0,se|0)|0,Me=Se,Ge=Me>>31|((Me|0)<0?-1:0)<<1,k=Ge&1,s=dD(f|0,se|0,Ge&j|0,(((Me|0)<0?-1:0)>>31|((Me|0)<0?-1:0)<<1)&O|0)|0,l=Se,B=B-1|0;while((B|0)!=0);M=Q,Q=0}return B=0,d|0&&(n[d>>2]=s,n[d+4>>2]=l),Ge=(m|0)>>>31|(M|B)<<1|(B<<1|m>>>31)&0|Q,Me=(m<<1|0>>>31)&-2|k,Se=Ge,Me|0}function kR(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,d7(s,l,c,f,0)|0}function Qp(s){s=s|0;var l=0,c=0;return c=s+15&-16|0,l=n[I>>2]|0,s=l+c|0,(c|0)>0&(s|0)<(l|0)|(s|0)<0?(ie()|0,DA(12),-1):(n[I>>2]=s,(s|0)>(Z()|0)&&(X()|0)==0?(n[I>>2]=l,DA(12),-1):l|0)}function Mw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;if((l|0)<(s|0)&(s|0)<(l+c|0)){for(f=s,l=l+c|0,s=s+c|0;(c|0)>0;)s=s-1|0,l=l-1|0,c=c-1|0,o[s>>0]=o[l>>0]|0;s=f}else Dr(s,l,c)|0;return s|0}function QR(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;return m=C,C=C+16|0,d=m|0,d7(s,l,c,f,d)|0,C=m,Se=n[d+4>>2]|0,n[d>>2]|0|0}function m7(s){return s=s|0,(s&255)<<24|(s>>8&255)<<16|(s>>16&255)<<8|s>>>24|0}function n3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,y7[s&1](l|0,c|0,f|0,d|0,m|0)}function i3e(s,l,c){s=s|0,l=l|0,c=y(c),E7[s&1](l|0,y(c))}function s3e(s,l,c){s=s|0,l=l|0,c=+c,C7[s&31](l|0,+c)}function o3e(s,l,c,f){return s=s|0,l=l|0,c=y(c),f=y(f),y(w7[s&0](l|0,y(c),y(f)))}function a3e(s,l){s=s|0,l=l|0,tf[s&127](l|0)}function l3e(s,l,c){s=s|0,l=l|0,c=c|0,rf[s&31](l|0,c|0)}function c3e(s,l){return s=s|0,l=l|0,Lg[s&31](l|0)|0}function u3e(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0,I7[s&1](l|0,+c,+f,d|0)}function A3e(s,l,c,f){s=s|0,l=l|0,c=+c,f=+f,Y3e[s&1](l|0,+c,+f)}function f3e(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,ED[s&7](l|0,c|0,f|0)|0}function p3e(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,+W3e[s&1](l|0,c|0,f|0)}function h3e(s,l){return s=s|0,l=l|0,+B7[s&15](l|0)}function g3e(s,l,c){return s=s|0,l=l|0,c=+c,K3e[s&1](l|0,+c)|0}function d3e(s,l,c){return s=s|0,l=l|0,c=c|0,RR[s&15](l|0,c|0)|0}function m3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=+f,d=+d,m=m|0,V3e[s&1](l|0,c|0,+f,+d,m|0)}function y3e(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,J3e[s&1](l|0,c|0,f|0,d|0,m|0,B|0)}function E3e(s,l,c){return s=s|0,l=l|0,c=c|0,+v7[s&7](l|0,c|0)}function C3e(s){return s=s|0,CD[s&7]()|0}function w3e(s,l,c,f,d,m){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,D7[s&1](l|0,c|0,f|0,d|0,m|0)|0}function I3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=+d,z3e[s&1](l|0,c|0,f|0,+d)}function B3e(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=y(f),d=d|0,m=y(m),B=B|0,S7[s&1](l|0,c|0,y(f),d|0,y(m),B|0)}function v3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,Hw[s&15](l|0,c|0,f|0)}function D3e(s){s=s|0,P7[s&0]()}function S3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f,b7[s&15](l|0,c|0,+f)}function P3e(s,l,c){return s=s|0,l=+l,c=+c,X3e[s&1](+l,+c)|0}function b3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,TR[s&15](l|0,c|0,f|0,d|0)}function x3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,F(0)}function k3e(s,l){s=s|0,l=y(l),F(1)}function ma(s,l){s=s|0,l=+l,F(2)}function Q3e(s,l,c){return s=s|0,l=y(l),c=y(c),F(3),Ze}function Er(s){s=s|0,F(4)}function Uw(s,l){s=s|0,l=l|0,F(5)}function Ja(s){return s=s|0,F(6),0}function F3e(s,l,c,f){s=s|0,l=+l,c=+c,f=f|0,F(7)}function R3e(s,l,c){s=s|0,l=+l,c=+c,F(8)}function T3e(s,l,c){return s=s|0,l=l|0,c=c|0,F(9),0}function N3e(s,l,c){return s=s|0,l=l|0,c=c|0,F(10),0}function Ng(s){return s=s|0,F(11),0}function L3e(s,l){return s=s|0,l=+l,F(12),0}function _w(s,l){return s=s|0,l=l|0,F(13),0}function O3e(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0,F(14)}function M3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,F(15)}function FR(s,l){return s=s|0,l=l|0,F(16),0}function U3e(){return F(17),0}function _3e(s,l,c,f,d){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,F(18),0}function H3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f,F(19)}function q3e(s,l,c,f,d,m){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0,F(20)}function yD(s,l,c){s=s|0,l=l|0,c=c|0,F(21)}function j3e(){F(22)}function Zm(s,l,c){s=s|0,l=l|0,c=+c,F(23)}function G3e(s,l){return s=+s,l=+l,F(24),0}function $m(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,F(25)}var y7=[x3e,_Le],E7=[k3e,fo],C7=[ma,xw,kw,EF,CF,Dl,Qw,wF,qm,bu,Rw,IF,$v,KA,eD,jm,tD,rD,Gm,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma],w7=[Q3e],tf=[Er,zm,CDe,wDe,IDe,Xbe,Zbe,$be,gNe,dNe,mNe,PLe,bLe,xLe,J4e,z4e,X4e,hs,Vv,Hm,WA,Fw,dve,mve,uDe,kDe,qDe,oSe,ISe,USe,rPe,mPe,FPe,VPe,ube,Sbe,qbe,dxe,Fxe,Vxe,uke,Ske,qke,aQe,IQe,LQe,ZQe,Pc,xFe,YFe,uRe,bRe,jRe,uTe,CTe,BTe,_Te,jTe,oNe,ENe,INe,UNe,nLe,i5,MOe,gMe,kMe,YMe,p4e,b4e,U4e,q4e,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er],rf=[Uw,fF,pF,bw,Pu,hF,gF,Bp,dF,mF,yF,Zv,VA,Ve,ft,Wt,vr,Pn,Fr,vF,nve,Sve,AQe,DQe,FRe,HOe,ALe,q9,Uw,Uw,Uw,Uw],Lg=[Ja,SUe,AF,D,Ae,De,vt,wt,xt,_r,di,po,eve,tve,yve,tFe,KRe,qNe,YOe,Wa,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja],I7=[F3e,Eve],Y3e=[R3e,cNe],ED=[T3e,r7,PUe,kUe,jSe,Cxe,RFe,JMe],W3e=[N3e,hbe],B7=[Ng,Yo,rt,bn,Cve,wve,Ive,Bve,vve,Dve,Ng,Ng,Ng,Ng,Ng,Ng],K3e=[L3e,mTe],RR=[_w,XUe,rve,hDe,uSe,sPe,CPe,Wbe,Lxe,_Qe,Wv,TMe,_w,_w,_w,_w],V3e=[O3e,WDe],J3e=[M3e,m4e],v7=[FR,ai,Pve,bve,xve,kbe,FR,FR],CD=[U3e,kve,Sw,ga,PTe,KTe,SNe,W4e],D7=[_3e,Cw],z3e=[H3e,hke],S7=[q3e,ive],Hw=[yD,T,is,tn,ho,SSe,NPe,kke,Wke,_m,cOe,EMe,F4e,yD,yD,yD],P7=[j3e],b7=[Zm,Jv,zv,Xv,YA,nD,BF,S,Zxe,JFe,pTe,Zm,Zm,Zm,Zm,Zm],X3e=[G3e,pNe],TR=[$m,ZPe,cFe,hRe,rTe,RTe,$Te,RNe,lLe,XOe,nUe,$m,$m,$m,$m,$m];return{_llvm_bswap_i32:m7,dynCall_idd:P3e,dynCall_i:C3e,_i64Subtract:dD,___udivdi3:kR,dynCall_vif:i3e,setThrew:hu,dynCall_viii:v3e,_bitshift64Lshr:mD,_bitshift64Shl:h7,dynCall_vi:a3e,dynCall_viiddi:m3e,dynCall_diii:p3e,dynCall_iii:d3e,_memset:Xm,_sbrk:Qp,_memcpy:Dr,__GLOBAL__sub_I_Yoga_cpp:Um,dynCall_vii:l3e,___uremdi3:QR,dynCall_vid:s3e,stackAlloc:lo,_nbind_init:hUe,getTempRet0:Ua,dynCall_di:h3e,dynCall_iid:g3e,setTempRet0:xA,_i64Add:xR,dynCall_fiff:o3e,dynCall_iiii:f3e,_emscripten_get_global_libc:DUe,dynCall_viid:S3e,dynCall_viiid:I3e,dynCall_viififi:B3e,dynCall_ii:c3e,__GLOBAL__sub_I_Binding_cc:kOe,dynCall_viiii:b3e,dynCall_iiiiii:w3e,stackSave:gc,dynCall_viiiii:n3e,__GLOBAL__sub_I_nbind_cc:Qve,dynCall_vidd:A3e,_free:hD,runPostSets:r3e,dynCall_viiiiii:y3e,establishStackSpace:qi,_memmove:Mw,stackRestore:pu,_malloc:pD,__GLOBAL__sub_I_common_cc:zNe,dynCall_viddi:u3e,dynCall_dii:E3e,dynCall_v:D3e}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,getTempRet0=Module.getTempRet0=asm.getTempRet0,___udivdi3=Module.___udivdi3=asm.___udivdi3,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,stackAlloc=Module.stackAlloc=asm.stackAlloc,___uremdi3=Module.___uremdi3=asm.___uremdi3,_nbind_init=Module._nbind_init=asm._nbind_init,_i64Subtract=Module._i64Subtract=asm._i64Subtract,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,__GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc,stackSave=Module.stackSave=asm.stackSave,__GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_memmove=Module._memmove=asm._memmove,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vif=Module.dynCall_vif=asm.dynCall_vif,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_fiff=Module.dynCall_fiff=asm.dynCall_fiff,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viddi=Module.dynCall_viddi=asm.dynCall_viddi,dynCall_vidd=Module.dynCall_vidd=asm.dynCall_vidd,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_iid=Module.dynCall_iid=asm.dynCall_iid,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiddi=Module.dynCall_viiddi=asm.dynCall_viiddi,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiid=Module.dynCall_viiid=asm.dynCall_viiid,dynCall_viififi=Module.dynCall_viififi=asm.dynCall_viififi,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_idd=Module.dynCall_idd=asm.dynCall_idd,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(t){this.name=\"ExitStatus\",this.message=\"Program terminated with exit(\"+t+\")\",this.status=t}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function t(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=t)},Module.callMain=Module.callMain=function t(e){e=e||[],ensureInitRuntime();var r=e.length+1;function o(){for(var p=0;p<4-1;p++)a.push(0)}var a=[allocate(intArrayFromString(Module.thisProgram),\"i8\",ALLOC_NORMAL)];o();for(var n=0;n<r-1;n=n+1)a.push(allocate(intArrayFromString(e[n]),\"i8\",ALLOC_NORMAL)),o();a.push(0),a=allocate(a,\"i32\",ALLOC_NORMAL);try{var u=Module._main(r,a,0);exit(u,!0)}catch(p){if(p instanceof ExitStatus)return;if(p==\"SimulateInfiniteLoop\"){Module.noExitRuntime=!0;return}else{var A=p;p&&typeof p==\"object\"&&p.stack&&(A=[p,p.stack]),Module.printErr(\"exception thrown: \"+A),Module.quit(1,p)}}finally{calledMain=!0}};function run(t){if(t=t||Module.arguments,preloadStartTime===null&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(t),postRun()))}Module.setStatus?(Module.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){Module.setStatus(\"\")},1),e()},1)):e()}Module.run=Module.run=run;function exit(t,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=t,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(t)),ENVIRONMENT_IS_NODE&&process.exit(t),Module.quit(t,new ExitStatus(t)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(t){Module.onAbort&&Module.onAbort(t),t!==void 0?(Module.print(t),Module.printErr(t),t=JSON.stringify(t)):t=\"\",ABORT=!0,EXITSTATUS=1;var e=`","numLines":4}}
{"parentUuid":"81b4ecc9-aab3-4da9-a26b-8cd43f02570a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_019jtuMT2NZ75mrR9zNw4r3t","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I found the pagination configuration. In `useGenericTableState.ts` on line 20, there's:\n\n```typescript\nexport const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n```\n\nAnd on line 57, the default value is set to the first option:\n\n```typescript\nlet initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n```\n\nThis means the default is currently 25. I need to change the array so that 100 comes first, or modify the logic to default to 100."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":11667,"cache_read_input_tokens":35421,"cache_creation":{"ephemeral_5m_input_tokens":11667,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAsgkPjFeDenyhi9JBA","type":"assistant","uuid":"a1407473-c466-460a-9ef2-017cc6389cd4","timestamp":"2025-09-17T14:59:13.356Z"}
{"parentUuid":"a1407473-c466-460a-9ef2-017cc6389cd4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_019jtuMT2NZ75mrR9zNw4r3t","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_013Jge2H371Gj49UoWE5NtAd","name":"TodoWrite","input":{"todos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"in_progress","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":11667,"cache_read_input_tokens":35421,"cache_creation":{"ephemeral_5m_input_tokens":11667,"ephemeral_1h_input_tokens":0},"output_tokens":288,"service_tier":"standard"}},"requestId":"req_011CTEAsgkPjFeDenyhi9JBA","type":"assistant","uuid":"c18b6fbd-15de-4f9c-a79c-00ef98d7ee7b","timestamp":"2025-09-17T14:59:14.839Z"}
{"parentUuid":"c18b6fbd-15de-4f9c-a79c-00ef98d7ee7b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013Jge2H371Gj49UoWE5NtAd","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"77244708-e82e-42a7-8938-baba35ee90b2","timestamp":"2025-09-17T14:59:14.887Z","toolUseResult":{"oldTodos":[{"content":"Find pagination configuration for project view","status":"in_progress","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"pending","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"in_progress","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"77244708-e82e-42a7-8938-baba35ee90b2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_018vkTstStYX1N76nE59HBGC","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I'll update the default pagination to be 100 instead of 25. I'll modify the array to put 100 first:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":461,"cache_read_input_tokens":47088,"cache_creation":{"ephemeral_5m_input_tokens":461,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEAtM1mafCKWxQV7pdLp","type":"assistant","uuid":"4bdf541d-1eea-4d86-a1a7-a96806c58374","timestamp":"2025-09-17T14:59:18.759Z"}
{"parentUuid":"4bdf541d-1eea-4d86-a1a7-a96806c58374","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_018vkTstStYX1N76nE59HBGC","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Gb4C3fEXdCPARUffP1zk4B","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","old_string":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];","new_string":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":461,"cache_read_input_tokens":47088,"cache_creation":{"ephemeral_5m_input_tokens":461,"ephemeral_1h_input_tokens":0},"output_tokens":204,"service_tier":"standard"}},"requestId":"req_011CTEAtM1mafCKWxQV7pdLp","type":"assistant","uuid":"3d3133b2-5ee8-49d2-8197-c387ed1f1581","timestamp":"2025-09-17T14:59:20.528Z"}
{"parentUuid":"3d3133b2-5ee8-49d2-8197-c387ed1f1581","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Gb4C3fEXdCPARUffP1zk4B","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    16→  toggleLoading?: boolean;\n    17→}\n    18→\n    19→const DEFAULT_PAGE = 0;\n    20→export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];\n    21→\n    22→export default function useGenericTableState<T>(\n    23→  loadData: (params?: LoadDataParams) => Promise<{\n    24→    content: T[];"}]},"uuid":"9afc7855-9fd6-464b-803a-482aa1bccef0","timestamp":"2025-09-17T14:59:20.585Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","oldString":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];","newString":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];","originalFile":"import { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport {\n  DataTablePageEvent,\n  DataTableRowClickEvent,\n  DataTableSortEvent,\n} from 'primevue/datatable';\n\nexport interface LoadDataParams {\n  page?: number;\n  rows?: number;\n  sortField?: string;\n  sortOrder?: number;\n  queryString?: string;\n  filter?: string;\n  toggleLoading?: boolean;\n}\n\nconst DEFAULT_PAGE = 0;\nexport const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n\nexport default function useGenericTableState<T>(\n  loadData: (params?: LoadDataParams) => Promise<{\n    content: T[];\n    totalElements: number;\n  }>,\n  onSelectionChange?: (newSelection: T[]) => void,\n  onRangeSelect?: (items: any[]) => void,\n  onPage?: (e: DataTablePageEvent) => void,\n  onSort?: (e: DataTableSortEvent) => void,\n  onRowClick?: (e: DataTableRowClickEvent) => void,\n  rowsPerPageOptions?: number[],\n  initialSortField?: string,\n  initialSortDirection?: number,\n) {\n  const items = ref<T[] | undefined>();\n\n  const loading = ref(false);\n  const totalRecords = ref(0);\n  const first = ref();\n\n  const route = useRoute();\n\n  const sort = ref(\n    route.query.sort ? String(route.query.sort) : initialSortField,\n  );\n  const sortOrder = ref(\n    route.query.sortOrder\n      ? Number(route.query.sortOrder)\n      : initialSortDirection,\n  );\n  const page = ref(Number(route.query.page ?? DEFAULT_PAGE));\n  const setSelectedPageIndex = (newPageIndex: number) => {\n    page.value = newPageIndex;\n  };\n\n  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }\n  const rows = ref(initialRowsValue);\n  const queryString = ref(String(route.query.queryString ?? ''));\n  const selectedItems = ref<T[]>([]);\n  const lastClickedIndex = ref<number>(-1);\n\n  /**\n   * Apply the event from the primevue data table to the local state\n   * @param event\n   */\n  const applyDataTableEvent = (\n    event: DataTablePageEvent | DataTableSortEvent,\n  ) => {\n    if (sort.value !== event.sortField) {\n      // we're changing fields, reset the page number as primevue data table resets to page 1 when sort changes\n      page.value = DEFAULT_PAGE;\n    }\n\n    sort.value = (event.sortField as string) ?? sort.value;\n    sortOrder.value = event.sortOrder ?? sortOrder.value;\n    page.value = (event as DataTablePageEvent).page ?? page.value;\n    rows.value = event.rows ?? rows.value;\n    first.value = page.value * rows.value;\n  };\n\n  /**\n   * Load the data from the consumer\n   */\n  const loadTableData = async () => {\n    loading.value = true;\n    first.value = page.value * rows.value;\n\n    const { content, totalElements } = await loadData({\n      page: page.value,\n      rows: rows.value,\n      sortField: sort.value,\n      sortOrder: sortOrder.value,\n      queryString: queryString.value,\n    });\n    items.value = content;\n    totalRecords.value = totalElements;\n    loading.value = false;\n  };\n  watch([queryString], loadTableData, { immediate: true });\n\n  /**\n   * Propagate the page event to the consumer if it's defined\n   * @param event\n   */\n  const onPageFn = (event: DataTablePageEvent) => {\n    applyDataTableEvent(event);\n    if (onPage !== undefined) {\n      onPage(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the sort event to the consumer if it's defined\n   * @param event\n   */\n  const onSortFn = (event: DataTableSortEvent) => {\n    applyDataTableEvent(event);\n    if (onSort !== undefined) {\n      onSort(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the selection change event to the consumer if it's defined\n   */\n  const onRowSelectChangeFn = () => {\n    if (onSelectionChange !== undefined) {\n      onSelectionChange(selectedItems.value as T[]);\n    }\n  };\n  watch([selectedItems], onRowSelectChangeFn);\n\n  /**\n   * Handle range selection between two row indices\n   * @param startIndex\n   * @param endIndex\n   */\n  const selectRange = (startIndex: number, endIndex: number) => {\n    if (!items.value) return;\n\n    const start = Math.min(startIndex, endIndex);\n    const end = Math.max(startIndex, endIndex);\n    const rangeItems = items.value.slice(start, end + 1);\n\n    // Call the range select callback if provided\n    if (onRangeSelect) {\n      try {\n        onRangeSelect(rangeItems);\n      } catch {\n        // Silently handle errors in callback to prevent breaking the selection flow\n      }\n    }\n  };\n\n  /**\n   * Propagate the row click event to the consumer\n   * @param event\n   */\n  const onRowClickFn = (\n    event: DataTableRowClickEvent,\n    isShiftPressed: boolean = false,\n  ) => {\n    // Check if the click target is a selection checkbox to avoid conflicts\n    const clickTarget = event.originalEvent.target as Element | null;\n    const isClickingSelectionCheckbox =\n      clickTarget?.closest('.p-checkbox') !== null;\n\n    if (isClickingSelectionCheckbox) {\n      return;\n    }\n\n    const currentIndex = event.index;\n\n    // Handle shift+click for range selection\n    if (isShiftPressed && lastClickedIndex.value >= 0 && items.value) {\n      selectRange(lastClickedIndex.value, currentIndex);\n      // Update last clicked index after range selection\n      lastClickedIndex.value = currentIndex;\n      return;\n    }\n\n    // Update last clicked index for future range selections\n    lastClickedIndex.value = currentIndex;\n\n    // Propagate regular row click event\n    if (onRowClick !== undefined) {\n      onRowClick(event);\n    }\n  };\n\n  return {\n    loadTableData,\n    setSelectedPageIndex,\n    items,\n    loading,\n    totalRecords,\n    page,\n    rows,\n    queryString,\n    first,\n    sort,\n    sortOrder,\n    onSortFn,\n    onPageFn,\n    onRowClickFn,\n  };\n}\n","structuredPatch":[{"oldStart":17,"oldLines":7,"newStart":17,"newLines":7,"lines":[" }"," "," const DEFAULT_PAGE = 0;","-export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];","+export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];"," "," export default function useGenericTableState<T>(","   loadData: (params?: LoadDataParams) => Promise<{"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"9afc7855-9fd6-464b-803a-482aa1bccef0","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01G1PRzH1VqSRgcf4LAWPVMg","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01HZews8eAxXjDLGZw3Q3yXZ","name":"TodoWrite","input":{"todos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"completed","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":381,"cache_read_input_tokens":47549,"cache_creation":{"ephemeral_5m_input_tokens":381,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEAtmE3pZdVbUxrHH69n","type":"assistant","uuid":"1f7586d2-66d4-4066-b6d5-1ffd1c2bc47e","timestamp":"2025-09-17T14:59:24.212Z"}
{"parentUuid":"1f7586d2-66d4-4066-b6d5-1ffd1c2bc47e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HZews8eAxXjDLGZw3Q3yXZ","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"eb93dfa1-0cad-4d9f-9dad-e2284cfcabe8","timestamp":"2025-09-17T14:59:24.246Z","toolUseResult":{"oldTodos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"in_progress","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"completed","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"eb93dfa1-0cad-4d9f-9dad-e2284cfcabe8","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01CwpkA6D4vXmXvR96poALWC","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I'll run the formatting commands as specified in the project instructions:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":321,"cache_read_input_tokens":47930,"cache_creation":{"ephemeral_5m_input_tokens":321,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CTEAu2x6jH5tojQwkJWNi","type":"assistant","uuid":"9806d0f7-7f3c-4d02-ba83-4faaa33c04de","timestamp":"2025-09-17T14:59:26.484Z"}
{"parentUuid":"9806d0f7-7f3c-4d02-ba83-4faaa33c04de","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01CwpkA6D4vXmXvR96poALWC","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01FWtG8BBrXWA5QWsQoyPcT9","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":321,"cache_read_input_tokens":47930,"cache_creation":{"ephemeral_5m_input_tokens":321,"ephemeral_1h_input_tokens":0},"output_tokens":89,"service_tier":"standard"}},"requestId":"req_011CTEAu2x6jH5tojQwkJWNi","type":"assistant","uuid":"39985900-1423-432d-90a2-408e8aecd22e","timestamp":"2025-09-17T14:59:27.009Z"}
{"parentUuid":"39985900-1423-432d-90a2-408e8aecd22e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FWtG8BBrXWA5QWsQoyPcT9","type":"tool_result","content":"Done in 3s 438ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 51ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 36ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 45ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 48ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 18ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 406ms","is_error":false}]},"uuid":"45ed476b-1c06-456e-a8c2-141a52ad2315","timestamp":"2025-09-17T14:59:34.964Z","toolUseResult":{"stdout":"Done in 3s 438ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 51ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 36ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 45ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 48ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 18ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 406ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"45ed476b-1c06-456e-a8c2-141a52ad2315","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01PoLC7kcTv7UYFP29SuTfrM","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_017aD7ZV26bV4gRVN1LmndWK","name":"TodoWrite","input":{"todos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"completed","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":7683,"cache_read_input_tokens":48251,"cache_creation":{"ephemeral_5m_input_tokens":7683,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEAupkfJ612XWERzqQs1","type":"assistant","uuid":"6e35c5ea-99c0-4683-a074-9d35299c1816","timestamp":"2025-09-17T14:59:41.135Z"}
{"parentUuid":"6e35c5ea-99c0-4683-a074-9d35299c1816","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017aD7ZV26bV4gRVN1LmndWK","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"2844f110-9f17-42f3-9433-018054902abe","timestamp":"2025-09-17T14:59:41.182Z","toolUseResult":{"oldTodos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"completed","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Find pagination configuration for project view","status":"completed","activeForm":"Finding pagination configuration for project view"},{"content":"Change default page size from 25 to 100","status":"completed","activeForm":"Changing default page size from 25 to 100"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"2844f110-9f17-42f3-9433-018054902abe","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_013ArKrDc7GTw7QHj8Pi8kas","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully changed the default pagination from 25 to 100 documents per page. Here's what I did:\n\n1. **Found the pagination configuration** in `/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts`\n2. **Updated the default** by changing `DEFAULT_ROWS_PER_PAGE_OPTIONS` from `[25, 50, 100, 250, 500]` to `[100, 25, 50, 250, 500]`\n3. **Ran formatting** to ensure code style compliance\n\nSince the code uses the first element of `DEFAULT_ROWS_PER_PAGE_OPTIONS` as the default value (line 57), putting 100 first now makes it the default page size for project view pagination."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":270,"cache_read_input_tokens":55934,"cache_creation":{"ephemeral_5m_input_tokens":270,"ephemeral_1h_input_tokens":0},"output_tokens":189,"service_tier":"standard"}},"requestId":"req_011CTEAvHPnqpeusux3dnH8i","type":"assistant","uuid":"8693e43a-06c7-439b-97e4-c755cf82bef0","timestamp":"2025-09-17T14:59:47.665Z"}
{"parentUuid":"8693e43a-06c7-439b-97e4-c755cf82bef0","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":"100 should stay between 50 and 250... that's poor UX what you have done. I want the default value to be 100, not change the order of the options."},"uuid":"53d0d660-6c87-451c-b6ba-eef7a61f106f","timestamp":"2025-09-17T15:00:20.307Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"53d0d660-6c87-451c-b6ba-eef7a61f106f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Fh3BVKZ18MdhESSGchsayE","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"You're absolutely right! I should have changed the default value logic, not the order of the options. Let me fix that properly."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":236,"cache_read_input_tokens":56204,"cache_creation":{"ephemeral_5m_input_tokens":236,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAyB2e2koPq9LstZvPF","type":"assistant","uuid":"03123e11-5580-4786-be90-b6d52d423b5a","timestamp":"2025-09-17T15:00:23.083Z"}
{"parentUuid":"03123e11-5580-4786-be90-b6d52d423b5a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Fh3BVKZ18MdhESSGchsayE","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01MCq2ujR87NCvXXQ4Xj24y4","name":"TodoWrite","input":{"todos":[{"content":"Fix pagination options order","status":"in_progress","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"pending","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":236,"cache_read_input_tokens":56204,"cache_creation":{"ephemeral_5m_input_tokens":236,"ephemeral_1h_input_tokens":0},"output_tokens":173,"service_tier":"standard"}},"requestId":"req_011CTEAyB2e2koPq9LstZvPF","type":"assistant","uuid":"fbcd8b56-3e8c-428b-9dff-e0341fb4ccb3","timestamp":"2025-09-17T15:00:24.308Z"}
{"parentUuid":"fbcd8b56-3e8c-428b-9dff-e0341fb4ccb3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MCq2ujR87NCvXXQ4Xj24y4","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"dbd83997-b3f5-43a0-9edd-6c844df98b27","timestamp":"2025-09-17T15:00:24.365Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Fix pagination options order","status":"in_progress","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"pending","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"dbd83997-b3f5-43a0-9edd-6c844df98b27","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01BuBQbwBWvC3qmxim5UTt13","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_017RJokC5nG4BsGgiRuUZiTs","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","old_string":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];","new_string":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":338,"cache_read_input_tokens":56440,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":174,"service_tier":"standard"}},"requestId":"req_011CTEAyTx8B3912bLynFYqF","type":"assistant","uuid":"ce7d0a7f-a07c-4abf-8107-6c901038dde5","timestamp":"2025-09-17T15:00:27.807Z"}
{"parentUuid":"ce7d0a7f-a07c-4abf-8107-6c901038dde5","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017RJokC5nG4BsGgiRuUZiTs","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    16→  toggleLoading?: boolean;\n    17→}\n    18→\n    19→const DEFAULT_PAGE = 0;\n    20→export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n    21→\n    22→export default function useGenericTableState<T>(\n    23→  loadData: (params?: LoadDataParams) => Promise<{\n    24→    content: T[];"}]},"uuid":"dc3a2b4d-9f25-4ce7-9ef1-bc630bebc01b","timestamp":"2025-09-17T15:00:27.867Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","oldString":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];","newString":"export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];","originalFile":"import { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport {\n  DataTablePageEvent,\n  DataTableRowClickEvent,\n  DataTableSortEvent,\n} from 'primevue/datatable';\n\nexport interface LoadDataParams {\n  page?: number;\n  rows?: number;\n  sortField?: string;\n  sortOrder?: number;\n  queryString?: string;\n  filter?: string;\n  toggleLoading?: boolean;\n}\n\nconst DEFAULT_PAGE = 0;\nexport const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];\n\nexport default function useGenericTableState<T>(\n  loadData: (params?: LoadDataParams) => Promise<{\n    content: T[];\n    totalElements: number;\n  }>,\n  onSelectionChange?: (newSelection: T[]) => void,\n  onRangeSelect?: (items: any[]) => void,\n  onPage?: (e: DataTablePageEvent) => void,\n  onSort?: (e: DataTableSortEvent) => void,\n  onRowClick?: (e: DataTableRowClickEvent) => void,\n  rowsPerPageOptions?: number[],\n  initialSortField?: string,\n  initialSortDirection?: number,\n) {\n  const items = ref<T[] | undefined>();\n\n  const loading = ref(false);\n  const totalRecords = ref(0);\n  const first = ref();\n\n  const route = useRoute();\n\n  const sort = ref(\n    route.query.sort ? String(route.query.sort) : initialSortField,\n  );\n  const sortOrder = ref(\n    route.query.sortOrder\n      ? Number(route.query.sortOrder)\n      : initialSortDirection,\n  );\n  const page = ref(Number(route.query.page ?? DEFAULT_PAGE));\n  const setSelectedPageIndex = (newPageIndex: number) => {\n    page.value = newPageIndex;\n  };\n\n  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }\n  const rows = ref(initialRowsValue);\n  const queryString = ref(String(route.query.queryString ?? ''));\n  const selectedItems = ref<T[]>([]);\n  const lastClickedIndex = ref<number>(-1);\n\n  /**\n   * Apply the event from the primevue data table to the local state\n   * @param event\n   */\n  const applyDataTableEvent = (\n    event: DataTablePageEvent | DataTableSortEvent,\n  ) => {\n    if (sort.value !== event.sortField) {\n      // we're changing fields, reset the page number as primevue data table resets to page 1 when sort changes\n      page.value = DEFAULT_PAGE;\n    }\n\n    sort.value = (event.sortField as string) ?? sort.value;\n    sortOrder.value = event.sortOrder ?? sortOrder.value;\n    page.value = (event as DataTablePageEvent).page ?? page.value;\n    rows.value = event.rows ?? rows.value;\n    first.value = page.value * rows.value;\n  };\n\n  /**\n   * Load the data from the consumer\n   */\n  const loadTableData = async () => {\n    loading.value = true;\n    first.value = page.value * rows.value;\n\n    const { content, totalElements } = await loadData({\n      page: page.value,\n      rows: rows.value,\n      sortField: sort.value,\n      sortOrder: sortOrder.value,\n      queryString: queryString.value,\n    });\n    items.value = content;\n    totalRecords.value = totalElements;\n    loading.value = false;\n  };\n  watch([queryString], loadTableData, { immediate: true });\n\n  /**\n   * Propagate the page event to the consumer if it's defined\n   * @param event\n   */\n  const onPageFn = (event: DataTablePageEvent) => {\n    applyDataTableEvent(event);\n    if (onPage !== undefined) {\n      onPage(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the sort event to the consumer if it's defined\n   * @param event\n   */\n  const onSortFn = (event: DataTableSortEvent) => {\n    applyDataTableEvent(event);\n    if (onSort !== undefined) {\n      onSort(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the selection change event to the consumer if it's defined\n   */\n  const onRowSelectChangeFn = () => {\n    if (onSelectionChange !== undefined) {\n      onSelectionChange(selectedItems.value as T[]);\n    }\n  };\n  watch([selectedItems], onRowSelectChangeFn);\n\n  /**\n   * Handle range selection between two row indices\n   * @param startIndex\n   * @param endIndex\n   */\n  const selectRange = (startIndex: number, endIndex: number) => {\n    if (!items.value) return;\n\n    const start = Math.min(startIndex, endIndex);\n    const end = Math.max(startIndex, endIndex);\n    const rangeItems = items.value.slice(start, end + 1);\n\n    // Call the range select callback if provided\n    if (onRangeSelect) {\n      try {\n        onRangeSelect(rangeItems);\n      } catch {\n        // Silently handle errors in callback to prevent breaking the selection flow\n      }\n    }\n  };\n\n  /**\n   * Propagate the row click event to the consumer\n   * @param event\n   */\n  const onRowClickFn = (\n    event: DataTableRowClickEvent,\n    isShiftPressed: boolean = false,\n  ) => {\n    // Check if the click target is a selection checkbox to avoid conflicts\n    const clickTarget = event.originalEvent.target as Element | null;\n    const isClickingSelectionCheckbox =\n      clickTarget?.closest('.p-checkbox') !== null;\n\n    if (isClickingSelectionCheckbox) {\n      return;\n    }\n\n    const currentIndex = event.index;\n\n    // Handle shift+click for range selection\n    if (isShiftPressed && lastClickedIndex.value >= 0 && items.value) {\n      selectRange(lastClickedIndex.value, currentIndex);\n      // Update last clicked index after range selection\n      lastClickedIndex.value = currentIndex;\n      return;\n    }\n\n    // Update last clicked index for future range selections\n    lastClickedIndex.value = currentIndex;\n\n    // Propagate regular row click event\n    if (onRowClick !== undefined) {\n      onRowClick(event);\n    }\n  };\n\n  return {\n    loadTableData,\n    setSelectedPageIndex,\n    items,\n    loading,\n    totalRecords,\n    page,\n    rows,\n    queryString,\n    first,\n    sort,\n    sortOrder,\n    onSortFn,\n    onPageFn,\n    onRowClickFn,\n  };\n}\n","structuredPatch":[{"oldStart":17,"oldLines":7,"newStart":17,"newLines":7,"lines":[" }"," "," const DEFAULT_PAGE = 0;","-export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [100, 25, 50, 250, 500];","+export const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];"," "," export default function useGenericTableState<T>(","   loadData: (params?: LoadDataParams) => Promise<{"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"dc3a2b4d-9f25-4ce7-9ef1-bc630bebc01b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_014ecxzF48cgPtUocTd9FQsd","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01G4QGG6HeTH9pYE4GV8eUbF","name":"TodoWrite","input":{"todos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"in_progress","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":351,"cache_read_input_tokens":56778,"cache_creation":{"ephemeral_5m_input_tokens":351,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEAyiqaCZwjyZHqQ43HF","type":"assistant","uuid":"a3be260e-cb1b-4024-b0a6-db73cc69c9b4","timestamp":"2025-09-17T15:00:30.988Z"}
{"parentUuid":"a3be260e-cb1b-4024-b0a6-db73cc69c9b4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01G4QGG6HeTH9pYE4GV8eUbF","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"344a6f98-0b95-4611-9552-4fc4e881171a","timestamp":"2025-09-17T15:00:31.116Z","toolUseResult":{"oldTodos":[{"content":"Fix pagination options order","status":"in_progress","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"pending","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"in_progress","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"344a6f98-0b95-4611-9552-4fc4e881171a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01HeD6uMvjgCzUYPpuszTPh8","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I need to change the logic to default to 100 instead of using the first element of the array:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":313,"cache_read_input_tokens":57129,"cache_creation":{"ephemeral_5m_input_tokens":313,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEAyxmy6LRe9e7LwmSpG","type":"assistant","uuid":"c0f5b5d9-2c03-4b46-98c2-5c7f571979d8","timestamp":"2025-09-17T15:00:34.052Z"}
{"parentUuid":"c0f5b5d9-2c03-4b46-98c2-5c7f571979d8","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01HeD6uMvjgCzUYPpuszTPh8","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01HCLNPD4nVgiLNvRT7opsRQ","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","old_string":"  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }","new_string":"  let initialRowsValue = 100;\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":313,"cache_read_input_tokens":57129,"cache_creation":{"ephemeral_5m_input_tokens":313,"ephemeral_1h_input_tokens":0},"output_tokens":285,"service_tier":"standard"}},"requestId":"req_011CTEAyxmy6LRe9e7LwmSpG","type":"assistant","uuid":"ce90bff3-e3ce-4a45-b595-36f9b94756f2","timestamp":"2025-09-17T15:00:36.340Z"}
{"parentUuid":"ce90bff3-e3ce-4a45-b595-36f9b94756f2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HCLNPD4nVgiLNvRT7opsRQ","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    53→  const setSelectedPageIndex = (newPageIndex: number) => {\n    54→    page.value = newPageIndex;\n    55→  };\n    56→\n    57→  let initialRowsValue = 100;\n    58→  if (route.query.rows) {\n    59→    initialRowsValue = Number(route.query.rows);\n    60→  } else if (rowsPerPageOptions) {\n    61→    [initialRowsValue] = rowsPerPageOptions;\n    62→  }\n    63→  const rows = ref(initialRowsValue);\n    64→  const queryString = ref(String(route.query.queryString ?? ''));\n    65→  const selectedItems = ref<T[]>([]);\n    66→  const lastClickedIndex = ref<number>(-1);"}]},"uuid":"813d62b8-cbda-46a1-9cb2-143717c0e6da","timestamp":"2025-09-17T15:00:36.398Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","oldString":"  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }","newString":"  let initialRowsValue = 100;\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }","originalFile":"import { ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport {\n  DataTablePageEvent,\n  DataTableRowClickEvent,\n  DataTableSortEvent,\n} from 'primevue/datatable';\n\nexport interface LoadDataParams {\n  page?: number;\n  rows?: number;\n  sortField?: string;\n  sortOrder?: number;\n  queryString?: string;\n  filter?: string;\n  toggleLoading?: boolean;\n}\n\nconst DEFAULT_PAGE = 0;\nexport const DEFAULT_ROWS_PER_PAGE_OPTIONS = [25, 50, 100, 250, 500];\n\nexport default function useGenericTableState<T>(\n  loadData: (params?: LoadDataParams) => Promise<{\n    content: T[];\n    totalElements: number;\n  }>,\n  onSelectionChange?: (newSelection: T[]) => void,\n  onRangeSelect?: (items: any[]) => void,\n  onPage?: (e: DataTablePageEvent) => void,\n  onSort?: (e: DataTableSortEvent) => void,\n  onRowClick?: (e: DataTableRowClickEvent) => void,\n  rowsPerPageOptions?: number[],\n  initialSortField?: string,\n  initialSortDirection?: number,\n) {\n  const items = ref<T[] | undefined>();\n\n  const loading = ref(false);\n  const totalRecords = ref(0);\n  const first = ref();\n\n  const route = useRoute();\n\n  const sort = ref(\n    route.query.sort ? String(route.query.sort) : initialSortField,\n  );\n  const sortOrder = ref(\n    route.query.sortOrder\n      ? Number(route.query.sortOrder)\n      : initialSortDirection,\n  );\n  const page = ref(Number(route.query.page ?? DEFAULT_PAGE));\n  const setSelectedPageIndex = (newPageIndex: number) => {\n    page.value = newPageIndex;\n  };\n\n  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];\n  if (route.query.rows) {\n    initialRowsValue = Number(route.query.rows);\n  } else if (rowsPerPageOptions) {\n    [initialRowsValue] = rowsPerPageOptions;\n  }\n  const rows = ref(initialRowsValue);\n  const queryString = ref(String(route.query.queryString ?? ''));\n  const selectedItems = ref<T[]>([]);\n  const lastClickedIndex = ref<number>(-1);\n\n  /**\n   * Apply the event from the primevue data table to the local state\n   * @param event\n   */\n  const applyDataTableEvent = (\n    event: DataTablePageEvent | DataTableSortEvent,\n  ) => {\n    if (sort.value !== event.sortField) {\n      // we're changing fields, reset the page number as primevue data table resets to page 1 when sort changes\n      page.value = DEFAULT_PAGE;\n    }\n\n    sort.value = (event.sortField as string) ?? sort.value;\n    sortOrder.value = event.sortOrder ?? sortOrder.value;\n    page.value = (event as DataTablePageEvent).page ?? page.value;\n    rows.value = event.rows ?? rows.value;\n    first.value = page.value * rows.value;\n  };\n\n  /**\n   * Load the data from the consumer\n   */\n  const loadTableData = async () => {\n    loading.value = true;\n    first.value = page.value * rows.value;\n\n    const { content, totalElements } = await loadData({\n      page: page.value,\n      rows: rows.value,\n      sortField: sort.value,\n      sortOrder: sortOrder.value,\n      queryString: queryString.value,\n    });\n    items.value = content;\n    totalRecords.value = totalElements;\n    loading.value = false;\n  };\n  watch([queryString], loadTableData, { immediate: true });\n\n  /**\n   * Propagate the page event to the consumer if it's defined\n   * @param event\n   */\n  const onPageFn = (event: DataTablePageEvent) => {\n    applyDataTableEvent(event);\n    if (onPage !== undefined) {\n      onPage(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the sort event to the consumer if it's defined\n   * @param event\n   */\n  const onSortFn = (event: DataTableSortEvent) => {\n    applyDataTableEvent(event);\n    if (onSort !== undefined) {\n      onSort(event);\n    } else {\n      loadTableData();\n    }\n  };\n\n  /**\n   * Propagate the selection change event to the consumer if it's defined\n   */\n  const onRowSelectChangeFn = () => {\n    if (onSelectionChange !== undefined) {\n      onSelectionChange(selectedItems.value as T[]);\n    }\n  };\n  watch([selectedItems], onRowSelectChangeFn);\n\n  /**\n   * Handle range selection between two row indices\n   * @param startIndex\n   * @param endIndex\n   */\n  const selectRange = (startIndex: number, endIndex: number) => {\n    if (!items.value) return;\n\n    const start = Math.min(startIndex, endIndex);\n    const end = Math.max(startIndex, endIndex);\n    const rangeItems = items.value.slice(start, end + 1);\n\n    // Call the range select callback if provided\n    if (onRangeSelect) {\n      try {\n        onRangeSelect(rangeItems);\n      } catch {\n        // Silently handle errors in callback to prevent breaking the selection flow\n      }\n    }\n  };\n\n  /**\n   * Propagate the row click event to the consumer\n   * @param event\n   */\n  const onRowClickFn = (\n    event: DataTableRowClickEvent,\n    isShiftPressed: boolean = false,\n  ) => {\n    // Check if the click target is a selection checkbox to avoid conflicts\n    const clickTarget = event.originalEvent.target as Element | null;\n    const isClickingSelectionCheckbox =\n      clickTarget?.closest('.p-checkbox') !== null;\n\n    if (isClickingSelectionCheckbox) {\n      return;\n    }\n\n    const currentIndex = event.index;\n\n    // Handle shift+click for range selection\n    if (isShiftPressed && lastClickedIndex.value >= 0 && items.value) {\n      selectRange(lastClickedIndex.value, currentIndex);\n      // Update last clicked index after range selection\n      lastClickedIndex.value = currentIndex;\n      return;\n    }\n\n    // Update last clicked index for future range selections\n    lastClickedIndex.value = currentIndex;\n\n    // Propagate regular row click event\n    if (onRowClick !== undefined) {\n      onRowClick(event);\n    }\n  };\n\n  return {\n    loadTableData,\n    setSelectedPageIndex,\n    items,\n    loading,\n    totalRecords,\n    page,\n    rows,\n    queryString,\n    first,\n    sort,\n    sortOrder,\n    onSortFn,\n    onPageFn,\n    onRowClickFn,\n  };\n}\n","structuredPatch":[{"oldStart":54,"oldLines":7,"newStart":54,"newLines":7,"lines":["     page.value = newPageIndex;","   };"," ","-  let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0];","+  let initialRowsValue = 100;","   if (route.query.rows) {","     initialRowsValue = Number(route.query.rows);","   } else if (rowsPerPageOptions) {"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"813d62b8-cbda-46a1-9cb2-143717c0e6da","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01W78YgVJbnEB7LX2hsc4bLF","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01WNXHY59FncEFDdqYXryiH9","name":"TodoWrite","input":{"todos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"completed","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":550,"cache_read_input_tokens":57442,"cache_creation":{"ephemeral_5m_input_tokens":550,"ephemeral_1h_input_tokens":0},"output_tokens":145,"service_tier":"standard"}},"requestId":"req_011CTEAzMQW2kicg3T4aLspf","type":"assistant","uuid":"10837dc0-ff13-41f4-b4dc-5675bb77b718","timestamp":"2025-09-17T15:00:39.456Z"}
{"parentUuid":"10837dc0-ff13-41f4-b4dc-5675bb77b718","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WNXHY59FncEFDdqYXryiH9","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"0c3c449d-5545-4703-985d-e22d4c2148a4","timestamp":"2025-09-17T15:00:39.493Z","toolUseResult":{"oldTodos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"in_progress","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"completed","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"0c3c449d-5545-4703-985d-e22d4c2148a4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01XPjmB6f9LSB6mZJf7FAxFz","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01H7AwwiQ2GQF88UBEqaPNKD","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":313,"cache_read_input_tokens":57992,"cache_creation":{"ephemeral_5m_input_tokens":313,"ephemeral_1h_input_tokens":0},"output_tokens":74,"service_tier":"standard"}},"requestId":"req_011CTEAzatMxkftNAPx79tkJ","type":"assistant","uuid":"0b8cfe05-c938-463a-8822-ed57d4093693","timestamp":"2025-09-17T15:00:42.972Z"}
{"parentUuid":"0b8cfe05-c938-463a-8822-ed57d4093693","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01H7AwwiQ2GQF88UBEqaPNKD","type":"tool_result","content":"Done in 3s 447ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 38ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 44ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 47ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 370ms","is_error":false}]},"uuid":"2b89ebc1-2fd3-41c7-b9d4-3ee457b135ca","timestamp":"2025-09-17T15:00:50.731Z","toolUseResult":{"stdout":"Done in 3s 447ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 38ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 44ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 47ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 370ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"2b89ebc1-2fd3-41c7-b9d4-3ee457b135ca","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01Bge9DsE8RXss8NFjzp6mVp","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01PqqXNorpNqs6VmLxSZHznd","name":"TodoWrite","input":{"todos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"completed","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7668,"cache_read_input_tokens":58305,"cache_creation":{"ephemeral_5m_input_tokens":7668,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEB1QgEUmcby2dHW54y4","type":"assistant","uuid":"d1c6ffb9-aae0-4edd-a7b1-899883c910e1","timestamp":"2025-09-17T15:00:55.423Z"}
{"parentUuid":"d1c6ffb9-aae0-4edd-a7b1-899883c910e1","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01PqqXNorpNqs6VmLxSZHznd","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"a69c96e3-58c5-47c5-ad2d-3b0bcc51917f","timestamp":"2025-09-17T15:00:55.487Z","toolUseResult":{"oldTodos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"completed","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix pagination options order","status":"completed","activeForm":"Fixing pagination options order"},{"content":"Set default value to 100 without changing option order","status":"completed","activeForm":"Setting default value to 100 without changing option order"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"a69c96e3-58c5-47c5-ad2d-3b0bcc51917f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-search-design-improvement","message":{"id":"msg_01NCpUJAfCuRtAciqPKBfFWR","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've properly fixed the pagination configuration. Now:\n\n1. **Pagination options remain in logical order**: `[25, 50, 100, 250, 500]` - maintaining good UX\n2. **Default value is 100**: Changed `let initialRowsValue = DEFAULT_ROWS_PER_PAGE_OPTIONS[0]` to `let initialRowsValue = 100` in `useGenericTableState.ts:57`\n3. **Code is properly formatted**: Ran `yarn format` successfully\n\nThe project view will now default to showing 100 documents per page while keeping the dropdown options in the correct ascending order."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":265,"cache_read_input_tokens":65973,"cache_creation":{"ephemeral_5m_input_tokens":265,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEB1m365JJvoTeurqz9H","type":"assistant","uuid":"9a2faa4d-0893-462f-b567-65fba3467dc4","timestamp":"2025-09-17T15:01:01.333Z"}
{"parentUuid":"9a2faa4d-0893-462f-b567-65fba3467dc4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":"in loadingSparkles, I want the tooltip to show up after a small delay"},"uuid":"885bdf10-31e6-45ed-a2f2-f65dae1dad18","timestamp":"2025-09-17T15:31:04.016Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"885bdf10-31e6-45ed-a2f2-f65dae1dad18","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_0112DKEmsPrH6NYhNmokqgTp","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I'll help you add a delay to the tooltip in LoadingSparkle. Let me first find and examine the LoadingSparkle component."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":61962,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":61962,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEDK5kgPif1AZSkdvCs4","type":"assistant","uuid":"0323e667-feeb-4605-9de4-6f8f368b1ca4","timestamp":"2025-09-17T15:31:07.035Z"}
{"parentUuid":"0323e667-feeb-4605-9de4-6f8f368b1ca4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_0112DKEmsPrH6NYhNmokqgTp","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01BYWMRwdVKHCxWhktvGXe92","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":61962,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":61962,"ephemeral_1h_input_tokens":0},"output_tokens":113,"service_tier":"standard"}},"requestId":"req_011CTEDK5kgPif1AZSkdvCs4","type":"assistant","uuid":"a7a5265b-503c-4e8b-b963-e0637dbc2218","timestamp":"2025-09-17T15:31:07.619Z"}
{"parentUuid":"a7a5265b-503c-4e8b-b963-e0637dbc2218","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BYWMRwdVKHCxWhktvGXe92","type":"tool_result","content":"     1→<template>\n     2→  <i\n     3→    v-tooltip.right=\"tooltip\"\n     4→    class=\"pi pi-sparkles\"\n     5→    :class=\"{\n     6→      'extract-more': canExtractMore,\n     7→      pulse: inProgress,\n     8→    }\"\n     9→    @click.stop=\"emit('click')\"\n    10→    @keydown.enter.stop=\"emit('click')\"\n    11→  />\n    12→</template>\n    13→\n    14→<script setup lang=\"ts\">\n    15→withDefaults(\n    16→  defineProps<{\n    17→    tooltip: string;\n    18→    inProgress?: boolean;\n    19→    canExtractMore?: boolean;\n    20→  }>(),\n    21→  {\n    22→    canExtractMore: false,\n    23→    inProgress: false,\n    24→  },\n    25→);\n    26→\n    27→const emit = defineEmits<{\n    28→  (e: 'click'): void;\n    29→}>();\n    30→</script>\n    31→\n    32→<style scoped>\n    33→i.pi-sparkles {\n    34→  color: var(--surface-200);\n    35→  font-size: var(--text-size-small);\n    36→  margin-left: 0.25rem;\n    37→  &.extract-more {\n    38→    color: var(--primary-color);\n    39→    &:hover {\n    40→      color: var(--primary-color-hover);\n    41→      cursor: pointer;\n    42→    }\n    43→  }\n    44→}\n    45→\n    46→.extract-more-option {\n    47→  display: flex;\n    48→  align-items: center;\n    49→  color: var(--primary-color);\n    50→}\n    51→</style>\n    52→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"8c3bfd17-9259-4dd5-bfb3-17383a425184","timestamp":"2025-09-17T15:31:07.676Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue","content":"<template>\n  <i\n    v-tooltip.right=\"tooltip\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nwithDefaults(\n  defineProps<{\n    tooltip: string;\n    inProgress?: boolean;\n    canExtractMore?: boolean;\n  }>(),\n  {\n    canExtractMore: false,\n    inProgress: false,\n  },\n);\n\nconst emit = defineEmits<{\n  (e: 'click'): void;\n}>();\n</script>\n\n<style scoped>\ni.pi-sparkles {\n  color: var(--surface-200);\n  font-size: var(--text-size-small);\n  margin-left: 0.25rem;\n  &.extract-more {\n    color: var(--primary-color);\n    &:hover {\n      color: var(--primary-color-hover);\n      cursor: pointer;\n    }\n  }\n}\n\n.extract-more-option {\n  display: flex;\n  align-items: center;\n  color: var(--primary-color);\n}\n</style>\n","numLines":52,"startLine":1,"totalLines":52}}}
{"parentUuid":"8c3bfd17-9259-4dd5-bfb3-17383a425184","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01QDUV7utGukqJSugeRn9Rwn","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I can see the component uses PrimeVue's `v-tooltip` directive. To add a delay to the tooltip, I need to check how PrimeVue tooltips can be configured with delays. Let me search for tooltip usage patterns in the codebase to see if there are examples of tooltip configurations."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":681,"cache_read_input_tokens":66764,"cache_creation":{"ephemeral_5m_input_tokens":681,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDKM5fgQPhF43ywtDso","type":"assistant","uuid":"9855ea91-8df2-44d8-b9e0-529187cd83e4","timestamp":"2025-09-17T15:31:11.527Z"}
{"parentUuid":"9855ea91-8df2-44d8-b9e0-529187cd83e4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01QDUV7utGukqJSugeRn9Rwn","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01ESm4ko9G66FXFrurjJYfs4","name":"Grep","input":{"pattern":"v-tooltip","output_mode":"content","-n":true,"head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":681,"cache_read_input_tokens":66764,"cache_creation":{"ephemeral_5m_input_tokens":681,"ephemeral_1h_input_tokens":0},"output_tokens":178,"service_tier":"standard"}},"requestId":"req_011CTEDKM5fgQPhF43ywtDso","type":"assistant","uuid":"a453eded-801d-4410-bbb2-c303f2a154e7","timestamp":"2025-09-17T15:31:12.676Z"}
{"parentUuid":"a453eded-801d-4410-bbb2-c303f2a154e7","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01ESm4ko9G66FXFrurjJYfs4","type":"tool_result","content":"/Users/yparis/Developer/atlantis/modules/client/src/views/admin/user/PersonalInformation.vue:56:              v-tooltip.right=\"'Click to change'\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/TruncatableLabel.vue:23:  <span v-tooltip.top=\"tooltip\"> {{ truncatedText }} </span>\n/Users/yparis/Developer/atlantis/modules/client/src/components/profile/PersonalInformation.vue:52:              v-tooltip.right=\"'Click to change'\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/DocumentActivityStrip.vue:2:  <div class=\"activity-strip\" v-tooltip=\"tooltipText\">\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue:68:      v-tooltip=\"propertyDescriptor.name\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue:77:      v-tooltip=\"tooltip\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectCardTitle.vue:11:        v-tooltip.top=\"displayName.length > 50 ? displayName : null\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue:3:    v-tooltip.right=\"tooltip\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue:58:                v-tooltip.bottom=\"tooltipText\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/NoDataIcon.vue:20:  <p class=\"no-data-icon-container\" v-tooltip=\"tooltip\">N/A</p>"}]},"uuid":"84fe3187-1ed6-451e-8aaf-80019aa6d73d","timestamp":"2025-09-17T15:31:12.842Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/modules/client/src/views/admin/user/PersonalInformation.vue:56:              v-tooltip.right=\"'Click to change'\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/TruncatableLabel.vue:23:  <span v-tooltip.top=\"tooltip\"> {{ truncatedText }} </span>\n/Users/yparis/Developer/atlantis/modules/client/src/components/profile/PersonalInformation.vue:52:              v-tooltip.right=\"'Click to change'\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/DocumentActivityStrip.vue:2:  <div class=\"activity-strip\" v-tooltip=\"tooltipText\">\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue:68:      v-tooltip=\"propertyDescriptor.name\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue:77:      v-tooltip=\"tooltip\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectCardTitle.vue:11:        v-tooltip.top=\"displayName.length > 50 ? displayName : null\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue:3:    v-tooltip.right=\"tooltip\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue:58:                v-tooltip.bottom=\"tooltipText\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/NoDataIcon.vue:20:  <p class=\"no-data-icon-container\" v-tooltip=\"tooltip\">N/A</p>","numLines":10}}
{"parentUuid":"84fe3187-1ed6-451e-8aaf-80019aa6d73d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01DbbnmKuLnsgSjhVm8jYaoo","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check if there are any tooltip configurations with delays in the codebase:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":656,"cache_read_input_tokens":67445,"cache_creation":{"ephemeral_5m_input_tokens":656,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEDKj8Dz3jfevDNcQVPQ","type":"assistant","uuid":"77523c46-c995-4c9c-ae53-ae60203bedda","timestamp":"2025-09-17T15:31:15.464Z"}
{"parentUuid":"77523c46-c995-4c9c-ae53-ae60203bedda","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01DbbnmKuLnsgSjhVm8jYaoo","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01SUBNW6Lm4WhEXKvq9mNUQc","name":"Grep","input":{"pattern":"showDelay|hideDelay|delay","output_mode":"content","-n":true,"head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":656,"cache_read_input_tokens":67445,"cache_creation":{"ephemeral_5m_input_tokens":656,"ephemeral_1h_input_tokens":0},"output_tokens":134,"service_tier":"standard"}},"requestId":"req_011CTEDKj8Dz3jfevDNcQVPQ","type":"assistant","uuid":"c5ec2577-0d5f-4f5c-8678-08a8547d75b3","timestamp":"2025-09-17T15:31:16.391Z"}
{"parentUuid":"c5ec2577-0d5f-4f5c-8678-08a8547d75b3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SUBNW6Lm4WhEXKvq9mNUQc","type":"tool_result","content":"/Users/yparis/Developer/atlantis/yarn.lock:3108:    delayed-stream: \"npm:~1.0.0\"\n/Users/yparis/Developer/atlantis/yarn.lock:3624:\"delayed-stream@npm:~1.0.0\":\n/Users/yparis/Developer/atlantis/yarn.lock:3626:  resolution: \"delayed-stream@npm:1.0.0\"\n/Users/yparis/Developer/atlantis/dora/stopwords.txt:21:delay\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg:31:      animation-delay: 4s;\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg:37:      animation-delay: 8s;\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties:136:pantera.rabbit-throttling.min-delay-ms=2000\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties:137:pantera.rabbit-throttling.max-delay-ms=30000\n/Users/yparis/Developer/atlantis/dora/readme.md:23:    *   Implements random delays between requests to avoid overloading the ASX website.\n/Users/yparis/Developer/atlantis/dora/readme.md:137:*   **Rate Limiting:** `swiper.py` implements random delays to help avoid overloading the ASX website. However, it's still possible to be blocked if you make too many requests in a short period."}]},"uuid":"4fd7e8d5-629d-4345-a08e-5cdd07cadbef","timestamp":"2025-09-17T15:31:16.483Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/yarn.lock:3108:    delayed-stream: \"npm:~1.0.0\"\n/Users/yparis/Developer/atlantis/yarn.lock:3624:\"delayed-stream@npm:~1.0.0\":\n/Users/yparis/Developer/atlantis/yarn.lock:3626:  resolution: \"delayed-stream@npm:1.0.0\"\n/Users/yparis/Developer/atlantis/dora/stopwords.txt:21:delay\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg:31:      animation-delay: 4s;\n/Users/yparis/Developer/atlantis/modules/theme-pantera-dark/login/resources/img/logo-outline.svg:37:      animation-delay: 8s;\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties:136:pantera.rabbit-throttling.min-delay-ms=2000\n/Users/yparis/Developer/atlantis/modules/server/src/main/resources/application.properties:137:pantera.rabbit-throttling.max-delay-ms=30000\n/Users/yparis/Developer/atlantis/dora/readme.md:23:    *   Implements random delays between requests to avoid overloading the ASX website.\n/Users/yparis/Developer/atlantis/dora/readme.md:137:*   **Rate Limiting:** `swiper.py` implements random delays to help avoid overloading the ASX website. However, it's still possible to be blocked if you make too many requests in a short period.","numLines":10}}
{"parentUuid":"4fd7e8d5-629d-4345-a08e-5cdd07cadbef","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_016WWGh1TupSCHAiPhCPzaFe","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check PrimeVue's documentation or look for tooltip configurations. Since this is a Vue 3 project with PrimeVue, I should check if they use the Tooltip component or directive configuration:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":562,"cache_read_input_tokens":68101,"cache_creation":{"ephemeral_5m_input_tokens":562,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDKzYvR73czYHRCx8eF","type":"assistant","uuid":"ff5e13df-cff2-4faa-a49b-6bfbdf88a197","timestamp":"2025-09-17T15:31:19.701Z"}
{"parentUuid":"ff5e13df-cff2-4faa-a49b-6bfbdf88a197","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_016WWGh1TupSCHAiPhCPzaFe","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01LvPv6btthQu4WDM7fEmHKX","name":"Grep","input":{"pattern":"Tooltip|tooltip","glob":"**/main.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":562,"cache_read_input_tokens":68101,"cache_creation":{"ephemeral_5m_input_tokens":562,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDKzYvR73czYHRCx8eF","type":"assistant","uuid":"878301b4-476a-42c3-8bcc-a34691553818","timestamp":"2025-09-17T15:31:20.650Z"}
{"parentUuid":"878301b4-476a-42c3-8bcc-a34691553818","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LvPv6btthQu4WDM7fEmHKX","type":"tool_result","content":"/Users/yparis/Developer/atlantis/modules/client/src/main.ts:42:// Used for tooltips"}]},"uuid":"8f7ca500-29a0-4219-ba14-fb0d07b66a92","timestamp":"2025-09-17T15:31:20.732Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/modules/client/src/main.ts:42:// Used for tooltips","numLines":1}}
{"parentUuid":"8f7ca500-29a0-4219-ba14-fb0d07b66a92","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01GmTYUeTAuZzKht7HTcc48P","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01TUtEaXE3gwXJ46RrdgXsGU","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/main.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":292,"cache_read_input_tokens":68663,"cache_creation":{"ephemeral_5m_input_tokens":292,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEDLJkJTSKtsEpZJJtrU","type":"assistant","uuid":"31880f46-6e51-46b3-be06-42af67fce467","timestamp":"2025-09-17T15:31:23.800Z"}
{"parentUuid":"31880f46-6e51-46b3-be06-42af67fce467","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TUtEaXE3gwXJ46RrdgXsGU","type":"tool_result","content":"     1→/* eslint-disable vue/multi-word-component-names */\n     2→import { createApp } from 'vue';\n     3→\n     4→import { createPinia } from 'pinia';\n     5→\n     6→// Initial style\n     7→import '@/styles/global.css';\n     8→\n     9→// PrimeVue\n    10→import PrimeVue from 'primevue/config';\n    11→import ToastService from 'primevue/toastservice';\n    12→import ConfirmationService from 'primevue/confirmationservice';\n    13→import useAuthStore from '@/stores/AuthStore';\n    14→import { init, cleanup } from '@/services/ClientEventService';\n    15→import {\n    16→  getKeycloakConfig,\n    17→  getKeycloakInitOptions,\n    18→} from '@/services/KeycloakConfigService';\n    19→\n    20→// Cropper\n    21→import { Cropper } from 'vue-advanced-cropper';\n    22→import 'vue-advanced-cropper/dist/style.css';\n    23→\n    24→import Keycloak, { KeycloakOnLoad } from 'keycloak-js';\n    25→import Logger from '@/services/Logger';\n    26→import useMetaStore from '@/stores/MetaStore';\n    27→import usePreferencesStore from '@/stores/PreferencesStore';\n    28→import FloatingVue from 'floating-vue';\n    29→import IconService from '@/services/IconService';\n    30→import App from './App.vue';\n    31→import initializeRouter from './router';\n    32→import 'floating-vue/dist/style.css';\n    33→\n    34→const app = createApp(App);\n    35→const pinia = createPinia();\n    36→\n    37→app.use(pinia);\n    38→\n    39→// Initialize icons\n    40→IconService.register();\n    41→\n    42→// Used for tooltips\n    43→app.use(FloatingVue);\n    44→\n    45→app.component('Cropper', Cropper);\n    46→\n    47→// PrimeVue\n    48→app.use(PrimeVue, { ripple: false });\n    49→app.use(ToastService);\n    50→app.use(ConfirmationService);\n    51→\n    52→const authStore = useAuthStore();\n    53→const metaStore = useMetaStore();\n    54→\n    55→// Use an IIFE to initialize the app to avoid top-level await not supported in older browsers\n    56→(async () => {\n    57→  const keycloakConfig = await getKeycloakConfig();\n    58→\n    59→  const keycloak = new Keycloak(keycloakConfig);\n    60→  authStore.setKeycloak(keycloak);\n    61→\n    62→  const keycloakInitOptions = await getKeycloakInitOptions();\n    63→  keycloak\n    64→    .init({\n    65→      onLoad: 'login-required' as KeycloakOnLoad,\n    66→      ...keycloakInitOptions,\n    67→    })\n    68→    .then(async auth => {\n    69→      if (!auth) {\n    70→        window.location.reload();\n    71→      } else {\n    72→        await authStore.init();\n    73→\n    74→        // Intentionally skip awaiting on these\n    75→        metaStore.init();\n    76→        Logger.init();\n    77→\n    78→        app.use(initializeRouter());\n    79→\n    80→        const preferencesStore = usePreferencesStore();\n    81→        await preferencesStore.setDefaultPreferences();\n    82→\n    83→        app.mount('body');\n    84→        Logger.info('Authenticated');\n    85→\n    86→        // SSE subcription\n    87→        await init();\n    88→\n    89→        // Token Refresh\n    90→        setInterval(async () => {\n    91→          const refreshed = await keycloak.updateToken(70);\n    92→          if (refreshed) {\n    93→            Logger.info('Token Refreshed');\n    94→          }\n    95→        }, 6000);\n    96→      }\n    97→    })\n    98→    .catch(e => {\n    99→      Logger.error('Authentication Failed', e);\n   100→    });\n   101→})();\n   102→\n   103→// Cleanup SSE connections on page unload\n   104→window.addEventListener('beforeunload', () => {\n   105→  cleanup();\n   106→});\n   107→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"97d23274-e62d-4614-9e70-02ffa77653fc","timestamp":"2025-09-17T15:31:23.858Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/main.ts","content":"/* eslint-disable vue/multi-word-component-names */\nimport { createApp } from 'vue';\n\nimport { createPinia } from 'pinia';\n\n// Initial style\nimport '@/styles/global.css';\n\n// PrimeVue\nimport PrimeVue from 'primevue/config';\nimport ToastService from 'primevue/toastservice';\nimport ConfirmationService from 'primevue/confirmationservice';\nimport useAuthStore from '@/stores/AuthStore';\nimport { init, cleanup } from '@/services/ClientEventService';\nimport {\n  getKeycloakConfig,\n  getKeycloakInitOptions,\n} from '@/services/KeycloakConfigService';\n\n// Cropper\nimport { Cropper } from 'vue-advanced-cropper';\nimport 'vue-advanced-cropper/dist/style.css';\n\nimport Keycloak, { KeycloakOnLoad } from 'keycloak-js';\nimport Logger from '@/services/Logger';\nimport useMetaStore from '@/stores/MetaStore';\nimport usePreferencesStore from '@/stores/PreferencesStore';\nimport FloatingVue from 'floating-vue';\nimport IconService from '@/services/IconService';\nimport App from './App.vue';\nimport initializeRouter from './router';\nimport 'floating-vue/dist/style.css';\n\nconst app = createApp(App);\nconst pinia = createPinia();\n\napp.use(pinia);\n\n// Initialize icons\nIconService.register();\n\n// Used for tooltips\napp.use(FloatingVue);\n\napp.component('Cropper', Cropper);\n\n// PrimeVue\napp.use(PrimeVue, { ripple: false });\napp.use(ToastService);\napp.use(ConfirmationService);\n\nconst authStore = useAuthStore();\nconst metaStore = useMetaStore();\n\n// Use an IIFE to initialize the app to avoid top-level await not supported in older browsers\n(async () => {\n  const keycloakConfig = await getKeycloakConfig();\n\n  const keycloak = new Keycloak(keycloakConfig);\n  authStore.setKeycloak(keycloak);\n\n  const keycloakInitOptions = await getKeycloakInitOptions();\n  keycloak\n    .init({\n      onLoad: 'login-required' as KeycloakOnLoad,\n      ...keycloakInitOptions,\n    })\n    .then(async auth => {\n      if (!auth) {\n        window.location.reload();\n      } else {\n        await authStore.init();\n\n        // Intentionally skip awaiting on these\n        metaStore.init();\n        Logger.init();\n\n        app.use(initializeRouter());\n\n        const preferencesStore = usePreferencesStore();\n        await preferencesStore.setDefaultPreferences();\n\n        app.mount('body');\n        Logger.info('Authenticated');\n\n        // SSE subcription\n        await init();\n\n        // Token Refresh\n        setInterval(async () => {\n          const refreshed = await keycloak.updateToken(70);\n          if (refreshed) {\n            Logger.info('Token Refreshed');\n          }\n        }, 6000);\n      }\n    })\n    .catch(e => {\n      Logger.error('Authentication Failed', e);\n    });\n})();\n\n// Cleanup SSE connections on page unload\nwindow.addEventListener('beforeunload', () => {\n  cleanup();\n});\n","numLines":107,"startLine":1,"totalLines":107}}}
{"parentUuid":"97d23274-e62d-4614-9e70-02ffa77653fc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_0139C7zqdH6jpGXjB9bkFV28","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I can see the project uses FloatingVue for tooltips (line 43). FloatingVue supports delay configuration. Now I need to update the LoadingSparkle component to use an object configuration for the tooltip instead of just a string. Let me modify the component:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":1349,"cache_read_input_tokens":68955,"cache_creation":{"ephemeral_5m_input_tokens":1349,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTEDLY9x5QrVpHPybCok5","type":"assistant","uuid":"3ad95300-11bf-4687-9241-3cd4f4aa8ae3","timestamp":"2025-09-17T15:31:28.000Z"}
{"parentUuid":"3ad95300-11bf-4687-9241-3cd4f4aa8ae3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_0139C7zqdH6jpGXjB9bkFV28","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_013EerGfxLwnNRmTHUHgsyNT","name":"TodoWrite","input":{"todos":[{"content":"Add delay to LoadingSparkle tooltip","status":"in_progress","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":1349,"cache_read_input_tokens":68955,"cache_creation":{"ephemeral_5m_input_tokens":1349,"ephemeral_1h_input_tokens":0},"output_tokens":173,"service_tier":"standard"}},"requestId":"req_011CTEDLY9x5QrVpHPybCok5","type":"assistant","uuid":"2e322651-d1d7-472b-b353-fc944e08f49a","timestamp":"2025-09-17T15:31:29.514Z"}
{"parentUuid":"2e322651-d1d7-472b-b353-fc944e08f49a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013EerGfxLwnNRmTHUHgsyNT","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"083105cc-0436-4698-bd67-8bc7d5ff0ff7","timestamp":"2025-09-17T15:31:29.569Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Add delay to LoadingSparkle tooltip","status":"in_progress","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"083105cc-0436-4698-bd67-8bc7d5ff0ff7","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_013E6y7EnnCjpANWvUDmu3sM","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_018YFVVp4Jt3Bt8aLxo7jRLg","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue","old_string":"  <i\n    v-tooltip.right=\"tooltip\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />","new_string":"  <i\n    v-tooltip.right=\"{ content: tooltip, delay: { show: 500, hide: 0 } }\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":315,"cache_read_input_tokens":70304,"cache_creation":{"ephemeral_5m_input_tokens":315,"ephemeral_1h_input_tokens":0},"output_tokens":298,"service_tier":"standard"}},"requestId":"req_011CTEDLxnnBnY4WezUgBHzn","type":"assistant","uuid":"b23e04b7-5bc5-453a-9b14-f08fabad3871","timestamp":"2025-09-17T15:31:35.580Z"}
{"parentUuid":"b23e04b7-5bc5-453a-9b14-f08fabad3871","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018YFVVp4Jt3Bt8aLxo7jRLg","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n     1→<template>\n     2→  <i\n     3→    v-tooltip.right=\"{ content: tooltip, delay: { show: 500, hide: 0 } }\"\n     4→    class=\"pi pi-sparkles\"\n     5→    :class=\"{\n     6→      'extract-more': canExtractMore,\n     7→      pulse: inProgress,\n     8→    }\"\n     9→    @click.stop=\"emit('click')\"\n    10→    @keydown.enter.stop=\"emit('click')\"\n    11→  />\n    12→</template>\n    13→\n    14→<script setup lang=\"ts\">\n    15→withDefaults("}]},"uuid":"42f3723a-51e3-4318-9560-160b01f82b69","timestamp":"2025-09-17T15:31:35.637Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/shared/LoadingSparkle.vue","oldString":"  <i\n    v-tooltip.right=\"tooltip\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />","newString":"  <i\n    v-tooltip.right=\"{ content: tooltip, delay: { show: 500, hide: 0 } }\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />","originalFile":"<template>\n  <i\n    v-tooltip.right=\"tooltip\"\n    class=\"pi pi-sparkles\"\n    :class=\"{\n      'extract-more': canExtractMore,\n      pulse: inProgress,\n    }\"\n    @click.stop=\"emit('click')\"\n    @keydown.enter.stop=\"emit('click')\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nwithDefaults(\n  defineProps<{\n    tooltip: string;\n    inProgress?: boolean;\n    canExtractMore?: boolean;\n  }>(),\n  {\n    canExtractMore: false,\n    inProgress: false,\n  },\n);\n\nconst emit = defineEmits<{\n  (e: 'click'): void;\n}>();\n</script>\n\n<style scoped>\ni.pi-sparkles {\n  color: var(--surface-200);\n  font-size: var(--text-size-small);\n  margin-left: 0.25rem;\n  &.extract-more {\n    color: var(--primary-color);\n    &:hover {\n      color: var(--primary-color-hover);\n      cursor: pointer;\n    }\n  }\n}\n\n.extract-more-option {\n  display: flex;\n  align-items: center;\n  color: var(--primary-color);\n}\n</style>\n","structuredPatch":[{"oldStart":1,"oldLines":6,"newStart":1,"newLines":6,"lines":[" <template>","   <i","-    v-tooltip.right=\"tooltip\"","+    v-tooltip.right=\"{ content: tooltip, delay: { show: 500, hide: 0 } }\"","     class=\"pi pi-sparkles\"","     :class=\"{","       'extract-more': canExtractMore,"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"42f3723a-51e3-4318-9560-160b01f82b69","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01N3ECS2uUCX3hDqyhw8yEty","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01A6QfhvuJgHYcspuG2qFKGy","name":"TodoWrite","input":{"todos":[{"content":"Add delay to LoadingSparkle tooltip","status":"completed","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":533,"cache_read_input_tokens":70619,"cache_creation":{"ephemeral_5m_input_tokens":533,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEDMQXbNwSd9JZzmcxB3","type":"assistant","uuid":"c388256e-4da3-4d1b-b3b3-e6bbaccd7260","timestamp":"2025-09-17T15:31:38.750Z"}
{"parentUuid":"c388256e-4da3-4d1b-b3b3-e6bbaccd7260","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01A6QfhvuJgHYcspuG2qFKGy","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"0ed57064-5013-4f8f-952a-6eb9ea82a2ed","timestamp":"2025-09-17T15:31:38.828Z","toolUseResult":{"oldTodos":[{"content":"Add delay to LoadingSparkle tooltip","status":"in_progress","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Add delay to LoadingSparkle tooltip","status":"completed","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"0ed57064-5013-4f8f-952a-6eb9ea82a2ed","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01NeJyf4TFkQK7V67YUux8Zt","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01EtCyb8a1NM4X65AcBxyKqt","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":256,"cache_read_input_tokens":71152,"cache_creation":{"ephemeral_5m_input_tokens":256,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEDMeDMXssD7efd7GbMM","type":"assistant","uuid":"06dc8790-3fb0-41c8-b837-ff1f1cc7f0c6","timestamp":"2025-09-17T15:31:41.837Z"}
{"parentUuid":"06dc8790-3fb0-41c8-b837-ff1f1cc7f0c6","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EtCyb8a1NM4X65AcBxyKqt","type":"tool_result","content":"Done in 5s 880ms\n[@uncharted/pantera-hmi]: playwright/index.ts 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 36ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 42ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 50ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 49ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 53ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 46ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 2s 581ms","is_error":false}]},"uuid":"a390ea31-d624-4f32-81ec-71bbecb9f2cc","timestamp":"2025-09-17T15:31:52.527Z","toolUseResult":{"stdout":"Done in 5s 880ms\n[@uncharted/pantera-hmi]: playwright/index.ts 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 36ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 42ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 50ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 49ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 53ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 46ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 2s 581ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"a390ea31-d624-4f32-81ec-71bbecb9f2cc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01SG64tbfprgphpB611RziDt","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01UmVe4FxFi2yiqg8USc6sqN","name":"TodoWrite","input":{"todos":[{"content":"Add delay to LoadingSparkle tooltip","status":"completed","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7668,"cache_read_input_tokens":71408,"cache_creation":{"ephemeral_5m_input_tokens":7668,"ephemeral_1h_input_tokens":0},"output_tokens":112,"service_tier":"standard"}},"requestId":"req_011CTEDNem88yGAdXbvtRPNK","type":"assistant","uuid":"10a61b88-3bd2-4d1e-a114-91cda2eeff87","timestamp":"2025-09-17T15:31:58.702Z"}
{"parentUuid":"10a61b88-3bd2-4d1e-a114-91cda2eeff87","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UmVe4FxFi2yiqg8USc6sqN","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"d0b1ba8b-02a8-436c-af4e-d47017e87489","timestamp":"2025-09-17T15:31:58.752Z","toolUseResult":{"oldTodos":[{"content":"Add delay to LoadingSparkle tooltip","status":"completed","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Add delay to LoadingSparkle tooltip","status":"completed","activeForm":"Adding delay to LoadingSparkle tooltip"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"d0b1ba8b-02a8-436c-af4e-d47017e87489","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-loading-sparkle","message":{"id":"msg_01JBmEpiEBBXPhUChfv2N9Gf","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully added a delay to the LoadingSparkle tooltip. The tooltip will now show after a 500ms delay when hovering over the sparkle icon, making it less intrusive for users who are just moving their mouse around.\n\nThe change:\n- **Before**: `v-tooltip.right=\"tooltip\"`  \n- **After**: `v-tooltip.right=\"{ content: tooltip, delay: { show: 500, hide: 0 } }\"`\n\nThis uses FloatingVue's tooltip configuration object to set a 500ms show delay while keeping the hide delay at 0ms for immediate hiding when the user moves away."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":234,"cache_read_input_tokens":79076,"cache_creation":{"ephemeral_5m_input_tokens":234,"ephemeral_1h_input_tokens":0},"output_tokens":144,"service_tier":"standard"}},"requestId":"req_011CTEDP7SVEKs3mM2STjJjJ","type":"assistant","uuid":"59de6fc5-7f6d-430d-a08c-a50d3c91d351","timestamp":"2025-09-17T15:32:06.595Z"}
{"parentUuid":"59de6fc5-7f6d-430d-a08c-a50d3c91d351","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":"in the readereditor header we have button to display text, images or map, they have a sparkle if it's not avialable and a pulsing button when clicked. please update those buttons to use the loadingsparkle instead of the pulsing dot."},"uuid":"61ff866b-1003-4009-9cb0-5a72058f4c05","timestamp":"2025-09-17T15:35:45.967Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"61ff866b-1003-4009-9cb0-5a72058f4c05","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01Vh1rKUMuiMY1Kjdj5pYAse","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I'll help you update the ReaderEditor header buttons to use the LoadingSparkle component instead of the pulsing dot. Let me first find and examine the ReaderEditor component."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":563,"cache_read_input_tokens":79310,"cache_creation":{"ephemeral_5m_input_tokens":563,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEDfrxZyWz9g5E1yUL74","type":"assistant","uuid":"eb1fbb07-faeb-4638-b5a2-515ab95807dc","timestamp":"2025-09-17T15:35:50.805Z"}
{"parentUuid":"eb1fbb07-faeb-4638-b5a2-515ab95807dc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01Vh1rKUMuiMY1Kjdj5pYAse","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01L1JwGEbthwwn7sDQ1kBqGC","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":563,"cache_read_input_tokens":79310,"cache_creation":{"ephemeral_5m_input_tokens":563,"ephemeral_1h_input_tokens":0},"output_tokens":128,"service_tier":"standard"}},"requestId":"req_011CTEDfrxZyWz9g5E1yUL74","type":"assistant","uuid":"28d0acd6-44ae-487c-a826-cdac11960f7c","timestamp":"2025-09-17T15:35:51.243Z"}
{"parentUuid":"28d0acd6-44ae-487c-a826-cdac11960f7c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01L1JwGEbthwwn7sDQ1kBqGC","type":"tool_result","content":"     1→<template>\n     2→  <div class=\"reader-editor-container\">\n     3→    <div class=\"reader-editor\">\n     4→      <aside class=\"toolbar vpv-variables\">\n     5→        <ToggleButton\n     6→          v-model=\"showMetadata\"\n     7→          onLabel=\"Metadata\"\n     8→          offLabel=\"Metadata\"\n     9→          onIcon=\"pi pi-eye\"\n    10→          offIcon=\"pi pi-eye-slash\"\n    11→          class=\"small-button\"\n    12→        />\n    13→\n    14→        <!-- Text / Markdown -->\n    15→        <Button\n    16→          v-if=\"isRawText || !hasTextBlocks\"\n    17→          label=\"Enriched Text\"\n    18→          class=\"small-extract-button\"\n    19→          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n    20→          size=\"small\"\n    21→          title=\"Enrich text from document\"\n    22→          outlined\n    23→          icon=\"pi pi-sparkles\"\n    24→          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n    25→        >\n    26→          <template #icon>\n    27→            <FontAwesomeIcon\n    28→              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n    29→              :icon=\"['fas', 'circle']\"\n    30→              class=\"status-icon pulse\"\n    31→            />\n    32→            <FontAwesomeIcon\n    33→              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n    34→              :icon=\"['fas', 'circle']\"\n    35→              class=\"status-icon failed\"\n    36→            />\n    37→          </template>\n    38→        </Button>\n    39→        <ToggleButton\n    40→          v-else\n    41→          :model-value=\"showText\"\n    42→          onLabel=\"Enriched Text\"\n    43→          offLabel=\"Enriched Text\"\n    44→          offIcon=\"pi pi-eye-slash\"\n    45→          onIcon=\"pi pi-eye\"\n    46→          class=\"small-button\"\n    47→          :disabled=\"isEditMode\"\n    48→          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n    49→        />\n    50→\n    51→        <!-- Images -->\n    52→        <ToggleButton\n    53→          v-if=\"hasImageBlocks\"\n    54→          :model-value=\"showImage\"\n    55→          onLabel=\"Images\"\n    56→          offLabel=\"Images\"\n    57→          offIcon=\"pi pi-eye-slash\"\n    58→          onIcon=\"pi pi-eye\"\n    59→          class=\"small-button\"\n    60→          :disabled=\"isEditMode\"\n    61→          @update:model-value=\"\n    62→            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n    63→          \"\n    64→        />\n    65→        <Button\n    66→          v-else\n    67→          label=\"Images\"\n    68→          class=\"small-extract-button\"\n    69→          :class=\"{\n    70→            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n    71→          }\"\n    72→          size=\"small\"\n    73→          title=\"Extract images from document\"\n    74→          outlined\n    75→          icon=\"pi pi-sparkles\"\n    76→          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n    77→        >\n    78→          <template #icon>\n    79→            <FontAwesomeIcon\n    80→              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n    81→              :icon=\"['fas', 'circle']\"\n    82→              class=\"status-icon pulse\"\n    83→            />\n    84→            <FontAwesomeIcon\n    85→              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n    86→              :icon=\"['fas', 'circle']\"\n    87→              class=\"status-icon failed\"\n    88→            />\n    89→          </template>\n    90→        </Button>\n    91→\n    92→        <!-- Maps -->\n    93→        <ToggleButton\n    94→          v-if=\"hasMapBlocks\"\n    95→          :model-value=\"showMap\"\n    96→          onLabel=\"Maps\"\n    97→          offLabel=\"Maps\"\n    98→          offIcon=\"pi pi-eye-slash\"\n    99→          onIcon=\"pi pi-eye\"\n   100→          class=\"small-button\"\n   101→          :disabled=\"isEditMode\"\n   102→          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n   103→        />\n   104→      </aside>\n   105→      <Meta\n   106→        v-if=\"showMetadata\"\n   107→        :item=\"item\"\n   108→        :is-edit-mode=\"isEditMode\"\n   109→        :document-facets=\"props.documentDetails.documentFacets\"\n   110→        @update:metadata=\"\n   111→          (key: string, value: string) => emit('update:metadata', key, value)\n   112→        \"\n   113→      />\n   114→      <div class=\"flex reader-container\">\n   115→        <div\n   116→          v-if=\"readerView\"\n   117→          class=\"formatted-content markdown-body\"\n   118→          ref=\"formattedContentRef\"\n   119→          @scroll=\"handleMainContentScroll\"\n   120→        >\n   121→          <div\n   122→            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n   123→            :key=\"originalIndex\"\n   124→            :class=\"['block', { editable: isEditMode }]\"\n   125→            :data-block-index=\"originalIndex\"\n   126→            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n   127→            tabindex=\"0\"\n   128→          >\n   129→            <Edit\n   130→              v-if=\"editingBlockIdx === originalIndex\"\n   131→              :block=\"block.content\"\n   132→              :blockIndex=\"originalIndex\"\n   133→              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n   134→              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n   135→              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n   136→              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n   137→              @saveBlockEdit=\"saveBlockEdit\"\n   138→              @cancelBlockEdit=\"cancelBlockEdit\"\n   139→              @deleteBlock=\"deleteBlock\"\n   140→              @mergeWithPrevious=\"mergeWithPrevious\"\n   141→              @mergeWithNext=\"mergeWithNext\"\n   142→              @navigateToPrevious=\"navigateToPrevious\"\n   143→              @navigateToNext=\"navigateToNext\"\n   144→              @addLineBelow=\"addLineBelow\"\n   145→            />\n   146→            <div\n   147→              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n   148→              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n   149→              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n   150→            >\n   151→              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n   152→              <ProvenanceNumbers\n   153→                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n   154→              />\n   155→            </div>\n   156→            <div\n   157→              v-else-if=\"block.type === BlockType.MAP && block.map\"\n   158→              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n   159→              :style=\"getBlockHighlight(BlockType.MAP)\"\n   160→            >\n   161→              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n   162→              <ProvenanceNumbers\n   163→                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n   164→              />\n   165→            </div>\n   166→            <div\n   167→              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n   168→              :class=\"['block-text', { 'block-hidden': !showText }]\"\n   169→              @click=\"handleBlockClick(originalIndex)\"\n   170→              @keydown.enter=\"handleBlockClick(originalIndex)\"\n   171→              @keydown.space=\"handleBlockClick(originalIndex)\"\n   172→              tabindex=\"0\"\n   173→              role=\"button\"\n   174→              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n   175→            >\n   176→              <span v-html=\"block.html\" class=\"block-content-inline\" />\n   177→              <ProvenanceNumbers\n   178→                :numbers=\"\n   179→                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n   180→                \"\n   181→                class=\"inline\"\n   182→              />\n   183→            </div>\n   184→          </div>\n   185→          <section class=\"scroll-padding\" />\n   186→          <!-- Empty state -->\n   187→          <div\n   188→            v-if=\"\n   189→              !showMetadata &&\n   190→              displayBlocks.filter(block => block.content !== '').length === 0\n   191→            \"\n   192→            class=\"block-empty\"\n   193→          >\n   194→            <img\n   195→              :src=\"getIllustrationSvg('EmptyInbox')\"\n   196→              alt=\"Empty state image\"\n   197→              class=\"empty-state-image\"\n   198→            />\n   199→            <p class=\"text-secondary\">\n   200→              Use the toolbar above to show/hide content.\n   201→            </p>\n   202→          </div>\n   203→        </div>\n   204→        <MiniReaderStrip\n   205→          v-if=\"\n   206→            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n   207→          \"\n   208→          ref=\"miniReaderStripRef\"\n   209→          :main-content-element=\"formattedContentRef\"\n   210→          @scroll-to-block=\"scrollToBlock\"\n   211→          @scroll-to-position=\"scrollToPosition\"\n   212→        />\n   213→      </div>\n   214→    </div>\n   215→  </div>\n   216→</template>\n   217→\n   218→<script setup lang=\"ts\">\n   219→import { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\n   220→import { isEmpty, isNil, keyBy } from 'lodash';\n   221→import ToggleButton from 'primevue/togglebutton';\n   222→import Button from 'primevue/button';\n   223→import {\n   224→  BlockType,\n   225→  getBlockType,\n   226→  getDocumentImages,\n   227→  getGeoRefMaps,\n   228→  renderBlock,\n   229→} from '@/util/Document';\n   230→import { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\n   231→import useDocumentDetails from '@/composables/useDocumentDetails';\n   232→import useProjectStore from '@/stores/ProjectStore';\n   233→import useMap from '@/composables/useMap';\n   234→import useFacetSelectionColors from '@/composables/useFacetSelectionColors';\n   235→import {\n   236→  DocumentEdit,\n   237→  DocumentImage as DocumentImageType,\n   238→  GeoRefMap,\n   239→} from '@/types/Common';\n   240→import useIllustrations from '@/composables/useIllustrations';\n   241→import { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\n   242→import useFileUploadStatuses from '@/composables/useFileUploadStatuses';\n   243→import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n   244→import MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\n   245→import Edit from './reader-editor/Edit.vue';\n   246→import DocumentImage from './reader-editor/DocumentImage.vue';\n   247→import DocumentMap from './reader-editor/DocumentMap.vue';\n   248→import Meta from './reader-editor/Meta.vue';\n   249→import ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n   250→\n   251→const props = defineProps<{\n   252→  item: FlattenedPanteraDocument;\n   253→  content: string[];\n   254→  documentDetails: ReturnType<typeof useDocumentDetails>;\n   255→  facetBlockHighlights?: Map<string, Set<number>>;\n   256→  onScrollToFirstHighlight?: () => number | null;\n   257→}>();\n   258→\n   259→const emit = defineEmits<{\n   260→  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n   261→  (e: 'update:metadata', key: string, value: string): void;\n   262→  (e: 'extract', pipelineTask: PipelineTask[]): void;\n   263→}>();\n   264→\n   265→const projectStore = useProjectStore();\n   266→const { geoRefs } = useMap(projectStore.propertyDescriptors);\n   267→const { getIllustrationSvg } = useIllustrations();\n   268→const { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\n   269→const { getFileStatusFromTaskKey } = useFileUploadStatuses();\n   270→\n   271→const {\n   272→  isEditMode,\n   273→  showMetadata,\n   274→  setActiveContentType,\n   275→  activeContentTypes,\n   276→  showMap,\n   277→  showImage,\n   278→  showText,\n   279→} = props.documentDetails;\n   280→\n   281→const readerView = ref(true);\n   282→const localContent = ref(props.content);\n   283→\n   284→const imagesByFilename = computed(() => {\n   285→  const images = getDocumentImages(props.item.propertyMap);\n   286→  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n   287→});\n   288→const georefMapById = computed(() => {\n   289→  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n   290→  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n   291→});\n   292→\n   293→const textStatus = computed<FileUploadStatusEnum>(\n   294→  () =>\n   295→    getFileStatusFromTaskKey(\n   296→      [PipelineTask.ProcessMarkdown],\n   297→      props.item.propertyMap.filename.values[0],\n   298→    ) ?? FileUploadStatusEnum.Completed,\n   299→);\n   300→watch(textStatus, status => {\n   301→  if (status !== FileUploadStatusEnum.Completed) return;\n   302→  setActiveContentType(BlockType.TEXT);\n   303→});\n   304→\n   305→const imagesStatus = computed<FileUploadStatusEnum>(\n   306→  () =>\n   307→    getFileStatusFromTaskKey(\n   308→      [PipelineTask.ProcessImages],\n   309→      props.item.propertyMap.filename.values[0],\n   310→    ) ?? FileUploadStatusEnum.Completed,\n   311→);\n   312→watch(imagesStatus, status => {\n   313→  if (status !== FileUploadStatusEnum.Completed) return;\n   314→  setActiveContentType(BlockType.IMAGE);\n   315→});\n   316→\n   317→/**\n   318→ * Initialize block for rendering.\n   319→ * Making sure that all the blocks are properly formatted,\n   320→ * and their values are transformed to be displayed correctly\n   321→ */\n   322→type Block = {\n   323→  type: BlockType;\n   324→  content: string; // Original block for editing purposes\n   325→  image?: DocumentImageType; // Optional image for image blocks\n   326→  map?: GeoRefMap; // Optional map for map blocks\n   327→  html?: string; // Optional HTML for text blocks\n   328→  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n   329→};\n   330→const blocks = computed<Block[]>(() => {\n   331→  const contentBlocks = localContent.value\n   332→    .map((block, originalIndex) => {\n   333→      if (isNil(block)) return null; // Skip null or undefined blocks\n   334→      const type = getBlockType(block); // Determine the block type\n   335→      const content: Block['content'] = block; // Keep the original block for editor purposes\n   336→\n   337→      if (type === BlockType.TEXT) {\n   338→        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n   339→        return { type, content, html, originalIndex };\n   340→      }\n   341→\n   342→      return null; // Return null for unsupported block types\n   343→    })\n   344→    .filter(block => !isNil(block));\n   345→\n   346→  // Add image blocks from imagesByFilename\n   347→  const imageBlocks: Block[] = [];\n   348→  if (!isEmpty(imagesByFilename.value)) {\n   349→    Object.values(imagesByFilename.value).forEach((image, index) => {\n   350→      imageBlocks.push({\n   351→        type: BlockType.IMAGE,\n   352→        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n   353→        image,\n   354→        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n   355→      });\n   356→    });\n   357→  }\n   358→\n   359→  return [...contentBlocks, ...imageBlocks];\n   360→});\n   361→\n   362→// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\n   363→const displayBlocks = computed<Block[]>(() => {\n   364→  // Filter blocks based on active content type and track original indices\n   365→  const filteredBlocks = blocks.value.filter(block =>\n   366→    activeContentTypes.value.includes(block.type),\n   367→  );\n   368→  return filteredBlocks;\n   369→});\n   370→\n   371→const isRawText = computed(() => localContent.value.length < 2);\n   372→const hasTextBlocks = computed(() =>\n   373→  blocks.value.some(block => block.type === BlockType.TEXT),\n   374→);\n   375→const hasImageBlocks = computed(() =>\n   376→  blocks.value.some(block => block.type === BlockType.IMAGE),\n   377→);\n   378→\n   379→const toggleActiveContentTypeForRawText = (type: BlockType) => {\n   380→  if (\n   381→    (isRawText.value || !hasTextBlocks.value) &&\n   382→    activeContentTypes.value.includes(type)\n   383→  ) {\n   384→    setActiveContentType(BlockType.TEXT);\n   385→  } else {\n   386→    setActiveContentType(type);\n   387→  }\n   388→};\n   389→\n   390→const hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n   391→\n   392→// --- Editing state ---\n   393→const editingBlockIdx = ref(-1);\n   394→\n   395→// --- Scroll synchronization ---\n   396→const formattedContentRef = ref<HTMLElement>();\n   397→const miniReaderStripRef = ref<{\n   398→  updateViewport: (top: number, height: number, totalHeight: number) => void;\n   399→  updateDimensions: () => void;\n   400→}>();\n   401→\n   402→// Throttle scroll updates for better performance\n   403→let scrollTimeout: number | null = null;\n   404→\n   405→// Setup for resize observer\n   406→let resizeObserver: ResizeObserver | null = null;\n   407→\n   408→/**\n   409→ * Handle scroll events from main content to update mini reader viewport\n   410→ */\n   411→const handleMainContentScroll = () => {\n   412→  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n   413→\n   414→  // Use requestAnimationFrame for smooth updates instead of setTimeout\n   415→  if (scrollTimeout) {\n   416→    cancelAnimationFrame(scrollTimeout);\n   417→  }\n   418→\n   419→  scrollTimeout = requestAnimationFrame(() => {\n   420→    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n   421→\n   422→    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n   423→    miniReaderStripRef.value.updateViewport(\n   424→      scrollTop,\n   425→      clientHeight,\n   426→      scrollHeight,\n   427→    );\n   428→  });\n   429→};\n   430→\n   431→/**\n   432→ * Debounced resize handler for window resize events\n   433→ */\n   434→const handleResize = () => {\n   435→  if (scrollTimeout) {\n   436→    cancelAnimationFrame(scrollTimeout);\n   437→  }\n   438→\n   439→  scrollTimeout = requestAnimationFrame(() => {\n   440→    handleMainContentScroll();\n   441→  });\n   442→};\n   443→\n   444→/**\n   445→ * Handle clicking on blocks in mini reader to scroll to that position\n   446→ */\n   447→const scrollToBlock = (blockIndex: number) => {\n   448→  if (!formattedContentRef.value) return;\n   449→\n   450→  // Find the corresponding block element in the main content\n   451→  const blockElements =\n   452→    formattedContentRef.value.querySelectorAll('[data-block-index]');\n   453→  const targetBlock = Array.from(blockElements).find(\n   454→    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n   455→  );\n   456→\n   457→  if (targetBlock) {\n   458→    targetBlock.scrollIntoView({\n   459→      behavior: 'instant',\n   460→      block: 'start',\n   461→    });\n   462→  }\n   463→};\n   464→\n   465→/**\n   466→ * Smooth scroll to a specific block (for facet navigation)\n   467→ */\n   468→const scrollToBlockSmooth = (blockIndex: number) => {\n   469→  if (!formattedContentRef.value) return;\n   470→\n   471→  // Find the corresponding block element in the main content\n   472→  const blockElements =\n   473→    formattedContentRef.value.querySelectorAll('[data-block-index]');\n   474→  const targetBlock = Array.from(blockElements).find(\n   475→    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n   476→  );\n   477→\n   478→  if (targetBlock) {\n   479→    targetBlock.scrollIntoView({\n   480→      behavior: 'smooth',\n   481→      block: 'center',\n   482→    });\n   483→  }\n   484→};\n   485→\n   486→/**\n   487→ * Handle dragging viewport indicator to scroll to specific position\n   488→ */\n   489→const scrollToPosition = (position: number) => {\n   490→  if (!formattedContentRef.value) return;\n   491→\n   492→  formattedContentRef.value.scrollTo({\n   493→    top: position,\n   494→    behavior: 'instant',\n   495→  });\n   496→};\n   497→\n   498→// Watch for content changes to update mini reader viewport\n   499→watch(\n   500→  () => props.content,\n   501→  () => {\n   502→    nextTick(() => {\n   503→      if (miniReaderStripRef.value) {\n   504→        miniReaderStripRef.value.updateDimensions();\n   505→      }\n   506→      // Update viewport after content changes\n   507→      handleMainContentScroll();\n   508→    });\n   509→  },\n   510→  { immediate: true, flush: 'post' },\n   511→);\n   512→\n   513→watch(\n   514→  () => blocks.value,\n   515→  () => {\n   516→    nextTick(() => {\n   517→      if (miniReaderStripRef.value) {\n   518→        miniReaderStripRef.value.updateDimensions();\n   519→      }\n   520→      // Update viewport after content changes\n   521→      handleMainContentScroll();\n   522→    });\n   523→  },\n   524→  { flush: 'post' },\n   525→);\n   526→\n   527→// Initialize viewport on mount\n   528→onMounted(() => {\n   529→  nextTick(() => {\n   530→    if (miniReaderStripRef.value) {\n   531→      miniReaderStripRef.value.updateDimensions();\n   532→    }\n   533→    // Small delay to ensure everything is rendered\n   534→    setTimeout(() => {\n   535→      handleMainContentScroll();\n   536→      // Update active highlight styling after initial render\n   537→      if (formattedContentRef.value) {\n   538→        // Remove active class from all highlights\n   539→        const allHighlights = formattedContentRef.value.querySelectorAll(\n   540→          'mark, .highlight-level-2',\n   541→        );\n   542→        allHighlights.forEach(highlight => {\n   543→          highlight.classList.remove('highlight-active');\n   544→        });\n   545→\n   546→        // Add active class to first highlight if available\n   547→        if (allHighlights.length > 0) {\n   548→          allHighlights[0].classList.add('highlight-active');\n   549→        }\n   550→      }\n   551→    }, 200);\n   552→\n   553→    // Set up resize observer for the main content area\n   554→    if (formattedContentRef.value && window.ResizeObserver) {\n   555→      resizeObserver = new ResizeObserver(handleResize);\n   556→      resizeObserver.observe(formattedContentRef.value);\n   557→    }\n   558→\n   559→    // Also listen for window resize events as a fallback\n   560→    window.addEventListener('resize', handleResize);\n   561→  });\n   562→});\n   563→\n   564→// Cleanup on unmount\n   565→onUnmounted(() => {\n   566→  resizeObserver?.disconnect();\n   567→  window.removeEventListener('resize', handleResize);\n   568→  if (scrollTimeout) {\n   569→    cancelAnimationFrame(scrollTimeout);\n   570→  }\n   571→});\n   572→\n   573→const handleContentChange = (provenances?: DocumentEdit[]) => {\n   574→  emit('update:content', localContent.value || [], provenances || []);\n   575→};\n   576→\n   577→const startEditingBlock = (idx: number) => {\n   578→  if (!isEditMode.value) return;\n   579→  editingBlockIdx.value = idx;\n   580→};\n   581→\n   582→const saveBlockEdit = (editingBlockContent: string) => {\n   583→  if (editingBlockIdx.value === -1 || !localContent.value) return;\n   584→\n   585→  // If originalIndex is beyond current content, expand the array\n   586→  while (localContent.value.length <= editingBlockIdx.value) {\n   587→    localContent.value.push('');\n   588→  }\n   589→\n   590→  const edit: DocumentEdit = {\n   591→    before: localContent.value[editingBlockIdx.value] || '',\n   592→    beforeIndex: editingBlockIdx.value,\n   593→    after: editingBlockContent,\n   594→    afterIndex: editingBlockIdx.value,\n   595→  };\n   596→\n   597→  localContent.value[editingBlockIdx.value] = editingBlockContent;\n   598→  handleContentChange([edit]);\n   599→  editingBlockIdx.value = -1;\n   600→};\n   601→\n   602→const cancelBlockEdit = () => {\n   603→  editingBlockIdx.value = -1;\n   604→};\n   605→\n   606→const handleBlockClick = (idx: number) => {\n   607→  // If we're currently editing a different block, cancel edit mode\n   608→  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n   609→    cancelBlockEdit();\n   610→  }\n   611→  // If we're not editing and edit mode is enabled, start editing this block\n   612→  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n   613→    startEditingBlock(idx);\n   614→  }\n   615→};\n   616→\n   617→const deleteBlock = () => {\n   618→  if (editingBlockIdx.value === -1 || !localContent.value) return;\n   619→\n   620→  if (editingBlockIdx.value < localContent.value.length) {\n   621→    localContent.value.splice(editingBlockIdx.value, 1);\n   622→    handleContentChange();\n   623→  }\n   624→  cancelBlockEdit();\n   625→};\n   626→\n   627→const canMergeWithPrevious = (currentIndex: number): boolean => {\n   628→  if (currentIndex <= 0 || !localContent.value) return false;\n   629→\n   630→  const previousBlock = blocks.value[currentIndex - 1];\n   631→  return previousBlock?.type === BlockType.TEXT;\n   632→};\n   633→\n   634→const canMergeWithNext = (currentIndex: number): boolean => {\n   635→  if (\n   636→    currentIndex < 0 ||\n   637→    !localContent.value ||\n   638→    currentIndex >= blocks.value.length - 1\n   639→  )\n   640→    return false;\n   641→\n   642→  const nextBlock = blocks.value[currentIndex + 1];\n   643→  return nextBlock?.type === BlockType.TEXT;\n   644→};\n   645→\n   646→const canNavigateToPrevious = (currentIndex: number): boolean => {\n   647→  if (currentIndex <= 0 || !localContent.value) return false;\n   648→\n   649→  const previousBlock = blocks.value[currentIndex - 1];\n   650→  return previousBlock?.type === BlockType.TEXT;\n   651→};\n   652→\n   653→const canNavigateToNext = (currentIndex: number): boolean => {\n   654→  if (\n   655→    currentIndex < 0 ||\n   656→    !localContent.value ||\n   657→    currentIndex >= blocks.value.length - 1\n   658→  )\n   659→    return false;\n   660→\n   661→  const nextBlock = blocks.value[currentIndex + 1];\n   662→  return nextBlock?.type === BlockType.TEXT;\n   663→};\n   664→\n   665→// Get provenance superscript numbers for a specific block\n   666→const getBlockProvenanceNumbers = (\n   667→  blockType: BlockType,\n   668→  blockIndex: number = -1,\n   669→): { number: number; isSelected: boolean }[] => {\n   670→  const map =\n   671→    props.documentDetails.documentFacets\n   672→      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n   673→\n   674→  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n   675→  if (blockType === BlockType.IMAGE) {\n   676→    return map.get('image') || [];\n   677→  }\n   678→\n   679→  // For other blocks, use the block index\n   680→  return map.get(blockIndex) || [];\n   681→};\n   682→\n   683→// Get highlight style for a block (for images/maps border highlighting)\n   684→const getBlockHighlight = (blockType: BlockType) => {\n   685→  // For image blocks, get color from selected superscript numbers\n   686→  if (blockType === BlockType.IMAGE) {\n   687→    const superscripts = getBlockProvenanceNumbers(blockType);\n   688→    const selectedSuperscript = superscripts.find(s => s.isSelected);\n   689→\n   690→    if (selectedSuperscript) {\n   691→      // Find the provenance group with this display index\n   692→      const groups =\n   693→        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n   694→      const group = groups.find(\n   695→        g => g.displayIndex === selectedSuperscript.number,\n   696→      );\n   697→\n   698→      if (group) {\n   699→        // Get the color for this provenance group\n   700→        const facetId = buildFacetId('provenance', group.value);\n   701→        const color = getSelectedFacetColor(facetId);\n   702→        return color ? { '--highlight-color': color } : {};\n   703→      }\n   704→    }\n   705→  }\n   706→  return {};\n   707→};\n   708→\n   709→const mergeWithPrevious = () => {\n   710→  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n   711→\n   712→  const originalIndex = editingBlockIdx.value;\n   713→\n   714→  // Find the previous content block index\n   715→  let previousContentIndex = originalIndex - 1;\n   716→  while (\n   717→    previousContentIndex >= 0 &&\n   718→    !localContent.value[previousContentIndex]\n   719→  ) {\n   720→    previousContentIndex--;\n   721→  }\n   722→\n   723→  if (previousContentIndex < 0) return; // No previous block found\n   724→\n   725→  const currentBlockContent = localContent.value[originalIndex] || '';\n   726→  const previousBlockContent = localContent.value[previousContentIndex] || '';\n   727→  const mergedContent = previousBlockContent + currentBlockContent;\n   728→\n   729→  // Update the previous block with merged content\n   730→  localContent.value[previousContentIndex] = mergedContent;\n   731→\n   732→  // Delete the current block if it exists in content\n   733→  if (originalIndex < localContent.value.length) {\n   734→    localContent.value.splice(originalIndex, 1);\n   735→  }\n   736→\n   737→  const edit: DocumentEdit = {\n   738→    before: currentBlockContent,\n   739→    beforeIndex: originalIndex,\n   740→    after: mergedContent,\n   741→    afterIndex: originalIndex - 1,\n   742→  };\n   743→\n   744→  handleContentChange([edit]);\n   745→  cancelBlockEdit();\n   746→};\n   747→\n   748→const mergeWithNext = () => {\n   749→  if (editingBlockIdx.value < 0 || !localContent.value) return;\n   750→\n   751→  const originalIndex = editingBlockIdx.value;\n   752→\n   753→  // Find the next content block index (not display index)\n   754→  let nextContentIndex = originalIndex + 1;\n   755→  while (\n   756→    nextContentIndex < localContent.value.length &&\n   757→    !localContent.value[nextContentIndex]\n   758→  ) {\n   759→    nextContentIndex++;\n   760→  }\n   761→\n   762→  if (nextContentIndex >= localContent.value.length) return; // No next block found\n   763→\n   764→  const currentBlockContent = localContent.value[originalIndex] || '';\n   765→  const nextBlockContent = localContent.value[nextContentIndex] || '';\n   766→\n   767→  // Add a space if the current block doesn't end with one\n   768→  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n   769→  const mergedContent = currentBlockContent + separator + nextBlockContent;\n   770→\n   771→  // Ensure the current block exists in content\n   772→  while (localContent.value.length <= originalIndex) {\n   773→    localContent.value.push('');\n   774→  }\n   775→\n   776→  // Update the current block with merged content\n   777→  localContent.value[originalIndex] = mergedContent;\n   778→\n   779→  // Delete the next block\n   780→  localContent.value.splice(nextContentIndex, 1);\n   781→\n   782→  const edit: DocumentEdit = {\n   783→    before: currentBlockContent,\n   784→    beforeIndex: originalIndex,\n   785→    after: mergedContent,\n   786→    afterIndex: originalIndex,\n   787→  };\n   788→\n   789→  handleContentChange([edit]);\n   790→  cancelBlockEdit();\n   791→};\n   792→\n   793→const navigateToPrevious = () => {\n   794→  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n   795→\n   796→  // Navigate to previous block\n   797→  editingBlockIdx.value -= 1;\n   798→};\n   799→\n   800→const navigateToNext = () => {\n   801→  if (\n   802→    editingBlockIdx.value < 0 ||\n   803→    !localContent.value ||\n   804→    editingBlockIdx.value >= localContent.value.length - 1\n   805→  )\n   806→    return;\n   807→\n   808→  // Navigate to next block\n   809→  editingBlockIdx.value += 1;\n   810→};\n   811→\n   812→const addLineBelow = () => {\n   813→  if (editingBlockIdx.value < 0 || !localContent.value) return;\n   814→\n   815→  const originalIndex = editingBlockIdx.value;\n   816→\n   817→  // If originalIndex is beyond current content, expand the array to that point\n   818→  while (localContent.value.length <= originalIndex) {\n   819→    localContent.value.push('');\n   820→  }\n   821→\n   822→  // Insert a new empty text block after the current block\n   823→  const newBlockIndex = originalIndex + 1;\n   824→  localContent.value.splice(newBlockIndex, 0, '');\n   825→\n   826→  // Update the content\n   827→  handleContentChange();\n   828→\n   829→  // Find the display index for the new block and start editing it\n   830→  const newDisplayIndex = displayBlocks.value.findIndex(\n   831→    block => block.originalIndex === newBlockIndex,\n   832→  );\n   833→\n   834→  if (newDisplayIndex !== -1) {\n   835→    editingBlockIdx.value = newDisplayIndex;\n   836→  } else {\n   837→    cancelBlockEdit();\n   838→  }\n   839→};\n   840→\n   841→// Close editor or existing filter if editor or filter mode changes\n   842→watch(isEditMode, newEditMode => {\n   843→  if (!newEditMode) {\n   844→    cancelBlockEdit();\n   845→  }\n   846→});\n   847→\n   848→watch(\n   849→  () => props.content,\n   850→  newContent => {\n   851→    localContent.value = newContent;\n   852→  },\n   853→);\n   854→\n   855→// --- Highlight Navigation ---\n   856→// These methods will be called from DocumentFacetsPanel\n   857→const currentHighlightIndex = ref(0);\n   858→\n   859→// Get all highlighted blocks and their positions\n   860→const highlightedBlocks = computed(() => {\n   861→  if (!props.facetBlockHighlights) {\n   862→    return [];\n   863→  }\n   864→\n   865→  const highlights: Array<{\n   866→    blockIndex: number;\n   867→    facetId: string;\n   868→    color: string;\n   869→  }> = [];\n   870→\n   871→  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n   872→    blockSet.forEach(blockIndex => {\n   873→      const color = getSelectedFacetColor(facetId);\n   874→      highlights.push({\n   875→        blockIndex,\n   876→        facetId,\n   877→        color: color || 'var(--primary-color)',\n   878→      });\n   879→    });\n   880→  });\n   881→\n   882→  // Sort by block index for consistent navigation\n   883→  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n   884→  return sorted;\n   885→});\n   886→\n   887→// Get the currently active highlight marker element\n   888→const currentActiveHighlight = computed(() => {\n   889→  if (\n   890→    currentHighlightIndex.value < 0 ||\n   891→    currentHighlightIndex.value >= highlightedBlocks.value.length\n   892→  ) {\n   893→    return null;\n   894→  }\n   895→  return highlightedBlocks.value[currentHighlightIndex.value];\n   896→});\n   897→\n   898→// Calculate total highlights by counting actual rendered highlights\n   899→const totalHighlights = computed(() => {\n   900→  if (!props.facetBlockHighlights) {\n   901→    return 0;\n   902→  }\n   903→\n   904→  // Count actual rendered highlights in the DOM\n   905→  if (formattedContentRef.value) {\n   906→    const allHighlights = formattedContentRef.value.querySelectorAll(\n   907→      'mark, .highlight-level-2',\n   908→    );\n   909→    const total = allHighlights.length;\n   910→    return total;\n   911→  }\n   912→\n   913→  // Fallback to block-based counting if DOM not available\n   914→  let total = 0;\n   915→  props.facetBlockHighlights.forEach(blockSet => {\n   916→    total += blockSet.size;\n   917→  });\n   918→\n   919→  return total;\n   920→});\n   921→\n   922→const hasHighlights = computed(() => totalHighlights.value > 0);\n   923→\n   924→// Navigate to a specific highlight\n   925→const goToHighlight = (index: number) => {\n   926→  if (index < 0 || index >= totalHighlights.value) return;\n   927→\n   928→  currentHighlightIndex.value = index;\n   929→  const highlight = highlightedBlocks.value[index];\n   930→\n   931→  if (highlight && formattedContentRef.value) {\n   932→    // Find the block element and scroll to it\n   933→    const blockElements =\n   934→      formattedContentRef.value.querySelectorAll('[data-block-index]');\n   935→    const targetBlock = Array.from(blockElements).find(\n   936→      el =>\n   937→        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n   938→    );\n   939→\n   940→    if (targetBlock) {\n   941→      targetBlock.scrollIntoView({\n   942→        behavior: 'smooth',\n   943→        block: 'center',\n   944→      });\n   945→    }\n   946→\n   947→    // Update the active highlight styling\n   948→    nextTick(() => {\n   949→      // Remove active class from all highlights\n   950→      if (!formattedContentRef.value) return;\n   951→\n   952→      const allHighlights = formattedContentRef.value.querySelectorAll(\n   953→        'mark, .highlight-level-2',\n   954→      );\n   955→      allHighlights.forEach(highlightElement => {\n   956→        highlightElement.classList.remove('highlight-active');\n   957→      });\n   958→\n   959→      // Add active class to current highlight\n   960→      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n   961→        // Get all highlights in order and mark the current one as active\n   962→        const allHighlightsArray = Array.from(allHighlights);\n   963→\n   964→        if (currentHighlightIndex.value < allHighlightsArray.length) {\n   965→          const activeHighlight =\n   966→            allHighlightsArray[currentHighlightIndex.value];\n   967→          if (activeHighlight) {\n   968→            activeHighlight.classList.add('highlight-active');\n   969→          }\n   970→        }\n   971→      }\n   972→    });\n   973→  }\n   974→};\n   975→\n   976→// Navigate to previous highlight\n   977→const goToPreviousHighlight = () => {\n   978→  if (currentHighlightIndex.value > 0) {\n   979→    goToHighlight(currentHighlightIndex.value - 1);\n   980→  }\n   981→};\n   982→\n   983→// Navigate to next highlight\n   984→const goToNextHighlight = () => {\n   985→  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n   986→    goToHighlight(currentHighlightIndex.value + 1);\n   987→  }\n   988→};\n   989→\n   990→// Auto-scroll to first highlight when highlights change\n   991→watch(\n   992→  highlightedBlocks,\n   993→  newHighlights => {\n   994→    if (newHighlights.length > 0) {\n   995→      // Reset to first highlight and scroll to it\n   996→      currentHighlightIndex.value = 0;\n   997→      nextTick(() => {\n   998→        // Use parent's scroll method if available, otherwise use local method\n   999→        if (props.onScrollToFirstHighlight) {\n  1000→          const firstBlockIndex = props.onScrollToFirstHighlight();\n  1001→          if (firstBlockIndex !== null) {\n  1002→            goToHighlight(0);\n  1003→          }\n  1004→        } else {\n  1005→          goToHighlight(0);\n  1006→        }\n  1007→        // Update active highlight styling\n  1008→        if (formattedContentRef.value) {\n  1009→          // Remove active class from all highlights\n  1010→          const allHighlights = formattedContentRef.value.querySelectorAll(\n  1011→            'mark, .highlight-level-2',\n  1012→          );\n  1013→          allHighlights.forEach(highlight => {\n  1014→            highlight.classList.remove('highlight-active');\n  1015→          });\n  1016→\n  1017→          // Add active class to first highlight\n  1018→          if (allHighlights.length > 0) {\n  1019→            allHighlights[0].classList.add('highlight-active');\n  1020→          }\n  1021→        }\n  1022→      });\n  1023→    } else {\n  1024→      currentHighlightIndex.value = 0;\n  1025→      // Clear active highlight styling when no highlights\n  1026→      nextTick(() => {\n  1027→        if (formattedContentRef.value) {\n  1028→          const allHighlights = formattedContentRef.value.querySelectorAll(\n  1029→            'mark, .highlight-level-2',\n  1030→          );\n  1031→          allHighlights.forEach(highlight => {\n  1032→            highlight.classList.remove('highlight-active');\n  1033→          });\n  1034→        }\n  1035→      });\n  1036→    }\n  1037→  },\n  1038→  { immediate: true },\n  1039→);\n  1040→\n  1041→// Watch for changes in facetBlockHighlights prop\n  1042→watch(\n  1043→  () => props.facetBlockHighlights,\n  1044→  () => {\n  1045→    // Trigger highlight navigation updates when highlights change\n  1046→    nextTick(() => {\n  1047→      if (formattedContentRef.value) {\n  1048→        // Remove active class from all highlights\n  1049→        const allHighlights = formattedContentRef.value.querySelectorAll(\n  1050→          'mark, .highlight-level-2',\n  1051→        );\n  1052→        allHighlights.forEach(highlight => {\n  1053→          highlight.classList.remove('highlight-active');\n  1054→        });\n  1055→\n  1056→        // Add active class to current highlight if available\n  1057→        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n  1058→          const activeIndex = Math.min(\n  1059→            currentHighlightIndex.value,\n  1060→            allHighlights.length - 1,\n  1061→          );\n  1062→          allHighlights[activeIndex].classList.add('highlight-active');\n  1063→        }\n  1064→      }\n  1065→    });\n  1066→  },\n  1067→  { deep: true, immediate: true },\n  1068→);\n  1069→\n  1070→// Watch for changes in currentHighlightIndex to update styling\n  1071→watch(currentHighlightIndex, () => {\n  1072→  nextTick(() => {\n  1073→    if (formattedContentRef.value) {\n  1074→      // Remove active class from all highlights\n  1075→      const allHighlights = formattedContentRef.value.querySelectorAll(\n  1076→        'mark, .highlight-level-2',\n  1077→      );\n  1078→      allHighlights.forEach(highlight => {\n  1079→        highlight.classList.remove('highlight-active');\n  1080→      });\n  1081→\n  1082→      // Add active class to current highlight if available\n  1083→      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n  1084→        const activeIndex = Math.min(\n  1085→          currentHighlightIndex.value,\n  1086→          allHighlights.length - 1,\n  1087→        );\n  1088→        allHighlights[activeIndex].classList.add('highlight-active');\n  1089→      }\n  1090→    }\n  1091→  });\n  1092→});\n  1093→\n  1094→// Expose highlight navigation methods for parent component\n  1095→defineExpose({\n  1096→  currentHighlightIndex,\n  1097→  totalHighlights,\n  1098→  hasHighlights,\n  1099→  goToPreviousHighlight,\n  1100→  goToNextHighlight,\n  1101→  scrollToBlock,\n  1102→  scrollToBlockSmooth,\n  1103→});\n  1104→</script>\n  1105→\n  1106→<style scoped>\n  1107→.reader-container {\n  1108→  height: calc(100% - var(--vpv-toolbar-size));\n  1109→  overflow: hidden;\n  1110→  display: flex;\n  1111→}\n  1112→.reader-editor-container {\n  1113→  display: flex;\n  1114→  flex-direction: column;\n  1115→  height: 100%;\n  1116→}\n  1117→.reader-editor {\n  1118→  flex: 1;\n  1119→  min-height: 0;\n  1120→  display: flex;\n  1121→  flex-direction: column;\n  1122→  overflow: hidden;\n  1123→}\n  1124→\n  1125→aside {\n  1126→  display: flex;\n  1127→  align-items: center;\n  1128→  gap: var(--gap-2);\n  1129→  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  1130→  border-left: 1px solid var(--surface-border-light);\n  1131→  backdrop-filter: blur(6px);\n  1132→  position: sticky;\n  1133→  padding: var(--gap-2);\n  1134→  top: 0;\n  1135→  z-index: 10;\n  1136→  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n  1137→}\n  1138→\n  1139→:deep(.p-togglebutton) {\n  1140→  display: inline;\n  1141→  .p-button-label,\n  1142→  .p-button-icon {\n  1143→    font-size: var(--text-size-small);\n  1144→  }\n  1145→\n  1146→  .p-button-icon {\n  1147→    margin-right: var(--gap-1);\n  1148→  }\n  1149→}\n  1150→\n  1151→.toggle-container {\n  1152→  display: flex;\n  1153→  align-items: center;\n  1154→}\n  1155→\n  1156→.toggle-label {\n  1157→  color: var(--text-color);\n  1158→}\n  1159→\n  1160→.toolbar {\n  1161→  flex-shrink: 0;\n  1162→}\n  1163→\n  1164→.small-button:deep(.p-button) {\n  1165→  padding: 0.25rem 0.5rem;\n  1166→  border-radius: var(--border-radius-small);\n  1167→}\n  1168→\n  1169→button.small-extract-button {\n  1170→  padding: 0.25rem 0.5rem;\n  1171→  border-radius: var(--border-radius-small);\n  1172→  background: var(--surface-50);\n  1173→  border: 1px solid var(--surface-200);\n  1174→  color: var(--text-color-secondary);\n  1175→  font-size: var(--text-size-small);\n  1176→\n  1177→  &:hover {\n  1178→    background: var(--surface-100);\n  1179→  }\n  1180→\n  1181→  &.disabled {\n  1182→    cursor: not-allowed;\n  1183→  }\n  1184→}\n  1185→\n  1186→.formatted-content {\n  1187→  line-height: 1.5;\n  1188→  padding: 0.5rem;\n  1189→  flex: 1;\n  1190→  min-width: 0;\n  1191→  height: 100%;\n  1192→  overflow-y: auto;\n  1193→  overflow-x: hidden;\n  1194→}\n  1195→\n  1196→.scroll-padding {\n  1197→  padding-bottom: 13rem;\n  1198→}\n  1199→\n  1200→/* Raw content */\n  1201→.raw-content {\n  1202→  width: calc(100% - 80px);\n  1203→  height: calc(100% - 6rem);\n  1204→  min-height: calc(100% - 2rem);\n  1205→  padding: 0.5rem;\n  1206→  white-space: pre-wrap;\n  1207→  font-family: monospace;\n  1208→  font-size: var(--text-size-small);\n  1209→  line-height: 1.5;\n  1210→  background: transparent;\n  1211→  border: 2px solid transparent;\n  1212→  opacity: 1 !important; /* Prevent fade when not in edit mode */\n  1213→}\n  1214→.raw-content:read-only {\n  1215→  cursor: default;\n  1216→}\n  1217→.raw-content:not(:read-only) {\n  1218→  cursor: text;\n  1219→  border: 2px solid var(--primary-color);\n  1220→  background: var(--surface-2);\n  1221→}\n  1222→\n  1223→/* Reader view */\n  1224→.block {\n  1225→  margin: 0;\n  1226→  border-radius: var(--border-radius-small);\n  1227→  position: relative;\n  1228→}\n  1229→\n  1230→[class*='block-'] {\n  1231→  margin: var(--gap-2) 0;\n  1232→\n  1233→  &.block-hidden {\n  1234→    display: none;\n  1235→    overflow: hidden;\n  1236→  }\n  1237→}\n  1238→\n  1239→.block-image-container,\n  1240→.block-map-container {\n  1241→  display: flex;\n  1242→  align-items: flex-start;\n  1243→  gap: var(--gap-2);\n  1244→  margin: var(--gap-2) 0;\n  1245→\n  1246→  &.block-hidden {\n  1247→    display: none;\n  1248→    overflow: hidden;\n  1249→  }\n  1250→\n  1251→  .block-image,\n  1252→  .block-map {\n  1253→    flex: 1;\n  1254→    margin: 0;\n  1255→  }\n  1256→}\n  1257→\n  1258→.block-image-container[style*='--highlight-color'] .block-image,\n  1259→.block-map-container[style*='--highlight-color'] .block-map {\n  1260→  border: 2px solid var(--highlight-color, var(--primary-color));\n  1261→  border-radius: var(--border-radius);\n  1262→  transition: border-color 0.2s ease;\n  1263→}\n  1264→\n  1265→.block-text {\n  1266→  margin: 0 var(--gap-2);\n  1267→}\n  1268→\n  1269→:deep(.block code) {\n  1270→  white-space: normal;\n  1271→}\n  1272→\n  1273→.block.editable {\n  1274→  cursor: pointer;\n  1275→}\n  1276→\n  1277→:deep(.block.editable:hover) {\n  1278→  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n  1279→}\n  1280→\n  1281→.status-icon {\n  1282→  margin-right: 6px;\n  1283→  font-size: 5px;\n  1284→  color: var(--primary-color);\n  1285→  vertical-align: middle;\n  1286→}\n  1287→\n  1288→.status-icon.failed {\n  1289→  color: var(--red-500);\n  1290→}\n  1291→\n  1292→/* Markdown styles */\n  1293→\n  1294→:deep(table) {\n  1295→  border-collapse: collapse;\n  1296→  width: 100%;\n  1297→  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  1298→  margin: 1rem 0;\n  1299→}\n  1300→:deep(th),\n  1301→:deep(td) {\n  1302→  border: 1px solid var(--surface-border-light);\n  1303→  padding: 0.125rem 0.5rem;\n  1304→  text-align: left;\n  1305→}\n  1306→:deep(th) {\n  1307→  background-color: var(--surface-3);\n  1308→  font-weight: 600;\n  1309→}\n  1310→\n  1311→.inline-editor {\n  1312→  background: var(--surface-1);\n  1313→  padding: 1rem;\n  1314→  border-radius: var(--border-radius);\n  1315→  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  1316→  z-index: 1000;\n  1317→  min-width: 300px;\n  1318→}\n  1319→\n  1320→:deep(h1) {\n  1321→  font-size: 1.5rem;\n  1322→  line-height: 1.35;\n  1323→}\n  1324→:deep(h2) {\n  1325→  font-size: 1.25rem;\n  1326→  line-height: 1.35;\n  1327→}\n  1328→:deep(h3) {\n  1329→  font-size: 1rem;\n  1330→  line-height: 1.35;\n  1331→}\n  1332→:deep(h4) {\n  1333→  font-size: 0.875rem;\n  1334→  line-height: 1.25;\n  1335→}\n  1336→:deep(table) {\n  1337→  margin: 0;\n  1338→}\n  1339→\n  1340→:deep(mark),\n  1341→:deep(pre) {\n  1342→  background: var(--surface-c);\n  1343→  border: 1px solid var(--surface-border);\n  1344→  padding: 0 0.25rem;\n  1345→  border-radius: var(--border-radius-small);\n  1346→  font-size: 13px;\n  1347→  font-family: var(--font-family);\n  1348→}\n  1349→\n  1350→/* Active highlight styling */\n  1351→:deep(.highlight-active) {\n  1352→  border-bottom: 3px solid var(--text-color-secondary);\n  1353→  transition: border-bottom-color 0.2s ease;\n  1354→}\n  1355→\n  1356→/* Block empty state styles */\n  1357→.block-empty {\n  1358→  display: flex;\n  1359→  flex-direction: column;\n  1360→  align-items: center;\n  1361→  justify-content: center;\n  1362→  padding: var(--gap-6);\n  1363→  text-align: center;\n  1364→  min-height: 100%;\n  1365→  color: var(--text-color-secondary);\n  1366→  border-radius: var(--border-radius);\n  1367→  margin: var(--gap-4) 0;\n  1368→  user-select: none;\n  1369→}\n  1370→\n  1371→.block-empty .empty-state-image {\n  1372→  width: 150px;\n  1373→  height: auto;\n  1374→  margin-bottom: var(--gap-3);\n  1375→  opacity: 0.6;\n  1376→}\n  1377→\n  1378→.block-empty p {\n  1379→  font-size: var(--text-size-small);\n  1380→  margin: 0;\n  1381→  font-weight: 500;\n  1382→}\n  1383→\n  1384→/* Provenance superscript numbers inline within text blocks */\n  1385→.block-content-inline :deep(p),\n  1386→.block-content-inline :deep(div),\n  1387→.block-content-inline :deep(h1),\n  1388→.block-content-inline :deep(h2),\n  1389→.block-content-inline :deep(h3),\n  1390→.block-content-inline :deep(h4),\n  1391→.block-content-inline :deep(h5),\n  1392→.block-content-inline :deep(h6) {\n  1393→  display: inline;\n  1394→  margin: 0;\n  1395→  padding: 0;\n  1396→}\n  1397→\n  1398→.block {\n  1399→  position: relative;\n  1400→}\n  1401→</style>\n  1402→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"52f4e18d-effd-40a4-8e4a-9f4be8dd2b13","timestamp":"2025-09-17T15:35:51.426Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","content":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n.status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","numLines":1402,"startLine":1,"totalLines":1402}}}
{"parentUuid":"52f4e18d-effd-40a4-8e4a-9f4be8dd2b13","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_019h6opNQNyWJ14EQAuctaFd","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I can see the ReaderEditor component. I can see the buttons for \"Enriched Text\", \"Images\", and \"Maps\" that have FontAwesome icons with pulsing animations when in progress (lines 27-31, 79-83). I need to replace these with the LoadingSparkle component. Let me update the component:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":16964,"cache_read_input_tokens":79873,"cache_creation":{"ephemeral_5m_input_tokens":16964,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEDgGF3UTc9DSzq3rXhX","type":"assistant","uuid":"0d5f3574-c712-41dc-b5f4-05b1d6772b91","timestamp":"2025-09-17T15:35:56.564Z"}
{"parentUuid":"0d5f3574-c712-41dc-b5f4-05b1d6772b91","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_019h6opNQNyWJ14EQAuctaFd","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01CfSEVVN224uMhhbCvg85mA","name":"TodoWrite","input":{"todos":[{"content":"Import LoadingSparkle component","status":"in_progress","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":16964,"cache_read_input_tokens":79873,"cache_creation":{"ephemeral_5m_input_tokens":16964,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEDgGF3UTc9DSzq3rXhX","type":"assistant","uuid":"5d3ab4d6-7c5f-451c-9b8e-2c419a047523","timestamp":"2025-09-17T15:35:59.001Z"}
{"parentUuid":"5d3ab4d6-7c5f-451c-9b8e-2c419a047523","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CfSEVVN224uMhhbCvg85mA","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"376514ca-1ff9-41bd-9ee9-38988c6654fb","timestamp":"2025-09-17T15:35:59.391Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Import LoadingSparkle component","status":"in_progress","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"376514ca-1ff9-41bd-9ee9-38988c6654fb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01KS3SKwvKXTUZUa4iiHvGc9","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"First, I'll add the LoadingSparkle import:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":503,"cache_read_input_tokens":96837,"cache_creation":{"ephemeral_5m_input_tokens":503,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDgrbH5ajucKjY63thu","type":"assistant","uuid":"c86d1b58-d7a0-472b-8540-2c7806d930c2","timestamp":"2025-09-17T15:36:02.214Z"}
{"parentUuid":"c86d1b58-d7a0-472b-8540-2c7806d930c2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01KS3SKwvKXTUZUa4iiHvGc9","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Xd3uVwTJqyPEY7fE2D6fYS","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';","new_string":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":503,"cache_read_input_tokens":96837,"cache_creation":{"ephemeral_5m_input_tokens":503,"ephemeral_1h_input_tokens":0},"output_tokens":391,"service_tier":"standard"}},"requestId":"req_011CTEDgrbH5ajucKjY63thu","type":"assistant","uuid":"8f6e3307-3b97-4f3d-951c-33c04accfe93","timestamp":"2025-09-17T15:36:06.355Z"}
{"parentUuid":"8f6e3307-3b97-4f3d-951c-33c04accfe93","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Xd3uVwTJqyPEY7fE2D6fYS","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   239→} from '@/types/Common';\n   240→import useIllustrations from '@/composables/useIllustrations';\n   241→import { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\n   242→import useFileUploadStatuses from '@/composables/useFileUploadStatuses';\n   243→import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n   244→import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\n   245→import MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\n   246→import Edit from './reader-editor/Edit.vue';\n   247→import DocumentImage from './reader-editor/DocumentImage.vue';\n   248→import DocumentMap from './reader-editor/DocumentMap.vue';\n   249→import Meta from './reader-editor/Meta.vue';\n   250→import ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n   251→\n   252→const props = defineProps<{\n   253→  item: FlattenedPanteraDocument;\n   254→  content: string[];"}]},"uuid":"28be0ebd-5469-4c0d-9076-7e6cccf69b63","timestamp":"2025-09-17T15:36:06.431Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';","newString":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n.status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":241,"oldLines":6,"newStart":241,"newLines":7,"lines":[" import { FileUploadStatusEnum, PipelineTask } from '@/types/Types';"," import useFileUploadStatuses from '@/composables/useFileUploadStatuses';"," import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';","+import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';"," import MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';"," import Edit from './reader-editor/Edit.vue';"," import DocumentImage from './reader-editor/DocumentImage.vue';"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"28be0ebd-5469-4c0d-9076-7e6cccf69b63","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01T3dCFRYpcAC3v6393wPVni","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01LB5QyHXHDXx2tyGfGiyu9d","name":"TodoWrite","input":{"todos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":749,"cache_read_input_tokens":97340,"cache_creation":{"ephemeral_5m_input_tokens":749,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEDhNV7avzpbaXPE3uvU","type":"assistant","uuid":"1e98ffac-ff9d-4df5-804d-e314b4e5bf93","timestamp":"2025-09-17T15:36:10.195Z"}
{"parentUuid":"1e98ffac-ff9d-4df5-804d-e314b4e5bf93","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LB5QyHXHDXx2tyGfGiyu9d","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"32459a81-4ae7-41ec-8733-3fec448ed61b","timestamp":"2025-09-17T15:36:10.246Z","toolUseResult":{"oldTodos":[{"content":"Import LoadingSparkle component","status":"in_progress","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"32459a81-4ae7-41ec-8733-3fec448ed61b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01WmiKnhX7iE5eJweoUEMw6f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I'll replace the text button's FontAwesome icons with LoadingSparkle:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":427,"cache_read_input_tokens":98089,"cache_creation":{"ephemeral_5m_input_tokens":427,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTEDhetMJ8pc27ne1JvUv","type":"assistant","uuid":"f36b58bd-5549-4f4d-ba6d-bfa4adeb4c2e","timestamp":"2025-09-17T15:36:13.392Z"}
{"parentUuid":"f36b58bd-5549-4f4d-ba6d-bfa4adeb4c2e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01WmiKnhX7iE5eJweoUEMw6f","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_016zwhBmB2odSyr4Y4UNShFs","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>","new_string":"        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":427,"cache_read_input_tokens":98089,"cache_creation":{"ephemeral_5m_input_tokens":427,"ephemeral_1h_input_tokens":0},"output_tokens":632,"service_tier":"standard"}},"requestId":"req_011CTEDhetMJ8pc27ne1JvUv","type":"assistant","uuid":"0ca8440d-bdbe-4b92-99e9-59124689a795","timestamp":"2025-09-17T15:36:20.966Z"}
{"parentUuid":"0ca8440d-bdbe-4b92-99e9-59124689a795","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016zwhBmB2odSyr4Y4UNShFs","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    10→          offIcon=\"pi pi-eye-slash\"\n    11→          class=\"small-button\"\n    12→        />\n    13→\n    14→        <!-- Text / Markdown -->\n    15→        <Button\n    16→          v-if=\"isRawText || !hasTextBlocks\"\n    17→          label=\"Enriched Text\"\n    18→          class=\"small-extract-button\"\n    19→          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n    20→          size=\"small\"\n    21→          title=\"Enrich text from document\"\n    22→          outlined\n    23→          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n    24→        >\n    25→          <template #icon>\n    26→            <LoadingSparkle\n    27→              :tooltip=\"\n    28→                textStatus === FileUploadStatusEnum.InProgress\n    29→                  ? 'Enriching text...'\n    30→                  : textStatus === FileUploadStatusEnum.Failed\n    31→                    ? 'Text enrichment failed'\n    32→                    : 'Enrich text from document'\n    33→              \"\n    34→              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n    35→              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n    36→            />\n    37→          </template>\n    38→        </Button>\n    39→        <ToggleButton\n    40→          v-else\n    41→          :model-value=\"showText\"\n    42→          onLabel=\"Enriched Text\""}]},"uuid":"7185122a-4412-4d50-9648-42296f66239f","timestamp":"2025-09-17T15:36:21.024Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>","newString":"        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n.status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":20,"oldLines":20,"newStart":20,"newLines":20,"lines":["           size=\"small\"","           title=\"Enrich text from document\"","           outlined","-          icon=\"pi pi-sparkles\"","           @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"","         >","           <template #icon>","-            <FontAwesomeIcon","-              v-if=\"textStatus === FileUploadStatusEnum.InProgress\"","-              :icon=\"['fas', 'circle']\"","-              class=\"status-icon pulse\"","+            <LoadingSparkle","+              :tooltip=\"","+                textStatus === FileUploadStatusEnum.InProgress","+                  ? 'Enriching text...'","+                  : textStatus === FileUploadStatusEnum.Failed","+                    ? 'Text enrichment failed'","+                    : 'Enrich text from document'","+              \"","+              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"","+              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"","             />","-            <FontAwesomeIcon","-              v-else-if=\"textStatus === FileUploadStatusEnum.Failed\"","-              :icon=\"['fas', 'circle']\"","-              class=\"status-icon failed\"","-            />","           </template>","         </Button>","         <ToggleButton"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"7185122a-4412-4d50-9648-42296f66239f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_015jjfKngNzT4tc4EQFVGB6k","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_014fqL784RKV48pqiHEFMcTK","name":"TodoWrite","input":{"todos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1110,"cache_read_input_tokens":98516,"cache_creation":{"ephemeral_5m_input_tokens":1110,"ephemeral_1h_input_tokens":0},"output_tokens":205,"service_tier":"standard"}},"requestId":"req_011CTEDiSuoCrKVWGfbX4jrx","type":"assistant","uuid":"f2b363c9-4ebf-4071-b048-af5780df36e3","timestamp":"2025-09-17T15:36:26.582Z"}
{"parentUuid":"f2b363c9-4ebf-4071-b048-af5780df36e3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014fqL784RKV48pqiHEFMcTK","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"9c766d4e-7cec-4d26-99ce-be801b8f35cb","timestamp":"2025-09-17T15:36:26.619Z","toolUseResult":{"oldTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"pending","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"9c766d4e-7cec-4d26-99ce-be801b8f35cb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_016YDa5m39rPuG98SnyRqTWF","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I'll replace the images button's FontAwesome icons with LoadingSparkle:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":427,"cache_read_input_tokens":99626,"cache_creation":{"ephemeral_5m_input_tokens":427,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTEDirjGGSTptjEmrWy78","type":"assistant","uuid":"ebec343e-e5a7-4204-a1db-5bd9c69d3a7d","timestamp":"2025-09-17T15:36:29.642Z"}
{"parentUuid":"ebec343e-e5a7-4204-a1db-5bd9c69d3a7d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_016YDa5m39rPuG98SnyRqTWF","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_013DLiKbqW7uPMQZBYCJscjF","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>","new_string":"        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":427,"cache_read_input_tokens":99626,"cache_creation":{"ephemeral_5m_input_tokens":427,"ephemeral_1h_input_tokens":0},"output_tokens":829,"service_tier":"standard"}},"requestId":"req_011CTEDirjGGSTptjEmrWy78","type":"assistant","uuid":"5a27b7f8-8eae-4628-8f61-157cab4c85dd","timestamp":"2025-09-17T15:36:37.357Z"}
{"parentUuid":"5a27b7f8-8eae-4628-8f61-157cab4c85dd","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013DLiKbqW7uPMQZBYCJscjF","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    47→          :disabled=\"isEditMode\"\n    48→          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n    49→        />\n    50→\n    51→        <!-- Images -->\n    52→        <ToggleButton\n    53→          v-if=\"hasImageBlocks\"\n    54→          :model-value=\"showImage\"\n    55→          onLabel=\"Images\"\n    56→          offLabel=\"Images\"\n    57→          offIcon=\"pi pi-eye-slash\"\n    58→          onIcon=\"pi pi-eye\"\n    59→          class=\"small-button\"\n    60→          :disabled=\"isEditMode\"\n    61→          @update:model-value=\"\n    62→            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n    63→          \"\n    64→        />\n    65→        <Button\n    66→          v-else\n    67→          label=\"Images\"\n    68→          class=\"small-extract-button\"\n    69→          :class=\"{\n    70→            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n    71→          }\"\n    72→          size=\"small\"\n    73→          title=\"Extract images from document\"\n    74→          outlined\n    75→          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n    76→        >\n    77→          <template #icon>\n    78→            <LoadingSparkle\n    79→              :tooltip=\"\n    80→                imagesStatus === FileUploadStatusEnum.InProgress\n    81→                  ? 'Extracting images...'\n    82→                  : imagesStatus === FileUploadStatusEnum.Failed\n    83→                    ? 'Image extraction failed'\n    84→                    : 'Extract images from document'\n    85→              \"\n    86→              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n    87→              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"\n    88→            />\n    89→          </template>\n    90→        </Button>\n    91→\n    92→        <!-- Maps -->\n    93→        <ToggleButton\n    94→          v-if=\"hasMapBlocks\""}]},"uuid":"f1849e81-5275-406b-8bb0-9c737a18c794","timestamp":"2025-09-17T15:36:37.423Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>","newString":"        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          icon=\"pi pi-sparkles\"\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <FontAwesomeIcon\n              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon pulse\"\n            />\n            <FontAwesomeIcon\n              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"\n              :icon=\"['fas', 'circle']\"\n              class=\"status-icon failed\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n.status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":72,"oldLines":20,"newStart":72,"newLines":20,"lines":["           size=\"small\"","           title=\"Extract images from document\"","           outlined","-          icon=\"pi pi-sparkles\"","           @click=\"emit('extract', [PipelineTask.ProcessImages])\"","         >","           <template #icon>","-            <FontAwesomeIcon","-              v-if=\"imagesStatus === FileUploadStatusEnum.InProgress\"","-              :icon=\"['fas', 'circle']\"","-              class=\"status-icon pulse\"","+            <LoadingSparkle","+              :tooltip=\"","+                imagesStatus === FileUploadStatusEnum.InProgress","+                  ? 'Extracting images...'","+                  : imagesStatus === FileUploadStatusEnum.Failed","+                    ? 'Image extraction failed'","+                    : 'Extract images from document'","+              \"","+              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"","+              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"","             />","-            <FontAwesomeIcon","-              v-else-if=\"imagesStatus === FileUploadStatusEnum.Failed\"","-              :icon=\"['fas', 'circle']\"","-              class=\"status-icon failed\"","-            />","           </template>","         </Button>"," "]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"f1849e81-5275-406b-8bb0-9c737a18c794","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01VWSmsY3mQ1AncwQpKXjpH2","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I need to remove the unused CSS for the FontAwesome pulsing dots since we're no longer using them:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":1450,"cache_read_input_tokens":100053,"cache_creation":{"ephemeral_5m_input_tokens":1450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTEDjf5KEq5avueJrAcZE","type":"assistant","uuid":"8ec1624f-239e-434a-bf6d-332267f4f731","timestamp":"2025-09-17T15:36:45.354Z"}
{"parentUuid":"8ec1624f-239e-434a-bf6d-332267f4f731","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01VWSmsY3mQ1AncwQpKXjpH2","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Rq8DbcJmFQaKdydq2KW2au","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":".status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}","new_string":""}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":1450,"cache_read_input_tokens":100053,"cache_creation":{"ephemeral_5m_input_tokens":1450,"ephemeral_1h_input_tokens":0},"output_tokens":214,"service_tier":"standard"}},"requestId":"req_011CTEDjf5KEq5avueJrAcZE","type":"assistant","uuid":"756735ab-a00b-42dc-ba6f-37666ed6e800","timestamp":"2025-09-17T15:36:47.197Z"}
{"parentUuid":"756735ab-a00b-42dc-ba6f-37666ed6e800","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Rq8DbcJmFQaKdydq2KW2au","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n  1278→:deep(.block.editable:hover) {\n  1279→  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n  1280→}\n  1281→\n  1282→\n  1283→/* Markdown styles */\n  1284→\n  1285→:deep(table) {\n  1286→  border-collapse: collapse;"}]},"uuid":"8abb987d-5ecc-4f9e-b5c2-fcbc3c453875","timestamp":"2025-09-17T15:36:47.248Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":".status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}","newString":"","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n.status-icon {\n  margin-right: 6px;\n  font-size: 5px;\n  color: var(--primary-color);\n  vertical-align: middle;\n}\n\n.status-icon.failed {\n  color: var(--red-500);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":1279,"oldLines":17,"newStart":1279,"newLines":7,"lines":["   background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);"," }"," ","-.status-icon {","-  margin-right: 6px;","-  font-size: 5px;","-  color: var(--primary-color);","-  vertical-align: middle;","-}"," ","-.status-icon.failed {","-  color: var(--red-500);","-}","-"," /* Markdown styles */"," "," :deep(table) {"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"8abb987d-5ecc-4f9e-b5c2-fcbc3c453875","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01GKL8dJxotH6b9QKJQevunV","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01NCCZC7LjocNy3wDnSEU7Ue","name":"TodoWrite","input":{"todos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":386,"cache_read_input_tokens":101503,"cache_creation":{"ephemeral_5m_input_tokens":386,"ephemeral_1h_input_tokens":0},"output_tokens":205,"service_tier":"standard"}},"requestId":"req_011CTEDkNrmqEUE6v3ke4gjn","type":"assistant","uuid":"8c769aca-db1f-4b59-9c01-5ccab9c22094","timestamp":"2025-09-17T15:36:52.455Z"}
{"parentUuid":"8c769aca-db1f-4b59-9c01-5ccab9c22094","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NCCZC7LjocNy3wDnSEU7Ue","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"2b513050-2541-4cd0-bdb5-d2221e794c3d","timestamp":"2025-09-17T15:36:52.510Z","toolUseResult":{"oldTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"in_progress","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"2b513050-2541-4cd0-bdb5-d2221e794c3d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01Y6uSyT3RPWwN8DEq4U8C9H","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_015TDKarcSEy3grdD26YGsF8","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":426,"cache_read_input_tokens":101889,"cache_creation":{"ephemeral_5m_input_tokens":426,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEDkmbFXsEkcsCWdsL2C","type":"assistant","uuid":"58f5035b-4406-4001-ae1b-7bc9dcc6fd67","timestamp":"2025-09-17T15:36:56.813Z"}
{"parentUuid":"58f5035b-4406-4001-ae1b-7bc9dcc6fd67","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"[@uncharted/pantera-hmi]: \n[@uncharted/pantera-hmi]: /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue\n[@uncharted/pantera-hmi]:   243:10  error  'FontAwesomeIcon' is defined but never used  @typescript-eslint/no-unused-vars\n[@uncharted/pantera-hmi]: \n[@uncharted/pantera-hmi]: ✖ 1 problem (1 error, 0 warnings)\n[@uncharted/pantera-hmi]: \nDone in 4s 649ms","is_error":true,"tool_use_id":"toolu_015TDKarcSEy3grdD26YGsF8"}]},"uuid":"a9821e9d-79fa-4328-87aa-2d1624f2d8f4","timestamp":"2025-09-17T15:37:02.785Z","toolUseResult":"Error: [@uncharted/pantera-hmi]: \n[@uncharted/pantera-hmi]: /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue\n[@uncharted/pantera-hmi]:   243:10  error  'FontAwesomeIcon' is defined but never used  @typescript-eslint/no-unused-vars\n[@uncharted/pantera-hmi]: \n[@uncharted/pantera-hmi]: ✖ 1 problem (1 error, 0 warnings)\n[@uncharted/pantera-hmi]: \nDone in 4s 649ms"}
{"parentUuid":"a9821e9d-79fa-4328-87aa-2d1624f2d8f4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01TbyZFmFveVP3wtCmMhQHfF","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I need to remove the unused FontAwesomeIcon import:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":260,"cache_read_input_tokens":102315,"cache_creation":{"ephemeral_5m_input_tokens":260,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDmXRVnRKTJSTfwg9Lt","type":"assistant","uuid":"304f459c-1740-4681-bd76-179ad289cccb","timestamp":"2025-09-17T15:37:05.706Z"}
{"parentUuid":"304f459c-1740-4681-bd76-179ad289cccb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01TbyZFmFveVP3wtCmMhQHfF","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01DS5EYWkx6DnZMFhEkJRJMq","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';","new_string":"import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":260,"cache_read_input_tokens":102315,"cache_creation":{"ephemeral_5m_input_tokens":260,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDmXRVnRKTJSTfwg9Lt","type":"assistant","uuid":"cefd78a5-0b2b-4cb9-9bc5-8446b3877a28","timestamp":"2025-09-17T15:37:07.121Z"}
{"parentUuid":"cefd78a5-0b2b-4cb9-9bc5-8446b3877a28","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DS5EYWkx6DnZMFhEkJRJMq","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   239→} from '@/types/Common';\n   240→import useIllustrations from '@/composables/useIllustrations';\n   241→import { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\n   242→import useFileUploadStatuses from '@/composables/useFileUploadStatuses';\n   243→import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\n   244→import MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\n   245→import Edit from './reader-editor/Edit.vue';\n   246→import DocumentImage from './reader-editor/DocumentImage.vue';\n   247→import DocumentMap from './reader-editor/DocumentMap.vue';"}]},"uuid":"43837565-d844-4603-a638-c1f327bc527d","timestamp":"2025-09-17T15:37:07.192Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';","newString":"import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"imagesStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":240,"oldLines":7,"newStart":240,"newLines":6,"lines":[" import useIllustrations from '@/composables/useIllustrations';"," import { FileUploadStatusEnum, PipelineTask } from '@/types/Types';"," import useFileUploadStatuses from '@/composables/useFileUploadStatuses';","-import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';"," import LoadingSparkle from '@/components/shared/LoadingSparkle.vue';"," import MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';"," import Edit from './reader-editor/Edit.vue';"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"43837565-d844-4603-a638-c1f327bc527d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_014AykyjT6qeCx2mVPCE71MZ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_011PYpc7aYgmuvtPn4wxmMci","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":456,"cache_read_input_tokens":102575,"cache_creation":{"ephemeral_5m_input_tokens":456,"ephemeral_1h_input_tokens":0},"output_tokens":24,"service_tier":"standard"}},"requestId":"req_011CTEDmrMXWr32oVm22rkdx","type":"assistant","uuid":"eb96cf79-45c2-4ab5-916b-ad0f2ee00194","timestamp":"2025-09-17T15:37:10.259Z"}
{"parentUuid":"eb96cf79-45c2-4ab5-916b-ad0f2ee00194","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011PYpc7aYgmuvtPn4wxmMci","type":"tool_result","content":"Done in 4s 241ms\n[@uncharted/pantera-hmi]: playwright/index.ts 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 53ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 37ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 62ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 30ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 53ms\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 47ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 16ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 3s 88ms","is_error":false}]},"uuid":"61af610f-bdd8-4cd0-9953-a2d10bcf067b","timestamp":"2025-09-17T15:37:19.589Z","toolUseResult":{"stdout":"Done in 4s 241ms\n[@uncharted/pantera-hmi]: playwright/index.ts 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 53ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 37ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 33ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 62ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 30ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 53ms\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 47ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 16ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 3s 88ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"61af610f-bdd8-4cd0-9953-a2d10bcf067b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01H2pdqSgWHK8Zy2ZL9BEcin","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01XbAMyQsbqe75nJa6JPPfhx","name":"TodoWrite","input":{"todos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":8200,"cache_read_input_tokens":103031,"cache_creation":{"ephemeral_5m_input_tokens":8200,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEDnmnU8Fe27xHKZFCr4","type":"assistant","uuid":"139de44d-fc4b-4735-ae3d-53e2afecbaf2","timestamp":"2025-09-17T15:37:26.915Z"}
{"parentUuid":"139de44d-fc4b-4735-ae3d-53e2afecbaf2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XbAMyQsbqe75nJa6JPPfhx","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"48e6f6cc-369b-4b0d-82dd-73089170f0bd","timestamp":"2025-09-17T15:37:26.973Z","toolUseResult":{"oldTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Import LoadingSparkle component","status":"completed","activeForm":"Importing LoadingSparkle component"},{"content":"Replace pulsing dots with LoadingSparkle in text button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in text button"},{"content":"Replace pulsing dots with LoadingSparkle in images button","status":"completed","activeForm":"Replacing pulsing dots with LoadingSparkle in images button"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"48e6f6cc-369b-4b0d-82dd-73089170f0bd","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_017S3DD38qUeK8Q8wK3dpoDe","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully updated the ReaderEditor header buttons to use the LoadingSparkle component instead of the pulsing FontAwesome dots. Here's what I changed:\n\n## Updates Made:\n\n1. **Imported LoadingSparkle component** and removed unused FontAwesome import\n2. **Replaced \"Enriched Text\" button icon** with LoadingSparkle that shows:\n   - \"Enriching text...\" tooltip when in progress\n   - \"Text enrichment failed\" tooltip when failed  \n   - \"Enrich text from document\" tooltip when available\n   - Pulsing animation when `textStatus === FileUploadStatusEnum.InProgress`\n3. **Replaced \"Images\" button icon** with LoadingSparkle that shows:\n   - \"Extracting images...\" tooltip when in progress\n   - \"Image extraction failed\" tooltip when failed\n   - \"Extract images from document\" tooltip when available  \n   - Pulsing animation when `imagesStatus === FileUploadStatusEnum.InProgress`\n4. **Removed unused CSS** for the old FontAwesome status icons\n5. **Ran formatting** to ensure code style compliance\n\nThe LoadingSparkle component provides a more consistent UI experience with the 500ms tooltip delay we added earlier, and the sparkle icon with pulsing animation gives better visual feedback than the simple pulsing dots."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":325,"cache_read_input_tokens":111231,"cache_creation":{"ephemeral_5m_input_tokens":325,"ephemeral_1h_input_tokens":0},"output_tokens":310,"service_tier":"standard"}},"requestId":"req_011CTEDoK2RBAYHpB6rVNLrG","type":"assistant","uuid":"a4b4bc9b-f717-4761-b1a4-991bf5891c00","timestamp":"2025-09-17T15:37:38.467Z"}
{"parentUuid":"a4b4bc9b-f717-4761-b1a4-991bf5891c00","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":"problem, the padding/margin between the icon and the text has been removed now, and the pulse class is still added on top of the loading sparkle"},"uuid":"44d4872c-3e84-45d7-8b06-c2c6340a9e61","timestamp":"2025-09-17T15:38:08.617Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"44d4872c-3e84-45d7-8b06-c2c6340a9e61","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01MQTY2eBrcDLpyNWeNsZ33e","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"You're right! I need to fix the spacing issue and remove the pulse class that's being applied to the LoadingSparkle. Let me examine the current state and fix these issues."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":344,"cache_read_input_tokens":111556,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDrNmELB4f1UHFwoLyC","type":"assistant","uuid":"10aa63e8-8a18-4fd8-b74d-128e59864499","timestamp":"2025-09-17T15:38:12.029Z"}
{"parentUuid":"10aa63e8-8a18-4fd8-b74d-128e59864499","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01MQTY2eBrcDLpyNWeNsZ33e","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01WFrHsdJ2j2v94yib5kzg7K","name":"TodoWrite","input":{"todos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"in_progress","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":344,"cache_read_input_tokens":111556,"cache_creation":{"ephemeral_5m_input_tokens":344,"ephemeral_1h_input_tokens":0},"output_tokens":196,"service_tier":"standard"}},"requestId":"req_011CTEDrNmELB4f1UHFwoLyC","type":"assistant","uuid":"f312f54c-b27d-42e8-8070-2082f4e6b5cb","timestamp":"2025-09-17T15:38:13.419Z"}
{"parentUuid":"f312f54c-b27d-42e8-8070-2082f4e6b5cb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WFrHsdJ2j2v94yib5kzg7K","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"fa4fcba7-1381-4b9e-8c61-68abec3fda56","timestamp":"2025-09-17T15:38:13.474Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"in_progress","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"fa4fcba7-1381-4b9e-8c61-68abec3fda56","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01BqFwUbCUxk9kfyEMzw74eJ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check the current button code to see how to fix the spacing:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":372,"cache_read_input_tokens":111900,"cache_creation":{"ephemeral_5m_input_tokens":372,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDrjd7C5oFro864cD9w","type":"assistant","uuid":"1e6b3c0a-4454-43cb-b714-e8e79d018bc7","timestamp":"2025-09-17T15:38:17.817Z"}
{"parentUuid":"1e6b3c0a-4454-43cb-b714-e8e79d018bc7","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01BqFwUbCUxk9kfyEMzw74eJ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01TJTZEx6p14VHRuwFWsLz8G","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","offset":14,"limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":372,"cache_read_input_tokens":111900,"cache_creation":{"ephemeral_5m_input_tokens":372,"ephemeral_1h_input_tokens":0},"output_tokens":137,"service_tier":"standard"}},"requestId":"req_011CTEDrjd7C5oFro864cD9w","type":"assistant","uuid":"3059b7a0-ff15-4061-bc83-79a79ef2d1ed","timestamp":"2025-09-17T15:38:19.624Z"}
{"parentUuid":"3059b7a0-ff15-4061-bc83-79a79ef2d1ed","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TJTZEx6p14VHRuwFWsLz8G","type":"tool_result","content":"    14→        <!-- Text / Markdown -->\n    15→        <Button\n    16→          v-if=\"isRawText || !hasTextBlocks\"\n    17→          label=\"Enriched Text\"\n    18→          class=\"small-extract-button\"\n    19→          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n    20→          size=\"small\"\n    21→          title=\"Enrich text from document\"\n    22→          outlined\n    23→          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n    24→        >\n    25→          <template #icon>\n    26→            <LoadingSparkle\n    27→              :tooltip=\"\n    28→                textStatus === FileUploadStatusEnum.InProgress\n    29→                  ? 'Enriching text...'\n    30→                  : textStatus === FileUploadStatusEnum.Failed\n    31→                    ? 'Text enrichment failed'\n    32→                    : 'Enrich text from document'\n    33→              \"\n    34→              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n    35→              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n    36→            />\n    37→          </template>\n    38→        </Button>\n    39→        <ToggleButton\n    40→          v-else\n    41→          :model-value=\"showText\"\n    42→          onLabel=\"Enriched Text\"\n    43→          offLabel=\"Enriched Text\"\n    44→          offIcon=\"pi pi-eye-slash\"\n    45→          onIcon=\"pi pi-eye\"\n    46→          class=\"small-button\"\n    47→          :disabled=\"isEditMode\"\n    48→          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n    49→        />\n    50→\n    51→        <!-- Images -->\n    52→        <ToggleButton\n    53→          v-if=\"hasImageBlocks\"\n    54→          :model-value=\"showImage\"\n    55→          onLabel=\"Images\"\n    56→          offLabel=\"Images\"\n    57→          offIcon=\"pi pi-eye-slash\"\n    58→          onIcon=\"pi pi-eye\"\n    59→          class=\"small-button\"\n    60→          :disabled=\"isEditMode\"\n    61→          @update:model-value=\"\n    62→            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n    63→          \"\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"e7408632-a79c-476d-8959-f10a7ff4bb7e","timestamp":"2025-09-17T15:38:19.695Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","content":"        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"","numLines":50,"startLine":14,"totalLines":1393}}}
{"parentUuid":"e7408632-a79c-476d-8959-f10a7ff4bb7e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01DoFjeDqJfmu2nzDUGCuQi3","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I see the issue. The problem is that I need to look at how PrimeVue handles button icons and spacing. Let me check the CSS to understand the current styling:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":834,"cache_read_input_tokens":112272,"cache_creation":{"ephemeral_5m_input_tokens":834,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDsCAXtfYKqedhG2KVn","type":"assistant","uuid":"25cf9453-4c71-47ca-b721-24c80b2c2262","timestamp":"2025-09-17T15:38:24.358Z"}
{"parentUuid":"25cf9453-4c71-47ca-b721-24c80b2c2262","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01DoFjeDqJfmu2nzDUGCuQi3","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_014tg8frD4jzMBk75L3pGjJq","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","offset":1139,"limit":30}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":834,"cache_read_input_tokens":112272,"cache_creation":{"ephemeral_5m_input_tokens":834,"ephemeral_1h_input_tokens":0},"output_tokens":160,"service_tier":"standard"}},"requestId":"req_011CTEDsCAXtfYKqedhG2KVn","type":"assistant","uuid":"20e875d5-799f-4e0b-9aba-3aa1301ddc60","timestamp":"2025-09-17T15:38:25.206Z"}
{"parentUuid":"20e875d5-799f-4e0b-9aba-3aa1301ddc60","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014tg8frD4jzMBk75L3pGjJq","type":"tool_result","content":"  1139→}\n  1140→\n  1141→:deep(.p-togglebutton) {\n  1142→  display: inline;\n  1143→  .p-button-label,\n  1144→  .p-button-icon {\n  1145→    font-size: var(--text-size-small);\n  1146→  }\n  1147→\n  1148→  .p-button-icon {\n  1149→    margin-right: var(--gap-1);\n  1150→  }\n  1151→}\n  1152→\n  1153→.toggle-container {\n  1154→  display: flex;\n  1155→  align-items: center;\n  1156→}\n  1157→\n  1158→.toggle-label {\n  1159→  color: var(--text-color);\n  1160→}\n  1161→\n  1162→.toolbar {\n  1163→  flex-shrink: 0;\n  1164→}\n  1165→\n  1166→.small-button:deep(.p-button) {\n  1167→  padding: 0.25rem 0.5rem;\n  1168→  border-radius: var(--border-radius-small);\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"e16bfaf8-ce54-4762-983e-db81dbb297cd","timestamp":"2025-09-17T15:38:25.254Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","content":"}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);","numLines":30,"startLine":1139,"totalLines":1393}}}
{"parentUuid":"e16bfaf8-ce54-4762-983e-db81dbb297cd","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01DWMeePz1QiQF9jJL9cTcFk","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I can see that the CSS applies `margin-right: var(--gap-1)` to `.p-button-icon`. The issue is that the LoadingSparkle is inside the `#icon` template slot, so it needs to have the same spacing. Let me also add a class to prevent any pulse styling from being applied. I'll fix both issues:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":546,"cache_read_input_tokens":113106,"cache_creation":{"ephemeral_5m_input_tokens":546,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEDsbsJinkBg2Ux4F5jr","type":"assistant","uuid":"0c089397-cfad-433e-8c5e-316ee704262a","timestamp":"2025-09-17T15:38:38.549Z"}
{"parentUuid":"0c089397-cfad-433e-8c5e-316ee704262a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01DWMeePz1QiQF9jJL9cTcFk","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_018FsSRBjvVHPBRCEqS5rWeo","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>","new_string":"          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":546,"cache_read_input_tokens":113106,"cache_creation":{"ephemeral_5m_input_tokens":546,"ephemeral_1h_input_tokens":0},"output_tokens":476,"service_tier":"standard"}},"requestId":"req_011CTEDsbsJinkBg2Ux4F5jr","type":"assistant","uuid":"7a886d55-73cd-4745-82a2-b54f49b082c2","timestamp":"2025-09-17T15:38:41.726Z"}
{"parentUuid":"7a886d55-73cd-4745-82a2-b54f49b082c2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018FsSRBjvVHPBRCEqS5rWeo","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    21→          title=\"Enrich text from document\"\n    22→          outlined\n    23→          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n    24→        >\n    25→          <template #icon>\n    26→            <LoadingSparkle\n    27→              class=\"button-icon-spacing\"\n    28→              :tooltip=\"\n    29→                textStatus === FileUploadStatusEnum.InProgress\n    30→                  ? 'Enriching text...'\n    31→                  : textStatus === FileUploadStatusEnum.Failed\n    32→                    ? 'Text enrichment failed'\n    33→                    : 'Enrich text from document'\n    34→              \"\n    35→              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n    36→              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n    37→            />\n    38→          </template>\n    39→        </Button>\n    40→        <ToggleButton\n    41→          v-else\n    42→          :model-value=\"showText\""}]},"uuid":"32a29439-8b3f-4742-be8d-7091737d0863","timestamp":"2025-09-17T15:38:41.787Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>","newString":"          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":24,"oldLines":6,"newStart":24,"newLines":7,"lines":["         >","           <template #icon>","             <LoadingSparkle","+              class=\"button-icon-spacing\"","               :tooltip=\"","                 textStatus === FileUploadStatusEnum.InProgress","                   ? 'Enriching text...'"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"32a29439-8b3f-4742-be8d-7091737d0863","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01BjEEpz5P1nTB7hYSXVkDiw","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01HPC7r3Ue7qDkapcBgqX1Rx","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>","new_string":"          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":822,"cache_read_input_tokens":113652,"cache_creation":{"ephemeral_5m_input_tokens":822,"ephemeral_1h_input_tokens":0},"output_tokens":407,"service_tier":"standard"}},"requestId":"req_011CTEDtpg27ajUJgdSjFoek","type":"assistant","uuid":"25af5c53-316b-4c0f-a882-a2ed6a599c2e","timestamp":"2025-09-17T15:38:47.132Z"}
{"parentUuid":"25af5c53-316b-4c0f-a882-a2ed6a599c2e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HPC7r3Ue7qDkapcBgqX1Rx","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n    74→          title=\"Extract images from document\"\n    75→          outlined\n    76→          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n    77→        >\n    78→          <template #icon>\n    79→            <LoadingSparkle\n    80→              class=\"button-icon-spacing\"\n    81→              :tooltip=\"\n    82→                imagesStatus === FileUploadStatusEnum.InProgress\n    83→                  ? 'Extracting images...'\n    84→                  : imagesStatus === FileUploadStatusEnum.Failed\n    85→                    ? 'Image extraction failed'\n    86→                    : 'Extract images from document'\n    87→              \"\n    88→              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n    89→              :can-extract-more=\"\n    90→                imagesStatus !== FileUploadStatusEnum.InProgress\n    91→              \"\n    92→            />\n    93→          </template>\n    94→        </Button>\n    95→\n    96→        <!-- Maps -->\n    97→        <ToggleButton"}]},"uuid":"2d1548d0-8337-4a7e-8f44-52e78203434a","timestamp":"2025-09-17T15:38:47.191Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>","newString":"          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":77,"oldLines":6,"newStart":77,"newLines":7,"lines":["         >","           <template #icon>","             <LoadingSparkle","+              class=\"button-icon-spacing\"","               :tooltip=\"","                 imagesStatus === FileUploadStatusEnum.InProgress","                   ? 'Extracting images...'"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"2d1548d0-8337-4a7e-8f44-52e78203434a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_017BFKzG2LfPgaZNbnm3aqTg","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01M8ZXrMoxBqBMmebahZx2Hr","name":"TodoWrite","input":{"todos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"in_progress","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":900,"cache_read_input_tokens":114474,"cache_creation":{"ephemeral_5m_input_tokens":900,"ephemeral_1h_input_tokens":0},"output_tokens":186,"service_tier":"standard"}},"requestId":"req_011CTEDuDwzizbq4w21s4S6H","type":"assistant","uuid":"34d6f33a-143f-4442-9142-bf8a8908fbdf","timestamp":"2025-09-17T15:38:51.981Z"}
{"parentUuid":"34d6f33a-143f-4442-9142-bf8a8908fbdf","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01M8ZXrMoxBqBMmebahZx2Hr","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"9e5b2336-21ca-40d1-9c21-ca096528d714","timestamp":"2025-09-17T15:38:52.041Z","toolUseResult":{"oldTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"in_progress","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"in_progress","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"9e5b2336-21ca-40d1-9c21-ca096528d714","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01286qJSuTtu1wCEfRv8FrWY","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I need to add the CSS for the button icon spacing and ensure the pulse class doesn't affect the LoadingSparkle:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":389,"cache_read_input_tokens":115374,"cache_creation":{"ephemeral_5m_input_tokens":389,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTEDuabxr7F1BqZL7XT52","type":"assistant","uuid":"73670e53-e0cf-4749-80f0-13eb5f92489d","timestamp":"2025-09-17T15:38:54.775Z"}
{"parentUuid":"73670e53-e0cf-4749-80f0-13eb5f92489d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01286qJSuTtu1wCEfRv8FrWY","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01FrNSgNS1aAybsXo9qovWbX","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","old_string":"  .p-button-icon {\n    margin-right: var(--gap-1);\n  }","new_string":"  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.button-icon-spacing {\n  margin-right: var(--gap-1);\n\n  /* Prevent any pulse animations from affecting LoadingSparkle */\n  &.pulse {\n    animation: none !important;\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":389,"cache_read_input_tokens":115374,"cache_creation":{"ephemeral_5m_input_tokens":389,"ephemeral_1h_input_tokens":0},"output_tokens":257,"service_tier":"standard"}},"requestId":"req_011CTEDuabxr7F1BqZL7XT52","type":"assistant","uuid":"97a83aac-d3d3-4aad-a27f-58793cef1884","timestamp":"2025-09-17T15:38:57.486Z"}
{"parentUuid":"97a83aac-d3d3-4aad-a27f-58793cef1884","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FrNSgNS1aAybsXo9qovWbX","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n  1146→  .p-button-icon {\n  1147→    font-size: var(--text-size-small);\n  1148→  }\n  1149→\n  1150→  .p-button-icon {\n  1151→    margin-right: var(--gap-1);\n  1152→  }\n  1153→}\n  1154→\n  1155→.button-icon-spacing {\n  1156→  margin-right: var(--gap-1);\n  1157→\n  1158→  /* Prevent any pulse animations from affecting LoadingSparkle */\n  1159→  &.pulse {\n  1160→    animation: none !important;\n  1161→  }\n  1162→}\n  1163→\n  1164→.toggle-container {\n  1165→  display: flex;"}]},"uuid":"088c759f-8ef5-4911-b0c0-08c4fbf238d2","timestamp":"2025-09-17T15:38:57.554Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/sections/ReaderEditor.vue","oldString":"  .p-button-icon {\n    margin-right: var(--gap-1);\n  }","newString":"  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.button-icon-spacing {\n  margin-right: var(--gap-1);\n\n  /* Prevent any pulse animations from affecting LoadingSparkle */\n  &.pulse {\n    animation: none !important;\n  }","originalFile":"<template>\n  <div class=\"reader-editor-container\">\n    <div class=\"reader-editor\">\n      <aside class=\"toolbar vpv-variables\">\n        <ToggleButton\n          v-model=\"showMetadata\"\n          onLabel=\"Metadata\"\n          offLabel=\"Metadata\"\n          onIcon=\"pi pi-eye\"\n          offIcon=\"pi pi-eye-slash\"\n          class=\"small-button\"\n        />\n\n        <!-- Text / Markdown -->\n        <Button\n          v-if=\"isRawText || !hasTextBlocks\"\n          label=\"Enriched Text\"\n          class=\"small-extract-button\"\n          :class=\"{ disabled: textStatus === FileUploadStatusEnum.InProgress }\"\n          size=\"small\"\n          title=\"Enrich text from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessMarkdown])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                textStatus === FileUploadStatusEnum.InProgress\n                  ? 'Enriching text...'\n                  : textStatus === FileUploadStatusEnum.Failed\n                    ? 'Text enrichment failed'\n                    : 'Enrich text from document'\n              \"\n              :in-progress=\"textStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"textStatus !== FileUploadStatusEnum.InProgress\"\n            />\n          </template>\n        </Button>\n        <ToggleButton\n          v-else\n          :model-value=\"showText\"\n          onLabel=\"Enriched Text\"\n          offLabel=\"Enriched Text\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"setActiveContentType(BlockType.TEXT)\"\n        />\n\n        <!-- Images -->\n        <ToggleButton\n          v-if=\"hasImageBlocks\"\n          :model-value=\"showImage\"\n          onLabel=\"Images\"\n          offLabel=\"Images\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"\n            toggleActiveContentTypeForRawText(BlockType.IMAGE)\n          \"\n        />\n        <Button\n          v-else\n          label=\"Images\"\n          class=\"small-extract-button\"\n          :class=\"{\n            disabled: imagesStatus === FileUploadStatusEnum.InProgress,\n          }\"\n          size=\"small\"\n          title=\"Extract images from document\"\n          outlined\n          @click=\"emit('extract', [PipelineTask.ProcessImages])\"\n        >\n          <template #icon>\n            <LoadingSparkle\n              class=\"button-icon-spacing\"\n              :tooltip=\"\n                imagesStatus === FileUploadStatusEnum.InProgress\n                  ? 'Extracting images...'\n                  : imagesStatus === FileUploadStatusEnum.Failed\n                    ? 'Image extraction failed'\n                    : 'Extract images from document'\n              \"\n              :in-progress=\"imagesStatus === FileUploadStatusEnum.InProgress\"\n              :can-extract-more=\"\n                imagesStatus !== FileUploadStatusEnum.InProgress\n              \"\n            />\n          </template>\n        </Button>\n\n        <!-- Maps -->\n        <ToggleButton\n          v-if=\"hasMapBlocks\"\n          :model-value=\"showMap\"\n          onLabel=\"Maps\"\n          offLabel=\"Maps\"\n          offIcon=\"pi pi-eye-slash\"\n          onIcon=\"pi pi-eye\"\n          class=\"small-button\"\n          :disabled=\"isEditMode\"\n          @update:model-value=\"toggleActiveContentTypeForRawText(BlockType.MAP)\"\n        />\n      </aside>\n      <Meta\n        v-if=\"showMetadata\"\n        :item=\"item\"\n        :is-edit-mode=\"isEditMode\"\n        :document-facets=\"props.documentDetails.documentFacets\"\n        @update:metadata=\"\n          (key: string, value: string) => emit('update:metadata', key, value)\n        \"\n      />\n      <div class=\"flex reader-container\">\n        <div\n          v-if=\"readerView\"\n          class=\"formatted-content markdown-body\"\n          ref=\"formattedContentRef\"\n          @scroll=\"handleMainContentScroll\"\n        >\n          <div\n            v-for=\"{ originalIndex, ...block } in displayBlocks\"\n            :key=\"originalIndex\"\n            :class=\"['block', { editable: isEditMode }]\"\n            :data-block-index=\"originalIndex\"\n            @dblclick.stop=\"startEditingBlock(originalIndex)\"\n            tabindex=\"0\"\n          >\n            <Edit\n              v-if=\"editingBlockIdx === originalIndex\"\n              :block=\"block.content\"\n              :blockIndex=\"originalIndex\"\n              :canMergeWithPrevious=\"canMergeWithPrevious(originalIndex)\"\n              :canMergeWithNext=\"canMergeWithNext(originalIndex)\"\n              :canNavigateToPrevious=\"canNavigateToPrevious(originalIndex)\"\n              :canNavigateToNext=\"canNavigateToNext(originalIndex)\"\n              @saveBlockEdit=\"saveBlockEdit\"\n              @cancelBlockEdit=\"cancelBlockEdit\"\n              @deleteBlock=\"deleteBlock\"\n              @mergeWithPrevious=\"mergeWithPrevious\"\n              @mergeWithNext=\"mergeWithNext\"\n              @navigateToPrevious=\"navigateToPrevious\"\n              @navigateToNext=\"navigateToNext\"\n              @addLineBelow=\"addLineBelow\"\n            />\n            <div\n              v-else-if=\"block.type === BlockType.IMAGE && block.image\"\n              :class=\"['block-image-container', { 'block-hidden': !showImage }]\"\n              :style=\"getBlockHighlight(BlockType.IMAGE)\"\n            >\n              <DocumentImage class=\"block-image\" :data=\"block.image\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.IMAGE)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.MAP && block.map\"\n              :class=\"['block-map-container', { 'block-hidden': !showMap }]\"\n              :style=\"getBlockHighlight(BlockType.MAP)\"\n            >\n              <DocumentMap class=\"block-map\" :data=\"block.map\" />\n              <ProvenanceNumbers\n                :numbers=\"getBlockProvenanceNumbers(BlockType.MAP)\"\n              />\n            </div>\n            <div\n              v-else-if=\"block.type === BlockType.TEXT && block.html\"\n              :class=\"['block-text', { 'block-hidden': !showText }]\"\n              @click=\"handleBlockClick(originalIndex)\"\n              @keydown.enter=\"handleBlockClick(originalIndex)\"\n              @keydown.space=\"handleBlockClick(originalIndex)\"\n              tabindex=\"0\"\n              role=\"button\"\n              :aria-label=\"`Click to edit block ${originalIndex + 1}`\"\n            >\n              <span v-html=\"block.html\" class=\"block-content-inline\" />\n              <ProvenanceNumbers\n                :numbers=\"\n                  getBlockProvenanceNumbers(BlockType.TEXT, originalIndex)\n                \"\n                class=\"inline\"\n              />\n            </div>\n          </div>\n          <section class=\"scroll-padding\" />\n          <!-- Empty state -->\n          <div\n            v-if=\"\n              !showMetadata &&\n              displayBlocks.filter(block => block.content !== '').length === 0\n            \"\n            class=\"block-empty\"\n          >\n            <img\n              :src=\"getIllustrationSvg('EmptyInbox')\"\n              alt=\"Empty state image\"\n              class=\"empty-state-image\"\n            />\n            <p class=\"text-secondary\">\n              Use the toolbar above to show/hide content.\n            </p>\n          </div>\n        </div>\n        <MiniReaderStrip\n          v-if=\"\n            !isEmpty(content) && activeContentTypes.includes(BlockType.TEXT)\n          \"\n          ref=\"miniReaderStripRef\"\n          :main-content-element=\"formattedContentRef\"\n          @scroll-to-block=\"scrollToBlock\"\n          @scroll-to-position=\"scrollToPosition\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, nextTick, onMounted, onUnmounted, ref, watch } from 'vue';\nimport { isEmpty, isNil, keyBy } from 'lodash';\nimport ToggleButton from 'primevue/togglebutton';\nimport Button from 'primevue/button';\nimport {\n  BlockType,\n  getBlockType,\n  getDocumentImages,\n  getGeoRefMaps,\n  renderBlock,\n} from '@/util/Document';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport useDocumentDetails from '@/composables/useDocumentDetails';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useMap from '@/composables/useMap';\nimport useFacetSelectionColors from '@/composables/useFacetSelectionColors';\nimport {\n  DocumentEdit,\n  DocumentImage as DocumentImageType,\n  GeoRefMap,\n} from '@/types/Common';\nimport useIllustrations from '@/composables/useIllustrations';\nimport { FileUploadStatusEnum, PipelineTask } from '@/types/Types';\nimport useFileUploadStatuses from '@/composables/useFileUploadStatuses';\nimport LoadingSparkle from '@/components/shared/LoadingSparkle.vue';\nimport MiniReaderStrip from './reader-editor/MiniReaderStrip.vue';\nimport Edit from './reader-editor/Edit.vue';\nimport DocumentImage from './reader-editor/DocumentImage.vue';\nimport DocumentMap from './reader-editor/DocumentMap.vue';\nimport Meta from './reader-editor/Meta.vue';\nimport ProvenanceNumbers from './reader-editor/ProvenanceNumbers.vue';\n\nconst props = defineProps<{\n  item: FlattenedPanteraDocument;\n  content: string[];\n  documentDetails: ReturnType<typeof useDocumentDetails>;\n  facetBlockHighlights?: Map<string, Set<number>>;\n  onScrollToFirstHighlight?: () => number | null;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'update:content', value: string[], provenances: DocumentEdit[]): void;\n  (e: 'update:metadata', key: string, value: string): void;\n  (e: 'extract', pipelineTask: PipelineTask[]): void;\n}>();\n\nconst projectStore = useProjectStore();\nconst { geoRefs } = useMap(projectStore.propertyDescriptors);\nconst { getIllustrationSvg } = useIllustrations();\nconst { getSelectedFacetColor, buildFacetId } = useFacetSelectionColors();\nconst { getFileStatusFromTaskKey } = useFileUploadStatuses();\n\nconst {\n  isEditMode,\n  showMetadata,\n  setActiveContentType,\n  activeContentTypes,\n  showMap,\n  showImage,\n  showText,\n} = props.documentDetails;\n\nconst readerView = ref(true);\nconst localContent = ref(props.content);\n\nconst imagesByFilename = computed(() => {\n  const images = getDocumentImages(props.item.propertyMap);\n  return !isEmpty(images) ? keyBy(images, 'filename') : null;\n});\nconst georefMapById = computed(() => {\n  const maps = getGeoRefMaps(props.item.propertyMap, geoRefs.value);\n  return !isEmpty(maps) ? keyBy(maps, 'mapId') : null;\n});\n\nconst textStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessMarkdown],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(textStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.TEXT);\n});\n\nconst imagesStatus = computed<FileUploadStatusEnum>(\n  () =>\n    getFileStatusFromTaskKey(\n      [PipelineTask.ProcessImages],\n      props.item.propertyMap.filename.values[0],\n    ) ?? FileUploadStatusEnum.Completed,\n);\nwatch(imagesStatus, status => {\n  if (status !== FileUploadStatusEnum.Completed) return;\n  setActiveContentType(BlockType.IMAGE);\n});\n\n/**\n * Initialize block for rendering.\n * Making sure that all the blocks are properly formatted,\n * and their values are transformed to be displayed correctly\n */\ntype Block = {\n  type: BlockType;\n  content: string; // Original block for editing purposes\n  image?: DocumentImageType; // Optional image for image blocks\n  map?: GeoRefMap; // Optional map for map blocks\n  html?: string; // Optional HTML for text blocks\n  originalIndex: number; // Track original index from blocks.value for provenance block mapping\n};\nconst blocks = computed<Block[]>(() => {\n  const contentBlocks = localContent.value\n    .map((block, originalIndex) => {\n      if (isNil(block)) return null; // Skip null or undefined blocks\n      const type = getBlockType(block); // Determine the block type\n      const content: Block['content'] = block; // Keep the original block for editor purposes\n\n      if (type === BlockType.TEXT) {\n        const html: Block['html'] = renderBlock(block); // Render the markdown block to HTML\n        return { type, content, html, originalIndex };\n      }\n\n      return null; // Return null for unsupported block types\n    })\n    .filter(block => !isNil(block));\n\n  // Add image blocks from imagesByFilename\n  const imageBlocks: Block[] = [];\n  if (!isEmpty(imagesByFilename.value)) {\n    Object.values(imagesByFilename.value).forEach((image, index) => {\n      imageBlocks.push({\n        type: BlockType.IMAGE,\n        content: `![${image.filename}](${image.filename})`, // Create markdown-style content\n        image,\n        originalIndex: localContent.value.length + index, // Use content length + index for image blocks\n      });\n    });\n  }\n\n  return [...contentBlocks, ...imageBlocks];\n});\n\n// Display blocks filtered by active content type, with 10 blank lines added at the end for extra scroll space\nconst displayBlocks = computed<Block[]>(() => {\n  // Filter blocks based on active content type and track original indices\n  const filteredBlocks = blocks.value.filter(block =>\n    activeContentTypes.value.includes(block.type),\n  );\n  return filteredBlocks;\n});\n\nconst isRawText = computed(() => localContent.value.length < 2);\nconst hasTextBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.TEXT),\n);\nconst hasImageBlocks = computed(() =>\n  blocks.value.some(block => block.type === BlockType.IMAGE),\n);\n\nconst toggleActiveContentTypeForRawText = (type: BlockType) => {\n  if (\n    (isRawText.value || !hasTextBlocks.value) &&\n    activeContentTypes.value.includes(type)\n  ) {\n    setActiveContentType(BlockType.TEXT);\n  } else {\n    setActiveContentType(type);\n  }\n};\n\nconst hasMapBlocks = computed(() => !isEmpty(georefMapById.value));\n\n// --- Editing state ---\nconst editingBlockIdx = ref(-1);\n\n// --- Scroll synchronization ---\nconst formattedContentRef = ref<HTMLElement>();\nconst miniReaderStripRef = ref<{\n  updateViewport: (top: number, height: number, totalHeight: number) => void;\n  updateDimensions: () => void;\n}>();\n\n// Throttle scroll updates for better performance\nlet scrollTimeout: number | null = null;\n\n// Setup for resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\n/**\n * Handle scroll events from main content to update mini reader viewport\n */\nconst handleMainContentScroll = () => {\n  if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n  // Use requestAnimationFrame for smooth updates instead of setTimeout\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    if (!formattedContentRef.value || !miniReaderStripRef.value) return;\n\n    const { scrollTop, clientHeight, scrollHeight } = formattedContentRef.value;\n    miniReaderStripRef.value.updateViewport(\n      scrollTop,\n      clientHeight,\n      scrollHeight,\n    );\n  });\n};\n\n/**\n * Debounced resize handler for window resize events\n */\nconst handleResize = () => {\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n\n  scrollTimeout = requestAnimationFrame(() => {\n    handleMainContentScroll();\n  });\n};\n\n/**\n * Handle clicking on blocks in mini reader to scroll to that position\n */\nconst scrollToBlock = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'instant',\n      block: 'start',\n    });\n  }\n};\n\n/**\n * Smooth scroll to a specific block (for facet navigation)\n */\nconst scrollToBlockSmooth = (blockIndex: number) => {\n  if (!formattedContentRef.value) return;\n\n  // Find the corresponding block element in the main content\n  const blockElements =\n    formattedContentRef.value.querySelectorAll('[data-block-index]');\n  const targetBlock = Array.from(blockElements).find(\n    el => el.getAttribute('data-block-index') === blockIndex.toString(),\n  );\n\n  if (targetBlock) {\n    targetBlock.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n    });\n  }\n};\n\n/**\n * Handle dragging viewport indicator to scroll to specific position\n */\nconst scrollToPosition = (position: number) => {\n  if (!formattedContentRef.value) return;\n\n  formattedContentRef.value.scrollTo({\n    top: position,\n    behavior: 'instant',\n  });\n};\n\n// Watch for content changes to update mini reader viewport\nwatch(\n  () => props.content,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { immediate: true, flush: 'post' },\n);\n\nwatch(\n  () => blocks.value,\n  () => {\n    nextTick(() => {\n      if (miniReaderStripRef.value) {\n        miniReaderStripRef.value.updateDimensions();\n      }\n      // Update viewport after content changes\n      handleMainContentScroll();\n    });\n  },\n  { flush: 'post' },\n);\n\n// Initialize viewport on mount\nonMounted(() => {\n  nextTick(() => {\n    if (miniReaderStripRef.value) {\n      miniReaderStripRef.value.updateDimensions();\n    }\n    // Small delay to ensure everything is rendered\n    setTimeout(() => {\n      handleMainContentScroll();\n      // Update active highlight styling after initial render\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to first highlight if available\n        if (allHighlights.length > 0) {\n          allHighlights[0].classList.add('highlight-active');\n        }\n      }\n    }, 200);\n\n    // Set up resize observer for the main content area\n    if (formattedContentRef.value && window.ResizeObserver) {\n      resizeObserver = new ResizeObserver(handleResize);\n      resizeObserver.observe(formattedContentRef.value);\n    }\n\n    // Also listen for window resize events as a fallback\n    window.addEventListener('resize', handleResize);\n  });\n});\n\n// Cleanup on unmount\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n  window.removeEventListener('resize', handleResize);\n  if (scrollTimeout) {\n    cancelAnimationFrame(scrollTimeout);\n  }\n});\n\nconst handleContentChange = (provenances?: DocumentEdit[]) => {\n  emit('update:content', localContent.value || [], provenances || []);\n};\n\nconst startEditingBlock = (idx: number) => {\n  if (!isEditMode.value) return;\n  editingBlockIdx.value = idx;\n};\n\nconst saveBlockEdit = (editingBlockContent: string) => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  // If originalIndex is beyond current content, expand the array\n  while (localContent.value.length <= editingBlockIdx.value) {\n    localContent.value.push('');\n  }\n\n  const edit: DocumentEdit = {\n    before: localContent.value[editingBlockIdx.value] || '',\n    beforeIndex: editingBlockIdx.value,\n    after: editingBlockContent,\n    afterIndex: editingBlockIdx.value,\n  };\n\n  localContent.value[editingBlockIdx.value] = editingBlockContent;\n  handleContentChange([edit]);\n  editingBlockIdx.value = -1;\n};\n\nconst cancelBlockEdit = () => {\n  editingBlockIdx.value = -1;\n};\n\nconst handleBlockClick = (idx: number) => {\n  // If we're currently editing a different block, cancel edit mode\n  if (editingBlockIdx.value !== -1 && editingBlockIdx.value !== idx) {\n    cancelBlockEdit();\n  }\n  // If we're not editing and edit mode is enabled, start editing this block\n  else if (editingBlockIdx.value === -1 && isEditMode.value) {\n    startEditingBlock(idx);\n  }\n};\n\nconst deleteBlock = () => {\n  if (editingBlockIdx.value === -1 || !localContent.value) return;\n\n  if (editingBlockIdx.value < localContent.value.length) {\n    localContent.value.splice(editingBlockIdx.value, 1);\n    handleContentChange();\n  }\n  cancelBlockEdit();\n};\n\nconst canMergeWithPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canMergeWithNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToPrevious = (currentIndex: number): boolean => {\n  if (currentIndex <= 0 || !localContent.value) return false;\n\n  const previousBlock = blocks.value[currentIndex - 1];\n  return previousBlock?.type === BlockType.TEXT;\n};\n\nconst canNavigateToNext = (currentIndex: number): boolean => {\n  if (\n    currentIndex < 0 ||\n    !localContent.value ||\n    currentIndex >= blocks.value.length - 1\n  )\n    return false;\n\n  const nextBlock = blocks.value[currentIndex + 1];\n  return nextBlock?.type === BlockType.TEXT;\n};\n\n// Get provenance superscript numbers for a specific block\nconst getBlockProvenanceNumbers = (\n  blockType: BlockType,\n  blockIndex: number = -1,\n): { number: number; isSelected: boolean }[] => {\n  const map =\n    props.documentDetails.documentFacets\n      .getProvenanceSuperscriptForMarkdownBlockMap.value;\n\n  // For image blocks, use the special 'image' key for PROCESS_IMAGES provenance\n  if (blockType === BlockType.IMAGE) {\n    return map.get('image') || [];\n  }\n\n  // For other blocks, use the block index\n  return map.get(blockIndex) || [];\n};\n\n// Get highlight style for a block (for images/maps border highlighting)\nconst getBlockHighlight = (blockType: BlockType) => {\n  // For image blocks, get color from selected superscript numbers\n  if (blockType === BlockType.IMAGE) {\n    const superscripts = getBlockProvenanceNumbers(blockType);\n    const selectedSuperscript = superscripts.find(s => s.isSelected);\n\n    if (selectedSuperscript) {\n      // Find the provenance group with this display index\n      const groups =\n        props.documentDetails.documentFacets.getGroupedProvenanceEntries.value;\n      const group = groups.find(\n        g => g.displayIndex === selectedSuperscript.number,\n      );\n\n      if (group) {\n        // Get the color for this provenance group\n        const facetId = buildFacetId('provenance', group.value);\n        const color = getSelectedFacetColor(facetId);\n        return color ? { '--highlight-color': color } : {};\n      }\n    }\n  }\n  return {};\n};\n\nconst mergeWithPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the previous content block index\n  let previousContentIndex = originalIndex - 1;\n  while (\n    previousContentIndex >= 0 &&\n    !localContent.value[previousContentIndex]\n  ) {\n    previousContentIndex--;\n  }\n\n  if (previousContentIndex < 0) return; // No previous block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const previousBlockContent = localContent.value[previousContentIndex] || '';\n  const mergedContent = previousBlockContent + currentBlockContent;\n\n  // Update the previous block with merged content\n  localContent.value[previousContentIndex] = mergedContent;\n\n  // Delete the current block if it exists in content\n  if (originalIndex < localContent.value.length) {\n    localContent.value.splice(originalIndex, 1);\n  }\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex - 1,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst mergeWithNext = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // Find the next content block index (not display index)\n  let nextContentIndex = originalIndex + 1;\n  while (\n    nextContentIndex < localContent.value.length &&\n    !localContent.value[nextContentIndex]\n  ) {\n    nextContentIndex++;\n  }\n\n  if (nextContentIndex >= localContent.value.length) return; // No next block found\n\n  const currentBlockContent = localContent.value[originalIndex] || '';\n  const nextBlockContent = localContent.value[nextContentIndex] || '';\n\n  // Add a space if the current block doesn't end with one\n  const separator = currentBlockContent.endsWith(' ') ? '' : ' ';\n  const mergedContent = currentBlockContent + separator + nextBlockContent;\n\n  // Ensure the current block exists in content\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Update the current block with merged content\n  localContent.value[originalIndex] = mergedContent;\n\n  // Delete the next block\n  localContent.value.splice(nextContentIndex, 1);\n\n  const edit: DocumentEdit = {\n    before: currentBlockContent,\n    beforeIndex: originalIndex,\n    after: mergedContent,\n    afterIndex: originalIndex,\n  };\n\n  handleContentChange([edit]);\n  cancelBlockEdit();\n};\n\nconst navigateToPrevious = () => {\n  if (editingBlockIdx.value <= 0 || !localContent.value) return;\n\n  // Navigate to previous block\n  editingBlockIdx.value -= 1;\n};\n\nconst navigateToNext = () => {\n  if (\n    editingBlockIdx.value < 0 ||\n    !localContent.value ||\n    editingBlockIdx.value >= localContent.value.length - 1\n  )\n    return;\n\n  // Navigate to next block\n  editingBlockIdx.value += 1;\n};\n\nconst addLineBelow = () => {\n  if (editingBlockIdx.value < 0 || !localContent.value) return;\n\n  const originalIndex = editingBlockIdx.value;\n\n  // If originalIndex is beyond current content, expand the array to that point\n  while (localContent.value.length <= originalIndex) {\n    localContent.value.push('');\n  }\n\n  // Insert a new empty text block after the current block\n  const newBlockIndex = originalIndex + 1;\n  localContent.value.splice(newBlockIndex, 0, '');\n\n  // Update the content\n  handleContentChange();\n\n  // Find the display index for the new block and start editing it\n  const newDisplayIndex = displayBlocks.value.findIndex(\n    block => block.originalIndex === newBlockIndex,\n  );\n\n  if (newDisplayIndex !== -1) {\n    editingBlockIdx.value = newDisplayIndex;\n  } else {\n    cancelBlockEdit();\n  }\n};\n\n// Close editor or existing filter if editor or filter mode changes\nwatch(isEditMode, newEditMode => {\n  if (!newEditMode) {\n    cancelBlockEdit();\n  }\n});\n\nwatch(\n  () => props.content,\n  newContent => {\n    localContent.value = newContent;\n  },\n);\n\n// --- Highlight Navigation ---\n// These methods will be called from DocumentFacetsPanel\nconst currentHighlightIndex = ref(0);\n\n// Get all highlighted blocks and their positions\nconst highlightedBlocks = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return [];\n  }\n\n  const highlights: Array<{\n    blockIndex: number;\n    facetId: string;\n    color: string;\n  }> = [];\n\n  props.facetBlockHighlights.forEach((blockSet, facetId) => {\n    blockSet.forEach(blockIndex => {\n      const color = getSelectedFacetColor(facetId);\n      highlights.push({\n        blockIndex,\n        facetId,\n        color: color || 'var(--primary-color)',\n      });\n    });\n  });\n\n  // Sort by block index for consistent navigation\n  const sorted = highlights.sort((a, b) => a.blockIndex - b.blockIndex);\n  return sorted;\n});\n\n// Get the currently active highlight marker element\nconst currentActiveHighlight = computed(() => {\n  if (\n    currentHighlightIndex.value < 0 ||\n    currentHighlightIndex.value >= highlightedBlocks.value.length\n  ) {\n    return null;\n  }\n  return highlightedBlocks.value[currentHighlightIndex.value];\n});\n\n// Calculate total highlights by counting actual rendered highlights\nconst totalHighlights = computed(() => {\n  if (!props.facetBlockHighlights) {\n    return 0;\n  }\n\n  // Count actual rendered highlights in the DOM\n  if (formattedContentRef.value) {\n    const allHighlights = formattedContentRef.value.querySelectorAll(\n      'mark, .highlight-level-2',\n    );\n    const total = allHighlights.length;\n    return total;\n  }\n\n  // Fallback to block-based counting if DOM not available\n  let total = 0;\n  props.facetBlockHighlights.forEach(blockSet => {\n    total += blockSet.size;\n  });\n\n  return total;\n});\n\nconst hasHighlights = computed(() => totalHighlights.value > 0);\n\n// Navigate to a specific highlight\nconst goToHighlight = (index: number) => {\n  if (index < 0 || index >= totalHighlights.value) return;\n\n  currentHighlightIndex.value = index;\n  const highlight = highlightedBlocks.value[index];\n\n  if (highlight && formattedContentRef.value) {\n    // Find the block element and scroll to it\n    const blockElements =\n      formattedContentRef.value.querySelectorAll('[data-block-index]');\n    const targetBlock = Array.from(blockElements).find(\n      el =>\n        el.getAttribute('data-block-index') === highlight.blockIndex.toString(),\n    );\n\n    if (targetBlock) {\n      targetBlock.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n\n    // Update the active highlight styling\n    nextTick(() => {\n      // Remove active class from all highlights\n      if (!formattedContentRef.value) return;\n\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlightElement => {\n        highlightElement.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight\n      if (currentActiveHighlight.value && currentHighlightIndex.value >= 0) {\n        // Get all highlights in order and mark the current one as active\n        const allHighlightsArray = Array.from(allHighlights);\n\n        if (currentHighlightIndex.value < allHighlightsArray.length) {\n          const activeHighlight =\n            allHighlightsArray[currentHighlightIndex.value];\n          if (activeHighlight) {\n            activeHighlight.classList.add('highlight-active');\n          }\n        }\n      }\n    });\n  }\n};\n\n// Navigate to previous highlight\nconst goToPreviousHighlight = () => {\n  if (currentHighlightIndex.value > 0) {\n    goToHighlight(currentHighlightIndex.value - 1);\n  }\n};\n\n// Navigate to next highlight\nconst goToNextHighlight = () => {\n  if (currentHighlightIndex.value < totalHighlights.value - 1) {\n    goToHighlight(currentHighlightIndex.value + 1);\n  }\n};\n\n// Auto-scroll to first highlight when highlights change\nwatch(\n  highlightedBlocks,\n  newHighlights => {\n    if (newHighlights.length > 0) {\n      // Reset to first highlight and scroll to it\n      currentHighlightIndex.value = 0;\n      nextTick(() => {\n        // Use parent's scroll method if available, otherwise use local method\n        if (props.onScrollToFirstHighlight) {\n          const firstBlockIndex = props.onScrollToFirstHighlight();\n          if (firstBlockIndex !== null) {\n            goToHighlight(0);\n          }\n        } else {\n          goToHighlight(0);\n        }\n        // Update active highlight styling\n        if (formattedContentRef.value) {\n          // Remove active class from all highlights\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n\n          // Add active class to first highlight\n          if (allHighlights.length > 0) {\n            allHighlights[0].classList.add('highlight-active');\n          }\n        }\n      });\n    } else {\n      currentHighlightIndex.value = 0;\n      // Clear active highlight styling when no highlights\n      nextTick(() => {\n        if (formattedContentRef.value) {\n          const allHighlights = formattedContentRef.value.querySelectorAll(\n            'mark, .highlight-level-2',\n          );\n          allHighlights.forEach(highlight => {\n            highlight.classList.remove('highlight-active');\n          });\n        }\n      });\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for changes in facetBlockHighlights prop\nwatch(\n  () => props.facetBlockHighlights,\n  () => {\n    // Trigger highlight navigation updates when highlights change\n    nextTick(() => {\n      if (formattedContentRef.value) {\n        // Remove active class from all highlights\n        const allHighlights = formattedContentRef.value.querySelectorAll(\n          'mark, .highlight-level-2',\n        );\n        allHighlights.forEach(highlight => {\n          highlight.classList.remove('highlight-active');\n        });\n\n        // Add active class to current highlight if available\n        if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n          const activeIndex = Math.min(\n            currentHighlightIndex.value,\n            allHighlights.length - 1,\n          );\n          allHighlights[activeIndex].classList.add('highlight-active');\n        }\n      }\n    });\n  },\n  { deep: true, immediate: true },\n);\n\n// Watch for changes in currentHighlightIndex to update styling\nwatch(currentHighlightIndex, () => {\n  nextTick(() => {\n    if (formattedContentRef.value) {\n      // Remove active class from all highlights\n      const allHighlights = formattedContentRef.value.querySelectorAll(\n        'mark, .highlight-level-2',\n      );\n      allHighlights.forEach(highlight => {\n        highlight.classList.remove('highlight-active');\n      });\n\n      // Add active class to current highlight if available\n      if (currentHighlightIndex.value >= 0 && allHighlights.length > 0) {\n        const activeIndex = Math.min(\n          currentHighlightIndex.value,\n          allHighlights.length - 1,\n        );\n        allHighlights[activeIndex].classList.add('highlight-active');\n      }\n    }\n  });\n});\n\n// Expose highlight navigation methods for parent component\ndefineExpose({\n  currentHighlightIndex,\n  totalHighlights,\n  hasHighlights,\n  goToPreviousHighlight,\n  goToNextHighlight,\n  scrollToBlock,\n  scrollToBlockSmooth,\n});\n</script>\n\n<style scoped>\n.reader-container {\n  height: calc(100% - var(--vpv-toolbar-size));\n  overflow: hidden;\n  display: flex;\n}\n.reader-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.reader-editor {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\naside {\n  display: flex;\n  align-items: center;\n  gap: var(--gap-2);\n  background-color: color-mix(in srgb, var(--surface-2) 80%, transparent);\n  border-left: 1px solid var(--surface-border-light);\n  backdrop-filter: blur(6px);\n  position: sticky;\n  padding: var(--gap-2);\n  top: 0;\n  z-index: 10;\n  height: var(--vpv-toolbar-size); /* Adjust height to match toolbar size */\n}\n\n:deep(.p-togglebutton) {\n  display: inline;\n  .p-button-label,\n  .p-button-icon {\n    font-size: var(--text-size-small);\n  }\n\n  .p-button-icon {\n    margin-right: var(--gap-1);\n  }\n}\n\n.toggle-container {\n  display: flex;\n  align-items: center;\n}\n\n.toggle-label {\n  color: var(--text-color);\n}\n\n.toolbar {\n  flex-shrink: 0;\n}\n\n.small-button:deep(.p-button) {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n}\n\nbutton.small-extract-button {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--border-radius-small);\n  background: var(--surface-50);\n  border: 1px solid var(--surface-200);\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n\n  &:hover {\n    background: var(--surface-100);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n}\n\n.formatted-content {\n  line-height: 1.5;\n  padding: 0.5rem;\n  flex: 1;\n  min-width: 0;\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.scroll-padding {\n  padding-bottom: 13rem;\n}\n\n/* Raw content */\n.raw-content {\n  width: calc(100% - 80px);\n  height: calc(100% - 6rem);\n  min-height: calc(100% - 2rem);\n  padding: 0.5rem;\n  white-space: pre-wrap;\n  font-family: monospace;\n  font-size: var(--text-size-small);\n  line-height: 1.5;\n  background: transparent;\n  border: 2px solid transparent;\n  opacity: 1 !important; /* Prevent fade when not in edit mode */\n}\n.raw-content:read-only {\n  cursor: default;\n}\n.raw-content:not(:read-only) {\n  cursor: text;\n  border: 2px solid var(--primary-color);\n  background: var(--surface-2);\n}\n\n/* Reader view */\n.block {\n  margin: 0;\n  border-radius: var(--border-radius-small);\n  position: relative;\n}\n\n[class*='block-'] {\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n}\n\n.block-image-container,\n.block-map-container {\n  display: flex;\n  align-items: flex-start;\n  gap: var(--gap-2);\n  margin: var(--gap-2) 0;\n\n  &.block-hidden {\n    display: none;\n    overflow: hidden;\n  }\n\n  .block-image,\n  .block-map {\n    flex: 1;\n    margin: 0;\n  }\n}\n\n.block-image-container[style*='--highlight-color'] .block-image,\n.block-map-container[style*='--highlight-color'] .block-map {\n  border: 2px solid var(--highlight-color, var(--primary-color));\n  border-radius: var(--border-radius);\n  transition: border-color 0.2s ease;\n}\n\n.block-text {\n  margin: 0 var(--gap-2);\n}\n\n:deep(.block code) {\n  white-space: normal;\n}\n\n.block.editable {\n  cursor: pointer;\n}\n\n:deep(.block.editable:hover) {\n  background-color: color-mix(in srgb, var(--surface-1) 80%, transparent);\n}\n\n/* Markdown styles */\n\n:deep(table) {\n  border-collapse: collapse;\n  width: 100%;\n  background-color: color-mix(in srgb, var(--surface-1) 50%, var(--surface-2));\n  margin: 1rem 0;\n}\n:deep(th),\n:deep(td) {\n  border: 1px solid var(--surface-border-light);\n  padding: 0.125rem 0.5rem;\n  text-align: left;\n}\n:deep(th) {\n  background-color: var(--surface-3);\n  font-weight: 600;\n}\n\n.inline-editor {\n  background: var(--surface-1);\n  padding: 1rem;\n  border-radius: var(--border-radius);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  min-width: 300px;\n}\n\n:deep(h1) {\n  font-size: 1.5rem;\n  line-height: 1.35;\n}\n:deep(h2) {\n  font-size: 1.25rem;\n  line-height: 1.35;\n}\n:deep(h3) {\n  font-size: 1rem;\n  line-height: 1.35;\n}\n:deep(h4) {\n  font-size: 0.875rem;\n  line-height: 1.25;\n}\n:deep(table) {\n  margin: 0;\n}\n\n:deep(mark),\n:deep(pre) {\n  background: var(--surface-c);\n  border: 1px solid var(--surface-border);\n  padding: 0 0.25rem;\n  border-radius: var(--border-radius-small);\n  font-size: 13px;\n  font-family: var(--font-family);\n}\n\n/* Active highlight styling */\n:deep(.highlight-active) {\n  border-bottom: 3px solid var(--text-color-secondary);\n  transition: border-bottom-color 0.2s ease;\n}\n\n/* Block empty state styles */\n.block-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: var(--gap-6);\n  text-align: center;\n  min-height: 100%;\n  color: var(--text-color-secondary);\n  border-radius: var(--border-radius);\n  margin: var(--gap-4) 0;\n  user-select: none;\n}\n\n.block-empty .empty-state-image {\n  width: 150px;\n  height: auto;\n  margin-bottom: var(--gap-3);\n  opacity: 0.6;\n}\n\n.block-empty p {\n  font-size: var(--text-size-small);\n  margin: 0;\n  font-weight: 500;\n}\n\n/* Provenance superscript numbers inline within text blocks */\n.block-content-inline :deep(p),\n.block-content-inline :deep(div),\n.block-content-inline :deep(h1),\n.block-content-inline :deep(h2),\n.block-content-inline :deep(h3),\n.block-content-inline :deep(h4),\n.block-content-inline :deep(h5),\n.block-content-inline :deep(h6) {\n  display: inline;\n  margin: 0;\n  padding: 0;\n}\n\n.block {\n  position: relative;\n}\n</style>\n","structuredPatch":[{"oldStart":1152,"oldLines":6,"newStart":1152,"newLines":15,"lines":["   }"," }"," ","+.button-icon-spacing {","+  margin-right: var(--gap-1);","+","+  /* Prevent any pulse animations from affecting LoadingSparkle */","+  &.pulse {","+    animation: none !important;","+  }","+}","+"," .toggle-container {","   display: flex;","   align-items: center;"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"088c759f-8ef5-4911-b0c0-08c4fbf238d2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01FiyvkrpAsAHVKhBsq3qCEh","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_017avfiTtspbY6uXfFaLosFq","name":"TodoWrite","input":{"todos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"completed","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"completed","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":532,"cache_read_input_tokens":115763,"cache_creation":{"ephemeral_5m_input_tokens":532,"ephemeral_1h_input_tokens":0},"output_tokens":186,"service_tier":"standard"}},"requestId":"req_011CTEDuzKEPoc4QQbmmjhd5","type":"assistant","uuid":"6b7e595a-48cc-476f-8321-d1362f176927","timestamp":"2025-09-17T15:39:01.754Z"}
{"parentUuid":"6b7e595a-48cc-476f-8321-d1362f176927","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017avfiTtspbY6uXfFaLosFq","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"45dd479a-d1fe-49a2-b8ef-8757b9f60994","timestamp":"2025-09-17T15:39:01.802Z","toolUseResult":{"oldTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"in_progress","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"pending","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"completed","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"completed","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"45dd479a-d1fe-49a2-b8ef-8757b9f60994","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_016fvDrmgZi2pVjQeWoZ1WcJ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01DrGq5meriwGgvs6PfPpdqo","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":388,"cache_read_input_tokens":116295,"cache_creation":{"ephemeral_5m_input_tokens":388,"ephemeral_1h_input_tokens":0},"output_tokens":74,"service_tier":"standard"}},"requestId":"req_011CTEDvJHU3swAbC95XpFHp","type":"assistant","uuid":"bbd6c436-253e-4f52-8952-440fdc9a4168","timestamp":"2025-09-17T15:39:05.685Z"}
{"parentUuid":"bbd6c436-253e-4f52-8952-440fdc9a4168","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DrGq5meriwGgvs6PfPpdqo","type":"tool_result","content":"Done in 4s 655ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 54ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 37ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 45ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 74ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 628ms","is_error":false}]},"uuid":"d7e991ed-691e-4514-a522-0d1a867fe2af","timestamp":"2025-09-17T15:39:15.073Z","toolUseResult":{"stdout":"Done in 4s 655ms\n[@uncharted/pantera-hmi]: playwright/index.ts 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 54ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 37ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 32ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 45ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 31ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 74ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 24ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 1ms (unchanged)\nDone in 2s 628ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"d7e991ed-691e-4514-a522-0d1a867fe2af","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_014ZJYUWvU6Da8kxVk5CJgU1","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01SWuN2PDboNggCvNQQaAAwG","name":"TodoWrite","input":{"todos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"completed","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"completed","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":7668,"cache_read_input_tokens":116683,"cache_creation":{"ephemeral_5m_input_tokens":7668,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTEDwGsfJvQQ3xsH7Jwfn","type":"assistant","uuid":"d06f88ef-39c9-4078-b0bf-e19ee7cffe2b","timestamp":"2025-09-17T15:39:21.177Z"}
{"parentUuid":"d06f88ef-39c9-4078-b0bf-e19ee7cffe2b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SWuN2PDboNggCvNQQaAAwG","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"c9b4010a-2443-4c27-8f04-888d5d9aaadb","timestamp":"2025-09-17T15:39:21.229Z","toolUseResult":{"oldTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"completed","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"completed","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Fix spacing between LoadingSparkle and button text","status":"completed","activeForm":"Fixing spacing between LoadingSparkle and button text"},{"content":"Add CSS for button icon spacing","status":"completed","activeForm":"Adding CSS for button icon spacing"},{"content":"Remove pulse class from LoadingSparkle","status":"completed","activeForm":"Removing pulse class from LoadingSparkle"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"c9b4010a-2443-4c27-8f04-888d5d9aaadb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"style-use-sparkle-in-reader-button","message":{"id":"msg_01Rboi254cdPnxcn4YeVL8Pe","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully fixed both issues with the ReaderEditor header buttons:\n\n## Fixed Issues:\n\n1. **Restored proper spacing** between the LoadingSparkle icon and button text by:\n   - Adding `class=\"button-icon-spacing\"` to both LoadingSparkle components\n   - Creating CSS rule `.button-icon-spacing` with `margin-right: var(--gap-1)` to match PrimeVue's button icon spacing\n\n2. **Prevented pulse animation conflicts** by:\n   - Adding CSS rule `&.pulse { animation: none !important; }` to the `.button-icon-spacing` class\n   - This ensures that if any pulse class gets applied to the LoadingSparkle, it won't interfere with the component's own pulsing animation\n\n## Updated Components:\n\n- **\"Enriched Text\" button**: Now uses LoadingSparkle with proper spacing and contextual tooltips\n- **\"Images\" button**: Now uses LoadingSparkle with proper spacing and contextual tooltips\n\nThe LoadingSparkle components now have:\n- Proper spacing that matches the original button design\n- Context-aware tooltips that change based on processing status\n- Built-in pulsing animation when `in-progress={true}`\n- Protection against external CSS pulse classes\n- The 500ms tooltip delay we added earlier"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":306,"cache_read_input_tokens":124351,"cache_creation":{"ephemeral_5m_input_tokens":306,"ephemeral_1h_input_tokens":0},"output_tokens":306,"service_tier":"standard"}},"requestId":"req_011CTEDwjFAtyyrd5bNYrzHb","type":"assistant","uuid":"22daaac2-ac49-45c0-878d-d35708608885","timestamp":"2025-09-17T15:39:30.574Z"}
{"parentUuid":"22daaac2-ac49-45c0-878d-d35708608885","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":"where from a property key I can get its display name in js"},"uuid":"d1ea80e8-3cdb-49ff-8851-66fd6d9bba3d","timestamp":"2025-09-17T18:33:47.088Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"d1ea80e8-3cdb-49ff-8851-66fd6d9bba3d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01K4ZhuPztVYTwSGDPcw5VpN","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"To get the display name from a property key in JavaScript, you'll typically use a service or utility function. Let me search for how property display names are handled in this codebase."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":121760,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":121760,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETFDCv9syZnGzCva1vF","type":"assistant","uuid":"8d306e4f-0b96-496d-9227-461d9708d5cc","timestamp":"2025-09-17T18:33:56.778Z"}
{"parentUuid":"8d306e4f-0b96-496d-9227-461d9708d5cc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01K4ZhuPztVYTwSGDPcw5VpN","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01QTy5SXcd4vpEZA41yokc4q","name":"Grep","input":{"pattern":"displayName|display.*name|getDisplayName","output_mode":"files_with_matches","head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":121760,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":121760,"ephemeral_1h_input_tokens":0},"output_tokens":142,"service_tier":"standard"}},"requestId":"req_011CTETFDCv9syZnGzCva1vF","type":"assistant","uuid":"e6dad8f4-ec70-4479-b13a-a2140c677733","timestamp":"2025-09-17T18:33:57.782Z"}
{"parentUuid":"e6dad8f4-ec70-4479-b13a-a2140c677733","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QTy5SXcd4vpEZA41yokc4q","type":"tool_result","content":"Found 10 files\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderPlaceholder.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderGroup.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProvenanceFacet.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/TextFeature.java\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/LocalityFeature.java\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/LARAGeoreferencedResourceFeature.java\n/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/FacetsUtil.test.ts"}]},"uuid":"2546f85f-c0f3-48e8-b4a3-653e0db98cd8","timestamp":"2025-09-17T18:33:57.920Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderPlaceholder.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderGroup.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProvenanceFacet.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue","/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/TextFeature.java","/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/LocalityFeature.java","/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/LARAGeoreferencedResourceFeature.java","/Users/yparis/Developer/atlantis/modules/client/tests/unit/util/FacetsUtil.test.ts"],"numFiles":10}}
{"parentUuid":"2546f85f-c0f3-48e8-b4a3-653e0db98cd8","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01U6tyNGXm4P49aMe4CPMJPW","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01SQcUS3FnvvtDuJ1AGwL3ox","name":"Grep","input":{"pattern":"PropertyDescriptorService","output_mode":"files_with_matches","head_limit":5}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":503,"cache_read_input_tokens":126562,"cache_creation":{"ephemeral_5m_input_tokens":503,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTETG1WVBDEtsupBzEw8e","type":"assistant","uuid":"9f701c15-084c-41ab-8cac-5e4d9113e7ed","timestamp":"2025-09-17T18:34:00.864Z"}
{"parentUuid":"9f701c15-084c-41ab-8cac-5e4d9113e7ed","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SQcUS3FnvvtDuJ1AGwL3ox","type":"tool_result","content":"Found 5 files\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue\n/Users/yparis/Developer/atlantis/modules/client/src/util/Document.ts\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/DocumentDetailsView.vue\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/search/SearchSetTests.java"}]},"uuid":"3491e982-5ed3-4227-b6cc-a4fb8c759562","timestamp":"2025-09-17T18:34:00.972Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue","/Users/yparis/Developer/atlantis/modules/client/src/util/Document.ts","/Users/yparis/Developer/atlantis/modules/client/src/views/project/DocumentDetailsView.vue","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/search/SearchSetTests.java"],"numFiles":5}}
{"parentUuid":"3491e982-5ed3-4227-b6cc-a4fb8c759562","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_019D53FToGQTie8nN9qLp8km","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check the PropertyDescriptorService to see what methods it provides:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":275,"cache_read_input_tokens":127065,"cache_creation":{"ephemeral_5m_input_tokens":275,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETGEZYkkQTRR2duTqwd","type":"assistant","uuid":"334b2f8e-799b-49d1-813f-347b85a85efe","timestamp":"2025-09-17T18:34:05.909Z"}
{"parentUuid":"334b2f8e-799b-49d1-813f-347b85a85efe","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_019D53FToGQTie8nN9qLp8km","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01UZiwCt8v9QYWomEGt12WNY","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/services/PropertyDescriptorService.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":275,"cache_read_input_tokens":127065,"cache_creation":{"ephemeral_5m_input_tokens":275,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETGEZYkkQTRR2duTqwd","type":"assistant","uuid":"e660d696-0b8d-4a7c-be09-d485370a2683","timestamp":"2025-09-17T18:34:06.391Z"}
{"parentUuid":"e660d696-0b8d-4a7c-be09-d485370a2683","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UZiwCt8v9QYWomEGt12WNY","type":"tool_result","content":"     1→import { PropertyDescriptor, PropertyTag } from '@/types/Types';\n     2→\n     3→/**\n     4→ * Tests if a property descriptor has a tag\n     5→ * @param propertyDescriptor  the property descriptor instance\n     6→ * @param tag                 the tag to test for\n     7→ */\n     8→function hasTag(propertyDescriptor: PropertyDescriptor, tag: PropertyTag) {\n     9→  return propertyDescriptor.tags.includes(tag);\n    10→}\n    11→\n    12→/**\n    13→ * Tests if a property descriptor has any of the tags\n    14→ * @param propertyDescriptor  the property descriptor instance\n    15→ * @param tags                the tags to test for\n    16→ */\n    17→function hasAnyTag(\n    18→  propertyDescriptor: PropertyDescriptor,\n    19→  tags: PropertyTag[],\n    20→): boolean {\n    21→  for (const tag of tags) {\n    22→    if (hasTag(propertyDescriptor, tag)) {\n    23→      return true;\n    24→    }\n    25→  }\n    26→  return false;\n    27→}\n    28→\n    29→/**\n    30→ * Tests if a property descriptor has all of the tags\n    31→ * @param propertyDescriptor  the property descriptor instance\n    32→ * @param tags                the tags to test for\n    33→ */\n    34→function hasAllTags(\n    35→  propertyDescriptor: PropertyDescriptor,\n    36→  tags: PropertyTag[],\n    37→): boolean {\n    38→  for (const tag of tags) {\n    39→    if (!hasTag(propertyDescriptor, tag)) {\n    40→      return false;\n    41→    }\n    42→  }\n    43→  return true;\n    44→}\n    45→\n    46→/**\n    47→ * Formats a property value based on the property descriptor\n    48→ * @param propertyDescriptor  the property descriptor instance\n    49→ * @param value               the value to format\n    50→ */\n    51→function format(propertyDescriptor: PropertyDescriptor, value: string): string {\n    52→  if (hasTag(propertyDescriptor, PropertyTag.Date)) {\n    53→    // Dates are assumed to be a timestamp millis, if not, display the value as is\n    54→    try {\n    55→      const millisAsInt = parseInt(value, 10);\n    56→      if (millisAsInt.toString(10) !== value) {\n    57→        return value;\n    58→      }\n    59→      const date = new Date(millisAsInt);\n    60→      const options: Intl.DateTimeFormatOptions = {\n    61→        year: 'numeric',\n    62→        month: '2-digit',\n    63→        day: '2-digit',\n    64→        hour: '2-digit',\n    65→        minute: '2-digit',\n    66→        second: '2-digit',\n    67→        hour12: true,\n    68→        timeZoneName: 'short',\n    69→      };\n    70→      const formattedDate = new Intl.DateTimeFormat('en-US', options).format(\n    71→        date,\n    72→      );\n    73→      return formattedDate.replace(',', ''); // Remove the comma after the day\n    74→    } catch (e) {\n    75→      return value;\n    76→    }\n    77→  }\n    78→  if (hasTag(propertyDescriptor, PropertyTag.Image)) {\n    79→    return value.replace(/‑/g, '-');\n    80→  }\n    81→  return value;\n    82→}\n    83→\n    84→/**\n    85→ * Find a property descriptor key by tag\n    86→ * @param propertyDescriptors  the list property descriptor instances\n    87→ * @param tag                  the tag to search for\n    88→ * @returns the first matching property descriptor key if found, otherwise undefined\n    89→ */\n    90→export function findKeyByTag(\n    91→  propertyDescriptors: PropertyDescriptor[],\n    92→  tag: PropertyTag,\n    93→): PropertyDescriptor['key'] | undefined {\n    94→  for (const propertyDescriptor of propertyDescriptors) {\n    95→    if (hasTag(propertyDescriptor, tag)) {\n    96→      return propertyDescriptor.key;\n    97→    }\n    98→  }\n    99→  return undefined;\n   100→}\n   101→\n   102→/**\n   103→ * Find a property descriptor key by tag\n   104→ * @param propertyDescriptors  the list property descriptor instances\n   105→ * @param tag                  the tag to search for\n   106→ * @returns all matching property descriptors, otherwise empty array\n   107→ */\n   108→export function findByTag(\n   109→  propertyDescriptors: PropertyDescriptor[],\n   110→  tag: PropertyTag,\n   111→): PropertyDescriptor[] {\n   112→  const result: PropertyDescriptor[] = [];\n   113→  for (const propertyDescriptor of propertyDescriptors) {\n   114→    if (hasTag(propertyDescriptor, tag)) {\n   115→      result.push(propertyDescriptor);\n   116→    }\n   117→  }\n   118→  return result;\n   119→}\n   120→\n   121→export default {\n   122→  hasTag,\n   123→  hasAnyTag,\n   124→  hasAllTags,\n   125→  findByTag,\n   126→  findKeyByTag,\n   127→  format,\n   128→};\n   129→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"13eeb1f4-c9b3-42b0-b0fe-c229ef713f5f","timestamp":"2025-09-17T18:34:06.512Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/services/PropertyDescriptorService.ts","content":"import { PropertyDescriptor, PropertyTag } from '@/types/Types';\n\n/**\n * Tests if a property descriptor has a tag\n * @param propertyDescriptor  the property descriptor instance\n * @param tag                 the tag to test for\n */\nfunction hasTag(propertyDescriptor: PropertyDescriptor, tag: PropertyTag) {\n  return propertyDescriptor.tags.includes(tag);\n}\n\n/**\n * Tests if a property descriptor has any of the tags\n * @param propertyDescriptor  the property descriptor instance\n * @param tags                the tags to test for\n */\nfunction hasAnyTag(\n  propertyDescriptor: PropertyDescriptor,\n  tags: PropertyTag[],\n): boolean {\n  for (const tag of tags) {\n    if (hasTag(propertyDescriptor, tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Tests if a property descriptor has all of the tags\n * @param propertyDescriptor  the property descriptor instance\n * @param tags                the tags to test for\n */\nfunction hasAllTags(\n  propertyDescriptor: PropertyDescriptor,\n  tags: PropertyTag[],\n): boolean {\n  for (const tag of tags) {\n    if (!hasTag(propertyDescriptor, tag)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Formats a property value based on the property descriptor\n * @param propertyDescriptor  the property descriptor instance\n * @param value               the value to format\n */\nfunction format(propertyDescriptor: PropertyDescriptor, value: string): string {\n  if (hasTag(propertyDescriptor, PropertyTag.Date)) {\n    // Dates are assumed to be a timestamp millis, if not, display the value as is\n    try {\n      const millisAsInt = parseInt(value, 10);\n      if (millisAsInt.toString(10) !== value) {\n        return value;\n      }\n      const date = new Date(millisAsInt);\n      const options: Intl.DateTimeFormatOptions = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: true,\n        timeZoneName: 'short',\n      };\n      const formattedDate = new Intl.DateTimeFormat('en-US', options).format(\n        date,\n      );\n      return formattedDate.replace(',', ''); // Remove the comma after the day\n    } catch (e) {\n      return value;\n    }\n  }\n  if (hasTag(propertyDescriptor, PropertyTag.Image)) {\n    return value.replace(/‑/g, '-');\n  }\n  return value;\n}\n\n/**\n * Find a property descriptor key by tag\n * @param propertyDescriptors  the list property descriptor instances\n * @param tag                  the tag to search for\n * @returns the first matching property descriptor key if found, otherwise undefined\n */\nexport function findKeyByTag(\n  propertyDescriptors: PropertyDescriptor[],\n  tag: PropertyTag,\n): PropertyDescriptor['key'] | undefined {\n  for (const propertyDescriptor of propertyDescriptors) {\n    if (hasTag(propertyDescriptor, tag)) {\n      return propertyDescriptor.key;\n    }\n  }\n  return undefined;\n}\n\n/**\n * Find a property descriptor key by tag\n * @param propertyDescriptors  the list property descriptor instances\n * @param tag                  the tag to search for\n * @returns all matching property descriptors, otherwise empty array\n */\nexport function findByTag(\n  propertyDescriptors: PropertyDescriptor[],\n  tag: PropertyTag,\n): PropertyDescriptor[] {\n  const result: PropertyDescriptor[] = [];\n  for (const propertyDescriptor of propertyDescriptors) {\n    if (hasTag(propertyDescriptor, tag)) {\n      result.push(propertyDescriptor);\n    }\n  }\n  return result;\n}\n\nexport default {\n  hasTag,\n  hasAnyTag,\n  hasAllTags,\n  findByTag,\n  findKeyByTag,\n  format,\n};\n","numLines":129,"startLine":1,"totalLines":129}}}
{"parentUuid":"13eeb1f4-c9b3-42b0-b0fe-c229ef713f5f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01Nuuexp6F9Y2LWb6hrm2XH1","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check some of the components that use display names to see how they get them:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":1613,"cache_read_input_tokens":127340,"cache_creation":{"ephemeral_5m_input_tokens":1613,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CTETGeGKsswMRhLhGjHfL","type":"assistant","uuid":"16aea748-0220-4ff6-ae18-1c85abd16b03","timestamp":"2025-09-17T18:34:09.881Z"}
{"parentUuid":"16aea748-0220-4ff6-ae18-1c85abd16b03","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01Nuuexp6F9Y2LWb6hrm2XH1","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01ULJntFELeBPCN2r4SWZuWv","name":"Grep","input":{"pattern":"getDisplayName|displayName\"","output_mode":"content","-n":true,"head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":1613,"cache_read_input_tokens":127340,"cache_creation":{"ephemeral_5m_input_tokens":1613,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}},"requestId":"req_011CTETGeGKsswMRhLhGjHfL","type":"assistant","uuid":"f236bf5c-2b0e-437b-bc0d-6877b35b5b8c","timestamp":"2025-09-17T18:34:10.901Z"}
{"parentUuid":"f236bf5c-2b0e-437b-bc0d-6877b35b5b8c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01ULJntFELeBPCN2r4SWZuWv","type":"tool_result","content":"/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/util/ValidatorUtil.java:52:      map.put(f.getClass().getSimpleName(), f.getDisplayName())\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:47:    <span v-if=\"displayName\">\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:49:        v-if=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:50:        :text=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetSelectionChips.vue:15:    :display-name=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/ObjectFeature.java:21:  public String getDisplayName() {\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:73:                  :facet-display-name=\"facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:126:                :facet-display-name=\"item.facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:160:                :facet-display-name=\"item.facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/IDFeature.java:16:  public String getDisplayName() {"}]},"uuid":"26135585-e646-4062-bda7-29f579afae94","timestamp":"2025-09-17T18:34:11.001Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/util/ValidatorUtil.java:52:      map.put(f.getClass().getSimpleName(), f.getDisplayName())\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:47:    <span v-if=\"displayName\">\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:49:        v-if=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/FilterChip.vue:50:        :text=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetSelectionChips.vue:15:    :display-name=\"displayName\"\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/ObjectFeature.java:21:  public String getDisplayName() {\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:73:                  :facet-display-name=\"facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:126:                :facet-display-name=\"item.facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/DocumentFacetsPanel.vue:160:                :facet-display-name=\"item.facet.displayName\"\n/Users/yparis/Developer/atlantis/modules/common/src/main/java/software/uncharted/pipeline/common/features/IDFeature.java:16:  public String getDisplayName() {","numLines":10}}
{"parentUuid":"26135585-e646-4062-bda7-29f579afae94","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_017opA3x8gsN9XtKnAKRkXWW","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check the PropertyDescriptor type to see what fields it has:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":709,"cache_read_input_tokens":128953,"cache_creation":{"ephemeral_5m_input_tokens":709,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard"}},"requestId":"req_011CTETGyUUUvurZACwp8Esm","type":"assistant","uuid":"538ff6f4-922d-43f7-8c57-615f6f437f8e","timestamp":"2025-09-17T18:34:14.011Z"}
{"parentUuid":"538ff6f4-922d-43f7-8c57-615f6f437f8e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_017opA3x8gsN9XtKnAKRkXWW","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01FcyV5gsgdHFbYcfWpukc5T","name":"Grep","input":{"pattern":"PropertyDescriptor.*=|interface PropertyDescriptor\"","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":709,"cache_read_input_tokens":128953,"cache_creation":{"ephemeral_5m_input_tokens":709,"ephemeral_1h_input_tokens":0},"output_tokens":115,"service_tier":"standard"}},"requestId":"req_011CTETGyUUUvurZACwp8Esm","type":"assistant","uuid":"f59dd342-7cef-442b-93bf-ada66460621f","timestamp":"2025-09-17T18:34:14.823Z"}
{"parentUuid":"f59dd342-7cef-442b-93bf-ada66460621f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01FcyV5gsgdHFbYcfWpukc5T","type":"tool_result","content":"/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs:6:var plugin=(()=>{var yr=Object.create;var we=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Er=Object.getOwnPropertyNames;var br=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var W=(e=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(e,{get:(r,t)=>(typeof require<\"u\"?require:r)[t]}):e)(function(e){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var q=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Cr=(e,r)=>{for(var t in r)we(e,t,{get:r[t],enumerable:!0})},Je=(e,r,t,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let s of Er(r))!xr.call(e,s)&&s!==t&&we(e,s,{get:()=>r[s],enumerable:!(n=_r(r,s))||n.enumerable});return e};var Be=(e,r,t)=>(t=e!=null?yr(br(e)):{},Je(r||!e||!e.__esModule?we(t,\"default\",{value:e,enumerable:!0}):t,e)),wr=e=>Je(we({},\"__esModule\",{value:!0}),e);var ve=q(ee=>{\"use strict\";ee.isInteger=e=>typeof e==\"number\"?Number.isInteger(e):typeof e==\"string\"&&e.trim()!==\"\"?Number.isInteger(Number(e)):!1;ee.find=(e,r)=>e.nodes.find(t=>t.type===r);ee.exceedsLimit=(e,r,t=1,n)=>n===!1||!ee.isInteger(e)||!ee.isInteger(r)?!1:(Number(r)-Number(e))/Number(t)>=n;ee.escapeNode=(e,r=0,t)=>{let n=e.nodes[r];!n||(t&&n.type===t||n.type===\"open\"||n.type===\"close\")&&n.escaped!==!0&&(n.value=\"\\\\\"+n.value,n.escaped=!0)};ee.encloseBrace=e=>e.type!==\"brace\"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ee.isInvalidBrace=e=>e.type!==\"brace\"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ee.isOpenOrClose=e=>e.type===\"open\"||e.type===\"close\"?!0:e.open===!0||e.close===!0;ee.reduce=e=>e.reduce((r,t)=>(t.type===\"text\"&&r.push(t.value),t.type===\"range\"&&(t.type=\"text\"),r),[]);ee.flatten=(...e)=>{let r=[],t=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?t(i,r):i!==void 0&&r.push(i)}return r};return t(e),r}});var He=q((zn,rt)=>{\"use strict\";var tt=ve();rt.exports=(e,r={})=>{let t=(n,s={})=>{let i=r.escapeInvalid&&tt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=\"\";if(n.value)return(i||a)&&tt.isOpenOrClose(n)?\"\\\\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let p of n.nodes)c+=t(p);return c};return t(e)}});var st=q((Vn,nt)=>{\"use strict\";nt.exports=function(e){return typeof e==\"number\"?e-e===0:typeof e==\"string\"&&e.trim()!==\"\"?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ht=q((Jn,pt)=>{\"use strict\";var at=st(),le=(e,r,t)=>{if(at(e)===!1)throw new TypeError(\"toRegexRange: expected the first argument to be a number\");if(r===void 0||e===r)return String(e);if(at(r)===!1)throw new TypeError(\"toRegexRange: expected the second argument to be a number.\");let n={relaxZeros:!0,...t};typeof n.strictZeros==\"boolean\"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),c=String(n.wrap),p=e+\":\"+r+\"=\"+s+i+a+c;if(le.cache.hasOwnProperty(p))return le.cache[p].result;let m=Math.min(e,r),h=Math.max(e,r);if(Math.abs(m-h)===1){let y=e+\"|\"+r;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let R=ft(e)||ft(r),f={min:e,max:r,a:m,b:h},$=[],_=[];if(R&&(f.isPadded=R,f.maxLen=String(f.max).length),m<0){let y=h<0?Math.abs(h):1;_=it(y,Math.abs(m),f,n),m=f.a=0}return h>=0&&($=it(m,h,f,n)),f.negatives=_,f.positives=$,f.result=Sr(_,$,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&$.length+_.length>1&&(f.result=`(?:${f.result})`),le.cache[p]=f,f.result};function Sr(e,r,t){let n=Pe(e,r,\"-\",!1,t)||[],s=Pe(r,e,\"\",!1,t)||[],i=Pe(e,r,\"-?\",!0,t)||[];return n.concat(i).concat(s).join(\"|\")}function vr(e,r){let t=1,n=1,s=ut(e,t),i=new Set([r]);for(;e<=s&&s<=r;)i.add(s),t+=1,s=ut(e,t);for(s=ct(r+1,n)-1;e<s&&s<=r;)i.add(s),n+=1,s=ct(r+1,n)-1;return i=[...i],i.sort(Tr),i}function Hr(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=$r(e,r),s=n.length,i=\"\",a=0;for(let c=0;c<s;c++){let[p,m]=n[c];p===m?i+=p:p!==\"0\"||m!==\"9\"?i+=kr(p,m,t):a++}return a&&(i+=t.shorthand===!0?\"\\\\d\":\"[0-9]\"),{pattern:i,count:[a],digits:s}}function it(e,r,t,n){let s=vr(e,r),i=[],a=e,c;for(let p=0;p<s.length;p++){let m=s[p],h=Hr(String(a),String(m),n),R=\"\";if(!t.isPadded&&c&&c.pattern===h.pattern){c.count.length>1&&c.count.pop(),c.count.push(h.count[0]),c.string=c.pattern+lt(c.count),a=m+1;continue}t.isPadded&&(R=Lr(m,t,n)),h.string=R+h.pattern+lt(h.count),i.push(h),a=m+1,c=h}return i}function Pe(e,r,t,n,s){let i=[];for(let a of e){let{string:c}=a;!n&&!ot(r,\"string\",c)&&i.push(t+c),n&&ot(r,\"string\",c)&&i.push(t+c)}return i}function $r(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function Tr(e,r){return e>r?1:r>e?-1:0}function ot(e,r,t){return e.some(n=>n[r]===t)}function ut(e,r){return Number(String(e).slice(0,-r)+\"9\".repeat(r))}function ct(e,r){return e-e%Math.pow(10,r)}function lt(e){let[r=0,t=\"\"]=e;return t||r>1?`{${r+(t?\",\"+t:\"\")}}`:\"\"}function kr(e,r,t){return`[${e}${r-e===1?\"\":\"-\"}${r}]`}function ft(e){return/^-?(0+)\\d/.test(e)}function Lr(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),s=t.relaxZeros!==!1;switch(n){case 0:return\"\";case 1:return s?\"0?\":\"0\";case 2:return s?\"0{0,2}\":\"00\";default:return s?`0{0,${n}}`:`0{${n}}`}}le.cache={};le.clearCache=()=>le.cache={};pt.exports=le});var Ue=q((es,Et)=>{\"use strict\";var Or=W(\"util\"),At=ht(),dt=e=>e!==null&&typeof e==\"object\"&&!Array.isArray(e),Nr=e=>r=>e===!0?Number(r):String(r),Me=e=>typeof e==\"number\"||typeof e==\"string\"&&e!==\"\",Ae=e=>Number.isInteger(+e),De=e=>{let r=`${e}`,t=-1;if(r[0]===\"-\"&&(r=r.slice(1)),r===\"0\")return!1;for(;r[++t]===\"0\";);return t>0},Ir=(e,r,t)=>typeof e==\"string\"||typeof r==\"string\"?!0:t.stringify===!0,Br=(e,r,t)=>{if(r>0){let n=e[0]===\"-\"?\"-\":\"\";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,\"0\")}return t===!1?String(e):e},gt=(e,r)=>{let t=e[0]===\"-\"?\"-\":\"\";for(t&&(e=e.slice(1),r--);e.length<r;)e=\"0\"+e;return t?\"-\"+e:e},Pr=(e,r)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let t=r.capture?\"\":\"?:\",n=\"\",s=\"\",i;return e.positives.length&&(n=e.positives.join(\"|\")),e.negatives.length&&(s=`-(${t}${e.negatives.join(\"|\")})`),n&&s?i=`${n}|${s}`:i=n||s,r.wrap?`(${t}${i})`:i},mt=(e,r,t,n)=>{if(t)return At(e,r,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===r)return s;let i=String.fromCharCode(r);return`[${s}-${i}]`},Rt=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,s=t.capture?\"\":\"?:\";return n?`(${s}${e.join(\"|\")})`:e.join(\"|\")}return At(e,r,t)},yt=(...e)=>new RangeError(\"Invalid range arguments: \"+Or.inspect(...e)),_t=(e,r,t)=>{if(t.strictRanges===!0)throw yt([e,r]);return[]},Mr=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step \"${e}\" to be a number`);return[]},Dr=(e,r,t=1,n={})=>{let s=Number(e),i=Number(r);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw yt([e,r]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,c=String(e),p=String(r),m=String(t);t=Math.max(Math.abs(t),1);let h=De(c)||De(p)||De(m),R=h?Math.max(c.length,p.length,m.length):0,f=h===!1&&Ir(e,r,n)===!1,$=n.transform||Nr(f);if(n.toRegex&&t===1)return mt(gt(e,R),gt(r,R),!0,n);let _={negatives:[],positives:[]},y=T=>_[T<0?\"negatives\":\"positives\"].push(Math.abs(T)),E=[],S=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&t>1?y(s):E.push(Br($(s,S),R,f)),s=a?s-t:s+t,S++;return n.toRegex===!0?t>1?Pr(_,n):Rt(E,null,{wrap:!1,...n}):E},Ur=(e,r,t=1,n={})=>{if(!Ae(e)&&e.length>1||!Ae(r)&&r.length>1)return _t(e,r,n);let s=n.transform||(f=>String.fromCharCode(f)),i=`${e}`.charCodeAt(0),a=`${r}`.charCodeAt(0),c=i>a,p=Math.min(i,a),m=Math.max(i,a);if(n.toRegex&&t===1)return mt(p,m,!1,n);let h=[],R=0;for(;c?i>=a:i<=a;)h.push(s(i,R)),i=c?i-t:i+t,R++;return n.toRegex===!0?Rt(h,null,{wrap:!1,options:n}):h},$e=(e,r,t,n={})=>{if(r==null&&Me(e))return[e];if(!Me(e)||!Me(r))return _t(e,r,n);if(typeof t==\"function\")return $e(e,r,1,{transform:t});if(dt(t))return $e(e,r,0,t);let s={...n};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,Ae(t)?Ae(e)&&Ae(r)?Dr(e,r,t,s):Ur(e,r,Math.max(Math.abs(t),1),s):t!=null&&!dt(t)?Mr(t,s):$e(e,r,1,t)};Et.exports=$e});var Ct=q((ts,xt)=>{\"use strict\";var Gr=Ue(),bt=ve(),qr=(e,r={})=>{let t=(n,s={})=>{let i=bt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=i===!0||a===!0,p=r.escapeInvalid===!0?\"\\\\\":\"\",m=\"\";if(n.isOpen===!0||n.isClose===!0)return p+n.value;if(n.type===\"open\")return c?p+n.value:\"(\";if(n.type===\"close\")return c?p+n.value:\")\";if(n.type===\"comma\")return n.prev.type===\"comma\"?\"\":c?n.value:\"|\";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let h=bt.reduce(n.nodes),R=Gr(...h,{...r,wrap:!1,toRegex:!0});if(R.length!==0)return h.length>1&&R.length>1?`(${R})`:R}if(n.nodes)for(let h of n.nodes)m+=t(h,n);return m};return t(e)};xt.exports=qr});var vt=q((rs,St)=>{\"use strict\";var Kr=Ue(),wt=He(),he=ve(),fe=(e=\"\",r=\"\",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?he.flatten(r).map(s=>`{${s}}`):r;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(fe(i,r,t));else for(let i of r)t===!0&&typeof i==\"string\"&&(i=`{${i}}`),n.push(Array.isArray(i)?fe(s,i,t):s+i);return he.flatten(n)},Wr=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,c=i.queue;for(;a.type!==\"brace\"&&a.type!==\"root\"&&a.parent;)a=a.parent,c=a.queue;if(s.invalid||s.dollar){c.push(fe(c.pop(),wt(s,r)));return}if(s.type===\"brace\"&&s.invalid!==!0&&s.nodes.length===2){c.push(fe(c.pop(),[\"{}\"]));return}if(s.nodes&&s.ranges>0){let R=he.reduce(s.nodes);if(he.exceedsLimit(...R,r.step,t))throw new RangeError(\"expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.\");let f=Kr(...R,r);f.length===0&&(f=wt(s,r)),c.push(fe(c.pop(),f)),s.nodes=[];return}let p=he.encloseBrace(s),m=s.queue,h=s;for(;h.type!==\"brace\"&&h.type!==\"root\"&&h.parent;)h=h.parent,m=h.queue;for(let R=0;R<s.nodes.length;R++){let f=s.nodes[R];if(f.type===\"comma\"&&s.type===\"brace\"){R===1&&m.push(\"\"),m.push(\"\");continue}if(f.type===\"close\"){c.push(fe(c.pop(),m,p));continue}if(f.value&&f.type!==\"open\"){m.push(fe(m.pop(),f.value));continue}f.nodes&&n(f,s)}return m};return he.flatten(n(e))};St.exports=Wr});var $t=q((ns,Ht)=>{\"use strict\";Ht.exports={MAX_LENGTH:1024*64,CHAR_0:\"0\",CHAR_9:\"9\",CHAR_UPPERCASE_A:\"A\",CHAR_LOWERCASE_A:\"a\",CHAR_UPPERCASE_Z:\"Z\",CHAR_LOWERCASE_Z:\"z\",CHAR_LEFT_PARENTHESES:\"(\",CHAR_RIGHT_PARENTHESES:\")\",CHAR_ASTERISK:\"*\",CHAR_AMPERSAND:\"&\",CHAR_AT:\"@\",CHAR_BACKSLASH:\"\\\\\",CHAR_BACKTICK:\"`\",CHAR_CARRIAGE_RETURN:\"\\r\",CHAR_CIRCUMFLEX_ACCENT:\"^\",CHAR_COLON:\":\",CHAR_COMMA:\",\",CHAR_DOLLAR:\"$\",CHAR_DOT:\".\",CHAR_DOUBLE_QUOTE:'\"',CHAR_EQUAL:\"=\",CHAR_EXCLAMATION_MARK:\"!\",CHAR_FORM_FEED:\"\\f\",CHAR_FORWARD_SLASH:\"/\",CHAR_HASH:\"#\",CHAR_HYPHEN_MINUS:\"-\",CHAR_LEFT_ANGLE_BRACKET:\"<\",CHAR_LEFT_CURLY_BRACE:\"{\",CHAR_LEFT_SQUARE_BRACKET:\"[\",CHAR_LINE_FEED:`\n/Users/yparis/Developer/atlantis/modules/client/src/services/PropertyDescriptorService.ts:112:  const result: PropertyDescriptor[] = [];\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:4:(()=>{var Z3e=Object.create;var NR=Object.defineProperty;var $3e=Object.getOwnPropertyDescriptor;var e_e=Object.getOwnPropertyNames;var t_e=Object.getPrototypeOf,r_e=Object.prototype.hasOwnProperty;var ve=(t=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(t,{get:(e,r)=>(typeof require<\"u\"?require:e)[r]}):t)(function(t){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+t+'\" is not supported')});var Et=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vt=(t,e)=>{for(var r in e)NR(t,r,{get:e[r],enumerable:!0})},n_e=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of e_e(e))!r_e.call(t,a)&&a!==r&&NR(t,a,{get:()=>e[a],enumerable:!(o=$3e(e,a))||o.enumerable});return t};var $e=(t,e,r)=>(r=t!=null?Z3e(t_e(t)):{},n_e(e||!t||!t.__esModule?NR(r,\"default\",{value:t,enumerable:!0}):r,t));var vi={};Vt(vi,{SAFE_TIME:()=>x7,S_IFDIR:()=>wD,S_IFLNK:()=>ID,S_IFMT:()=>Ou,S_IFREG:()=>qw});var Ou,wD,qw,ID,x7,k7=Et(()=>{Ou=61440,wD=16384,qw=32768,ID=40960,x7=456789e3});var ar={};Vt(ar,{EBADF:()=>Io,EBUSY:()=>i_e,EEXIST:()=>u_e,EINVAL:()=>o_e,EISDIR:()=>c_e,ENOENT:()=>a_e,ENOSYS:()=>s_e,ENOTDIR:()=>l_e,ENOTEMPTY:()=>f_e,EOPNOTSUPP:()=>p_e,EROFS:()=>A_e,ERR_DIR_CLOSED:()=>LR});function Tl(t,e){return Object.assign(new Error(`${t}: ${e}`),{code:t})}function i_e(t){return Tl(\"EBUSY\",t)}function s_e(t,e){return Tl(\"ENOSYS\",`${t}, ${e}`)}function o_e(t){return Tl(\"EINVAL\",`invalid argument, ${t}`)}function Io(t){return Tl(\"EBADF\",`bad file descriptor, ${t}`)}function a_e(t){return Tl(\"ENOENT\",`no such file or directory, ${t}`)}function l_e(t){return Tl(\"ENOTDIR\",`not a directory, ${t}`)}function c_e(t){return Tl(\"EISDIR\",`illegal operation on a directory, ${t}`)}function u_e(t){return Tl(\"EEXIST\",`file already exists, ${t}`)}function A_e(t){return Tl(\"EROFS\",`read-only filesystem, ${t}`)}function f_e(t){return Tl(\"ENOTEMPTY\",`directory not empty, ${t}`)}function p_e(t){return Tl(\"EOPNOTSUPP\",`operation not supported, ${t}`)}function LR(){return Tl(\"ERR_DIR_CLOSED\",\"Directory handle was closed\")}var BD=Et(()=>{});var Ea={};Vt(Ea,{BigIntStatsEntry:()=>ty,DEFAULT_MODE:()=>UR,DirEntry:()=>OR,StatEntry:()=>ey,areStatsEqual:()=>_R,clearStats:()=>vD,convertToBigIntStats:()=>g_e,makeDefaultStats:()=>Q7,makeEmptyStats:()=>h_e});function Q7(){return new ey}function h_e(){return vD(Q7())}function vD(t){for(let e in t)if(Object.hasOwn(t,e)){let r=t[e];typeof r==\"number\"?t[e]=0:typeof r==\"bigint\"?t[e]=BigInt(0):MR.types.isDate(r)&&(t[e]=new Date(0))}return t}function g_e(t){let e=new ty;for(let r in t)if(Object.hasOwn(t,r)){let o=t[r];typeof o==\"number\"?e[r]=BigInt(o):MR.types.isDate(o)&&(e[r]=new Date(o))}return e.atimeNs=e.atimeMs*BigInt(1e6),e.mtimeNs=e.mtimeMs*BigInt(1e6),e.ctimeNs=e.ctimeMs*BigInt(1e6),e.birthtimeNs=e.birthtimeMs*BigInt(1e6),e}function _R(t,e){if(t.atimeMs!==e.atimeMs||t.birthtimeMs!==e.birthtimeMs||t.blksize!==e.blksize||t.blocks!==e.blocks||t.ctimeMs!==e.ctimeMs||t.dev!==e.dev||t.gid!==e.gid||t.ino!==e.ino||t.isBlockDevice()!==e.isBlockDevice()||t.isCharacterDevice()!==e.isCharacterDevice()||t.isDirectory()!==e.isDirectory()||t.isFIFO()!==e.isFIFO()||t.isFile()!==e.isFile()||t.isSocket()!==e.isSocket()||t.isSymbolicLink()!==e.isSymbolicLink()||t.mode!==e.mode||t.mtimeMs!==e.mtimeMs||t.nlink!==e.nlink||t.rdev!==e.rdev||t.size!==e.size||t.uid!==e.uid)return!1;let r=t,o=e;return!(r.atimeNs!==o.atimeNs||r.mtimeNs!==o.mtimeNs||r.ctimeNs!==o.ctimeNs||r.birthtimeNs!==o.birthtimeNs)}var MR,UR,OR,ey,ty,HR=Et(()=>{MR=$e(ve(\"util\")),UR=33188,OR=class{constructor(){this.name=\"\";this.path=\"\";this.mode=0}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&61440)===16384}isFIFO(){return!1}isFile(){return(this.mode&61440)===32768}isSocket(){return!1}isSymbolicLink(){return(this.mode&61440)===40960}},ey=class{constructor(){this.uid=0;this.gid=0;this.size=0;this.blksize=0;this.atimeMs=0;this.mtimeMs=0;this.ctimeMs=0;this.birthtimeMs=0;this.atime=new Date(0);this.mtime=new Date(0);this.ctime=new Date(0);this.birthtime=new Date(0);this.dev=0;this.ino=0;this.mode=UR;this.nlink=1;this.rdev=0;this.blocks=1}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&61440)===16384}isFIFO(){return!1}isFile(){return(this.mode&61440)===32768}isSocket(){return!1}isSymbolicLink(){return(this.mode&61440)===40960}},ty=class{constructor(){this.uid=BigInt(0);this.gid=BigInt(0);this.size=BigInt(0);this.blksize=BigInt(0);this.atimeMs=BigInt(0);this.mtimeMs=BigInt(0);this.ctimeMs=BigInt(0);this.birthtimeMs=BigInt(0);this.atimeNs=BigInt(0);this.mtimeNs=BigInt(0);this.ctimeNs=BigInt(0);this.birthtimeNs=BigInt(0);this.atime=new Date(0);this.mtime=new Date(0);this.ctime=new Date(0);this.birthtime=new Date(0);this.dev=BigInt(0);this.ino=BigInt(0);this.mode=BigInt(UR);this.nlink=BigInt(1);this.rdev=BigInt(0);this.blocks=BigInt(1)}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&BigInt(61440))===BigInt(16384)}isFIFO(){return!1}isFile(){return(this.mode&BigInt(61440))===BigInt(32768)}isSocket(){return!1}isSymbolicLink(){return(this.mode&BigInt(61440))===BigInt(40960)}}});function C_e(t){let e,r;if(e=t.match(y_e))t=e[1];else if(r=t.match(E_e))t=`\\\\\\\\${r[1]?\".\\\\\":\"\"}${r[2]}`;else return t;return t.replace(/\\//g,\"\\\\\")}function w_e(t){t=t.replace(/\\\\/g,\"/\");let e,r;return(e=t.match(d_e))?t=`/${e[1]}`:(r=t.match(m_e))&&(t=`/unc/${r[1]?\".dot/\":\"\"}${r[2]}`),t}function DD(t,e){return t===ue?R7(e):qR(e)}var jw,Bt,dr,ue,V,F7,d_e,m_e,y_e,E_e,qR,R7,Ca=Et(()=>{jw=$e(ve(\"path\")),Bt={root:\"/\",dot:\".\",parent:\"..\"},dr={home:\"~\",nodeModules:\"node_modules\",manifest:\"package.json\",lockfile:\"yarn.lock\",virtual:\"__virtual__\",pnpJs:\".pnp.js\",pnpCjs:\".pnp.cjs\",pnpData:\".pnp.data.json\",pnpEsmLoader:\".pnp.loader.mjs\",rc:\".yarnrc.yml\",env:\".env\"},ue=Object.create(jw.default),V=Object.create(jw.default.posix);ue.cwd=()=>process.cwd();V.cwd=process.platform===\"win32\"?()=>qR(process.cwd()):process.cwd;process.platform===\"win32\"&&(V.resolve=(...t)=>t.length>0&&V.isAbsolute(t[0])?jw.default.posix.resolve(...t):jw.default.posix.resolve(V.cwd(),...t));F7=function(t,e,r){return e=t.normalize(e),r=t.normalize(r),e===r?\".\":(e.endsWith(t.sep)||(e=e+t.sep),r.startsWith(e)?r.slice(e.length):null)};ue.contains=(t,e)=>F7(ue,t,e);V.contains=(t,e)=>F7(V,t,e);d_e=/^([a-zA-Z]:.*)$/,m_e=/^\\/\\/(\\.\\/)?(.*)$/,y_e=/^\\/([a-zA-Z]:.*)$/,E_e=/^\\/unc\\/(\\.dot\\/)?(.*)$/;qR=process.platform===\"win32\"?w_e:t=>t,R7=process.platform===\"win32\"?C_e:t=>t;ue.fromPortablePath=R7;ue.toPortablePath=qR});async function SD(t,e){let r=\"0123456789abcdef\";await t.mkdirPromise(e.indexPath,{recursive:!0});let o=[];for(let a of r)for(let n of r)o.push(t.mkdirPromise(t.pathUtils.join(e.indexPath,`${a}${n}`),{recursive:!0}));return await Promise.all(o),e.indexPath}async function T7(t,e,r,o,a){let n=t.pathUtils.normalize(e),u=r.pathUtils.normalize(o),A=[],p=[],{atime:h,mtime:E}=a.stableTime?{atime:Og,mtime:Og}:await r.lstatPromise(u);await t.mkdirpPromise(t.pathUtils.dirname(e),{utimes:[h,E]}),await jR(A,p,t,n,r,u,{...a,didParentExist:!0});for(let I of A)await I();await Promise.all(p.map(I=>I()))}async function jR(t,e,r,o,a,n,u){let A=u.didParentExist?await N7(r,o):null,p=await a.lstatPromise(n),{atime:h,mtime:E}=u.stableTime?{atime:Og,mtime:Og}:p,I;switch(!0){case p.isDirectory():I=await B_e(t,e,r,o,A,a,n,p,u);break;case p.isFile():I=await S_e(t,e,r,o,A,a,n,p,u);break;case p.isSymbolicLink():I=await P_e(t,e,r,o,A,a,n,p,u);break;default:throw new Error(`Unsupported file type (${p.mode})`)}return(u.linkStrategy?.type!==\"HardlinkFromIndex\"||!p.isFile())&&((I||A?.mtime?.getTime()!==E.getTime()||A?.atime?.getTime()!==h.getTime())&&(e.push(()=>r.lutimesPromise(o,h,E)),I=!0),(A===null||(A.mode&511)!==(p.mode&511))&&(e.push(()=>r.chmodPromise(o,p.mode&511)),I=!0)),I}async function N7(t,e){try{return await t.lstatPromise(e)}catch{return null}}async function B_e(t,e,r,o,a,n,u,A,p){if(a!==null&&!a.isDirectory())if(p.overwrite)t.push(async()=>r.removePromise(o)),a=null;else return!1;let h=!1;a===null&&(t.push(async()=>{try{await r.mkdirPromise(o,{mode:A.mode})}catch(v){if(v.code!==\"EEXIST\")throw v}}),h=!0);let E=await n.readdirPromise(u),I=p.didParentExist&&!a?{...p,didParentExist:!1}:p;if(p.stableSort)for(let v of E.sort())await jR(t,e,r,r.pathUtils.join(o,v),n,n.pathUtils.join(u,v),I)&&(h=!0);else(await Promise.all(E.map(async x=>{await jR(t,e,r,r.pathUtils.join(o,x),n,n.pathUtils.join(u,x),I)}))).some(x=>x)&&(h=!0);return h}async function v_e(t,e,r,o,a,n,u,A,p,h){let E=await n.checksumFilePromise(u,{algorithm:\"sha1\"}),I=420,v=A.mode&511,x=`${E}${v!==I?v.toString(8):\"\"}`,C=r.pathUtils.join(h.indexPath,E.slice(0,2),`${x}.dat`),R;(ce=>(ce[ce.Lock=0]=\"Lock\",ce[ce.Rename=1]=\"Rename\"))(R||={});let L=1,U=await N7(r,C);if(a){let ae=U&&a.dev===U.dev&&a.ino===U.ino,fe=U?.mtimeMs!==I_e;if(ae&&fe&&h.autoRepair&&(L=0,U\n\n... [191 lines truncated] ..."}]},"uuid":"b8fc1fbb-ac77-4ba5-b4ad-0cd3a17a8673","timestamp":"2025-09-17T18:34:14.906Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs:6:var plugin=(()=>{var yr=Object.create;var we=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Er=Object.getOwnPropertyNames;var br=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var W=(e=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(e,{get:(r,t)=>(typeof require<\"u\"?require:r)[t]}):e)(function(e){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var q=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Cr=(e,r)=>{for(var t in r)we(e,t,{get:r[t],enumerable:!0})},Je=(e,r,t,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let s of Er(r))!xr.call(e,s)&&s!==t&&we(e,s,{get:()=>r[s],enumerable:!(n=_r(r,s))||n.enumerable});return e};var Be=(e,r,t)=>(t=e!=null?yr(br(e)):{},Je(r||!e||!e.__esModule?we(t,\"default\",{value:e,enumerable:!0}):t,e)),wr=e=>Je(we({},\"__esModule\",{value:!0}),e);var ve=q(ee=>{\"use strict\";ee.isInteger=e=>typeof e==\"number\"?Number.isInteger(e):typeof e==\"string\"&&e.trim()!==\"\"?Number.isInteger(Number(e)):!1;ee.find=(e,r)=>e.nodes.find(t=>t.type===r);ee.exceedsLimit=(e,r,t=1,n)=>n===!1||!ee.isInteger(e)||!ee.isInteger(r)?!1:(Number(r)-Number(e))/Number(t)>=n;ee.escapeNode=(e,r=0,t)=>{let n=e.nodes[r];!n||(t&&n.type===t||n.type===\"open\"||n.type===\"close\")&&n.escaped!==!0&&(n.value=\"\\\\\"+n.value,n.escaped=!0)};ee.encloseBrace=e=>e.type!==\"brace\"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ee.isInvalidBrace=e=>e.type!==\"brace\"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ee.isOpenOrClose=e=>e.type===\"open\"||e.type===\"close\"?!0:e.open===!0||e.close===!0;ee.reduce=e=>e.reduce((r,t)=>(t.type===\"text\"&&r.push(t.value),t.type===\"range\"&&(t.type=\"text\"),r),[]);ee.flatten=(...e)=>{let r=[],t=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?t(i,r):i!==void 0&&r.push(i)}return r};return t(e),r}});var He=q((zn,rt)=>{\"use strict\";var tt=ve();rt.exports=(e,r={})=>{let t=(n,s={})=>{let i=r.escapeInvalid&&tt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=\"\";if(n.value)return(i||a)&&tt.isOpenOrClose(n)?\"\\\\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let p of n.nodes)c+=t(p);return c};return t(e)}});var st=q((Vn,nt)=>{\"use strict\";nt.exports=function(e){return typeof e==\"number\"?e-e===0:typeof e==\"string\"&&e.trim()!==\"\"?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ht=q((Jn,pt)=>{\"use strict\";var at=st(),le=(e,r,t)=>{if(at(e)===!1)throw new TypeError(\"toRegexRange: expected the first argument to be a number\");if(r===void 0||e===r)return String(e);if(at(r)===!1)throw new TypeError(\"toRegexRange: expected the second argument to be a number.\");let n={relaxZeros:!0,...t};typeof n.strictZeros==\"boolean\"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),c=String(n.wrap),p=e+\":\"+r+\"=\"+s+i+a+c;if(le.cache.hasOwnProperty(p))return le.cache[p].result;let m=Math.min(e,r),h=Math.max(e,r);if(Math.abs(m-h)===1){let y=e+\"|\"+r;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let R=ft(e)||ft(r),f={min:e,max:r,a:m,b:h},$=[],_=[];if(R&&(f.isPadded=R,f.maxLen=String(f.max).length),m<0){let y=h<0?Math.abs(h):1;_=it(y,Math.abs(m),f,n),m=f.a=0}return h>=0&&($=it(m,h,f,n)),f.negatives=_,f.positives=$,f.result=Sr(_,$,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&$.length+_.length>1&&(f.result=`(?:${f.result})`),le.cache[p]=f,f.result};function Sr(e,r,t){let n=Pe(e,r,\"-\",!1,t)||[],s=Pe(r,e,\"\",!1,t)||[],i=Pe(e,r,\"-?\",!0,t)||[];return n.concat(i).concat(s).join(\"|\")}function vr(e,r){let t=1,n=1,s=ut(e,t),i=new Set([r]);for(;e<=s&&s<=r;)i.add(s),t+=1,s=ut(e,t);for(s=ct(r+1,n)-1;e<s&&s<=r;)i.add(s),n+=1,s=ct(r+1,n)-1;return i=[...i],i.sort(Tr),i}function Hr(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=$r(e,r),s=n.length,i=\"\",a=0;for(let c=0;c<s;c++){let[p,m]=n[c];p===m?i+=p:p!==\"0\"||m!==\"9\"?i+=kr(p,m,t):a++}return a&&(i+=t.shorthand===!0?\"\\\\d\":\"[0-9]\"),{pattern:i,count:[a],digits:s}}function it(e,r,t,n){let s=vr(e,r),i=[],a=e,c;for(let p=0;p<s.length;p++){let m=s[p],h=Hr(String(a),String(m),n),R=\"\";if(!t.isPadded&&c&&c.pattern===h.pattern){c.count.length>1&&c.count.pop(),c.count.push(h.count[0]),c.string=c.pattern+lt(c.count),a=m+1;continue}t.isPadded&&(R=Lr(m,t,n)),h.string=R+h.pattern+lt(h.count),i.push(h),a=m+1,c=h}return i}function Pe(e,r,t,n,s){let i=[];for(let a of e){let{string:c}=a;!n&&!ot(r,\"string\",c)&&i.push(t+c),n&&ot(r,\"string\",c)&&i.push(t+c)}return i}function $r(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function Tr(e,r){return e>r?1:r>e?-1:0}function ot(e,r,t){return e.some(n=>n[r]===t)}function ut(e,r){return Number(String(e).slice(0,-r)+\"9\".repeat(r))}function ct(e,r){return e-e%Math.pow(10,r)}function lt(e){let[r=0,t=\"\"]=e;return t||r>1?`{${r+(t?\",\"+t:\"\")}}`:\"\"}function kr(e,r,t){return`[${e}${r-e===1?\"\":\"-\"}${r}]`}function ft(e){return/^-?(0+)\\d/.test(e)}function Lr(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),s=t.relaxZeros!==!1;switch(n){case 0:return\"\";case 1:return s?\"0?\":\"0\";case 2:return s?\"0{0,2}\":\"00\";default:return s?`0{0,${n}}`:`0{${n}}`}}le.cache={};le.clearCache=()=>le.cache={};pt.exports=le});var Ue=q((es,Et)=>{\"use strict\";var Or=W(\"util\"),At=ht(),dt=e=>e!==null&&typeof e==\"object\"&&!Array.isArray(e),Nr=e=>r=>e===!0?Number(r):String(r),Me=e=>typeof e==\"number\"||typeof e==\"string\"&&e!==\"\",Ae=e=>Number.isInteger(+e),De=e=>{let r=`${e}`,t=-1;if(r[0]===\"-\"&&(r=r.slice(1)),r===\"0\")return!1;for(;r[++t]===\"0\";);return t>0},Ir=(e,r,t)=>typeof e==\"string\"||typeof r==\"string\"?!0:t.stringify===!0,Br=(e,r,t)=>{if(r>0){let n=e[0]===\"-\"?\"-\":\"\";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,\"0\")}return t===!1?String(e):e},gt=(e,r)=>{let t=e[0]===\"-\"?\"-\":\"\";for(t&&(e=e.slice(1),r--);e.length<r;)e=\"0\"+e;return t?\"-\"+e:e},Pr=(e,r)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let t=r.capture?\"\":\"?:\",n=\"\",s=\"\",i;return e.positives.length&&(n=e.positives.join(\"|\")),e.negatives.length&&(s=`-(${t}${e.negatives.join(\"|\")})`),n&&s?i=`${n}|${s}`:i=n||s,r.wrap?`(${t}${i})`:i},mt=(e,r,t,n)=>{if(t)return At(e,r,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===r)return s;let i=String.fromCharCode(r);return`[${s}-${i}]`},Rt=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,s=t.capture?\"\":\"?:\";return n?`(${s}${e.join(\"|\")})`:e.join(\"|\")}return At(e,r,t)},yt=(...e)=>new RangeError(\"Invalid range arguments: \"+Or.inspect(...e)),_t=(e,r,t)=>{if(t.strictRanges===!0)throw yt([e,r]);return[]},Mr=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step \"${e}\" to be a number`);return[]},Dr=(e,r,t=1,n={})=>{let s=Number(e),i=Number(r);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw yt([e,r]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,c=String(e),p=String(r),m=String(t);t=Math.max(Math.abs(t),1);let h=De(c)||De(p)||De(m),R=h?Math.max(c.length,p.length,m.length):0,f=h===!1&&Ir(e,r,n)===!1,$=n.transform||Nr(f);if(n.toRegex&&t===1)return mt(gt(e,R),gt(r,R),!0,n);let _={negatives:[],positives:[]},y=T=>_[T<0?\"negatives\":\"positives\"].push(Math.abs(T)),E=[],S=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&t>1?y(s):E.push(Br($(s,S),R,f)),s=a?s-t:s+t,S++;return n.toRegex===!0?t>1?Pr(_,n):Rt(E,null,{wrap:!1,...n}):E},Ur=(e,r,t=1,n={})=>{if(!Ae(e)&&e.length>1||!Ae(r)&&r.length>1)return _t(e,r,n);let s=n.transform||(f=>String.fromCharCode(f)),i=`${e}`.charCodeAt(0),a=`${r}`.charCodeAt(0),c=i>a,p=Math.min(i,a),m=Math.max(i,a);if(n.toRegex&&t===1)return mt(p,m,!1,n);let h=[],R=0;for(;c?i>=a:i<=a;)h.push(s(i,R)),i=c?i-t:i+t,R++;return n.toRegex===!0?Rt(h,null,{wrap:!1,options:n}):h},$e=(e,r,t,n={})=>{if(r==null&&Me(e))return[e];if(!Me(e)||!Me(r))return _t(e,r,n);if(typeof t==\"function\")return $e(e,r,1,{transform:t});if(dt(t))return $e(e,r,0,t);let s={...n};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,Ae(t)?Ae(e)&&Ae(r)?Dr(e,r,t,s):Ur(e,r,Math.max(Math.abs(t),1),s):t!=null&&!dt(t)?Mr(t,s):$e(e,r,1,t)};Et.exports=$e});var Ct=q((ts,xt)=>{\"use strict\";var Gr=Ue(),bt=ve(),qr=(e,r={})=>{let t=(n,s={})=>{let i=bt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=i===!0||a===!0,p=r.escapeInvalid===!0?\"\\\\\":\"\",m=\"\";if(n.isOpen===!0||n.isClose===!0)return p+n.value;if(n.type===\"open\")return c?p+n.value:\"(\";if(n.type===\"close\")return c?p+n.value:\")\";if(n.type===\"comma\")return n.prev.type===\"comma\"?\"\":c?n.value:\"|\";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let h=bt.reduce(n.nodes),R=Gr(...h,{...r,wrap:!1,toRegex:!0});if(R.length!==0)return h.length>1&&R.length>1?`(${R})`:R}if(n.nodes)for(let h of n.nodes)m+=t(h,n);return m};return t(e)};xt.exports=qr});var vt=q((rs,St)=>{\"use strict\";var Kr=Ue(),wt=He(),he=ve(),fe=(e=\"\",r=\"\",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?he.flatten(r).map(s=>`{${s}}`):r;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(fe(i,r,t));else for(let i of r)t===!0&&typeof i==\"string\"&&(i=`{${i}}`),n.push(Array.isArray(i)?fe(s,i,t):s+i);return he.flatten(n)},Wr=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,c=i.queue;for(;a.type!==\"brace\"&&a.type!==\"root\"&&a.parent;)a=a.parent,c=a.queue;if(s.invalid||s.dollar){c.push(fe(c.pop(),wt(s,r)));return}if(s.type===\"brace\"&&s.invalid!==!0&&s.nodes.length===2){c.push(fe(c.pop(),[\"{}\"]));return}if(s.nodes&&s.ranges>0){let R=he.reduce(s.nodes);if(he.exceedsLimit(...R,r.step,t))throw new RangeError(\"expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.\");let f=Kr(...R,r);f.length===0&&(f=wt(s,r)),c.push(fe(c.pop(),f)),s.nodes=[];return}let p=he.encloseBrace(s),m=s.queue,h=s;for(;h.type!==\"brace\"&&h.type!==\"root\"&&h.parent;)h=h.parent,m=h.queue;for(let R=0;R<s.nodes.length;R++){let f=s.nodes[R];if(f.type===\"comma\"&&s.type===\"brace\"){R===1&&m.push(\"\"),m.push(\"\");continue}if(f.type===\"close\"){c.push(fe(c.pop(),m,p));continue}if(f.value&&f.type!==\"open\"){m.push(fe(m.pop(),f.value));continue}f.nodes&&n(f,s)}return m};return he.flatten(n(e))};St.exports=Wr});var $t=q((ns,Ht)=>{\"use strict\";Ht.exports={MAX_LENGTH:1024*64,CHAR_0:\"0\",CHAR_9:\"9\",CHAR_UPPERCASE_A:\"A\",CHAR_LOWERCASE_A:\"a\",CHAR_UPPERCASE_Z:\"Z\",CHAR_LOWERCASE_Z:\"z\",CHAR_LEFT_PARENTHESES:\"(\",CHAR_RIGHT_PARENTHESES:\")\",CHAR_ASTERISK:\"*\",CHAR_AMPERSAND:\"&\",CHAR_AT:\"@\",CHAR_BACKSLASH:\"\\\\\",CHAR_BACKTICK:\"`\",CHAR_CARRIAGE_RETURN:\"\\r\",CHAR_CIRCUMFLEX_ACCENT:\"^\",CHAR_COLON:\":\",CHAR_COMMA:\",\",CHAR_DOLLAR:\"$\",CHAR_DOT:\".\",CHAR_DOUBLE_QUOTE:'\"',CHAR_EQUAL:\"=\",CHAR_EXCLAMATION_MARK:\"!\",CHAR_FORM_FEED:\"\\f\",CHAR_FORWARD_SLASH:\"/\",CHAR_HASH:\"#\",CHAR_HYPHEN_MINUS:\"-\",CHAR_LEFT_ANGLE_BRACKET:\"<\",CHAR_LEFT_CURLY_BRACE:\"{\",CHAR_LEFT_SQUARE_BRACKET:\"[\",CHAR_LINE_FEED:`\n/Users/yparis/Developer/atlantis/modules/client/src/services/PropertyDescriptorService.ts:112:  const result: PropertyDescriptor[] = [];\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:4:(()=>{var Z3e=Object.create;var NR=Object.defineProperty;var $3e=Object.getOwnPropertyDescriptor;var e_e=Object.getOwnPropertyNames;var t_e=Object.getPrototypeOf,r_e=Object.prototype.hasOwnProperty;var ve=(t=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(t,{get:(e,r)=>(typeof require<\"u\"?require:e)[r]}):t)(function(t){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+t+'\" is not supported')});var Et=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vt=(t,e)=>{for(var r in e)NR(t,r,{get:e[r],enumerable:!0})},n_e=(t,e,r,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of e_e(e))!r_e.call(t,a)&&a!==r&&NR(t,a,{get:()=>e[a],enumerable:!(o=$3e(e,a))||o.enumerable});return t};var $e=(t,e,r)=>(r=t!=null?Z3e(t_e(t)):{},n_e(e||!t||!t.__esModule?NR(r,\"default\",{value:t,enumerable:!0}):r,t));var vi={};Vt(vi,{SAFE_TIME:()=>x7,S_IFDIR:()=>wD,S_IFLNK:()=>ID,S_IFMT:()=>Ou,S_IFREG:()=>qw});var Ou,wD,qw,ID,x7,k7=Et(()=>{Ou=61440,wD=16384,qw=32768,ID=40960,x7=456789e3});var ar={};Vt(ar,{EBADF:()=>Io,EBUSY:()=>i_e,EEXIST:()=>u_e,EINVAL:()=>o_e,EISDIR:()=>c_e,ENOENT:()=>a_e,ENOSYS:()=>s_e,ENOTDIR:()=>l_e,ENOTEMPTY:()=>f_e,EOPNOTSUPP:()=>p_e,EROFS:()=>A_e,ERR_DIR_CLOSED:()=>LR});function Tl(t,e){return Object.assign(new Error(`${t}: ${e}`),{code:t})}function i_e(t){return Tl(\"EBUSY\",t)}function s_e(t,e){return Tl(\"ENOSYS\",`${t}, ${e}`)}function o_e(t){return Tl(\"EINVAL\",`invalid argument, ${t}`)}function Io(t){return Tl(\"EBADF\",`bad file descriptor, ${t}`)}function a_e(t){return Tl(\"ENOENT\",`no such file or directory, ${t}`)}function l_e(t){return Tl(\"ENOTDIR\",`not a directory, ${t}`)}function c_e(t){return Tl(\"EISDIR\",`illegal operation on a directory, ${t}`)}function u_e(t){return Tl(\"EEXIST\",`file already exists, ${t}`)}function A_e(t){return Tl(\"EROFS\",`read-only filesystem, ${t}`)}function f_e(t){return Tl(\"ENOTEMPTY\",`directory not empty, ${t}`)}function p_e(t){return Tl(\"EOPNOTSUPP\",`operation not supported, ${t}`)}function LR(){return Tl(\"ERR_DIR_CLOSED\",\"Directory handle was closed\")}var BD=Et(()=>{});var Ea={};Vt(Ea,{BigIntStatsEntry:()=>ty,DEFAULT_MODE:()=>UR,DirEntry:()=>OR,StatEntry:()=>ey,areStatsEqual:()=>_R,clearStats:()=>vD,convertToBigIntStats:()=>g_e,makeDefaultStats:()=>Q7,makeEmptyStats:()=>h_e});function Q7(){return new ey}function h_e(){return vD(Q7())}function vD(t){for(let e in t)if(Object.hasOwn(t,e)){let r=t[e];typeof r==\"number\"?t[e]=0:typeof r==\"bigint\"?t[e]=BigInt(0):MR.types.isDate(r)&&(t[e]=new Date(0))}return t}function g_e(t){let e=new ty;for(let r in t)if(Object.hasOwn(t,r)){let o=t[r];typeof o==\"number\"?e[r]=BigInt(o):MR.types.isDate(o)&&(e[r]=new Date(o))}return e.atimeNs=e.atimeMs*BigInt(1e6),e.mtimeNs=e.mtimeMs*BigInt(1e6),e.ctimeNs=e.ctimeMs*BigInt(1e6),e.birthtimeNs=e.birthtimeMs*BigInt(1e6),e}function _R(t,e){if(t.atimeMs!==e.atimeMs||t.birthtimeMs!==e.birthtimeMs||t.blksize!==e.blksize||t.blocks!==e.blocks||t.ctimeMs!==e.ctimeMs||t.dev!==e.dev||t.gid!==e.gid||t.ino!==e.ino||t.isBlockDevice()!==e.isBlockDevice()||t.isCharacterDevice()!==e.isCharacterDevice()||t.isDirectory()!==e.isDirectory()||t.isFIFO()!==e.isFIFO()||t.isFile()!==e.isFile()||t.isSocket()!==e.isSocket()||t.isSymbolicLink()!==e.isSymbolicLink()||t.mode!==e.mode||t.mtimeMs!==e.mtimeMs||t.nlink!==e.nlink||t.rdev!==e.rdev||t.size!==e.size||t.uid!==e.uid)return!1;let r=t,o=e;return!(r.atimeNs!==o.atimeNs||r.mtimeNs!==o.mtimeNs||r.ctimeNs!==o.ctimeNs||r.birthtimeNs!==o.birthtimeNs)}var MR,UR,OR,ey,ty,HR=Et(()=>{MR=$e(ve(\"util\")),UR=33188,OR=class{constructor(){this.name=\"\";this.path=\"\";this.mode=0}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&61440)===16384}isFIFO(){return!1}isFile(){return(this.mode&61440)===32768}isSocket(){return!1}isSymbolicLink(){return(this.mode&61440)===40960}},ey=class{constructor(){this.uid=0;this.gid=0;this.size=0;this.blksize=0;this.atimeMs=0;this.mtimeMs=0;this.ctimeMs=0;this.birthtimeMs=0;this.atime=new Date(0);this.mtime=new Date(0);this.ctime=new Date(0);this.birthtime=new Date(0);this.dev=0;this.ino=0;this.mode=UR;this.nlink=1;this.rdev=0;this.blocks=1}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&61440)===16384}isFIFO(){return!1}isFile(){return(this.mode&61440)===32768}isSocket(){return!1}isSymbolicLink(){return(this.mode&61440)===40960}},ty=class{constructor(){this.uid=BigInt(0);this.gid=BigInt(0);this.size=BigInt(0);this.blksize=BigInt(0);this.atimeMs=BigInt(0);this.mtimeMs=BigInt(0);this.ctimeMs=BigInt(0);this.birthtimeMs=BigInt(0);this.atimeNs=BigInt(0);this.mtimeNs=BigInt(0);this.ctimeNs=BigInt(0);this.birthtimeNs=BigInt(0);this.atime=new Date(0);this.mtime=new Date(0);this.ctime=new Date(0);this.birthtime=new Date(0);this.dev=BigInt(0);this.ino=BigInt(0);this.mode=BigInt(UR);this.nlink=BigInt(1);this.rdev=BigInt(0);this.blocks=BigInt(1)}isBlockDevice(){return!1}isCharacterDevice(){return!1}isDirectory(){return(this.mode&BigInt(61440))===BigInt(16384)}isFIFO(){return!1}isFile(){return(this.mode&BigInt(61440))===BigInt(32768)}isSocket(){return!1}isSymbolicLink(){return(this.mode&BigInt(61440))===BigInt(40960)}}});function C_e(t){let e,r;if(e=t.match(y_e))t=e[1];else if(r=t.match(E_e))t=`\\\\\\\\${r[1]?\".\\\\\":\"\"}${r[2]}`;else return t;return t.replace(/\\//g,\"\\\\\")}function w_e(t){t=t.replace(/\\\\/g,\"/\");let e,r;return(e=t.match(d_e))?t=`/${e[1]}`:(r=t.match(m_e))&&(t=`/unc/${r[1]?\".dot/\":\"\"}${r[2]}`),t}function DD(t,e){return t===ue?R7(e):qR(e)}var jw,Bt,dr,ue,V,F7,d_e,m_e,y_e,E_e,qR,R7,Ca=Et(()=>{jw=$e(ve(\"path\")),Bt={root:\"/\",dot:\".\",parent:\"..\"},dr={home:\"~\",nodeModules:\"node_modules\",manifest:\"package.json\",lockfile:\"yarn.lock\",virtual:\"__virtual__\",pnpJs:\".pnp.js\",pnpCjs:\".pnp.cjs\",pnpData:\".pnp.data.json\",pnpEsmLoader:\".pnp.loader.mjs\",rc:\".yarnrc.yml\",env:\".env\"},ue=Object.create(jw.default),V=Object.create(jw.default.posix);ue.cwd=()=>process.cwd();V.cwd=process.platform===\"win32\"?()=>qR(process.cwd()):process.cwd;process.platform===\"win32\"&&(V.resolve=(...t)=>t.length>0&&V.isAbsolute(t[0])?jw.default.posix.resolve(...t):jw.default.posix.resolve(V.cwd(),...t));F7=function(t,e,r){return e=t.normalize(e),r=t.normalize(r),e===r?\".\":(e.endsWith(t.sep)||(e=e+t.sep),r.startsWith(e)?r.slice(e.length):null)};ue.contains=(t,e)=>F7(ue,t,e);V.contains=(t,e)=>F7(V,t,e);d_e=/^([a-zA-Z]:.*)$/,m_e=/^\\/\\/(\\.\\/)?(.*)$/,y_e=/^\\/([a-zA-Z]:.*)$/,E_e=/^\\/unc\\/(\\.dot\\/)?(.*)$/;qR=process.platform===\"win32\"?w_e:t=>t,R7=process.platform===\"win32\"?C_e:t=>t;ue.fromPortablePath=R7;ue.toPortablePath=qR});async function SD(t,e){let r=\"0123456789abcdef\";await t.mkdirPromise(e.indexPath,{recursive:!0});let o=[];for(let a of r)for(let n of r)o.push(t.mkdirPromise(t.pathUtils.join(e.indexPath,`${a}${n}`),{recursive:!0}));return await Promise.all(o),e.indexPath}async function T7(t,e,r,o,a){let n=t.pathUtils.normalize(e),u=r.pathUtils.normalize(o),A=[],p=[],{atime:h,mtime:E}=a.stableTime?{atime:Og,mtime:Og}:await r.lstatPromise(u);await t.mkdirpPromise(t.pathUtils.dirname(e),{utimes:[h,E]}),await jR(A,p,t,n,r,u,{...a,didParentExist:!0});for(let I of A)await I();await Promise.all(p.map(I=>I()))}async function jR(t,e,r,o,a,n,u){let A=u.didParentExist?await N7(r,o):null,p=await a.lstatPromise(n),{atime:h,mtime:E}=u.stableTime?{atime:Og,mtime:Og}:p,I;switch(!0){case p.isDirectory():I=await B_e(t,e,r,o,A,a,n,p,u);break;case p.isFile():I=await S_e(t,e,r,o,A,a,n,p,u);break;case p.isSymbolicLink():I=await P_e(t,e,r,o,A,a,n,p,u);break;default:throw new Error(`Unsupported file type (${p.mode})`)}return(u.linkStrategy?.type!==\"HardlinkFromIndex\"||!p.isFile())&&((I||A?.mtime?.getTime()!==E.getTime()||A?.atime?.getTime()!==h.getTime())&&(e.push(()=>r.lutimesPromise(o,h,E)),I=!0),(A===null||(A.mode&511)!==(p.mode&511))&&(e.push(()=>r.chmodPromise(o,p.mode&511)),I=!0)),I}async function N7(t,e){try{return await t.lstatPromise(e)}catch{return null}}async function B_e(t,e,r,o,a,n,u,A,p){if(a!==null&&!a.isDirectory())if(p.overwrite)t.push(async()=>r.removePromise(o)),a=null;else return!1;let h=!1;a===null&&(t.push(async()=>{try{await r.mkdirPromise(o,{mode:A.mode})}catch(v){if(v.code!==\"EEXIST\")throw v}}),h=!0);let E=await n.readdirPromise(u),I=p.didParentExist&&!a?{...p,didParentExist:!1}:p;if(p.stableSort)for(let v of E.sort())await jR(t,e,r,r.pathUtils.join(o,v),n,n.pathUtils.join(u,v),I)&&(h=!0);else(await Promise.all(E.map(async x=>{await jR(t,e,r,r.pathUtils.join(o,x),n,n.pathUtils.join(u,x),I)}))).some(x=>x)&&(h=!0);return h}async function v_e(t,e,r,o,a,n,u,A,p,h){let E=await n.checksumFilePromise(u,{algorithm:\"sha1\"}),I=420,v=A.mode&511,x=`${E}${v!==I?v.toString(8):\"\"}`,C=r.pathUtils.join(h.indexPath,E.slice(0,2),`${x}.dat`),R;(ce=>(ce[ce.Lock=0]=\"Lock\",ce[ce.Rename=1]=\"Rename\"))(R||={});let L=1,U=await N7(r,C);if(a){let ae=U&&a.dev===U.dev&&a.ino===U.ino,fe=U?.mtimeMs!==I_e;if(ae&&fe&&h.autoRepair&&(L=0,U=null),!ae)if(p.overwrite)t.push(async()=>r.removePromise(o)),a=null;else return!1}let J=!U&&L===1?`${C}.${Math.floor(Math.random()*4294967296).toString(16).padStart(8,\"0\")}`:null,te=!1;return t.push(async()=>{if(!U&&(L===0&&await r.lockPromise(C,async()=>{let ae=await n.readFilePromise(u);await r.writeFilePromise(C,ae)}),L===1&&J)){let ae=await n.readFilePromise(u);await r.writeFilePromise(J,ae);try{await r.linkPromise(J,C)}catch(fe){if(fe.code===\"EEXIST\")te=!0,await r.unlinkPromise(J);else throw fe}}a||await r.linkPromise(C,o)}),e.push(async()=>{U||(await r.lutimesPromise(C,Og,Og),v!==I&&await r.chmodPromise(C,v)),J&&!te&&await r.unlinkPromise(J)}),!1}async function D_e(t,e,r,o,a,n,u,A,p){if(a!==null)if(p.overwrite)t.push(async()=>r.removePromise(o)),a=null;else return!1;return t.push(async()=>{let h=await n.readFilePromise(u);await r.writeFilePromise(o,h)}),!0}async function S_e(t,e,r,o,a,n,u,A,p){return p.linkStrategy?.type===\"HardlinkFromIndex\"?v_e(t,e,r,o,a,n,u,A,p,p.linkStrategy):D_e(t,e,r,o,a,n,u,A,p)}async function P_e(t,e,r,o,a,n,u,A,p){if(a!==null)if(p.overwrite)t.push(async()=>r.removePromise(o)),a=null;else return!1;return t.push(async()=>{await r.symlinkPromise(DD(r.pathUtils,await n.readlinkPromise(u)),o)}),!0}var Og,I_e,GR=Et(()=>{Ca();Og=new Date(456789e3*1e3),I_e=Og.getTime()});function PD(t,e,r,o){let a=()=>{let n=r.shift();if(typeof n>\"u\")return null;let u=t.pathUtils.join(e,n);return Object.assign(t.statSync(u),{name:n,path:void 0})};return new Gw(e,a,o)}var Gw,L7=Et(()=>{BD();Gw=class{constructor(e,r,o={}){this.path=e;this.nextDirent=r;this.opts=o;this.closed=!1}throwIfClosed(){if(this.closed)throw LR()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.read())!==null;)yield e}finally{await this.close()}}read(e){let r=this.readSync();return typeof e<\"u\"?e(null,r):Promise.resolve(r)}readSync(){return this.throwIfClosed(),this.nextDirent()}close(e){return this.closeSync(),typeof e<\"u\"?e(null):Promise.resolve()}closeSync(){this.throwIfClosed(),this.opts.onClose?.(),this.closed=!0}}});function O7(t,e){if(t!==e)throw new Error(`Invalid StatWatcher status: expected '${e}', got '${t}'`)}var M7,ry,U7=Et(()=>{M7=ve(\"events\");HR();ry=class extends M7.EventEmitter{constructor(r,o,{bigint:a=!1}={}){super();this.status=\"ready\";this.changeListeners=new Map;this.startTimeout=null;this.fakeFs=r,this.path=o,this.bigint=a,this.lastStats=this.stat()}static create(r,o,a){let n=new ry(r,o,a);return n.start(),n}start(){O7(this.status,\"ready\"),this.status=\"running\",this.startTimeout=setTimeout(()=>{this.startTimeout=null,this.fakeFs.existsSync(this.path)||this.emit(\"change\",this.lastStats,this.lastStats)},3)}stop(){O7(this.status,\"running\"),this.status=\"stopped\",this.startTimeout!==null&&(clearTimeout(this.startTimeout),this.startTimeout=null),this.emit(\"stop\")}stat(){try{return this.fakeFs.statSync(this.path,{bigint:this.bigint})}catch{let o=this.bigint?new ty:new ey;return vD(o)}}makeInterval(r){let o=setInterval(()=>{let a=this.stat(),n=this.lastStats;_R(a,n)||(this.lastStats=a,this.emit(\"change\",a,n))},r.interval);return r.persistent?o:o.unref()}registerChangeListener(r,o){this.addListener(\"change\",r),this.changeListeners.set(r,this.makeInterval(o))}unregisterChangeListener(r){this.removeListener(\"change\",r);let o=this.changeListeners.get(r);typeof o<\"u\"&&clearInterval(o),this.changeListeners.delete(r)}unregisterAllChangeListeners(){for(let r of this.changeListeners.keys())this.unregisterChangeListener(r)}hasChangeListeners(){return this.changeListeners.size>0}ref(){for(let r of this.changeListeners.values())r.ref();return this}unref(){for(let r of this.changeListeners.values())r.unref();return this}}});function ny(t,e,r,o){let a,n,u,A;switch(typeof r){case\"function\":a=!1,n=!0,u=5007,A=r;break;default:({bigint:a=!1,persistent:n=!0,interval:u=5007}=r),A=o;break}let p=bD.get(t);typeof p>\"u\"&&bD.set(t,p=new Map);let h=p.get(e);return typeof h>\"u\"&&(h=ry.create(t,e,{bigint:a}),p.set(e,h)),h.registerChangeListener(A,{persistent:n,interval:u}),h}function Mg(t,e,r){let o=bD.get(t);if(typeof o>\"u\")return;let a=o.get(e);typeof a>\"u\"||(typeof r>\"u\"?a.unregisterAllChangeListeners():a.unregisterChangeListener(r),a.hasChangeListeners()||(a.stop(),o.delete(e)))}function Ug(t){let e=bD.get(t);if(!(typeof e>\"u\"))for(let r of e.keys())Mg(t,r)}var bD,YR=Et(()=>{U7();bD=new WeakMap});function b_e(t){let e=t.match(/\\r?\\n/g);if(e===null)return H7.EOL;let r=e.filter(a=>a===`\\r\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:147:`)}`}}};Bn.RequestError=Vi;var ub=class extends Vi{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name=\"MaxRedirectsError\"}};Bn.MaxRedirectsError=ub;var Ab=class extends Vi{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name=\"HTTPError\"}};Bn.HTTPError=Ab;var fb=class extends Vi{constructor(e,r){super(e.message,e,r),this.name=\"CacheError\"}};Bn.CacheError=fb;var pb=class extends Vi{constructor(e,r){super(e.message,e,r),this.name=\"UploadError\"}};Bn.UploadError=pb;var hb=class extends Vi{constructor(e,r,o){super(e.message,e,o),this.name=\"TimeoutError\",this.event=e.event,this.timings=r}};Bn.TimeoutError=hb;var E1=class extends Vi{constructor(e,r){super(e.message,e,r),this.name=\"ReadError\"}};Bn.ReadError=E1;var gb=class extends Vi{constructor(e){super(`Unsupported protocol \"${e.url.protocol}\"`,{},e),this.name=\"UnsupportedProtocolError\"}};Bn.UnsupportedProtocolError=gb;var lst=[\"socket\",\"connect\",\"continue\",\"information\",\"upgrade\",\"timeout\"],db=class extends Lae.Duplex{constructor(e,r={},o){super({autoDestroy:!1,highWaterMark:0}),this[bE]=0,this[kE]=0,this.requestInitialized=!1,this[ob]=new Set,this.redirects=[],this[QE]=!1,this[ab]=!1,this[y1]=[],this.retryCount=0,this._progressCallbacks=[];let a=()=>this._unlockWrite(),n=()=>this._lockWrite();this.on(\"pipe\",h=>{h.prependListener(\"data\",a),h.on(\"data\",n),h.prependListener(\"end\",a),h.on(\"end\",n)}),this.on(\"unpipe\",h=>{h.off(\"data\",a),h.off(\"data\",n),h.off(\"end\",a),h.off(\"end\",n)}),this.on(\"pipe\",h=>{h instanceof w4.IncomingMessage&&(this.options.headers={...h.headers,...this.options.headers})});let{json:u,body:A,form:p}=r;if((u||A||p)&&this._lockWrite(),Bn.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,o)}catch(h){st.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(h);return}(async()=>{var h;try{this.options.body instanceof Hit.ReadStream&&await sst(this.options.body);let{url:E}=this.options;if(!E)throw new TypeError(\"Missing `url` property\");if(this.requestUrl=E.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(h=this[Zs])===null||h===void 0||h.destroy();return}for(let I of this[y1])I();this[y1].length=0,this.requestInitialized=!0}catch(E){if(E instanceof Vi){this._beforeError(E);return}this.destroyed||this.destroy(E)}})()}static normalizeArguments(e,r,o){var a,n,u,A,p;let h=r;if(st.default.object(e)&&!st.default.urlInstance(e))r={...o,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError(\"The `url` option is mutually exclusive with the `input` argument\");r={...o,...r},e!==void 0&&(r.url=e),st.default.urlInstance(r.url)&&(r.url=new ah.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),st.assert.any([st.default.string,st.default.undefined],r.method),st.assert.any([st.default.object,st.default.undefined],r.headers),st.assert.any([st.default.string,st.default.urlInstance,st.default.undefined],r.prefixUrl),st.assert.any([st.default.object,st.default.undefined],r.cookieJar),st.assert.any([st.default.object,st.default.string,st.default.undefined],r.searchParams),st.assert.any([st.default.object,st.default.string,st.default.undefined],r.cache),st.assert.any([st.default.object,st.default.number,st.default.undefined],r.timeout),st.assert.any([st.default.object,st.default.undefined],r.context),st.assert.any([st.default.object,st.default.undefined],r.hooks),st.assert.any([st.default.boolean,st.default.undefined],r.decompress),st.assert.any([st.default.boolean,st.default.undefined],r.ignoreInvalidCookies),st.assert.any([st.default.boolean,st.default.undefined],r.followRedirect),st.assert.any([st.default.number,st.default.undefined],r.maxRedirects),st.assert.any([st.default.boolean,st.default.undefined],r.throwHttpErrors),st.assert.any([st.default.boolean,st.default.undefined],r.http2),st.assert.any([st.default.boolean,st.default.undefined],r.allowGetBody),st.assert.any([st.default.string,st.default.undefined],r.localAddress),st.assert.any([qae.isDnsLookupIpVersion,st.default.undefined],r.dnsLookupIpVersion),st.assert.any([st.default.object,st.default.undefined],r.https),st.assert.any([st.default.boolean,st.default.undefined],r.rejectUnauthorized),r.https&&(st.assert.any([st.default.boolean,st.default.undefined],r.https.rejectUnauthorized),st.assert.any([st.default.function_,st.default.undefined],r.https.checkServerIdentity),st.assert.any([st.default.string,st.default.object,st.default.array,st.default.undefined],r.https.certificateAuthority),st.assert.any([st.default.string,st.default.object,st.default.array,st.default.undefined],r.https.key),st.assert.any([st.default.string,st.default.object,st.default.array,st.default.undefined],r.https.certificate),st.assert.any([st.default.string,st.default.undefined],r.https.passphrase),st.assert.any([st.default.string,st.default.buffer,st.default.array,st.default.undefined],r.https.pfx)),st.assert.any([st.default.object,st.default.undefined],r.cacheOptions),st.default.string(r.method)?r.method=r.method.toUpperCase():r.method=\"GET\",r.headers===o?.headers?r.headers={...r.headers}:r.headers=Kit({...o?.headers,...r.headers}),\"slashes\"in r)throw new TypeError(\"The legacy `url.Url` has been deprecated. Use `URL` instead.\");if(\"auth\"in r)throw new TypeError(\"Parameter `auth` is deprecated. Use `username` / `password` instead.\");if(\"searchParams\"in r&&r.searchParams&&r.searchParams!==o?.searchParams){let x;if(st.default.string(r.searchParams)||r.searchParams instanceof ah.URLSearchParams)x=new ah.URLSearchParams(r.searchParams);else{nst(r.searchParams),x=new ah.URLSearchParams;for(let C in r.searchParams){let R=r.searchParams[C];R===null?x.append(C,\"\"):R!==void 0&&x.append(C,R)}}(a=o?.searchParams)===null||a===void 0||a.forEach((C,R)=>{x.has(R)||x.append(R,C)}),r.searchParams=x}if(r.username=(n=r.username)!==null&&n!==void 0?n:\"\",r.password=(u=r.password)!==null&&u!==void 0?u:\"\",st.default.undefined(r.prefixUrl)?r.prefixUrl=(A=o?.prefixUrl)!==null&&A!==void 0?A:\"\":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==\"\"&&!r.prefixUrl.endsWith(\"/\")&&(r.prefixUrl+=\"/\")),st.default.string(r.url)){if(r.url.startsWith(\"/\"))throw new Error(\"`input` must not start with a slash when using `prefixUrl`\");r.url=Hae.default(r.prefixUrl+r.url,r)}else(st.default.undefined(r.url)&&r.prefixUrl!==\"\"||r.protocol)&&(r.url=Hae.default(r.prefixUrl,r));if(r.url){\"port\"in r&&delete r.port;let{prefixUrl:x}=r;Object.defineProperty(r,\"prefixUrl\",{set:R=>{let L=r.url;if(!L.href.startsWith(R))throw new Error(`Cannot change \\`prefixUrl\\` from ${x} to ${R}: ${L.href}`);r.url=new ah.URL(R+L.href.slice(x.length)),x=R},get:()=>x});let{protocol:C}=r.url;if(C===\"unix:\"&&(C=\"http:\",r.url=new ah.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),C!==\"http:\"&&C!==\"https:\")throw new gb(r);r.username===\"\"?r.username=r.url.username:r.url.username=r.username,r.password===\"\"?r.password=r.url.password:r.url.password=r.password}let{cookieJar:E}=r;if(E){let{setCookie:x,getCookieString:C}=E;st.assert.function_(x),st.assert.function_(C),x.length===4&&C.length===0&&(x=Nae.promisify(x.bind(r.cookieJar)),C=Nae.promisify(C.bind(r.cookieJar)),r.cookieJar={setCookie:x,getCookieString:C})}let{cache:I}=r;if(I&&(v4.has(I)||v4.set(I,new Mae((x,C)=>{let R=x[Zs](x,C);return st.default.promise(R)&&(R.once=(L,U)=>{if(L===\"error\")R.catch(U);else if(L===\"abort\")(async()=>{try{(await R).once(\"abort\",U)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${L}`);return R}),R},I))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)I4||(I4=new Git.default),r.dnsCache=I4;else if(!st.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \\`dnsCache\\` must be a CacheableLookup instance or a boolean, got ${st.default(r.dnsCache)}`);st.default.number(r.timeout)?r.timeout={request:r.timeout}:o&&r.timeout!==o.timeout?r.timeout={...o.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let v=r.hooks===o?.hooks;r.hooks={...r.hooks};for(let x of Bn.knownHookEvents)if(x in r.hooks)if(st.default.array(r.hooks[x]))r.hooks[x]=[...r.hooks[x]];else throw new TypeError(`Parameter \\`${x}\\` must be an Array, got ${st.default(r.hooks[x])}`);else r.hooks[x]=[];if(o&&!v)for(let x of Bn.knownHookEvents)o.hooks[x].length>0&&(r.hooks[x]=[...o.hooks[x],...r.hooks[x]]);if(\"family\"in r&&lh.default('\"options.family\" was never documented, please use \"options.dnsLookupIpVersion\"'),o?.https&&(r.https={...o.https,...r.https}),\"rejectUnauthorized\"in r&&lh.default('\"options.rejectUnauthorized\" is now deprecated, please use \"options.https.rejectUnauthorized\"'),\"checkServerIdentity\"in r&&lh.default('\"options.checkServerIdentity\" was never documented, please use \"options.https.checkServerIdentity\"'),\"ca\"in r&&lh.default('\"options.ca\" was never documented, please use \"options.https.certificateAuthority\"'),\"key\"in r&&lh.default('\"options.key\" was never documented, please use \"options.https.key\"'),\"cert\"in r&&lh.default('\"options.cert\" was never documented, please use \"options.https.certificate\"'),\"passphrase\"in r&&lh.default('\"options.passphrase\" was never documented, please use \"options.https.passphrase\"'),\"pfx\"in r&&lh.default('\"options.pfx\" was never documented, please use \"options.https.pfx\"'),\"followRedirects\"in r)throw new TypeError(\"The `followRedirects` option does not exist. Use `followRedirect` instead.\");if(r.agent){for(let x in r.agent)if(x!==\"http\"&&x!==\"https\"&&x!==\"http2\")throw new TypeError(`Expected the \\`options.agent\\` properties to be \\`http\\`, \\`https\\` or \\`http2\\`, got \\`${x}\\``)}return r.maxRedirects=(p=r.maxRedirects)!==null&&p!==void 0?p:0,Bn.setNonEnumerableProperties([o,h],r),est.default(r,o)}_lockWrite(){let e=()=>{throw new TypeError(\"The payload has been already provided\")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,o=!st.default.undefined(e.form),a=!st.default.undefined(e.json),n=!st.default.undefined(e.body),u=o||a||n,A=Bn.withoutBody.has(e.method)&&!(e.method===\"GET\"&&e.allowGetBody);if(this._cannotHaveBody=A,u){if(A)throw new TypeError(`The \\`${e.method}\\` method cannot be used with a body`);if([n,o,a].filter(p=>p).length>1)throw new TypeError(\"The `body`, `json` and `form` options are mutually exclusive\");if(n&&!(e.body instanceof Lae.Readable)&&!st.default.string(e.body)&&!st.default.buffer(e.body)&&!Uae.default(e.body))throw new TypeError(\"The `body` option must be a stream.Readable, string or Buffer\");if(o&&!st.default.object(e.form))throw new TypeError(\"The `form` option must be an Object\");{let p=!st.default.string(r[\"content-type\"]);n?(Uae.default(e.body)&&p&&(r[\"content-type\"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[ch]=e.body):o?(p&&(r[\"content-type\"]=\"application/x-www-form-urlencoded\"),this[ch]=new ah.URLSearchParams(e.form).toString()):(p&&(r[\"content-type\"]=\"application/json\"),this[ch]=e.stringifyJson(e.json));let h=await Vit.default(this[ch],e.headers);st.default.undefined(r[\"content-length\"])&&st.default.undefined(r[\"transfer-encoding\"])&&!A&&!st.default.undefined(h)&&(r[\"content-length\"]=String(h))}}else A?this._lockWrite():this._unlockWrite();this[xE]=Number(r[\"content-length\"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:o}=r;this[Wae]=e,r.decompress&&(e=Yit(e));let a=e.statusCode,n=e;n.statusMessage=n.statusMessage?n.statusMessage:Oae.STATUS_CODES[a],n.url=r.url.toString(),n.requestUrl=this.requestUrl,n.redirectUrls=this.redirects,n.request=this,n.isFromCache=e.fromCache||!1,n.ip=this.ip,n.retryCount=this.retryCount,this[Gae]=n.isFromCache,this[PE]=Number(e.headers[\"content-length\"])||void 0,this[lb]=e,e.once(\"end\",()=>{this[PE]=this[bE],this.emit(\"downloadProgress\",this.downloadProgress)}),e.once(\"error\",A=>{e.destroy(),this._beforeError(new E1(A,this))}),e.once(\"aborted\",()=>{this._beforeError(new E1({name:\"Error\",message:\"The server aborted pending request\",code:\"ECONNRESET\"},this))}),this.emit(\"downloadProgress\",this.downloadProgress);let u=e.headers[\"set-cookie\"];if(st.default.object(r.cookieJar)&&u){let A=u.map(async p=>r.cookieJar.setCookie(p,o.toString()));r.ignoreInvalidCookies&&(A=A.map(async p=>p.catch(()=>{})));try{await Promise.all(A)}catch(p){this._beforeError(p);return}}if(r.followRedirect&&e.headers.location&&ost.has(a)){if(e.resume(),this[Zs]&&(this[B4](),delete this[Zs],this[jae]()),(a===303&&r.method!==\"GET\"&&r.method!==\"HEAD\"||!r.methodRewriting)&&(r.method=\"GET\",\"body\"in r&&delete r.body,\"json\"in r&&delete r.json,\"form\"in r&&delete r.form,this[ch]=void 0,delete r.headers[\"content-length\"]),this.redirects.length>=r.maxRedirects){this._beforeError(new ub(this));return}try{let p=Buffer.from(e.headers.location,\"binary\").toString(),h=new ah.URL(p,o),E=h.toString();decodeURI(E),h.hostname!==o.hostname||h.port!==o.port?(\"host\"in r.headers&&delete r.headers.host,\"cookie\"in r.headers&&delete r.headers.cookie,\"authorization\"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username=\"\",r.password=\"\")):(h.username=r.username,h.password=r.password),this.redirects.push(E),r.url=h;for(let I of r.hooks.beforeRedirect)await I(r,n);this.emit(\"redirect\",n,r),await this._makeRequest()}catch(p){this._beforeError(p);return}return}if(r.isStream&&r.throwHttpErrors&&!$it.isResponseOk(n)){this._beforeError(new Ab(n));return}e.on(\"readable\",()=>{this[ab]&&this._read()}),this.on(\"resume\",()=>{e.resume()}),this.on(\"pause\",()=>{e.pause()}),e.once(\"end\",()=>{this.push(null)}),this.emit(\"response\",e);for(let A of this[ob])if(!A.headersSent){for(let p in e.headers){let h=r.decompress?p!==\"content-encoding\":!0,E=e.headers[p];h&&A.setHeader(p,E)}A.statusCode=a}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:o,url:a}=r;jit.default(e),this[B4]=_ae.default(e,o,a);let n=r.cache?\"cacheableResponse\":\"response\";e.once(n,p=>{this._onResponse(p)}),e.once(\"error\",p=>{var h;e.destroy(),(h=e.res)===null||h===void 0||h.removeAllListeners(\"end\"),p=p instanceof _ae.TimeoutError?new hb(p,this.timings,this):new Vi(p.message,p,this),this._beforeError(p)}),this[jae]=Jit.default(e,this,lst),this[Zs]=e,this.emit(\"uploadProgress\",this.uploadProgress);let u=this[ch],A=this.redirects.length===0?this:e;st.default.nodeStream(u)?(u.pipe(A),u.once(\"error\",p=>{this._beforeError(new pb(p,this))})):(this._unlockWrite(),st.default.undefined(u)?(this._cannotHaveBody||this._noPipe)&&(A.end(),this._lockWrite()):(this._writeRequest(u,void 0,()=>{}),A.end(),this._lockWrite())),this.emit(\"request\",e)}async _createCacheableRequest(e,r){return new Promise((o,a)=>{Object.assign(r,zit.default(e)),delete r.url;let n,u=v4.get(r.cache)(r,async A=>{A._readableState.autoDestroy=!1,n&&(await n).emit(\"cacheableResponse\",A),o(A)});r.url=e,u.once(\"error\",a),u.once(\"request\",async A=>{n=A,o(n)})})}async _makeRequest(){var e,r,o,a,n;let{options:u}=this,{headers:A}=u;for(let U in A)if(st.default.undefined(A[U]))delete A[U];else if(st.default.null_(A[U]))throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${U}\\` header`);if(u.decompress&&st.default.undefined(A[\"accept-encoding\"])&&(A[\"accept-encoding\"]=rst?\"gzip, deflate, br\":\"gzip, deflate\"),u.cookieJar){let U=await u.cookieJar.getCookieString(u.url.toString());st.default.nonEmptyString(U)&&(u.headers.cookie=U)}for(let U of u.hooks.beforeRequest){let J=await U(u);if(!st.default.undefined(J)){u.request=()=>J;break}}u.body&&this[ch]!==u.body&&(this[ch]=u.body);let{agent:p,request:h,timeout:E,url:I}=u;if(u.dnsCache&&!(\"lookup\"in u)&&(u.lookup=u.dnsCache.lookup),I.hostname===\"unix\"){let U=/(?<socketPath>.+?):(?<path>.+)/.exec(`${I.pathname}${I.search}`);if(U?.groups){let{socketPath:J,path:te}=U.groups;Object.assign(u,{socketPath:J,path:te,host:\"\"})}}let v=I.protocol===\"https:\",x;u.http2?x=Wit.auto:x=v?qit.request:Oae.request;let C=(e=u.request)!==null&&e!==void 0?e:x,R=u.cache?this._createCacheableRequest:C;p&&!u.http2&&(u.agent=p[v?\"https\":\"http\"]),u[Zs]=C,delete u.request,delete u.timeout;let L=u;if(L.shared=(r=u.cacheOptions)===null||r===void 0?void 0:r.shared,L.cacheHeuristic=(o=u.cacheOptions)===null||o===void 0?void 0:o.cacheHeuristic,L.immutableMinTimeToLive=(a=u.cacheOptions)===null||a===void 0?void 0:a.immutableMinTimeToLive,L.ignoreCargoCult=(n=u.cacheOptions)===null||n===void 0?void 0:n.ignoreCargoCult,u.dnsLookupIpVersion!==void 0)try{L.family=qae.dnsLookupIpVersionToFamily(u.dnsLookupIpVersion)}catch{throw new Error(\"Invalid `dnsLookupIpVersion` option value\")}u.https&&(\"rejectUnauthorized\"in u.https&&(L.rejectUnauthorized=u.https.rejectUnauthorized),u.https.checkServerIdentity&&(L.checkServerIdentity=u.https.checkServerIdentity),u.https.certificateAuthority&&(L.ca=u.https.certificateAuthority),u.https.certificate&&(L.cert=u.https.certificate),u.https.key&&(L.key=u.https.key),u.https.passphrase&&(L.passphrase=u.https.passphrase),u.https.pfx&&(L.pfx=u.https.pfx));try{let U=await R(I,L);st.default.undefined(U)&&(U=x(I,L)),u.request=h,u.timeout=E,u.agent=p,u.https&&(\"rejectUnauthorized\"in u.https&&delete L.rejectUnauthorized,u.https.checkServerIdentity&&delete L.checkServerIdentity,u.https.certificateAuthority&&delete L.ca,u.https.certificate&&delete L.cert,u.https.key&&delete L.key,u.https.passphrase&&delete L.passphrase,u.https.pfx&&delete L.pfx),ist(U)?this._onRequest(U):this.writable?(this.once(\"finish\",()=>{this._onResponse(U)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(U)}catch(U){throw U instanceof Mae.CacheError?new fb(U,this):new Vi(U.message,U,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Vi(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[QE])return;let{options:r}=this,o=this.retryCount+1;this[QE]=!0,e instanceof Vi||(e=new Vi(e.message,e,this));let a=e,{response:n}=a;(async()=>{if(n&&!n.body){n.setEncoding(this._readableState.encoding);try{n.rawBody=await Zit.default(n),n.body=n.rawBody.toString()}catch{}}if(this.listenerCount(\"retry\")!==0){let u;try{let A;n&&\"retry-after\"in n.headers&&(A=Number(n.headers[\"retry-after\"]),Number.isNaN(A)?(A=Date.parse(n.headers[\"retry-after\"])-Date.now(),A<=0&&(A=1)):A*=1e3),u=await r.retry.calculateDelay({attemptCount:o,retryOptions:r.retry,error:a,retryAfter:A,computedValue:tst.default({attemptCount:o,retryOptions:r.retry,error:a,retryAfter:A,computedValue:0})})}catch(A){this._error(new Vi(A.message,A,this));return}if(u){let A=async()=>{try{for(let p of this.options.hooks.beforeRetry)await p(this.options,a,o)}catch(p){this._error(new Vi(p.message,e,this));return}this.destroyed||(this.destroy(),this.emit(\"retry\",o,e))};this[Kae]=setTimeout(A,u);return}}this._error(a)})()}_read(){this[ab]=!0;let e=this[lb];if(e&&!this[QE]){e.readableLength&&(this[ab]=!1);let r;for(;(r=e.read())!==null;){this[bE]+=r.length,this[Yae]=!0;let o=this.downloadProgress;o.percent<1&&this.emit(\"downloadProgress\",o),this.push(r)}}}_write(e,r,o){let a=()=>{this._writeRequest(e,r,o)};this.requestInitialized?a():this[y1].push(a)}_writeRequest(e,r,o){this[Zs].destroyed||(this._progressCallbacks.push(()=>{this[kE]+=Buffer.byteLength(e,r);let a=this.uploadProgress;a.percent<1&&this.emit(\"uploadProgress\",a)}),this[Zs].write(e,r,a=>{!a&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),o(a)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(Zs in this)){e();return}if(this[Zs].destroyed){e();return}this[Zs].end(o=>{o||(this[xE]=this[kE],this.emit(\"uploadProgress\",this.uploadProgress),this[Zs].emit(\"upload-complete\")),e(o)})};this.requestInitialized?r():this[y1].push(r)}_destroy(e,r){var o;this[QE]=!0,clearTimeout(this[Kae]),Zs in this&&(this[B4](),!((o=this[lb])===null||o===void 0)&&o.complete||this[Zs].destroy()),e!==null&&!st.default.undefined(e)&&!(e instanceof Vi)&&(e=new Vi(e.message,e,this)),r(e)}get _isAboutToError(){return this[QE]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,o;return((r=(e=this[Zs])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((o=this[Wae])===null||o===void 0)&&o.complete)}get socket(){var e,r;return(r=(e=this[Zs])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[PE]?e=this[bE]/this[PE]:this[PE]===this[bE]?e=1:e=0,{percent:e,transferred:this[bE],total:this[PE]}}get uploadProgress(){let e;return this[xE]?e=this[kE]/this[xE]:this[xE]===this[kE]?e=1:e=0,{percent:e,transferred:this[kE],total:this[xE]}}get timings(){var e;return(e=this[Zs])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[Gae]}pipe(e,r){if(this[Yae])throw new Error(\"Failed to pipe. The response has been emitted already.\");return e instanceof w4.ServerResponse&&this[ob].add(e),super.pipe(e,r)}unpipe(e){return e instanceof w4.ServerResponse&&this[ob].delete(e),super.unpipe(e),this}};Bn.default=db});var w1=_(jc=>{\"use strict\";var cst=jc&&jc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),ust=jc&&jc.__exportStar||function(t,e){for(var r in t)r!==\"default\"&&!Object.prototype.hasOwnProperty.call(e,r)&&cst(e,t,r)};Object.defineProperty(jc,\"__esModule\",{value:!0});jc.CancelError=jc.ParseError=void 0;var Vae=C1(),D4=class extends Vae.RequestError{constructor(e,r){let{options:o}=r.request;super(`${e.message} in \"${o.url.toString()}\"`,e,r.request),this.name=\"ParseError\"}};jc.ParseError=D4;var S4=class extends Vae.RequestError{constructor(e){super(\"Promise was canceled\",{},e),this.name=\"CancelError\"}get isCanceled(){return!0}};jc.CancelError=S4;ust(C1(),jc)});var zae=_(P4=>{\"use strict\";Object.defineProperty(P4,\"__esModule\",{value:!0});var Jae=w1(),Ast=(t,e,r,o)=>{let{rawBody:a}=t;try{if(e===\"text\")return a.toString(o);if(e===\"json\")return a.length===0?\"\":r(a.toString());if(e===\"buffer\")return a;throw new Jae.ParseError({message:`Unknown body type '${e}'`,name:\"Error\"},t)}catch(n){throw new Jae.ParseError(n,t)}};P4.default=Ast});var b4=_(uh=>{\"use strict\";var fst=uh&&uh.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),pst=uh&&uh.__exportStar||function(t,e){for(var r in t)r!==\"default\"&&!Object.prototype.hasOwnProperty.call(e,r)&&fst(e,t,r)};Object.defineProperty(uh,\"__esModule\",{value:!0});var hst=ve(\"events\"),gst=Tf(),dst=zse(),mb=w1(),Xae=zae(),Zae=C1(),mst=u4(),yst=m4(),$ae=y4(),Est=[\"request\",\"response\",\"redirect\",\"uploadProgress\",\"downloadProgress\"];function ele(t){let e,r,o=new hst.EventEmitter,a=new dst((u,A,p)=>{let h=E=>{let I=new Zae.default(void 0,t);I.retryCount=E,I._noPipe=!0,p(()=>I.destroy()),p.shouldReject=!1,p(()=>A(new mb.CancelError(I))),e=I,I.once(\"response\",async C=>{var R;if(C.retryCount=E,C.request.aborted)return;let L;try{L=await yst.default(I),C.rawBody=L}catch{return}if(I._isAboutToError)return;let U=((R=C.headers[\"content-encoding\"])!==null&&R!==void 0?R:\"\").toLowerCase(),J=[\"gzip\",\"deflate\",\"br\"].includes(U),{options:te}=I;if(J&&!te.decompress)C.body=L;else try{C.body=Xae.default(C,te.responseType,te.parseJson,te.encoding)}catch(ae){if(C.body=L.toString(),$ae.isResponseOk(C)){I._beforeError(ae);return}}try{for(let[ae,fe]of te.hooks.afterResponse.entries())C=await fe(C,async ce=>{let me=Zae.default.normalizeArguments(void 0,{...ce,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},te);me.hooks.afterResponse=me.hooks.afterResponse.slice(0,ae);for(let Be of me.hooks.beforeRetry)await Be(me);let he=ele(me);return p(()=>{he.catch(()=>{}),he.cancel()}),he})}catch(ae){I._beforeError(new mb.RequestError(ae.message,ae,I));return}if(!$ae.isResponseOk(C)){I._beforeError(new mb.HTTPError(C));return}r=C,u(I.options.resolveBodyOnly?C.body:C)});let v=C=>{if(a.isCanceled)return;let{options:R}=I;if(C instanceof mb.HTTPError&&!R.throwHttpErrors){let{response:L}=C;u(I.options.resolveBodyOnly?L.body:L);return}A(C)};I.once(\"error\",v);let x=I.options.body;I.once(\"retry\",(C,R)=>{var L,U;if(x===((L=R.request)===null||L===void 0?void 0:L.options.body)&&gst.default.nodeStream((U=R.request)===null||U===void 0?void 0:U.options.body)){v(R);return}h(C)}),mst.default(I,o,Est)};h(0)});a.on=(u,A)=>(o.on(u,A),a);let n=u=>{let A=(async()=>{await a;let{options:p}=r.request;return Xae.default(r,u,p.parseJson,p.encoding)})();return Object.defineProperties(A,Object.getOwnPropertyDescriptors(a)),A};return a.json=()=>{let{headers:u}=e.options;return!e.writableFinished&&u.accept===void 0&&(u.accept=\"application/json\"),n(\"json\")},a.buffer=()=>n(\"buffer\"),a.text=()=>n(\"text\"),a}uh.default=ele;pst(w1(),uh)});var tle=_(x4=>{\"use strict\";Object.defineProperty(x4,\"__esModule\",{value:!0});var Cst=w1();function wst(t,...e){let r=(async()=>{if(t instanceof Cst.RequestError)try{for(let a of e)if(a)for(let n of a)t=await n(t)}catch(a){t=a}throw t})(),o=()=>r;return r.json=o,r.text=o,r.buffer=o,r.on=o,r}x4.default=wst});var ile=_(k4=>{\"use strict\";Object.defineProperty(k4,\"__esModule\",{value:!0});var rle=Tf();function nle(t){for(let e of Object.values(t))(rle.default.plainObject(e)||rle.default.array(e))&&nle(e);return Object.freeze(t)}k4.default=nle});var ole=_(sle=>{\"use strict\";Object.defineProperty(sle,\"__esModule\",{value:!0})});var Q4=_(Vl=>{\"use strict\";var Ist=Vl&&Vl.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Bst=Vl&&Vl.__exportStar||function(t,e){for(var r in t)r!==\"default\"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ist(e,t,r)};Object.defineProperty(Vl,\"__esModule\",{value:!0});Vl.defaultHandler=void 0;var ale=Tf(),Kl=b4(),vst=tle(),Eb=C1(),Dst=ile(),Sst={RequestError:Kl.RequestError,CacheError:Kl.CacheError,ReadError:Kl.ReadError,HTTPError:Kl.HTTPError,MaxRedirectsError:Kl.MaxRedirectsError,TimeoutError:Kl.TimeoutError,ParseError:Kl.ParseError,CancelError:Kl.CancelError,UnsupportedProtocolError:Kl.UnsupportedProtocolError,UploadError:Kl.UploadError},Pst=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:yb}=Eb.default,lle=(...t)=>{let e;for(let r of t)e=yb(void 0,r,e);return e},bst=t=>t.isStream?new Eb.default(void 0,t):Kl.default(t),xst=t=>\"defaults\"in t&&\"options\"in t.defaults,kst=[\"get\",\"post\",\"put\",\"patch\",\"head\",\"delete\"];Vl.defaultHandler=(t,e)=>e(t);var cle=(t,e)=>{if(t)for(let r of t)r(e)},ule=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(o=>(a,n)=>{let u,A=o(a,p=>(u=n(p),u));if(A!==u&&!a.isStream&&u){let p=A,{then:h,catch:E,finally:I}=p;Object.setPrototypeOf(p,Object.getPrototypeOf(u)),Object.defineProperties(p,Object.getOwnPropertyDescriptors(u)),p.then=h,p.catch=E,p.finally=I}return A});let e=(o,a={},n)=>{var u,A;let p=0,h=E=>t.handlers[p++](E,p===t.handlers.length?bst:h);if(ale.default.plainObject(o)){let E={...o,...a};Eb.setNonEnumerableProperties([o,a],E),a=E,o=void 0}try{let E;try{cle(t.options.hooks.init,a),cle((u=a.hooks)===null||u===void 0?void 0:u.init,a)}catch(v){E=v}let I=yb(o,a,n??t.options);if(I[Eb.kIsNormalizedAlready]=!0,E)throw new Kl.RequestError(E.message,E,I);return h(I)}catch(E){if(a.isStream)throw E;return vst.default(E,t.options.hooks.beforeError,(A=a.hooks)===null||A===void 0?void 0:A.beforeError)}};e.extend=(...o)=>{let a=[t.options],n=[...t._rawHandlers],u;for(let A of o)xst(A)?(a.push(A.defaults.options),n.push(...A.defaults._rawHandlers),u=A.defaults.mutableDefaults):(a.push(A),\"handlers\"in A&&n.push(...A.handlers),u=A.mutableDefaults);return n=n.filter(A=>A!==Vl.defaultHandler),n.length===0&&n.push(Vl.defaultHandler),ule({options:lle(...a),handlers:n,mutableDefaults:Boolean(u)})};let r=async function*(o,a){let n=yb(o,a,t.options);n.resolveBodyOnly=!1;let u=n.pagination;if(!ale.default.object(u))throw new TypeError(\"`options.pagination` must be implemented\");let A=[],{countLimit:p}=u,h=0;for(;h<u.requestLimit;){h!==0&&await Pst(u.backoff);let E=await e(void 0,void 0,n),I=await u.transform(E),v=[];for(let C of I)if(u.filter(C,A,v)&&(!u.shouldContinue(C,A,v)||(yield C,u.stackAllItems&&A.push(C),v.push(C),--p<=0)))return;let x=u.paginate(E,A,v);if(x===!1)return;x===E.request.options?n=E.request.options:x!==void 0&&(n=yb(void 0,x,n)),h++}};e.paginate=r,e.paginate.all=async(o,a)=>{let n=[];for await(let u of r(o,a))n.push(u);return n},e.paginate.each=r,e.stream=(o,a)=>e(o,{...a,isStream:!0});for(let o of kst)e[o]=(a,n)=>e(a,{...n,method:o}),e.stream[o]=(a,n)=>e(a,{...n,method:o,isStream:!0});return Object.assign(e,Sst),Object.defineProperty(e,\"defaults\",{value:t.mutableDefaults?t:Dst.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=lle,e};Vl.default=ule;Bst(ole(),Vl)});var ple=_((Nf,Cb)=>{\"use strict\";var Qst=Nf&&Nf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Ale=Nf&&Nf.__exportStar||function(t,e){for(var r in t)r!==\"default\"&&!Object.prototype.hasOwnProperty.call(e,r)&&Qst(e,t,r)};Object.defineProperty(Nf,\"__esModule\",{value:!0});var Fst=ve(\"url\"),fle=Q4(),Rst={options:{method:\"GET\",retry:{limit:2,methods:[\"GET\",\"PUT\",\"HEAD\",\"DELETE\",\"OPTIONS\",\"TRACE\"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:[\"ETIMEDOUT\",\"ECONNRESET\",\"EADDRINUSE\",\"ECONNREFUSED\",\"EPIPE\",\"ENOTFOUND\",\"ENETUNREACH\",\"EAI_AGAIN\"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{\"user-agent\":\"got (https://github.com/sindresorhus/got)\"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:\"text\",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:\"\",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType===\"json\"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,\"link\"))return!1;let e=t.headers.link.split(\",\"),r;for(let o of e){let a=o.split(\";\");if(a[1].includes(\"next\")){r=a[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Fst.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[fle.defaultHandler],mutableDefaults:!1},F4=fle.default(Rst);Nf.default=F4;Cb.exports=F4;Cb.exports.default=F4;Cb.exports.__esModule=!0;Ale(Q4(),Nf);Ale(b4(),Nf)});var nn={};Vt(nn,{Method:()=>Cle,del:()=>Mst,get:()=>L4,getNetworkSettings:()=>Ele,post:()=>O4,put:()=>Ost,request:()=>I1});function dle(t){let e=new URL(t),r={host:e.hostname,headers:{}};return e.port&&(r.port=Number(e.port)),e.username&&e.password&&(r.proxyAuth=`${e.username}:${e.password}`),{proxy:r}}async function R4(t){return ol(gle,t,()=>oe.readFilePromise(t).then(e=>(gle.set(t,e),e)))}function Lst({statusCode:t,statusMessage:e},r){let o=Mt(r,t,yt.NUMBER),a=`https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/${t}`;return Zy(r,`${o}${e?` (${e})`:\"\"}`,a)}async function wb(t,{configuration:e,customErrorMessage:r}){try{return await t}catch(o){if(o.name!==\"HTTPError\")throw o;let a=r?.(o,e)??o.response.body?.error;a==null&&(o.message.startsWith(\"Response code\")?a=\"The remote server failed to provide the requested resource\":a=o.message),o.code===\"ETIMEDOUT\"&&o.event===\"socket\"&&(a+=`(can be increased via ${Mt(e,\"httpTimeout\",yt.SETTING)})`);let n=new zt(35,a,u=>{o.response&&u.reportError(35,`  ${zu(e,{label:\"Response Code\",value:_c(yt.NO_HINT,Lst(o.response,e))})}`),o.request&&(u.reportError(35,`  ${zu(e,{label:\"Request Method\",value:_c(yt.NO_HINT,o.request.options.method)})}`),u.reportError(35,`  ${zu(e,{label:\"Request URL\",value:_c(yt.URL,o.request.requestUrl)})}`)),o.request.redirects.length>0&&u.reportError(35,`  ${zu(e,{label:\"Request Redirects\",value:_c(yt.NO_HINT,PL(e,o.request.redirects,yt.URL))})}`),o.request.retryCount===o.request.options.retry.limit&&u.reportError(35,`  ${zu(e,{label:\"Request Retry Count\",value:_c(yt.NO_HINT,`${Mt(e,o.request.retryCount,yt.NUMBER)} (can be increased via ${Mt(e,\"httpRetry\",yt.SETTING)})`)})}`)});throw n.originalError=o,n}}function Ele(t,e){let r=[...e.configuration.get(\"networkSettings\")].sort(([u],[A])=>A.length-u.length),o={enableNetwork:void 0,httpsCaFilePath:void 0,httpProxy:void 0,httpsProxy:void 0,httpsKeyFilePath:void 0,httpsCertFilePath:void 0},a=Object.keys(o),n=typeof t==\"string\"?new URL(t):t;for(let[u,A]of r)if(N4.default.isMatch(n.hostname,u))for(let p of a){let h=A.get(p);h!==null&&typeof o[p]>\"u\"&&(o[p]=h)}for(let u of a)typeof o[u]>\"u\"&&(o[u]=e.configuration.get(u));return o}async function I1(t,e,{configuration:r,headers:o,jsonRequest:a,jsonResponse:n,method:u=\"GET\",wrapNetworkRequest:A}){let p={target:t,body:e,configuration:r,headers:o,jsonRequest:a,jsonResponse:n,method:u},h=async()=>await Ust(t,e,p),E=typeof A<\"u\"?await A(h,p):h;return await(await r.reduceHook(v=>v.wrapNetworkRequest,E,p))()}async function L4(t,{configuration:e,jsonResponse:r,customErrorMessage:o,wrapNetworkRequest:a,...n}){let u=()=>wb(I1(t,null,{configuration:e,wrapNetworkRequest:a,...n}),{configuration:e,customErrorMessage:o}).then(p=>p.body),A=await(typeof a<\"u\"?u():ol(hle,t,()=>u().then(p=>(hle.set(t,p),p))));return r?JSON.parse(A.toString()):A}async function Ost(t,e,{customErrorMessage:r,...o}){return(await wb(I1(t,e,{...o,method:\"PUT\"}),{customErrorMessage:r,configuration:o.configuration})).body}async function O4(t,e,{customErrorMessage:r,...o}){return(await wb(I1(t,e,{...o,method:\"POST\"}),{customErrorMessage:r,configuration:o.configuration})).body}async function Mst(t,{customErrorMessage:e,...r}){return(await wb(I1(t,null,{...r,method:\"DELETE\"}),{customErrorMessage:e,configuration:r.configuration})).body}async function Ust(t,e,{configuration:r,headers:o,jsonRequest:a,jsonResponse:n,method:u=\"GET\"}){let A=typeof t==\"string\"?new URL(t):t,p=Ele(A,{configuration:r});if(p.enableNetwork===!1)throw new zt(80,`Request to '${A.href}' has been blocked because of your configuration settings`);if(A.protocol===\"http:\"&&!N4.default.isMatch(A.hostname,r.get(\"unsafeHttpWhitelist\")))throw new zt(81,`Unsafe http requests must be explicitly whitelisted in your configuration (${A.hostname})`);let E={agent:{http:p.httpProxy?T4.default.httpOverHttp(dle(p.httpProxy)):Tst,https:p.httpsProxy?T4.default.httpsOverHttp(dle(p.httpsProxy)):Nst},headers:o,method:u};E.responseType=n?\"json\":\"buffer\",e!==null&&(Buffer.isBuffer(e)||!a&&typeof e==\"string\"?E.body=e:E.json=e);let I=r.get(\"httpTimeout\"),v=r.get(\"httpRetry\"),x=r.get(\"enableStrictSsl\"),C=p.httpsCaFilePath,R=p.httpsCertFilePath,L=p.httpsKeyFilePath,{default:U}=await Promise.resolve().then(()=>$e(ple())),J=C?await R4(C):void 0,te=R?await R4(R):void 0,ae=L?await R4(L):void 0,fe=U.extend({timeout:{socket:I},retry:v,https:{rejectUnauthorized:x,certificateAuthority:J,certificate:te,key:ae},...E});return r.getLimit(\"networkConcurrency\")(()=>fe(A))}var mle,yle,N4,T4,hle,gle,Tst,Nst,Cle,Ib=Et(()=>{St();mle=ve(\"https\"),yle=ve(\"http\"),N4=$e(Zo()),T4=$e(Yse());Yl();jl();ql();hle=new Map,gle=new Map,Tst=new yle.Agent({keepAlive:!0}),Nst=new mle.Agent({keepAlive:!0});Cle=(a=>(a.GET=\"GET\",a.PUT=\"PUT\",a.POST=\"POST\",a.DELETE=\"DELETE\",a))(Cle||{})});var Ji={};Vt(Ji,{availableParallelism:()=>U4,getArchitecture:()=>B1,getArchitectureName:()=>Gst,getArchitectureSet:()=>M4,getCaller:()=>Vst,major:()=>_st,openUrl:()=>Hst});function jst(){if(process.platform===\"darwin\"||process.platform===\"win32\")return null;let t;try{t=oe.readFileSync(qst)}catch{}if(typeof t<\"u\"){if(t&&t.includes(\"GLIBC\"))return\"glibc\";if(t&&t.includes(\"musl\"))return\"musl\"}let r=(process.report?.getReport()??{}).sharedObjects??[],o=/\\/(?:(ld-linux-|[^/]+-linux-gnu\\/)|(libc.musl-|ld-musl-))/;return KI(r,a=>{let n=a.match(o);if(!n)return KI.skip;if(n[1])return\"glibc\";if(n[2])return\"musl\";throw new Error(\"Assertion failed: Expected the libc variant to have been detected\")})??null}function B1(){return Ile=Ile??{os:process.platform,cpu:process.arch,libc:jst()}}function Gst(t=B1()){return t.libc?`${t.os}-${t.cpu}-${t.libc}`:`${t.os}-${t.cpu}`}function M4(){let t=B1();return Ble=Ble??{os:[t.os],cpu:[t.cpu],libc:t.libc?[t.libc]:[]}}function Kst(t){let e=Yst.exec(t);if(!e)return null;let r=e[2]&&e[2].indexOf(\"native\")===0,o=e[2]&&e[2].indexOf(\"eval\")===0,a=Wst.exec(e[2]);return o&&a!=null&&(e[2]=a[1],e[3]=a[2],e[4]=a[3]),{file:r?null:e[2],methodName:e[1]||\"<unknown>\",arguments:r?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}function Vst(){let e=new Error().stack.split(`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:218:`+r,width:a=80}=e,n=(o+r).match(/[^\\S\\n]/g)||[];a-=n.length;let u=`.{1,${a}}([\\\\s\\\\u200B]+|$)|[^\\\\s\\\\u200B]+?([\\\\s\\\\u200B]+|$)`,A=t.trim(),p=new RegExp(u,\"g\"),h=A.match(p)||[];return h=h.map(E=>E.replace(/\\n$/,\"\")),e.padEnd&&(h=h.map(E=>E.padEnd(a,\" \"))),e.padStart&&(h=h.map(E=>E.padStart(a,\" \"))),r+h.join(o)};sn.unmute=t=>{let e=t.stack.find(o=>rc.keys.color.includes(o));return e?rc[e]:t.stack.find(o=>o.slice(2)===\"bg\")?rc[e.slice(2)]:o=>o};sn.pascal=t=>t?t[0].toUpperCase()+t.slice(1):\"\";sn.inverse=t=>{if(!t||!t.stack)return t;let e=t.stack.find(o=>rc.keys.color.includes(o));if(e){let o=rc[\"bg\"+sn.pascal(e)];return o?o.black:t}let r=t.stack.find(o=>o.slice(0,2)===\"bg\");return r?rc[r.slice(2).toLowerCase()]||t:rc.none};sn.complement=t=>{if(!t||!t.stack)return t;let e=t.stack.find(o=>rc.keys.color.includes(o)),r=t.stack.find(o=>o.slice(0,2)===\"bg\");if(e&&!r)return rc[ohe[e]||e];if(r){let o=r.slice(2).toLowerCase(),a=ohe[o];return a&&rc[\"bg\"+sn.pascal(a)]||t}return rc.none};sn.meridiem=t=>{let e=t.getHours(),r=t.getMinutes(),o=e>=12?\"pm\":\"am\";e=e%12;let a=e===0?12:e,n=r<10?\"0\"+r:r;return a+\":\"+n+\" \"+o};sn.set=(t={},e=\"\",r)=>e.split(\".\").reduce((o,a,n,u)=>{let A=u.length-1>n?o[a]||{}:r;return!sn.isObject(A)&&n<u.length-1&&(A={}),o[a]=A},t);sn.get=(t={},e=\"\",r)=>{let o=t[e]==null?e.split(\".\").reduce((a,n)=>a&&a[n],t):t[e];return o??r};sn.mixin=(t,e)=>{if(!ik(t))return e;if(!ik(e))return t;for(let r of Object.keys(e)){let o=Object.getOwnPropertyDescriptor(e,r);if(o.hasOwnProperty(\"value\"))if(t.hasOwnProperty(r)&&ik(o.value)){let a=Object.getOwnPropertyDescriptor(t,r);ik(a.value)?t[r]=sn.merge({},t[r],e[r]):Reflect.defineProperty(t,r,o)}else Reflect.defineProperty(t,r,o);else Reflect.defineProperty(t,r,o)}return t};sn.merge=(...t)=>{let e={};for(let r of t)sn.mixin(e,r);return e};sn.mixinEmitter=(t,e)=>{let r=e.constructor.prototype;for(let o of Object.keys(r)){let a=r[o];typeof a==\"function\"?sn.define(t,o,a.bind(e)):sn.define(t,o,a)}};sn.onExit=t=>{let e=(r,o)=>{she||(she=!0,T_.forEach(a=>a()),r===!0&&process.exit(128+o))};T_.length===0&&(process.once(\"SIGTERM\",e.bind(null,!0,15)),process.once(\"SIGINT\",e.bind(null,!0,2)),process.once(\"exit\",e)),T_.push(t)};sn.define=(t,e,r)=>{Reflect.defineProperty(t,e,{value:r})};sn.defineExport=(t,e,r)=>{let o;Reflect.defineProperty(t,e,{enumerable:!0,configurable:!0,set(a){o=a},get(){return o?o():r()}})}});var ahe=_(hC=>{\"use strict\";hC.ctrl={a:\"first\",b:\"backward\",c:\"cancel\",d:\"deleteForward\",e:\"last\",f:\"forward\",g:\"reset\",i:\"tab\",k:\"cutForward\",l:\"reset\",n:\"newItem\",m:\"cancel\",j:\"submit\",p:\"search\",r:\"remove\",s:\"save\",u:\"undo\",w:\"cutLeft\",x:\"toggleCursor\",v:\"paste\"};hC.shift={up:\"shiftUp\",down:\"shiftDown\",left:\"shiftLeft\",right:\"shiftRight\",tab:\"prev\"};hC.fn={up:\"pageUp\",down:\"pageDown\",left:\"pageLeft\",right:\"pageRight\",delete:\"deleteForward\"};hC.option={b:\"backward\",f:\"forward\",d:\"cutRight\",left:\"cutLeft\",up:\"altUp\",down:\"altDown\"};hC.keys={pageup:\"pageUp\",pagedown:\"pageDown\",home:\"home\",end:\"end\",cancel:\"cancel\",delete:\"deleteForward\",backspace:\"delete\",down:\"down\",enter:\"submit\",escape:\"cancel\",left:\"left\",space:\"space\",number:\"number\",return:\"submit\",right:\"right\",tab:\"next\",up:\"up\"}});var uhe=_((X_t,che)=>{\"use strict\";var lhe=ve(\"readline\"),UAt=ahe(),_At=/^(?:\\x1b)([a-zA-Z0-9])$/,HAt=/^(?:\\x1b+)(O|N|\\[|\\[\\[)(?:(\\d+)(?:;(\\d+))?([~^$])|(?:1;)?(\\d+)?([a-zA-Z]))/,qAt={OP:\"f1\",OQ:\"f2\",OR:\"f3\",OS:\"f4\",\"[11~\":\"f1\",\"[12~\":\"f2\",\"[13~\":\"f3\",\"[14~\":\"f4\",\"[[A\":\"f1\",\"[[B\":\"f2\",\"[[C\":\"f3\",\"[[D\":\"f4\",\"[[E\":\"f5\",\"[15~\":\"f5\",\"[17~\":\"f6\",\"[18~\":\"f7\",\"[19~\":\"f8\",\"[20~\":\"f9\",\"[21~\":\"f10\",\"[23~\":\"f11\",\"[24~\":\"f12\",\"[A\":\"up\",\"[B\":\"down\",\"[C\":\"right\",\"[D\":\"left\",\"[E\":\"clear\",\"[F\":\"end\",\"[H\":\"home\",OA:\"up\",OB:\"down\",OC:\"right\",OD:\"left\",OE:\"clear\",OF:\"end\",OH:\"home\",\"[1~\":\"home\",\"[2~\":\"insert\",\"[3~\":\"delete\",\"[4~\":\"end\",\"[5~\":\"pageup\",\"[6~\":\"pagedown\",\"[[5~\":\"pageup\",\"[[6~\":\"pagedown\",\"[7~\":\"home\",\"[8~\":\"end\",\"[a\":\"up\",\"[b\":\"down\",\"[c\":\"right\",\"[d\":\"left\",\"[e\":\"clear\",\"[2$\":\"insert\",\"[3$\":\"delete\",\"[5$\":\"pageup\",\"[6$\":\"pagedown\",\"[7$\":\"home\",\"[8$\":\"end\",Oa:\"up\",Ob:\"down\",Oc:\"right\",Od:\"left\",Oe:\"clear\",\"[2^\":\"insert\",\"[3^\":\"delete\",\"[5^\":\"pageup\",\"[6^\":\"pagedown\",\"[7^\":\"home\",\"[8^\":\"end\",\"[Z\":\"tab\"};function jAt(t){return[\"[a\",\"[b\",\"[c\",\"[d\",\"[e\",\"[2$\",\"[3$\",\"[5$\",\"[6$\",\"[7$\",\"[8$\",\"[Z\"].includes(t)}function GAt(t){return[\"Oa\",\"Ob\",\"Oc\",\"Od\",\"Oe\",\"[2^\",\"[3^\",\"[5^\",\"[6^\",\"[7^\",\"[8^\"].includes(t)}var sk=(t=\"\",e={})=>{let r,o={name:e.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:t,raw:t,...e};if(Buffer.isBuffer(t)?t[0]>127&&t[1]===void 0?(t[0]-=128,t=\"\\x1B\"+String(t)):t=String(t):t!==void 0&&typeof t!=\"string\"?t=String(t):t||(t=o.sequence||\"\"),o.sequence=o.sequence||t||o.name,t===\"\\r\")o.raw=void 0,o.name=\"return\";else if(t===`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:285:${this.getDeclarations()}`}createSession(){return new CH(this.project,this.fullSource)}async processClassic(){let e=this.createSession();return{enforcedDependencies:await this.genEnforcedDependencies(e),enforcedFields:await this.genEnforcedFields(e)}}async process(){let{enforcedDependencies:e,enforcedFields:r}=await this.processClassic(),o=new Map;for(let{workspace:a,dependencyIdent:n,dependencyRange:u,dependencyType:A}of e){let p=B2([A,W.stringifyIdent(n)]),h=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(h,p).set(u??void 0,new Set)}for(let{workspace:a,fieldPath:n,fieldValue:u}of r){let A=B2(n),p=_e.getMapWithDefault(o,a.cwd);_e.getMapWithDefault(p,A).set(JSON.parse(u)??void 0,new Set)}return{manifestUpdates:o,reportedErrors:new Map}}async genEnforcedDependencies(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), dependency_type(DependencyType), gen_enforced_dependency(WorkspaceCwd, DependencyIdent, DependencyRange, DependencyType).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.DependencyIdent),u=em(o.links.DependencyRange),A=em(o.links.DependencyType);if(a===null||n===null)throw new Error(\"Invalid rule\");let p=this.project.getWorkspaceByCwd(a),h=W.parseIdent(n);r.push({workspace:p,dependencyIdent:h,dependencyRange:u,dependencyType:A})}return _e.sortMap(r,[({dependencyRange:o})=>o!==null?\"0\":\"1\",({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({dependencyIdent:o})=>W.stringifyIdent(o)])}async genEnforcedFields(e){let r=[];for await(let o of e.makeQuery(\"workspace(WorkspaceCwd), gen_enforced_field(WorkspaceCwd, FieldPath, FieldValue).\")){let a=V.resolve(this.project.cwd,em(o.links.WorkspaceCwd)),n=em(o.links.FieldPath),u=Xgt(o.links.FieldValue);if(a===null||n===null)throw new Error(\"Invalid rule\");let A=this.project.getWorkspaceByCwd(a);r.push({workspace:A,fieldPath:n,fieldValue:u})}return _e.sortMap(r,[({workspace:o})=>W.stringifyIdent(o.anchoredLocator),({fieldPath:o})=>o])}async*query(e){let r=this.createSession();for await(let o of r.makeQuery(e)){let a={};for(let[n,u]of Object.entries(o.links))n!==\"_\"&&(a[n]=em(u));yield a}}}});var wme=_(Ik=>{\"use strict\";Object.defineProperty(Ik,\"__esModule\",{value:!0});function G2(t){let e=[...t.caches],r=e.shift();return r===void 0?Cme():{get(o,a,n={miss:()=>Promise.resolve()}){return r.get(o,a,n).catch(()=>G2({caches:e}).get(o,a,n))},set(o,a){return r.set(o,a).catch(()=>G2({caches:e}).set(o,a))},delete(o){return r.delete(o).catch(()=>G2({caches:e}).delete(o))},clear(){return r.clear().catch(()=>G2({caches:e}).clear())}}}function Cme(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(a=>Promise.all([a,r.miss(a)])).then(([a])=>a)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}Ik.createFallbackableCache=G2;Ik.createNullCache=Cme});var Bme=_((QWt,Ime)=>{Ime.exports=wme()});var vme=_(TH=>{\"use strict\";Object.defineProperty(TH,\"__esModule\",{value:!0});function ddt(t={serializable:!0}){let e={};return{get(r,o,a={miss:()=>Promise.resolve()}){let n=JSON.stringify(r);if(n in e)return Promise.resolve(t.serializable?JSON.parse(e[n]):e[n]);let u=o(),A=a&&a.miss||(()=>Promise.resolve());return u.then(p=>A(p)).then(()=>u)},set(r,o){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(o):o,Promise.resolve(o)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}TH.createInMemoryCache=ddt});var Sme=_((RWt,Dme)=>{Dme.exports=vme()});var bme=_(Zc=>{\"use strict\";Object.defineProperty(Zc,\"__esModule\",{value:!0});function mdt(t,e,r){let o={\"x-algolia-api-key\":r,\"x-algolia-application-id\":e};return{headers(){return t===NH.WithinHeaders?o:{}},queryParameters(){return t===NH.WithinQueryParameters?o:{}}}}function ydt(t){let e=0,r=()=>(e++,new Promise(o=>{setTimeout(()=>{o(t(r))},Math.min(100*e,1e3))}));return t(r)}function Pme(t,e=(r,o)=>Promise.resolve()){return Object.assign(t,{wait(r){return Pme(t.then(o=>Promise.all([e(o,r),o])).then(o=>o[1]))}})}function Edt(t){let e=t.length-1;for(e;e>0;e--){let r=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[r],t[r]=o}return t}function Cdt(t,e){return e&&Object.keys(e).forEach(r=>{t[r]=e[r](t)}),t}function wdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}var Idt=\"4.14.2\",Bdt=t=>()=>t.transporter.requester.destroy(),NH={WithinQueryParameters:0,WithinHeaders:1};Zc.AuthMode=NH;Zc.addMethods=Cdt;Zc.createAuth=mdt;Zc.createRetryablePromise=ydt;Zc.createWaitablePromise=Pme;Zc.destroy=Bdt;Zc.encode=wdt;Zc.shuffle=Edt;Zc.version=Idt});var Y2=_((NWt,xme)=>{xme.exports=bme()});var kme=_(LH=>{\"use strict\";Object.defineProperty(LH,\"__esModule\",{value:!0});var vdt={Delete:\"DELETE\",Get:\"GET\",Post:\"POST\",Put:\"PUT\"};LH.MethodEnum=vdt});var W2=_((OWt,Qme)=>{Qme.exports=kme()});var Wme=_(Fi=>{\"use strict\";Object.defineProperty(Fi,\"__esModule\",{value:!0});var Rme=W2();function OH(t,e){let r=t||{},o=r.data||{};return Object.keys(r).forEach(a=>{[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(a)===-1&&(o[a]=r[a])}),{data:Object.entries(o).length>0?o:void 0,timeout:r.timeout||e,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var K2={Read:1,Write:2,Any:3},xC={Up:1,Down:2,Timeouted:3},Tme=2*60*1e3;function UH(t,e=xC.Up){return{...t,status:e,lastUpdate:Date.now()}}function Nme(t){return t.status===xC.Up||Date.now()-t.lastUpdate>Tme}function Lme(t){return t.status===xC.Timeouted&&Date.now()-t.lastUpdate<=Tme}function _H(t){return typeof t==\"string\"?{protocol:\"https\",url:t,accept:K2.Any}:{protocol:t.protocol||\"https\",url:t.url,accept:t.accept||K2.Any}}function Ddt(t,e){return Promise.all(e.map(r=>t.get(r,()=>Promise.resolve(UH(r))))).then(r=>{let o=r.filter(A=>Nme(A)),a=r.filter(A=>Lme(A)),n=[...o,...a],u=n.length>0?n.map(A=>_H(A)):e;return{getTimeout(A,p){return(a.length===0&&A===0?1:a.length+3+A)*p},statelessHosts:u}})}var Sdt=({isTimedOut:t,status:e})=>!t&&~~e===0,Pdt=t=>{let e=t.status;return t.isTimedOut||Sdt(t)||~~(e/100)!==2&&~~(e/100)!==4},bdt=({status:t})=>~~(t/100)===2,xdt=(t,e)=>Pdt(t)?e.onRetry(t):bdt(t)?e.onSuccess(t):e.onFail(t);function Fme(t,e,r,o){let a=[],n=Hme(r,o),u=qme(t,o),A=r.method,p=r.method!==Rme.MethodEnum.Get?{}:{...r.data,...o.data},h={\"x-algolia-agent\":t.userAgent.value,...t.queryParameters,...p,...o.queryParameters},E=0,I=(v,x)=>{let C=v.pop();if(C===void 0)throw Yme(MH(a));let R={data:n,headers:u,method:A,url:Ume(C,r.path,h),connectTimeout:x(E,t.timeouts.connect),responseTimeout:x(E,o.timeout)},L=J=>{let te={request:R,response:J,host:C,triesLeft:v.length};return a.push(te),te},U={onSuccess:J=>Ome(J),onRetry(J){let te=L(J);return J.isTimedOut&&E++,Promise.all([t.logger.info(\"Retryable failure\",HH(te)),t.hostsCache.set(C,UH(C,J.isTimedOut?xC.Timeouted:xC.Down))]).then(()=>I(v,x))},onFail(J){throw L(J),Mme(J,MH(a))}};return t.requester.send(R).then(J=>xdt(J,U))};return Ddt(t.hostsCache,e).then(v=>I([...v.statelessHosts].reverse(),v.getTimeout))}function kdt(t){let{hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,hosts:p,queryParameters:h,headers:E}=t,I={hostsCache:e,logger:r,requester:o,requestsCache:a,responsesCache:n,timeouts:u,userAgent:A,headers:E,queryParameters:h,hosts:p.map(v=>_H(v)),read(v,x){let C=OH(x,I.timeouts.read),R=()=>Fme(I,I.hosts.filter(J=>(J.accept&K2.Read)!==0),v,C);if((C.cacheable!==void 0?C.cacheable:v.cacheable)!==!0)return R();let U={request:v,mappedRequestOptions:C,transporter:{queryParameters:I.queryParameters,headers:I.headers}};return I.responsesCache.get(U,()=>I.requestsCache.get(U,()=>I.requestsCache.set(U,R()).then(J=>Promise.all([I.requestsCache.delete(U),J]),J=>Promise.all([I.requestsCache.delete(U),Promise.reject(J)])).then(([J,te])=>te)),{miss:J=>I.responsesCache.set(U,J)})},write(v,x){return Fme(I,I.hosts.filter(C=>(C.accept&K2.Write)!==0),v,OH(x,I.timeouts.write))}};return I}function Qdt(t){let e={value:`Algolia for JavaScript (${t})`,add(r){let o=`; ${r.segment}${r.version!==void 0?` (${r.version})`:\"\"}`;return e.value.indexOf(o)===-1&&(e.value=`${e.value}${o}`),e}};return e}function Ome(t){try{return JSON.parse(t.content)}catch(e){throw Gme(e.message,t)}}function Mme({content:t,status:e},r){let o=t;try{o=JSON.parse(t).message}catch{}return jme(o,e,r)}function Fdt(t,...e){let r=0;return t.replace(/%s/g,()=>encodeURIComponent(e[r++]))}function Ume(t,e,r){let o=_me(r),a=`${t.protocol}://${t.url}/${e.charAt(0)===\"/\"?e.substr(1):e}`;return o.length&&(a+=`?${o}`),a}function _me(t){let e=r=>Object.prototype.toString.call(r)===\"[object Object]\"||Object.prototype.toString.call(r)===\"[object Array]\";return Object.keys(t).map(r=>Fdt(\"%s=%s\",r,e(t[r])?JSON.stringify(t[r]):t[r])).join(\"&\")}function Hme(t,e){if(t.method===Rme.MethodEnum.Get||t.data===void 0&&e.data===void 0)return;let r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function qme(t,e){let r={...t.headers,...e.headers},o={};return Object.keys(r).forEach(a=>{let n=r[a];o[a.toLowerCase()]=n}),o}function MH(t){return t.map(e=>HH(e))}function HH(t){let e=t.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function jme(t,e,r){return{name:\"ApiError\",message:t,status:e,transporterStackTrace:r}}function Gme(t,e){return{name:\"DeserializationError\",message:t,response:e}}function Yme(t){return{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:t}}Fi.CallEnum=K2;Fi.HostStatusEnum=xC;Fi.createApiError=jme;Fi.createDeserializationError=Gme;Fi.createMappedRequestOptions=OH;Fi.createRetryError=Yme;Fi.createStatefulHost=UH;Fi.createStatelessHost=_H;Fi.createTransporter=kdt;Fi.createUserAgent=Qdt;Fi.deserializeFailure=Mme;Fi.deserializeSuccess=Ome;Fi.isStatefulHostTimeouted=Lme;Fi.isStatefulHostUp=Nme;Fi.serializeData=Hme;Fi.serializeHeaders=qme;Fi.serializeQueryParameters=_me;Fi.serializeUrl=Ume;Fi.stackFrameWithoutCredentials=HH;Fi.stackTraceWithoutCredentials=MH});var V2=_((UWt,Kme)=>{Kme.exports=Wme()});var Vme=_(m0=>{\"use strict\";Object.defineProperty(m0,\"__esModule\",{value:!0});var kC=Y2(),Rdt=V2(),J2=W2(),Tdt=t=>{let e=t.region||\"us\",r=kC.createAuth(kC.AuthMode.WithinHeaders,t.appId,t.apiKey),o=Rdt.createTransporter({hosts:[{url:`analytics.${e}.algolia.com`}],...t,headers:{...r.headers(),\"content-type\":\"application/json\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}}),a=t.appId;return kC.addMethods({appId:a,transporter:o},t.methods)},Ndt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Post,path:\"2/abtests\",data:e},r),Ldt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Delete,path:kC.encode(\"2/abtests/%s\",e)},r),Odt=t=>(e,r)=>t.transporter.read({method:J2.MethodEnum.Get,path:kC.encode(\"2/abtests/%s\",e)},r),Mdt=t=>e=>t.transporter.read({method:J2.MethodEnum.Get,path:\"2/abtests\"},e),Udt=t=>(e,r)=>t.transporter.write({method:J2.MethodEnum.Post,path:kC.encode(\"2/abtests/%s/stop\",e)},r);m0.addABTest=Ndt;m0.createAnalyticsClient=Tdt;m0.deleteABTest=Ldt;m0.getABTest=Odt;m0.getABTests=Mdt;m0.stopABTest=Udt});var zme=_((HWt,Jme)=>{Jme.exports=Vme()});var Zme=_(z2=>{\"use strict\";Object.defineProperty(z2,\"__esModule\",{value:!0});var qH=Y2(),_dt=V2(),Xme=W2(),Hdt=t=>{let e=t.region||\"us\",r=qH.createAuth(qH.AuthMode.WithinHeaders,t.appId,t.apiKey),o=_dt.createTransporter({hosts:[{url:`personalization.${e}.algolia.com`}],...t,headers:{...r.headers(),\"content-type\":\"application/json\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}});return qH.addMethods({appId:t.appId,transporter:o},t.methods)},qdt=t=>e=>t.transporter.read({method:Xme.MethodEnum.Get,path:\"1/strategies/personalization\"},e),jdt=t=>(e,r)=>t.transporter.write({method:Xme.MethodEnum.Post,path:\"1/strategies/personalization\",data:e},r);z2.createPersonalizationClient=Hdt;z2.getPersonalizationStrategy=qdt;z2.setPersonalizationStrategy=jdt});var eye=_((jWt,$me)=>{$me.exports=Zme()});var hye=_(Ft=>{\"use strict\";Object.defineProperty(Ft,\"__esModule\",{value:!0});var Gt=Y2(),Na=V2(),Ir=W2(),Gdt=ve(\"crypto\");function Bk(t){let e=r=>t.request(r).then(o=>{if(t.batch!==void 0&&t.batch(o.hits),!t.shouldStop(o))return o.cursor?e({cursor:o.cursor}):e({page:(r.page||0)+1})});return e({})}var Ydt=t=>{let e=t.appId,r=Gt.createAuth(t.authMode!==void 0?t.authMode:Gt.AuthMode.WithinHeaders,e,t.apiKey),o=Na.createTransporter({hosts:[{url:`${e}-dsn.algolia.net`,accept:Na.CallEnum.Read},{url:`${e}.algolia.net`,accept:Na.CallEnum.Write}].concat(Gt.shuffle([{url:`${e}-1.algolianet.com`},{url:`${e}-2.algolianet.com`},{url:`${e}-3.algolianet.com`}])),...t,headers:{...r.headers(),\"content-type\":\"application/x-www-form-urlencoded\",...t.headers},queryParameters:{...r.queryParameters(),...t.queryParameters}}),a={transporter:o,appId:e,addAlgoliaAgent(n,u){o.userAgent.add({segment:n,version:u})},clearCache(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then(()=>{})}};return Gt.addMethods(a,t.methods)};function tye(){return{name:\"MissingObjectIDError\",message:\"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option.\"}}function rye(){return{name:\"ObjectNotFoundError\",message:\"Object not found.\"}}function nye(){return{name:\"ValidUntilNotFoundError\",message:\"ValidUntil not found in given secured api key.\"}}var Wdt=t=>(e,r)=>{let{queryParameters:o,...a}=r||{},n={acl:e,...o!==void 0?{queryParameters:o}:{}},u=(A,p)=>Gt.createRetryablePromise(h=>X2(t)(A.key,p).catch(E=>{if(E.status!==404)throw E;return h()}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/keys\",data:n},a),u)},Kdt=t=>(e,r,o)=>{let a=Na.createMappedRequestOptions(o);return a.queryParameters[\"X-Algolia-User-ID\"]=e,t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping\",data:{cluster:r}},a)},Vdt=t=>(e,r,o)=>t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping/batch\",data:{users:e,cluster:r}},o),Jdt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!0,requests:{action:\"addEntry\",body:[]}}},r),(o,a)=>QC(t)(o.taskID,a)),vk=t=>(e,r,o)=>{let a=(n,u)=>Z2(t)(e,{methods:{waitTask:Zi}}).waitTask(n.taskID,u);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",e),data:{operation:\"copy\",destination:r}},o),a)},zdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Rules]}),Xdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Settings]}),Zdt=t=>(e,r,o)=>vk(t)(e,r,{...o,scope:[Sk.Synonyms]}),$dt=t=>(e,r)=>e.method===Ir.MethodEnum.Get?t.transporter.read(e,r):t.transporter.write(e,r),emt=t=>(e,r)=>{let o=(a,n)=>Gt.createRetryablePromise(u=>X2(t)(e,n).then(u).catch(A=>{if(A.status!==404)throw A}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/keys/%s\",e)},r),o)},tmt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"deleteEntry\",body:{objectID:n}}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!1,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},rmt=()=>(t,e)=>{let r=Na.serializeQueryParameters(e),o=Gdt.createHmac(\"sha256\",t).update(r).digest(\"hex\");return Buffer.from(o+r).toString(\"base64\")},X2=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/keys/%s\",e)},r),iye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/task/%s\",e.toString())},r),nmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"/1/dictionaries/*/settings\"},e),imt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/logs\"},e),smt=()=>t=>{let e=Buffer.from(t,\"base64\").toString(\"ascii\"),r=/validUntil=(\\d+)/,o=e.match(r);if(o===null)throw nye();return parseInt(o[1],10)-Math.round(new Date().getTime()/1e3)},omt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping/top\"},e),amt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/clusters/mapping/%s\",e)},r),lmt=t=>e=>{let{retrieveMappings:r,...o}=e||{};return r===!0&&(o.getClusters=!0),t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping/pending\"},o)},Z2=t=>(e,r={})=>{let o={transporter:t.transporter,appId:t.appId,indexName:e};return Gt.addMethods(o,r.methods)},cmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/keys\"},e),umt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters\"},e),Amt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/indexes\"},e),fmt=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:\"1/clusters/mapping\"},e),pmt=t=>(e,r,o)=>{let a=(n,u)=>Z2(t)(e,{methods:{waitTask:Zi}}).waitTask(n.taskID,u);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",e),data:{operation:\"move\",destination:r}},o),a)},hmt=t=>(e,r)=>{let o=(a,n)=>Promise.all(Object.keys(a.taskID).map(u=>Z2(t)(u,{methods:{waitTask:Zi}}).waitTask(a.taskID[u],n)));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:\"1/indexes/*/batch\",data:{requests:e}},r),o)},gmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/objects\",data:{requests:e}},r),dmt=t=>(e,r)=>{let o=e.map(a=>({...a,params:Na.serializeQueryParameters(a.params||{})}));return t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},r)},mmt=t=>(e,r)=>Promise.all(e.map(o=>{let{facetName:a,facetQuery:n,...u}=o.params;return Z2(t)(o.indexName,{methods:{searchForFacetValues:Aye}}).searchForFacetValues(a,n,{...r,...u})})),ymt=t=>(e,r)=>{let o=Na.createMappedRequestOptions(r);return o.queryParameters[\"X-Algolia-User-ID\"]=e,t.transporter.write({method:Ir.MethodEnum.Delete,path:\"1/clusters/mapping\"},o)},Emt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"addEntry\",body:n}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!0,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},Cmt=t=>(e,r)=>{let o=(a,n)=>Gt.createRetryablePromise(u=>X2(t)(e,n).catch(A=>{if(A.status!==404)throw A;return u()}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/keys/%s/restore\",e)},r),o)},wmt=t=>(e,r,o)=>{let a=r.map(n=>({action:\"addEntry\",body:n}));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/batch\",e),data:{clearExistingDictionaryEntries:!1,requests:a}},o),(n,u)=>QC(t)(n.taskID,u))},Imt=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"/1/dictionaries/%s/search\",e),data:{query:r},cacheable:!0},o),Bmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/clusters/mapping/search\",data:{query:e}},r),vmt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:\"/1/dictionaries/*/settings\",data:e},r),(o,a)=>QC(t)(o.taskID,a)),Dmt=t=>(e,r)=>{let o=Object.assign({},r),{queryParameters:a,...n}=r||{},u=a?{queryParameters:a}:{},A=[\"acl\",\"indexes\",\"referers\",\"restrictSources\",\"queryParameters\",\"description\",\"maxQueriesPerIPPerHour\",\"maxHitsPerQuery\"],p=E=>Object.keys(o).filter(I=>A.indexOf(I)!==-1).every(I=>E[I]===o[I]),h=(E,I)=>Gt.createRetryablePromise(v=>X2(t)(e,I).then(x=>p(x)?Promise.resolve():v()));return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:Gt.encode(\"1/keys/%s\",e),data:u},n),h)},QC=t=>(e,r)=>Gt.createRetryablePromise(o=>iye(t)(e,r).then(a=>a.status!==\"published\"?o():void 0)),sye=t=>(e,r)=>{let o=(a,n)=>Zi(t)(a.taskID,n);return Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/batch\",t.indexName),data:{requests:e}},r),o)},Smt=t=>e=>Bk({shouldStop:r=>r.cursor===void 0,...e,request:r=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/browse\",t.indexName),data:r},e)}),Pmt=t=>e=>{let r={hitsPerPage:1e3,...e};return Bk({shouldStop:o=>o.hits.length<r.hitsPerPage,...r,request(o){return fye(t)(\"\",{...r,...o}).then(a=>({...a,hits:a.hits.map(n=>(delete n._highlightResult,n))}))}})},bmt=t=>e=>{let r={hitsPerPage:1e3,...e};return Bk({shouldStop:o=>o.hits.length<r.hitsPerPage,...r,request(o){return pye(t)(\"\",{...r,...o}).then(a=>({...a,hits:a.hits.map(n=>(delete n._highlightResult,n))}))}})},Dk=t=>(e,r,o)=>{let{batchSize:a,...n}=o||{},u={taskIDs:[],objectIDs:[]},A=(p=0)=>{let h=[],E;for(E=p;E<e.length&&(h.push(e[E]),h.length!==(a||1e3));E++);return h.length===0?Promise.resolve(u):sye(t)(h.map(I=>({action:r,body:I})),n).then(I=>(u.objectIDs=u.objectIDs.concat(I.objectIDs),u.taskIDs.push(I.taskID),E++,A(E)))};return Gt.createWaitablePromise(A(),(p,h)=>Promise.all(p.taskIDs.map(E=>Zi(t)(E,h))))},xmt=t=>e=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/clear\",t.indexName)},e),(r,o)=>Zi(t)(r.taskID,o)),kmt=t=>e=>{let{forwardToReplicas:r,...o}=e||{},a=Na.createMappedRequestOptions(o);return r&&(a.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/clear\",t.indexName)},a),(n,u)=>Zi(t)(n.taskID,u))},Qmt=t=>e=>{let{forwardToReplicas:r,...o}=e||{},a=Na.createMappedRequestOptions(o);return r&&(a.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/clear\",t.indexName)},a),(n,u)=>Zi(t)(n.taskID,u))},Fmt=t=>(e,r)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/deleteByQuery\",t.indexName),data:e},r),(o,a)=>Zi(t)(o.taskID,a)),Rmt=t=>e=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s\",t.indexName)},e),(r,o)=>Zi(t)(r.taskID,o)),Tmt=t=>(e,r)=>Gt.createWaitablePromise(oye(t)([e],r).then(o=>({taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),oye=t=>(e,r)=>{let o=e.map(a=>({objectID:a}));return Dk(t)(o,nm.DeleteObject,r)},Nmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s/rules/%s\",t.indexName,e)},n),(u,A)=>Zi(t)(u.taskID,A))},Lmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Delete,path:Gt.encode(\"1/indexes/%s/synonyms/%s\",t.indexName,e)},n),(u,A)=>Zi(t)(u.taskID,A))},Omt=t=>e=>aye(t)(e).then(()=>!0).catch(r=>{if(r.status!==404)throw r;return!1}),Mmt=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/answers/%s/prediction\",t.indexName),data:{query:e,queryLanguages:r},cacheable:!0},o),Umt=t=>(e,r)=>{let{query:o,paginate:a,...n}=r||{},u=0,A=()=>uye(t)(o||\"\",{...n,page:u}).then(p=>{for(let[h,E]of Object.entries(p.hits))if(e(E))return{object:E,position:parseInt(h,10),page:u};if(u++,a===!1||u>=p.nbPages)throw rye();return A()});return A()},_mt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/%s\",t.indexName,e)},r),Hmt=()=>(t,e)=>{for(let[r,o]of Object.entries(t.hits))if(o.objectID===e)return parseInt(r,10);return-1},qmt=t=>(e,r)=>{let{attributesToRetrieve:o,...a}=r||{},n=e.map(u=>({indexName:t.indexName,objectID:u,...o?{attributesToRetrieve:o}:{}}));return t.transporter.read({method:Ir.MethodEnum.Post,path:\"1/indexes/*/objects\",data:{requests:n}},a)},jmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/rules/%s\",t.indexName,e)},r),aye=t=>e=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/settings\",t.indexName),data:{getVersion:2}},e),Gmt=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/synonyms/%s\",t.indexName,e)},r),lye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Get,path:Gt.encode(\"1/indexes/%s/task/%s\",t.indexName,e.toString())},r),Ymt=t=>(e,r)=>Gt.createWaitablePromise(cye(t)([e],r).then(o=>({objectID:o.objectIDs[0],taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),cye=t=>(e,r)=>{let{createIfNotExists:o,...a}=r||{},n=o?nm.PartialUpdateObject:nm.PartialUpdateObjectNoCreate;return Dk(t)(e,n,a)},Wmt=t=>(e,r)=>{let{safe:o,autoGenerateObjectIDIfNotExist:a,batchSize:n,...u}=r||{},A=(C,R,L,U)=>Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/operation\",C),data:{operation:L,destination:R}},U),(J,te)=>Zi(t)(J.taskID,te)),p=Math.random().toString(36).substring(7),h=`${t.indexName}_tmp_${p}`,E=jH({appId:t.appId,transporter:t.transporter,indexName:h}),I=[],v=A(t.indexName,h,\"copy\",{...u,scope:[\"settings\",\"synonyms\",\"rules\"]});I.push(v);let x=(o?v.wait(u):v).then(()=>{let C=E(e,{...u,autoGenerateObjectIDIfNotExist:a,batchSize:n});return I.push(C),o?C.wait(u):C}).then(()=>{let C=A(h,t.indexName,\"move\",u);return I.push(C),o?C.wait(u):C}).then(()=>Promise.all(I)).then(([C,R,L])=>({objectIDs:R.objectIDs,taskIDs:[C.taskID,...R.taskIDs,L.taskID]}));return Gt.createWaitablePromise(x,(C,R)=>Promise.all(I.map(L=>L.wait(R))))},Kmt=t=>(e,r)=>GH(t)(e,{...r,clearExistingRules:!0}),Vmt=t=>(e,r)=>YH(t)(e,{...r,clearExistingSynonyms:!0}),Jmt=t=>(e,r)=>Gt.createWaitablePromise(jH(t)([e],r).then(o=>({objectID:o.objectIDs[0],taskID:o.taskIDs[0]})),(o,a)=>Zi(t)(o.taskID,a)),jH=t=>(e,r)=>{let{autoGenerateObjectIDIfNotExist:o,...a}=r||{},n=o?nm.AddObject:nm.UpdateObject;if(n===nm.UpdateObject){for(let u of e)if(u.objectID===void 0)return Gt.createWaitablePromise(Promise.reject(tye()))}return Dk(t)(e,n,a)},zmt=t=>(e,r)=>GH(t)([e],r),GH=t=>(e,r)=>{let{forwardToReplicas:o,clearExistingRules:a,...n}=r||{},u=Na.createMappedRequestOptions(n);return o&&(u.queryParameters.forwardToReplicas=1),a&&(u.queryParameters.clearExistingRules=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/batch\",t.indexName),data:e},u),(A,p)=>Zi(t)(A.taskID,p))},Xmt=t=>(e,r)=>YH(t)([e],r),YH=t=>(e,r)=>{let{forwardToReplicas:o,clearExistingSynonyms:a,replaceExistingSynonyms:n,...u}=r||{},A=Na.createMappedRequestOptions(u);return o&&(A.queryParameters.forwardToReplicas=1),(n||a)&&(A.queryParameters.replaceExistingSynonyms=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/batch\",t.indexName),data:e},A),(p,h)=>Zi(t)(p.taskID,h))},uye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/query\",t.indexName),data:{query:e},cacheable:!0},r),Aye=t=>(e,r,o)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/facets/%s/query\",t.indexName,e),data:{facetQuery:r},cacheable:!0},o),fye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/rules/search\",t.indexName),data:{query:e}},r),pye=t=>(e,r)=>t.transporter.read({method:Ir.MethodEnum.Post,path:Gt.encode(\"1/indexes/%s/synonyms/search\",t.indexName),data:{query:e}},r),Zmt=t=>(e,r)=>{let{forwardToReplicas:o,...a}=r||{},n=Na.createMappedRequestOptions(a);return o&&(n.queryParameters.forwardToReplicas=1),Gt.createWaitablePromise(t.transporter.write({method:Ir.MethodEnum.Put,path:Gt.encode(\"1/indexes/%s/settings\",t.indexName),data:e},n),(u,A)=>Zi(t)(u.taskID,A))},Zi=t=>(e,r)=>Gt.createRetryablePromise(o=>lye(t)(e,r).then(a=>a.status!==\"published\"?o():void 0)),$mt={AddObject:\"addObject\",Analytics:\"analytics\",Browser:\"browse\",DeleteIndex:\"deleteIndex\",DeleteObject:\"deleteObject\",EditSettings:\"editSettings\",ListIndexes:\"listIndexes\",Logs:\"logs\",Personalization:\"personalization\",Recommendation:\"recommendation\",Search:\"search\",SeeUnretrievableAttributes:\"seeUnretrievableAttributes\",Settings:\"settings\",Usage:\"usage\"},nm={AddObject:\"addObject\",UpdateObject:\"updateObject\",PartialUpdateObject:\"partialUpdateObject\",PartialUpdateObjectNoCreate:\"partialUpdateObjectNoCreate\",DeleteObject:\"deleteObject\",DeleteIndex:\"delete\",ClearIndex:\"clear\"},Sk={Settings:\"settings\",Synonyms:\"synonyms\",Rules:\"rules\"},eyt={None:\"none\",StopIfEnoughMatches:\"stopIfEnoughMatches\"},tyt={Synonym:\"synonym\",OneWaySynonym:\"oneWaySynonym\",AltCorrection1:\"altCorrection1\",AltCorrection2:\"altCorrection2\",Placeholder:\"placeholder\"};Ft.ApiKeyACLEnum=$mt;Ft.BatchActionEnum=nm;Ft.ScopeEnum=Sk;Ft.StrategyEnum=eyt;Ft.SynonymEnum=tyt;Ft.addApiKey=Wdt;Ft.assignUserID=Kdt;Ft.assignUserIDs=Vdt;Ft.batch=sye;Ft.browseObjects=Smt;Ft.browseRules=Pmt;Ft.browseSynonyms=bmt;Ft.chunkedBatch=Dk;Ft.clearDictionaryEntries=Jdt;Ft.clearObjects=xmt;Ft.clearRules=kmt;Ft.clearSynonyms=Qmt;Ft.copyIndex=vk;Ft.copyRules=zdt;Ft.copySettings=Xdt;Ft.copySynonyms=Zdt;Ft.createBrowsablePromise=Bk;Ft.createMissingObjectIDError=tye;Ft.createObjectNotFoundError=rye;Ft.createSearchClient=Ydt;Ft.createValidUntilNotFoundError=nye;Ft.customRequest=$dt;Ft.deleteApiKey=emt;Ft.deleteBy=Fmt;Ft.deleteDictionaryEntries=tmt;Ft.deleteIndex=Rmt;Ft.deleteObject=Tmt;Ft.deleteObjects=oye;Ft.deleteRule=Nmt;Ft.deleteSynonym=Lmt;Ft.exists=Omt;Ft.findAnswers=Mmt;Ft.findObject=Umt;Ft.generateSecuredApiKey=rmt;Ft.getApiKey=X2;Ft.getAppTask=iye;Ft.getDictionarySettings=nmt;Ft.getLogs=imt;Ft.getObject=_mt;Ft.getObjectPosition=Hmt;Ft.getObjects=qmt;Ft.getRule=jmt;Ft.getSecuredApiKeyRemainingValidity=smt;Ft.getSettings=aye;Ft.getSynonym=Gmt;Ft.getTask=lye;Ft.getTopUserIDs=omt;Ft.getUserID=amt;Ft.hasPendingMappings=lmt;Ft.initIndex=Z2;Ft.listApiKeys=cmt;Ft.listClusters=umt;Ft.listIndices=Amt;Ft.listUserIDs=fmt;Ft.moveIndex=pmt;Ft.multipleBatch=hmt;Ft.multipleGetObjects=gmt;Ft.multipleQueries=dmt;Ft.multipleSearchForFacetValues=mmt;Ft.partialUpdateObject=Ymt;Ft.partialUpdateObjects=cye;Ft.removeUserID=ymt;Ft.replaceAllObjects=Wmt;Ft.replaceAllRules=Kmt;Ft.replaceAllSynonyms=Vmt;Ft.replaceDictionaryEntries=Emt;Ft.restoreApiKey=Cmt;Ft.saveDictionaryEntries=wmt;Ft.saveObject=Jmt;Ft.saveObjects=jH;Ft.saveRule=zmt;Ft.saveRules=GH;Ft.saveSynonym=Xmt;Ft.saveSynonyms=YH;Ft.search=uye;Ft.searchDictionaryEntries=Imt;Ft.searchForFacetValues=Aye;Ft.searchRules=fye;Ft.searchSynonyms=pye;Ft.searchUserIDs=Bmt;Ft.setDictionarySettings=vmt;Ft.setSettings=Zmt;Ft.updateApiKey=Dmt;Ft.waitAppTask=QC;Ft.waitTask=Zi});var dye=_((YWt,gye)=>{gye.exports=hye()});var mye=_(Pk=>{\"use strict\";Object.defineProperty(Pk,\"__esModule\",{value:!0});function ryt(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var nyt={Debug:1,Info:2,Error:3};Pk.LogLevelEnum=nyt;Pk.createNullLogger=ryt});var Eye=_((KWt,yye)=>{yye.exports=mye()});var Bye=_(WH=>{\"use strict\";Object.defineProperty(WH,\"__esModule\",{value:!0});var Cye=ve(\"http\"),wye=ve(\"https\"),iyt=ve(\"url\"),Iye={keepAlive:!0},syt=new Cye.Agent(Iye),oyt=new wye.Agent(Iye);function ayt({agent:t,httpAgent:e,httpsAgent:r,requesterOptions:o={}}={}){let a=e||t||syt,n=r||t||oyt;return{send(u){return new Promise(A=>{let p=iyt.parse(u.url),h=p.query===null?p.pathname:`${p.pathname}?${p.query}`,E={...o,agent:p.protocol===\"https:\"?n:a,hostname:p.hostname,path:h,method:u.method,headers:{...o&&o.headers?o.headers:{},...u.headers},...p.port!==void 0?{port:p.port||\"\"}:{}},I=(p.protocol===\"https:\"?wye:Cye).request(E,R=>{let L=[];R.on(\"data\",U=>{L=L.concat(U)}),R.on(\"end\",()=>{clearTimeout(x),clearTimeout(C),A({status:R.statusCode||0,content:Buffer.concat(L).toString(),isTimedOut:!1})})}),v=(R,L)=>setTimeout(()=>{I.abort(),A({status:0,content:L,isTimedOut:!0})},R*1e3),x=v(u.connectTimeout,\"Connection timeout\"),C;I.on(\"error\",R=>{clearTimeout(x),clearTimeout(C),A({status:0,content:R.message,isTimedOut:!1})}),I.once(\"response\",()=>{clearTimeout(x),C=v(u.responseTimeout,\"Socket timeout\")}),u.data!==void 0&&I.write(u.data),I.end()})},destroy(){return a.destroy(),n.destroy(),Promise.resolve()}}}WH.createNodeHttpRequester=ayt});var Dye=_((JWt,vye)=>{vye.exports=Bye()});var xye=_((zWt,bye)=>{\"use strict\";var Sye=Bme(),lyt=Sme(),FC=zme(),VH=Y2(),KH=eye(),Ut=dye(),cyt=Eye(),uyt=Dye(),Ayt=V2();function Pye(t,e,r){let o={appId:t,apiKey:e,timeouts:{connect:2,read:5,write:30},requester:uyt.createNodeHttpRequester(),logger:cyt.createNullLogger(),responsesCache:Sye.createNullCache(),requestsCache:Sye.createNullCache(),hostsCache:lyt.createInMemoryCache(),userAgent:Ayt.createUserAgent(VH.version).add({segment:\"Node.js\",version:process.versions.node})},a={...o,...r},n=()=>u=>KH.createPersonalizationClient({...o,...u,methods:{getPersonalizationStrategy:KH.getPersonalizationStrategy,setPersonalizationStrategy:KH.setPersonalizationStrategy}});return Ut.createSearchClient({...a,methods:{search:Ut.multipleQueries,searchForFacetValues:Ut.multipleSearchForFacetValues,multipleBatch:Ut.multipleBatch,multipleGetObjects:Ut.multipleGetObjects,multipleQueries:Ut.multipleQueries,copyIndex:Ut.copyIndex,copySettings:Ut.copySettings,copyRules:Ut.copyRules,copySynonyms:Ut.copySynonyms,moveIndex:Ut.moveIndex,listIndices:Ut.listIndices,getLogs:Ut.getLogs,listClusters:Ut.listClusters,multipleSearchForFacetValues:Ut.multipleSearchForFacetValues,getApiKey:Ut.getApiKey,addApiKey:Ut.addApiKey,listApiKeys:Ut.listApiKeys,updateApiKey:Ut.updateApiKey,deleteApiKey:Ut.deleteApiKey,restoreApiKey:Ut.restoreApiKey,assignUserID:Ut.assignUserID,assignUserIDs:Ut.assignUserIDs,getUserID:Ut.getUserID,searchUserIDs:Ut.searchUserIDs,listUserIDs:Ut.listUserIDs,getTopUserIDs:Ut.getTopUserIDs,removeUserID:Ut.removeUserID,hasPendingMappings:Ut.hasPendingMappings,generateSecuredApiKey:Ut.generateSecuredApiKey,getSecuredApiKeyRemainingValidity:Ut.getSecuredApiKeyRemainingValidity,destroy:VH.destroy,clearDictionaryEntries:Ut.clearDictionaryEntries,deleteDictionaryEntries:Ut.deleteDictionaryEntries,getDictionarySettings:Ut.getDictionarySettings,getAppTask:Ut.getAppTask,replaceDictionaryEntries:Ut.replaceDictionaryEntries,saveDictionaryEntries:Ut.saveDictionaryEntries,searchDictionaryEntries:Ut.searchDictionaryEntries,setDictionarySettings:Ut.setDictionarySettings,waitAppTask:Ut.waitAppTask,customRequest:Ut.customRequest,initIndex:u=>A=>Ut.initIndex(u)(A,{methods:{batch:Ut.batch,delete:Ut.deleteIndex,findAnswers:Ut.findAnswers,getObject:Ut.getObject,getObjects:Ut.getObjects,saveObject:Ut.saveObject,saveObjects:Ut.saveObjects,search:Ut.search,searchForFacetValues:Ut.searchForFacetValues,waitTask:Ut.waitTask,setSettings:Ut.setSettings,getSettings:Ut.getSettings,partialUpdateObject:Ut.partialUpdateObject,partialUpdateObjects:Ut.partialUpdateObjects,deleteObject:Ut.deleteObject,deleteObjects:Ut.deleteObjects,deleteBy:Ut.deleteBy,clearObjects:Ut.clearObjects,browseObjects:Ut.browseObjects,getObjectPosition:Ut.getObjectPosition,findObject:Ut.findObject,exists:Ut.exists,saveSynonym:Ut.saveSynonym,saveSynonyms:Ut.saveSynonyms,getSynonym:Ut.getSynonym,searchSynonyms:Ut.searchSynonyms,browseSynonyms:Ut.browseSynonyms,deleteSynonym:Ut.deleteSynonym,clearSynonyms:Ut.clearSynonyms,replaceAllObjects:Ut.replaceAllObjects,replaceAllSynonyms:Ut.replaceAllSynonyms,searchRules:Ut.searchRules,getRule:Ut.getRule,deleteRule:Ut.deleteRule,saveRule:Ut.saveRule,saveRules:Ut.saveRules,replaceAllRules:Ut.replaceAllRules,browseRules:Ut.browseRules,clearRules:Ut.clearRules}}),initAnalytics:()=>u=>FC.createAnalyticsClient({...o,...u,methods:{addABTest:FC.addABTest,getABTest:FC.getABTest,getABTests:FC.getABTests,stopABTest:FC.stopABTest,deleteABTest:FC.deleteABTest}}),initPersonalization:n,initRecommendation:()=>u=>(a.logger.info(\"The `initRecommendation` method is deprecated. Use `initPersonalization` instead.\"),n()(u))}})}Pye.version=VH.version;bye.exports=Pye});var zH=_((XWt,JH)=>{var kye=xye();JH.exports=kye;JH.exports.default=kye});var $H=_(($Wt,Rye)=>{\"use strict\";var Fye=Object.getOwnPropertySymbols,pyt=Object.prototype.hasOwnProperty,hyt=Object.prototype.propertyIsEnumerable;function gyt(t){if(t==null)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}function dyt(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",Object.getOwnPropertyNames(t)[0]===\"5\")return!1;for(var e={},r=0;r<10;r++)e[\"_\"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(e).map(function(n){return e[n]});if(o.join(\"\")!==\"0123456789\")return!1;var a={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(n){a[n]=n}),Object.keys(Object.assign({},a)).join(\"\")===\"abcdefghijklmnopqrst\"}catch{return!1}}Rye.exports=dyt()?Object.assign:function(t,e){for(var r,o=gyt(t),a,n=1;n<arguments.length;n++){r=Object(arguments[n]);for(var u in r)pyt.call(r,u)&&(o[u]=r[u]);if(Fye){a=Fye(r);for(var A=0;A<a.length;A++)hyt.call(r,a[A])&&(o[a[A]]=r[a[A]])}}return o}});var Yye=_(Nn=>{\"use strict\";var i6=$H(),$c=typeof Symbol==\"function\"&&Symbol.for,$2=$c?Symbol.for(\"react.element\"):60103,myt=$c?Symbol.for(\"react.portal\"):60106,yyt=$c?Symbol.for(\"react.fragment\"):60107,Eyt=$c?Symbol.for(\"react.strict_mode\"):60108,Cyt=$c?Symbol.for(\"react.profiler\"):60114,wyt=$c?Symbol.for(\"react.provider\"):60109,Iyt=$c?Symbol.for(\"react.context\"):60110,Byt=$c?Symbol.for(\"react.forward_ref\"):60112,vyt=$c?Symbol.for(\"react.suspense\"):60113,Dyt=$c?Symbol.for(\"react.memo\"):60115,Syt=$c?Symbol.for(\"react.lazy\"):60116,Tye=typeof Symbol==\"function\"&&Symbol.iterator;function eB(t){for(var e=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+t,r=1;r<arguments.length;r++)e+=\"&args[]=\"+encodeURIComponent(arguments[r]);return\"Minified React error #\"+t+\"; visit \"+e+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var Nye={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lye={};function RC(t,e,r){this.props=t,this.context=e,this.refs=Lye,this.updater=r||Nye}RC.prototype.isReactComponent={};RC.prototype.setState=function(t,e){if(typeof t!=\"object\"&&typeof t!=\"function\"&&t!=null)throw Error(eB(85));this.updater.enqueueSetState(this,t,e,\"setState\")};RC.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,\"forceUpdate\")};function Oye(){}Oye.prototype=RC.prototype;function s6(t,e,r){this.props=t,this.context=e,this.refs=Lye,this.updater=r||Nye}var o6=s6.prototype=new Oye;o6.constructor=s6;i6(o6,RC.prototype);o6.isPureReactComponent=!0;var a6={current:null},Mye=Object.prototype.hasOwnProperty,Uye={key:!0,ref:!0,__self:!0,__source:!0};function _ye(t,e,r){var o,a={},n=null,u=null;if(e!=null)for(o in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(n=\"\"+e.key),e)Mye.call(e,o)&&!Uye.hasOwnProperty(o)&&(a[o]=e[o]);var A=arguments.length-2;if(A===1)a.children=r;else if(1<A){for(var p=Array(A),h=0;h<A;h++)p[h]=arguments[h+2];a.children=p}if(t&&t.defaultProps)for(o in A=t.defaultProps,A)a[o]===void 0&&(a[o]=A[o]);return{$$typeof:$2,type:t,key:n,ref:u,props:a,_owner:a6.current}}function Pyt(t,e){return{$$typeof:$2,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l6(t){return typeof t==\"object\"&&t!==null&&t.$$typeof===$2}function byt(t){var e={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+t).replace(/[=:]/g,function(r){return e[r]})}var Hye=/\\/+/g,bk=[];function qye(t,e,r,o){if(bk.length){var a=bk.pop();return a.result=t,a.keyPrefix=e,a.func=r,a.context=o,a.count=0,a}return{result:t,keyPrefix:e,func:r,context:o,count:0}}function jye(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>bk.length&&bk.push(t)}function t6(t,e,r,o){var a=typeof t;(a===\"undefined\"||a===\"boolean\")&&(t=null);var n=!1;if(t===null)n=!0;else switch(a){case\"string\":case\"number\":n=!0;break;case\"object\":switch(t.$$typeof){case $2:case myt:n=!0}}if(n)return r(o,t,e===\"\"?\".\"+e6(t,0):e),1;if(n=0,e=e===\"\"?\".\":e+\":\",Array.isArray(t))for(var u=0;u<t.length;u++){a=t[u];var A=e+e6(a,u);n+=t6(a,A,r,o)}else if(t===null||typeof t!=\"object\"?A=null:(A=Tye&&t[Tye]||t[\"@@iterator\"],A=typeof A==\"function\"?A:null),typeof A==\"function\")for(t=A.call(t),u=0;!(a=t.next()).done;)a=a.value,A=e+e6(a,u++),n+=t6(a,A,r,o);else if(a===\"object\")throw r=\"\"+t,Error(eB(31,r===\"[object Object]\"?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":r,\"\"));return n}function r6(t,e,r){return t==null?0:t6(t,\"\",e,r)}function e6(t,e){return typeof t==\"object\"&&t!==null&&t.key!=null?byt(t.key):e.toString(36)}function xyt(t,e){t.func.call(t.context,e,t.count++)}function kyt(t,e,r){var o=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?n6(t,o,r,function(n){return n}):t!=null&&(l6(t)&&(t=Pyt(t,a+(!t.key||e&&e.key===t.key?\"\":(\"\"+t.key).replace(Hye,\"$&/\")+\"/\")+r)),o.push(t))}function n6(t,e,r,o,a){var n=\"\";r!=null&&(n=(\"\"+r).replace(Hye,\"$&/\")+\"/\"),e=qye(e,n,o,a),r6(t,kyt,e),jye(e)}var Gye={current:null};function Xf(){var t=Gye.current;if(t===null)throw Error(eB(321));return t}var Qyt={ReactCurrentDispatcher:Gye,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:a6,IsSomeRendererActing:{current:!1},assign:i6};Nn.Children={map:function(t,e,r){if(t==null)return t;var o=[];return n6(t,o,null,e,r),o},forEach:function(t,e,r){if(t==null)return t;e=qye(null,null,e,r),r6(t,xyt,e),jye(e)},count:function(t){return r6(t,function(){return null},null)},toArray:function(t){var e=[];return n6(t,e,null,function(r){return r}),e},only:function(t){if(!l6(t))throw Error(eB(143));return t}};Nn.Component=RC;Nn.Fragment=yyt;Nn.Profiler=Cyt;Nn.PureComponent=s6;Nn.StrictMode=Eyt;Nn.Suspense=vyt;Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qyt;Nn.cloneElement=function(t,e,r){if(t==null)throw Error(eB(267,t));var o=i6({},t.props),a=t.key,n=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(n=e.ref,u=a6.current),e.key!==void 0&&(a=\"\"+e.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(p in e)Mye.call(e,p)&&!Uye.hasOwnProperty(p)&&(o[p]=e[p]===void 0&&A!==void 0?A[p]:e[p])}var p=arguments.length-2;if(p===1)o.children=r;else if(1<p){A=Array(p);for(var h=0;h<p;h++)A[h]=arguments[h+2];o.children=A}return{$$typeof:$2,type:t.type,key:a,ref:n,props:o,_owner:u}};Nn.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Iyt,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:wyt,_context:t},t.Consumer=t};Nn.createElement=_ye;Nn.createFactory=function(t){var e=_ye.bind(null,t);return e.type=t,e};Nn.createRef=function(){return{current:null}};Nn.forwardRef=function(t){return{$$typeof:Byt,render:t}};Nn.isValidElement=l6;Nn.lazy=function(t){return{$$typeof:Syt,_ctor:t,_status:-1,_result:null}};Nn.memo=function(t,e){return{$$typeof:Dyt,type:t,compare:e===void 0?null:e}};Nn.useCallback=function(t,e){return Xf().useCallback(t,e)};Nn.useContext=function(t,e){return Xf().useContext(t,e)};Nn.useDebugValue=function(){};Nn.useEffect=function(t,e){return Xf().useEffect(t,e)};Nn.useImperativeHandle=function(t,e,r){return Xf().useImperativeHandle(t,e,r)};Nn.useLayoutEffect=function(t,e){return Xf().useLayoutEffect(t,e)};Nn.useMemo=function(t,e){return Xf().useMemo(t,e)};Nn.useReducer=function(t,e,r){return Xf().useReducer(t,e,r)};Nn.useRef=function(t){return Xf().useRef(t)};Nn.useState=function(t){return Xf().useState(t)};Nn.version=\"16.13.1\"});var on=_((tKt,Wye)=>{\"use strict\";Wye.exports=Yye()});var u6=_((rKt,c6)=>{\"use strict\";var An=c6.exports;c6.exports.default=An;var Ln=\"\\x1B[\",tB=\"\\x1B]\",TC=\"\\x07\",xk=\";\",Kye=process.env.TERM_PROGRAM===\"Apple_Terminal\";An.cursorTo=(t,e)=>{if(typeof t!=\"number\")throw new TypeError(\"The `x` argument is required\");return typeof e!=\"number\"?Ln+(t+1)+\"G\":Ln+(e+1)+\";\"+(t+1)+\"H\"};An.cursorMove=(t,e)=>{if(typeof t!=\"number\")throw new TypeError(\"The `x` argument is required\");let r=\"\";return t<0?r+=Ln+-t+\"D\":t>0&&(r+=Ln+t+\"C\"),e<0?r+=Ln+-e+\"A\":e>0&&(r+=Ln+e+\"B\"),r};An.cursorUp=(t=1)=>Ln+t+\"A\";An.cursorDown=(t=1)=>Ln+t+\"B\";An.cursorForward=(t=1)=>Ln+t+\"C\";An.cursorBackward=(t=1)=>Ln+t+\"D\";An.cursorLeft=Ln+\"G\";An.cursorSavePosition=Kye?\"\\x1B7\":Ln+\"s\";An.cursorRestorePosition=Kye?\"\\x1B8\":Ln+\"u\";An.cursorGetPosition=Ln+\"6n\";An.cursorNextLine=Ln+\"E\";An.cursorPrevLine=Ln+\"F\";An.cursorHide=Ln+\"?25l\";An.cursorShow=Ln+\"?25h\";An.eraseLines=t=>{let e=\"\";for(let r=0;r<t;r++)e+=An.eraseLine+(r<t-1?An.cursorUp():\"\");return t&&(e+=An.cursorLeft),e};An.eraseEndLine=Ln+\"K\";An.eraseStartLine=Ln+\"1K\";An.eraseLine=Ln+\"2K\";An.eraseDown=Ln+\"J\";An.eraseUp=Ln+\"1J\";An.eraseScreen=Ln+\"2J\";An.scrollUp=Ln+\"S\";An.scrollDown=Ln+\"T\";An.clearScreen=\"\\x1Bc\";An.clearTerminal=process.platform===\"win32\"?`${An.eraseScreen}${Ln}0f`:`${An.eraseScreen}${Ln}3J${Ln}H`;An.beep=TC;An.link=(t,e)=>[tB,\"8\",xk,xk,e,TC,t,tB,\"8\",xk,xk,TC].join(\"\");An.image=(t,e={})=>{let r=`${tB}1337;File=inline=1`;return e.width&&(r+=`;width=${e.width}`),e.height&&(r+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(r+=\";preserveAspectRatio=0\"),r+\":\"+t.toString(\"base64\")+TC};An.iTerm={setCwd:(t=process.cwd())=>`${tB}50;CurrentDir=${t}${TC}`,annotation:(t,e={})=>{let r=`${tB}1337;`,o=typeof e.x<\"u\",a=typeof e.y<\"u\";if((o||a)&&!(o&&a&&typeof e.length<\"u\"))throw new Error(\"`x`, `y` and `length` must be defined when `x` or `y` is defined\");return t=t.replace(/\\|/g,\"\"),r+=e.isHidden?\"AddHiddenAnnotation=\":\"AddAnnotation=\",e.length>0?r+=(o?[t,e.length,e.x,e.y]:[e.length,t]).join(\"|\"):r+=t,r+TC}}});var Jye=_((nKt,A6)=>{\"use strict\";var Vye=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};A6.exports=Vye;A6.exports.default=Vye});var Xye=_((iKt,Qk)=>{\"use strict\";var Fyt=Jye(),kk=new WeakMap,zye=(t,e={})=>{if(typeof t!=\"function\")throw new TypeError(\"Expected a function\");let r,o=0,a=t.displayName||t.name||\"<anonymous>\",n=function(...u){if(kk.set(n,++o),o===1)r=t.apply(this,u),t=null;else if(e.throw===!0)throw new Error(`Function \\`${a}\\` can only be called once`);return r};return Fyt(n,t),kk.set(n,o),n};Qk.exports=zye;Qk.exports.default=zye;Qk.exports.callCount=t=>{if(!kk.has(t))throw new Error(`The given function \\`${t.name}\\` is not wrapped by the \\`onetime\\` package`);return kk.get(t)}});var Zye=_((sKt,Fk)=>{Fk.exports=[\"SIGABRT\",\"SIGALRM\",\"SIGHUP\",\"SIGINT\",\"SIGTERM\"];process.platform!==\"win32\"&&Fk.exports.push(\"SIGVTALRM\",\"SIGXCPU\",\"SIGXFSZ\",\"SIGUSR2\",\"SIGTRAP\",\"SIGSYS\",\"SIGQUIT\",\"SIGIOT\");process.platform===\"linux\"&&Fk.exports.push(\"SIGIO\",\"SIGPOLL\",\"SIGPWR\",\"SIGSTKFLT\",\"SIGUNUSED\")});var h6=_((oKt,OC)=>{var Ei=global.process,im=function(t){return t&&typeof t==\"object\"&&typeof t.removeListener==\"function\"&&typeof t.emit==\"function\"&&typeof t.reallyExit==\"function\"&&typeof t.listeners==\"function\"&&typeof t.kill==\"function\"&&typeof t.pid==\"number\"&&typeof t.on==\"function\"};im(Ei)?($ye=ve(\"assert\"),NC=Zye(),eEe=/^win/i.test(Ei.platform),rB=ve(\"events\"),typeof rB!=\"function\"&&(rB=rB.EventEmitter),Ei.__signal_exit_emitter__?Ts=Ei.__signal_exit_emitter__:(Ts=Ei.__signal_exit_emitter__=new rB,Ts.count=0,Ts.emitted={}),Ts.infinite||(Ts.setMaxListeners(1/0),Ts.infinite=!0),OC.exports=function(t,e){if(!im(global.process))return function(){};$ye.equal(typeof t,\"function\",\"a callback must be provided for exit handler\"),LC===!1&&f6();var r=\"exit\";e&&e.alwaysLast&&(r=\"afterexit\");var o=function(){Ts.removeListener(r,t),Ts.listeners(\"exit\").length===0&&Ts.listeners(\"afterexit\").length===0&&Rk()};return Ts.on(r,t),o},Rk=function(){!LC||!im(global.process)||(LC=!1,NC.forEach(function(e){try{Ei.removeListener(e,Tk[e])}catch{}}),Ei.emit=Nk,Ei.reallyExit=p6,Ts.count-=1)},OC.exports.unload=Rk,sm=function(e,r,o){Ts.emitted[e]||(Ts.emitted[e]=!0,Ts.emit(e,r,o))},Tk={},NC.forEach(function(t){Tk[t]=function(){if(!!im(global.process)){var r=Ei.listeners(t);r.length===Ts.count&&(Rk(),sm(\"exit\",null,t),sm(\"afterexit\",null,t),eEe&&t===\"SIGHUP\"&&(t=\"SIGINT\"),Ei.kill(Ei.pid,t))}}}),OC.exports.signals=function(){return NC},LC=!1,f6=function(){LC||!im(global.process)||(LC=!0,Ts.count+=1,NC=NC.filter(function(e){try{return Ei.on(e,Tk[e]),!0}catch{return!1}}),Ei.emit=rEe,Ei.reallyExit=tEe)},OC.exports.load=f6,p6=Ei.reallyExit,tEe=function(e){!im(global.process)||(Ei.exitCode=e||0,sm(\"exit\",Ei.exitCode,null),sm(\"afterexit\",Ei.exitCode,null),p6.call(Ei,Ei.exitCode))},Nk=Ei.emit,rEe=function(e,r){if(e===\"exit\"&&im(global.process)){r!==void 0&&(Ei.exitCode=r);var o=Nk.apply(this,arguments);return sm(\"exit\",Ei.exitCode,null),sm(\"afterexit\",Ei.exitCode,null),o}else return Nk.apply(this,arguments)}):OC.exports=function(){return function(){}};var $ye,NC,eEe,rB,Ts,Rk,sm,Tk,LC,f6,p6,tEe,Nk,rEe});var iEe=_((aKt,nEe)=>{\"use strict\";var Ryt=Xye(),Tyt=h6();nEe.exports=Ryt(()=>{Tyt(()=>{process.stderr.write(\"\\x1B[?25h\")},{alwaysLast:!0})})});var g6=_(MC=>{\"use strict\";var Nyt=iEe(),Lk=!1;MC.show=(t=process.stderr)=>{!t.isTTY||(Lk=!1,t.write(\"\\x1B[?25h\"))};MC.hide=(t=process.stderr)=>{!t.isTTY||(Nyt(),Lk=!0,t.write(\"\\x1B[?25l\"))};MC.toggle=(t,e)=>{t!==void 0&&(Lk=t),Lk?MC.show(e):MC.hide(e)}});var lEe=_(nB=>{\"use strict\";var aEe=nB&&nB.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nB,\"__esModule\",{value:!0});var sEe=aEe(u6()),oEe=aEe(g6()),Lyt=(t,{showCursor:e=!1}={})=>{let r=0,o=\"\",a=!1,n=u=>{!e&&!a&&(oEe.default.hide(),a=!0);let A=u+`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:287:`).length)};return n.clear=()=>{t.write(sEe.default.eraseLines(r)),o=\"\",r=0},n.done=()=>{o=\"\",r=0,e||(oEe.default.show(),a=!1)},n};nB.default={create:Lyt}});var cEe=_((uKt,Oyt)=>{Oyt.exports=[{name:\"AppVeyor\",constant:\"APPVEYOR\",env:\"APPVEYOR\",pr:\"APPVEYOR_PULL_REQUEST_NUMBER\"},{name:\"Azure Pipelines\",constant:\"AZURE_PIPELINES\",env:\"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI\",pr:\"SYSTEM_PULLREQUEST_PULLREQUESTID\"},{name:\"Bamboo\",constant:\"BAMBOO\",env:\"bamboo_planKey\"},{name:\"Bitbucket Pipelines\",constant:\"BITBUCKET\",env:\"BITBUCKET_COMMIT\",pr:\"BITBUCKET_PR_ID\"},{name:\"Bitrise\",constant:\"BITRISE\",env:\"BITRISE_IO\",pr:\"BITRISE_PULL_REQUEST\"},{name:\"Buddy\",constant:\"BUDDY\",env:\"BUDDY_WORKSPACE_ID\",pr:\"BUDDY_EXECUTION_PULL_REQUEST_ID\"},{name:\"Buildkite\",constant:\"BUILDKITE\",env:\"BUILDKITE\",pr:{env:\"BUILDKITE_PULL_REQUEST\",ne:\"false\"}},{name:\"CircleCI\",constant:\"CIRCLE\",env:\"CIRCLECI\",pr:\"CIRCLE_PULL_REQUEST\"},{name:\"Cirrus CI\",constant:\"CIRRUS\",env:\"CIRRUS_CI\",pr:\"CIRRUS_PR\"},{name:\"AWS CodeBuild\",constant:\"CODEBUILD\",env:\"CODEBUILD_BUILD_ARN\"},{name:\"Codeship\",constant:\"CODESHIP\",env:{CI_NAME:\"codeship\"}},{name:\"Drone\",constant:\"DRONE\",env:\"DRONE\",pr:{DRONE_BUILD_EVENT:\"pull_request\"}},{name:\"dsari\",constant:\"DSARI\",env:\"DSARI\"},{name:\"GitLab CI\",constant:\"GITLAB\",env:\"GITLAB_CI\"},{name:\"GoCD\",constant:\"GOCD\",env:\"GO_PIPELINE_LABEL\"},{name:\"Hudson\",constant:\"HUDSON\",env:\"HUDSON_URL\"},{name:\"Jenkins\",constant:\"JENKINS\",env:[\"JENKINS_URL\",\"BUILD_ID\"],pr:{any:[\"ghprbPullId\",\"CHANGE_ID\"]}},{name:\"Magnum CI\",constant:\"MAGNUM\",env:\"MAGNUM\"},{name:\"Netlify CI\",constant:\"NETLIFY\",env:\"NETLIFY_BUILD_BASE\",pr:{env:\"PULL_REQUEST\",ne:\"false\"}},{name:\"Sail CI\",constant:\"SAIL\",env:\"SAILCI\",pr:\"SAIL_PULL_REQUEST_NUMBER\"},{name:\"Semaphore\",constant:\"SEMAPHORE\",env:\"SEMAPHORE\",pr:\"PULL_REQUEST_NUMBER\"},{name:\"Shippable\",constant:\"SHIPPABLE\",env:\"SHIPPABLE\",pr:{IS_PULL_REQUEST:\"true\"}},{name:\"Solano CI\",constant:\"SOLANO\",env:\"TDDIUM\",pr:\"TDDIUM_PR_ID\"},{name:\"Strider CD\",constant:\"STRIDER\",env:\"STRIDER\"},{name:\"TaskCluster\",constant:\"TASKCLUSTER\",env:[\"TASK_ID\",\"RUN_ID\"]},{name:\"TeamCity\",constant:\"TEAMCITY\",env:\"TEAMCITY_VERSION\"},{name:\"Travis CI\",constant:\"TRAVIS\",env:\"TRAVIS\",pr:{env:\"TRAVIS_PULL_REQUEST\",ne:\"false\"}}]});var fEe=_(gl=>{\"use strict\";var AEe=cEe(),pA=process.env;Object.defineProperty(gl,\"_vendors\",{value:AEe.map(function(t){return t.constant})});gl.name=null;gl.isPR=null;AEe.forEach(function(t){var e=Array.isArray(t.env)?t.env:[t.env],r=e.every(function(o){return uEe(o)});if(gl[t.constant]=r,r)switch(gl.name=t.name,typeof t.pr){case\"string\":gl.isPR=!!pA[t.pr];break;case\"object\":\"env\"in t.pr?gl.isPR=t.pr.env in pA&&pA[t.pr.env]!==t.pr.ne:\"any\"in t.pr?gl.isPR=t.pr.any.some(function(o){return!!pA[o]}):gl.isPR=uEe(t.pr);break;default:gl.isPR=null}});gl.isCI=!!(pA.CI||pA.CONTINUOUS_INTEGRATION||pA.BUILD_NUMBER||pA.RUN_ID||gl.name);function uEe(t){return typeof t==\"string\"?!!pA[t]:Object.keys(t).every(function(e){return pA[e]===t[e]})}});var hEe=_((fKt,pEe)=>{\"use strict\";pEe.exports=fEe().isCI});var dEe=_((pKt,gEe)=>{\"use strict\";var Myt=t=>{let e=new Set;do for(let r of Reflect.ownKeys(t))e.add([t,r]);while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e};gEe.exports=(t,{include:e,exclude:r}={})=>{let o=a=>{let n=u=>typeof u==\"string\"?a===u:u.test(a);return e?e.some(n):r?!r.some(n):!0};for(let[a,n]of Myt(t.constructor.prototype)){if(n===\"constructor\"||!o(n))continue;let u=Reflect.getOwnPropertyDescriptor(a,n);u&&typeof u.value==\"function\"&&(t[n]=t[n].bind(t))}return t}});var BEe=_(kn=>{\"use strict\";Object.defineProperty(kn,\"__esModule\",{value:!0});var _C,oB,Hk,qk,I6;typeof window>\"u\"||typeof MessageChannel!=\"function\"?(UC=null,d6=null,m6=function(){if(UC!==null)try{var t=kn.unstable_now();UC(!0,t),UC=null}catch(e){throw setTimeout(m6,0),e}},mEe=Date.now(),kn.unstable_now=function(){return Date.now()-mEe},_C=function(t){UC!==null?setTimeout(_C,0,t):(UC=t,setTimeout(m6,0))},oB=function(t,e){d6=setTimeout(t,e)},Hk=function(){clearTimeout(d6)},qk=function(){return!1},I6=kn.unstable_forceFrameRate=function(){}):(Ok=window.performance,y6=window.Date,yEe=window.setTimeout,EEe=window.clearTimeout,typeof console<\"u\"&&(CEe=window.cancelAnimationFrame,typeof window.requestAnimationFrame!=\"function\"&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),typeof CEe!=\"function\"&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")),typeof Ok==\"object\"&&typeof Ok.now==\"function\"?kn.unstable_now=function(){return Ok.now()}:(wEe=y6.now(),kn.unstable_now=function(){return y6.now()-wEe}),iB=!1,sB=null,Mk=-1,E6=5,C6=0,qk=function(){return kn.unstable_now()>=C6},I6=function(){},kn.unstable_forceFrameRate=function(t){0>t||125<t?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):E6=0<t?Math.floor(1e3/t):5},w6=new MessageChannel,Uk=w6.port2,w6.port1.onmessage=function(){if(sB!==null){var t=kn.unstable_now();C6=t+E6;try{sB(!0,t)?Uk.postMessage(null):(iB=!1,sB=null)}catch(e){throw Uk.postMessage(null),e}}else iB=!1},_C=function(t){sB=t,iB||(iB=!0,Uk.postMessage(null))},oB=function(t,e){Mk=yEe(function(){t(kn.unstable_now())},e)},Hk=function(){EEe(Mk),Mk=-1});var UC,d6,m6,mEe,Ok,y6,yEe,EEe,CEe,wEe,iB,sB,Mk,E6,C6,w6,Uk;function B6(t,e){var r=t.length;t.push(e);e:for(;;){var o=Math.floor((r-1)/2),a=t[o];if(a!==void 0&&0<_k(a,e))t[o]=e,t[r]=a,r=o;else break e}}function nc(t){return t=t[0],t===void 0?null:t}function jk(t){var e=t[0];if(e!==void 0){var r=t.pop();if(r!==e){t[0]=r;e:for(var o=0,a=t.length;o<a;){var n=2*(o+1)-1,u=t[n],A=n+1,p=t[A];if(u!==void 0&&0>_k(u,r))p!==void 0&&0>_k(p,u)?(t[o]=p,t[A]=r,o=A):(t[o]=u,t[n]=r,o=n);else if(p!==void 0&&0>_k(p,r))t[o]=p,t[A]=r,o=A;else break e}}return e}return null}function _k(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}var eu=[],y0=[],Uyt=1,na=null,Lo=3,Gk=!1,om=!1,aB=!1;function Yk(t){for(var e=nc(y0);e!==null;){if(e.callback===null)jk(y0);else if(e.startTime<=t)jk(y0),e.sortIndex=e.expirationTime,B6(eu,e);else break;e=nc(y0)}}function v6(t){if(aB=!1,Yk(t),!om)if(nc(eu)!==null)om=!0,_C(D6);else{var e=nc(y0);e!==null&&oB(v6,e.startTime-t)}}function D6(t,e){om=!1,aB&&(aB=!1,Hk()),Gk=!0;var r=Lo;try{for(Yk(e),na=nc(eu);na!==null&&(!(na.expirationTime>e)||t&&!qk());){var o=na.callback;if(o!==null){na.callback=null,Lo=na.priorityLevel;var a=o(na.expirationTime<=e);e=kn.unstable_now(),typeof a==\"function\"?na.callback=a:na===nc(eu)&&jk(eu),Yk(e)}else jk(eu);na=nc(eu)}if(na!==null)var n=!0;else{var u=nc(y0);u!==null&&oB(v6,u.startTime-e),n=!1}return n}finally{na=null,Lo=r,Gk=!1}}function IEe(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var _yt=I6;kn.unstable_ImmediatePriority=1;kn.unstable_UserBlockingPriority=2;kn.unstable_NormalPriority=3;kn.unstable_IdlePriority=5;kn.unstable_LowPriority=4;kn.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=Lo;Lo=t;try{return e()}finally{Lo=r}};kn.unstable_next=function(t){switch(Lo){case 1:case 2:case 3:var e=3;break;default:e=Lo}var r=Lo;Lo=e;try{return t()}finally{Lo=r}};kn.unstable_scheduleCallback=function(t,e,r){var o=kn.unstable_now();if(typeof r==\"object\"&&r!==null){var a=r.delay;a=typeof a==\"number\"&&0<a?o+a:o,r=typeof r.timeout==\"number\"?r.timeout:IEe(t)}else r=IEe(t),a=o;return r=a+r,t={id:Uyt++,callback:e,priorityLevel:t,startTime:a,expirationTime:r,sortIndex:-1},a>o?(t.sortIndex=a,B6(y0,t),nc(eu)===null&&t===nc(y0)&&(aB?Hk():aB=!0,oB(v6,a-o))):(t.sortIndex=r,B6(eu,t),om||Gk||(om=!0,_C(D6))),t};kn.unstable_cancelCallback=function(t){t.callback=null};kn.unstable_wrapCallback=function(t){var e=Lo;return function(){var r=Lo;Lo=e;try{return t.apply(this,arguments)}finally{Lo=r}}};kn.unstable_getCurrentPriorityLevel=function(){return Lo};kn.unstable_shouldYield=function(){var t=kn.unstable_now();Yk(t);var e=nc(eu);return e!==na&&na!==null&&e!==null&&e.callback!==null&&e.startTime<=t&&e.expirationTime<na.expirationTime||qk()};kn.unstable_requestPaint=_yt;kn.unstable_continueExecution=function(){om||Gk||(om=!0,_C(D6))};kn.unstable_pauseExecution=function(){};kn.unstable_getFirstCallbackNode=function(){return nc(eu)};kn.unstable_Profiling=null});var S6=_((gKt,vEe)=>{\"use strict\";vEe.exports=BEe()});var DEe=_((dKt,lB)=>{lB.exports=function t(e){\"use strict\";var r=$H(),o=on(),a=S6();function n(S){for(var D=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+S,T=1;T<arguments.length;T++)D+=\"&args[]=\"+encodeURIComponent(arguments[T]);return\"Minified React error #\"+S+\"; visit \"+D+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;u.hasOwnProperty(\"ReactCurrentDispatcher\")||(u.ReactCurrentDispatcher={current:null}),u.hasOwnProperty(\"ReactCurrentBatchConfig\")||(u.ReactCurrentBatchConfig={suspense:null});var A=typeof Symbol==\"function\"&&Symbol.for,p=A?Symbol.for(\"react.element\"):60103,h=A?Symbol.for(\"react.portal\"):60106,E=A?Symbol.for(\"react.fragment\"):60107,I=A?Symbol.for(\"react.strict_mode\"):60108,v=A?Symbol.for(\"react.profiler\"):60114,x=A?Symbol.for(\"react.provider\"):60109,C=A?Symbol.for(\"react.context\"):60110,R=A?Symbol.for(\"react.concurrent_mode\"):60111,L=A?Symbol.for(\"react.forward_ref\"):60112,U=A?Symbol.for(\"react.suspense\"):60113,J=A?Symbol.for(\"react.suspense_list\"):60120,te=A?Symbol.for(\"react.memo\"):60115,ae=A?Symbol.for(\"react.lazy\"):60116;A&&Symbol.for(\"react.fundamental\"),A&&Symbol.for(\"react.responder\"),A&&Symbol.for(\"react.scope\");var fe=typeof Symbol==\"function\"&&Symbol.iterator;function ce(S){return S===null||typeof S!=\"object\"?null:(S=fe&&S[fe]||S[\"@@iterator\"],typeof S==\"function\"?S:null)}function me(S){if(S._status===-1){S._status=0;var D=S._ctor;D=D(),S._result=D,D.then(function(T){S._status===0&&(T=T.default,S._status=1,S._result=T)},function(T){S._status===0&&(S._status=2,S._result=T)})}}function he(S){if(S==null)return null;if(typeof S==\"function\")return S.displayName||S.name||null;if(typeof S==\"string\")return S;switch(S){case E:return\"Fragment\";case h:return\"Portal\";case v:return\"Profiler\";case I:return\"StrictMode\";case U:return\"Suspense\";case J:return\"SuspenseList\"}if(typeof S==\"object\")switch(S.$$typeof){case C:return\"Context.Consumer\";case x:return\"Context.Provider\";case L:var D=S.render;return D=D.displayName||D.name||\"\",S.displayName||(D!==\"\"?\"ForwardRef(\"+D+\")\":\"ForwardRef\");case te:return he(S.type);case ae:if(S=S._status===1?S._result:null)return he(S)}return null}function Be(S){var D=S,T=S;if(S.alternate)for(;D.return;)D=D.return;else{S=D;do D=S,(D.effectTag&1026)!==0&&(T=D.return),S=D.return;while(S)}return D.tag===3?T:null}function we(S){if(Be(S)!==S)throw Error(n(188))}function g(S){var D=S.alternate;if(!D){if(D=Be(S),D===null)throw Error(n(188));return D!==S?null:S}for(var T=S,q=D;;){var Y=T.return;if(Y===null)break;var Ae=Y.alternate;if(Ae===null){if(q=Y.return,q!==null){T=q;continue}break}if(Y.child===Ae.child){for(Ae=Y.child;Ae;){if(Ae===T)return we(Y),S;if(Ae===q)return we(Y),D;Ae=Ae.sibling}throw Error(n(188))}if(T.return!==q.return)T=Y,q=Ae;else{for(var De=!1,vt=Y.child;vt;){if(vt===T){De=!0,T=Y,q=Ae;break}if(vt===q){De=!0,q=Y,T=Ae;break}vt=vt.sibling}if(!De){for(vt=Ae.child;vt;){if(vt===T){De=!0,T=Ae,q=Y;break}if(vt===q){De=!0,q=Ae,T=Y;break}vt=vt.sibling}if(!De)throw Error(n(189))}}if(T.alternate!==q)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?S:D}function Ee(S){if(S=g(S),!S)return null;for(var D=S;;){if(D.tag===5||D.tag===6)return D;if(D.child)D.child.return=D,D=D.child;else{if(D===S)break;for(;!D.sibling;){if(!D.return||D.return===S)return null;D=D.return}D.sibling.return=D.return,D=D.sibling}}return null}function Se(S){if(S=g(S),!S)return null;for(var D=S;;){if(D.tag===5||D.tag===6)return D;if(D.child&&D.tag!==4)D.child.return=D,D=D.child;else{if(D===S)break;for(;!D.sibling;){if(!D.return||D.return===S)return null;D=D.return}D.sibling.return=D.return,D=D.sibling}}return null}var le=e.getPublicInstance,ne=e.getRootHostContext,ee=e.getChildHostContext,Ie=e.prepareForCommit,Fe=e.resetAfterCommit,At=e.createInstance,H=e.appendInitialChild,at=e.finalizeInitialChildren,Re=e.prepareUpdate,ke=e.shouldSetTextContent,xe=e.shouldDeprioritizeSubtree,He=e.createTextInstance,Te=e.setTimeout,Je=e.clearTimeout,qe=e.noTimeout,b=e.isPrimaryRenderer,w=e.supportsMutation,P=e.supportsPersistence,y=e.supportsHydration,F=e.appendChild,z=e.appendChildToContainer,X=e.commitTextUpdate,Z=e.commitMount,ie=e.commitUpdate,Pe=e.insertBefore,Ne=e.insertInContainerBefore,ot=e.removeChild,dt=e.removeChildFromContainer,jt=e.resetTextContent,$t=e.hideInstance,bt=e.hideTextInstance,an=e.unhideInstance,Qr=e.unhideTextInstance,mr=e.cloneInstance,br=e.createContainerChildSet,Wr=e.appendChildToContainerChildSet,Kn=e.finalizeContainerChildren,Ns=e.replaceContainerChildren,Ti=e.cloneHiddenInstance,ps=e.cloneHiddenTextInstance,io=e.canHydrateInstance,Pi=e.canHydrateTextInstance,Ls=e.isSuspenseInstancePending,so=e.isSuspenseInstanceFallback,cc=e.getNextHydratableSibling,cu=e.getFirstHydratableChild,lp=e.hydrateInstance,cp=e.hydrateTextInstance,Os=e.getNextHydratableInstanceAfterSuspenseInstance,Dn=e.commitHydratedContainer,oo=e.commitHydratedSuspenseInstance,Ms=/^(.*)[\\\\\\/]/;function ml(S){var D=\"\";do{e:switch(S.tag){case 3:case 4:case 6:case 7:case 10:case 9:var T=\"\";break e;default:var q=S._debugOwner,Y=S._debugSource,Ae=he(S.type);T=null,q&&(T=he(q.type)),q=Ae,Ae=\"\",Y?Ae=\" (at \"+Y.fileName.replace(Ms,\"\")+\":\"+Y.lineNumber+\")\":T&&(Ae=\" (created by \"+T+\")\"),T=`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:291:`+Module.extraStackTrace()),demangleAll(t)}Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort(\"Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value \"+TOTAL_MEMORY+\", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 \")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||134217728;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr(\"TOTAL_MEMORY should be larger than TOTAL_STACK, was \"+TOTAL_MEMORY+\"! (TOTAL_STACK=\"+TOTAL_STACK+\")\"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw\"Runtime error: expected the system to be little-endian!\";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(t){for(;t.length>0;){var e=t.shift();if(typeof e==\"function\"){e();continue}var r=e.func;typeof r==\"number\"?e.arg===void 0?Module.dynCall_v(r):Module.dynCall_vi(r,e.arg):r(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun==\"function\"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for(typeof Module.postRun==\"function\"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}Module.addOnPreRun=addOnPreRun;function addOnInit(t){__ATINIT__.unshift(t)}Module.addOnInit=addOnInit;function addOnPreMain(t){__ATMAIN__.unshift(t)}Module.addOnPreMain=addOnPreMain;function addOnExit(t){__ATEXIT__.unshift(t)}Module.addOnExit=addOnExit;function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(t,e,r){var o=r>0?r:lengthBytesUTF8(t)+1,a=new Array(o),n=stringToUTF8Array(t,a,0,a.length);return e&&(a.length=n),a}Module.intArrayFromString=intArrayFromString;function intArrayToString(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];o>255&&(o&=255),e.push(String.fromCharCode(o))}return e.join(\"\")}Module.intArrayToString=intArrayToString;function writeStringToMemory(t,e,r){Runtime.warnOnce(\"writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!\");var o,a;r&&(a=e+lengthBytesUTF8(t),o=HEAP8[a]),stringToUTF8(t,e,1/0),r&&(HEAP8[a]=o)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(t,e){HEAP8.set(t,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(t,e,r){for(var o=0;o<t.length;++o)HEAP8[e++>>0]=t.charCodeAt(o);r||(HEAP8[e>>0]=0)}if(Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function t(e,r){var o=e>>>16,a=e&65535,n=r>>>16,u=r&65535;return a*u+(o*u+a*n<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(t){return froundBuffer[0]=t,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(t){t=t>>>0;for(var e=0;e<32;e++)if(t&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(t,e,r,o,a,n,u,A){return _nbind.callbackSignatureList[t].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(t,e,r,o,a,n,u,A){return ASM_CONSTS[t](e,r,o,a,n,u,A)}function _emscripten_asm_const_iiiii(t,e,r,o,a){return ASM_CONSTS[t](e,r,o,a)}function _emscripten_asm_const_iiidddddd(t,e,r,o,a,n,u,A,p){return ASM_CONSTS[t](e,r,o,a,n,u,A,p)}function _emscripten_asm_const_iiididi(t,e,r,o,a,n,u){return ASM_CONSTS[t](e,r,o,a,n,u)}function _emscripten_asm_const_iiii(t,e,r,o){return ASM_CONSTS[t](e,r,o)}function _emscripten_asm_const_iiiid(t,e,r,o,a){return ASM_CONSTS[t](e,r,o,a)}function _emscripten_asm_const_iiiiii(t,e,r,o,a,n){return ASM_CONSTS[t](e,r,o,a,n)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],\"i8\",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16;function _atexit(t,e){__ATEXIT__.unshift({func:t,arg:e})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr(\"missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj\"),abort(-1)}function __decorate(t,e,r,o){var a=arguments.length,n=a<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,u;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")n=Reflect.decorate(t,e,r,o);else for(var A=t.length-1;A>=0;A--)(u=t[A])&&(n=(a<3?u(n):a>3?u(e,r,n):u(e,r))||n);return a>3&&n&&Object.defineProperty(e,r,n),n}function _defineHidden(t){return function(e,r){Object.defineProperty(e,r,{configurable:!1,enumerable:!1,value:t,writable:!0})}}var _nbind={};function __nbind_free_external(t){_nbind.externalList[t].dereference(t)}function __nbind_reference_external(t){_nbind.externalList[t].reference()}function _llvm_stackrestore(t){var e=_llvm_stacksave,r=e.LLVM_SAVEDSTACKS[t];e.LLVM_SAVEDSTACKS.splice(t,1),Runtime.stackRestore(r)}function __nbind_register_pool(t,e,r,o){_nbind.Pool.pageSize=t,_nbind.Pool.usedPtr=e/4,_nbind.Pool.rootPtr=r,_nbind.Pool.pagePtr=o/4,HEAP32[e/4]=16909060,HEAP8[e]==1&&(_nbind.bigEndian=!0),HEAP32[e/4]=0,_nbind.makeTypeKindTbl=(n={},n[1024]=_nbind.PrimitiveType,n[64]=_nbind.Int64Type,n[2048]=_nbind.BindClass,n[3072]=_nbind.BindClassPtr,n[4096]=_nbind.SharedClassPtr,n[5120]=_nbind.ArrayType,n[6144]=_nbind.ArrayType,n[7168]=_nbind.CStringType,n[9216]=_nbind.CallbackType,n[10240]=_nbind.BindType,n),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,\"cbFunction &\":_nbind.CallbackType,\"const cbFunction &\":_nbind.CallbackType,\"const std::string &\":_nbind.StringType,\"std::string\":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var a=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:\"\"});a.proto=Module,_nbind.BindClass.list.push(a);var n}function _emscripten_set_main_loop_timing(t,e){if(Browser.mainLoop.timingMode=t,Browser.mainLoop.timingValue=e,!Browser.mainLoop.func)return 1;if(t==0)Browser.mainLoop.scheduler=function(){var u=Math.max(0,Browser.mainLoop.tickStartTime+e-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,u)},Browser.mainLoop.method=\"timeout\";else if(t==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method=\"rAF\";else if(t==2){if(!window.setImmediate){let n=function(u){u.source===window&&u.data===o&&(u.stopPropagation(),r.shift()())};var a=n,r=[],o=\"setimmediate\";window.addEventListener(\"message\",n,!0),window.setImmediate=function(A){r.push(A),ENVIRONMENT_IS_WORKER?(Module.setImmediates===void 0&&(Module.setImmediates=[]),Module.setImmediates.push(A),window.postMessage({target:o})):window.postMessage(o,\"*\")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method=\"immediate\"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(t,e,r,o,a){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,\"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.\"),Browser.mainLoop.func=t,Browser.mainLoop.arg=o;var n;typeof o<\"u\"?n=function(){Module.dynCall_vi(t,o)}:n=function(){Module.dynCall_v(t)};var u=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var p=Date.now(),h=Browser.mainLoop.queue.shift();if(h.func(h.arg),Browser.mainLoop.remainingBlockers){var E=Browser.mainLoop.remainingBlockers,I=E%1==0?E-1:Math.floor(E);h.counted?Browser.mainLoop.remainingBlockers=I:(I=I+.5,Browser.mainLoop.remainingBlockers=(8*E+I)/9)}if(console.log('main loop blocker \"'+h.name+'\" took '+(Date.now()-p)+\" ms\"),Browser.mainLoop.updateStatus(),u<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(!(u<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else Browser.mainLoop.timingMode==0&&(Browser.mainLoop.tickStartTime=_emscripten_get_now());Browser.mainLoop.method===\"timeout\"&&Module.ctx&&(Module.printErr(\"Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!\"),Browser.mainLoop.method=\"\"),Browser.mainLoop.runIter(n),!(u<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL==\"object\"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},a||(e&&e>0?_emscripten_set_main_loop_timing(0,1e3/e):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),r)throw\"SimulateInfiniteLoop\"}var Browser={mainLoop:{scheduler:null,method:\"\",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var t=Browser.mainLoop.timingMode,e=Browser.mainLoop.timingValue,r=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(r,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(t,e),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var t=Module.statusMessage||\"Please wait...\",e=Browser.mainLoop.remainingBlockers,r=Browser.mainLoop.expectedBlockers;e?e<r?Module.setStatus(t+\" (\"+(r-e)+\"/\"+r+\")\"):Module.setStatus(t):Module.setStatus(\"\")}},runIter:function(t){if(!ABORT){if(Module.preMainLoop){var e=Module.preMainLoop();if(e===!1)return}try{t()}catch(r){if(r instanceof ExitStatus)return;throw r&&typeof r==\"object\"&&r.stack&&Module.printErr(\"exception thrown: \"+[r,r.stack]),r}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log(\"warning: no blob constructor, cannot create blobs with mimetypes\")}Browser.BlobBuilder=typeof MozBlobBuilder<\"u\"?MozBlobBuilder:typeof WebKitBlobBuilder<\"u\"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log(\"warning: no BlobBuilder\"),Browser.URLObject=typeof window<\"u\"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>\"u\"&&(console.log(\"warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.\"),Module.noImageDecoding=!0);var t={};t.canHandle=function(n){return!Module.noImageDecoding&&/\\.(jpg|jpeg|png|bmp)$/i.test(n)},t.handle=function(n,u,A,p){var h=null;if(Browser.hasBlobConstructor)try{h=new Blob([n],{type:Browser.getMimetype(u)}),h.size!==n.length&&(h=new Blob([new Uint8Array(n).buffer],{type:Browser.getMimetype(u)}))}catch(x){Runtime.warnOnce(\"Blob constructor present but fails: \"+x+\"; falling back to blob builder\")}if(!h){var E=new Browser.BlobBuilder;E.append(new Uint8Array(n).buffer),h=E.getBlob()}var I=Browser.URLObject.createObjectURL(h),v=new Image;v.onload=function(){assert(v.complete,\"Image \"+u+\" could not be decoded\");var C=document.createElement(\"canvas\");C.width=v.width,C.height=v.height;var R=C.getContext(\"2d\");R.drawImage(v,0,0),Module.preloadedImages[u]=C,Browser.URLObject.revokeObjectURL(I),A&&A(n)},v.onerror=function(C){console.log(\"Image \"+I+\" could not be decoded\"),p&&p()},v.src=I},Module.preloadPlugins.push(t);var e={};e.canHandle=function(n){return!Module.noAudioDecoding&&n.substr(-4)in{\".ogg\":1,\".wav\":1,\".mp3\":1}},e.handle=function(n,u,A,p){var h=!1;function E(R){h||(h=!0,Module.preloadedAudios[u]=R,A&&A(n))}function I(){h||(h=!0,Module.preloadedAudios[u]=new Audio,p&&p())}if(Browser.hasBlobConstructor){try{var v=new Blob([n],{type:Browser.getMimetype(u)})}catch{return I()}var x=Browser.URLObject.createObjectURL(v),C=new Audio;C.addEventListener(\"canplaythrough\",function(){E(C)},!1),C.onerror=function(L){if(h)return;console.log(\"warning: browser could not fully decode audio \"+u+\", trying slower base64 approach\");function U(J){for(var te=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",ae=\"=\",fe=\"\",ce=0,me=0,he=0;he<J.length;he++)for(ce=ce<<8|J[he],me+=8;me>=6;){var Be=ce>>me-6&63;me-=6,fe+=te[Be]}return me==2?(fe+=te[(ce&3)<<4],fe+=ae+ae):me==4&&(fe+=te[(ce&15)<<2],fe+=ae),fe}C.src=\"data:audio/x-\"+u.substr(-3)+\";base64,\"+U(n),E(C)},C.src=x,Browser.safeSetTimeout(function(){E(C)},1e4)}else return I()},Module.preloadPlugins.push(e);function r(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}var o=Module.canvas;o&&(o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock||o.msRequestPointerLock||function(){},o.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},o.exitPointerLock=o.exitPointerLock.bind(document),document.addEventListener(\"pointerlockchange\",r,!1),document.addEventListener(\"mozpointerlockchange\",r,!1),document.addEventListener(\"webkitpointerlockchange\",r,!1),document.addEventListener(\"mspointerlockchange\",r,!1),Module.elementPointerLock&&o.addEventListener(\"click\",function(a){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),a.preventDefault())},!1))},createContext:function(t,e,r,o){if(e&&Module.ctx&&t==Module.canvas)return Module.ctx;var a,n;if(e){var u={antialias:!1,alpha:!1};if(o)for(var A in o)u[A]=o[A];n=GL.createContext(t,u),n&&(a=GL.getContext(n).GLctx)}else a=t.getContext(\"2d\");return a?(r&&(e||assert(typeof GLctx>\"u\",\"cannot set in module if GLctx is used, but we are a non-GL context that would replace it\"),Module.ctx=a,e&&GL.makeContextCurrent(n),Module.useWebGL=e,Browser.moduleContextCreatedCallbacks.forEach(function(p){p()}),Browser.init()),a):null},destroyContext:function(t,e,r){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(t,e,r){Browser.lockPointer=t,Browser.resizeCanvas=e,Browser.vrDevice=r,typeof Browser.lockPointer>\"u\"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>\"u\"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>\"u\"&&(Browser.vrDevice=null);var o=Module.canvas;function a(){Browser.isFullscreen=!1;var u=o.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===u?(o.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},o.exitFullscreen=o.exitFullscreen.bind(document),Browser.lockPointer&&o.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(u.parentNode.insertBefore(o,u),u.parentNode.removeChild(u),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(o)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener(\"fullscreenchange\",a,!1),document.addEventListener(\"mozfullscreenchange\",a,!1),document.addEventListener(\"webkitfullscreenchange\",a,!1),document.addEventListener(\"MSFullscreenChange\",a,!1));var n=document.createElement(\"div\");o.parentNode.insertBefore(n,o),n.appendChild(o),n.requestFullscreen=n.requestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullscreen?function(){n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?n.requestFullscreen({vrDisplay:r}):n.requestFullscreen()},requestFullScreen:function(t,e,r){return Module.printErr(\"Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead.\"),Browser.requestFullScreen=function(o,a,n){return Browser.requestFullscreen(o,a,n)},Browser.requestFullscreen(t,e,r)},nextRAF:0,fakeRequestAnimationFrame:function(t){var e=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=e+1e3/60;else for(;e+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var r=Math.max(Browser.nextRAF-e,0);setTimeout(t,r)},requestAnimationFrame:function t(e){typeof window>\"u\"?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(t){return function(){if(!ABORT)return t.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var t=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],t.forEach(function(e){e()})}},safeRequestAnimationFrame:function(t){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t))})},safeSetTimeout:function(t,e){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?t():Browser.queuedAsyncCallbacks.push(t))},e)},safeSetInterval:function(t,e){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&t()},e)},getMimetype:function(t){return{jpg:\"image/jpeg\",jpeg:\"image/jpeg\",png:\"image/png\",bmp:\"image/bmp\",ogg:\"audio/ogg\",wav:\"audio/wav\",mp3:\"audio/mpeg\"}[t.substr(t.lastIndexOf(\".\")+1)]},getUserMedia:function(t){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(t)},getMovementX:function(t){return t.movementX||t.mozMovementX||t.webkitMovementX||0},getMovementY:function(t){return t.movementY||t.mozMovementY||t.webkitMovementY||0},getMouseWheelDelta:function(t){var e=0;switch(t.type){case\"DOMMouseScroll\":e=t.detail;break;case\"mousewheel\":e=t.wheelDelta;break;case\"wheel\":e=t.deltaY;break;default:throw\"unrecognized mouse wheel event: \"+t.type}return e},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(t){if(Browser.pointerLock)t.type!=\"mousemove\"&&\"mozMovementX\"in t?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(t),Browser.mouseMovementY=Browser.getMovementY(t)),typeof SDL<\"u\"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var e=Module.canvas.getBoundingClientRect(),r=Module.canvas.width,o=Module.canvas.height,a=typeof window.scrollX<\"u\"?window.scrollX:window.pageXOffset,n=typeof window.scrollY<\"u\"?window.scrollY:window.pageYOffset;if(t.type===\"touchstart\"||t.type===\"touchend\"||t.type===\"touchmove\"){var u=t.touch;if(u===void 0)return;var A=u.pageX-(a+e.left),p=u.pageY-(n+e.top);A=A*(r/e.width),p=p*(o/e.height);var h={x:A,y:p};if(t.type===\"touchstart\")Browser.lastTouches[u.identifier]=h,Browser.touches[u.identifier]=h;else if(t.type===\"touchend\"||t.type===\"touchmove\"){var E=Browser.touches[u.identifier];E||(E=h),Browser.lastTouches[u.identifier]=E,Browser.touches[u.identifier]=h}return}var I=t.pageX-(a+e.left),v=t.pageY-(n+e.top);I=I*(r/e.width),v=v*(o/e.height),Browser.mouseMovementX=I-Browser.mouseX,Browser.mouseMovementY=v-Browser.mouseY,Browser.mouseX=I,Browser.mouseY=v}},asyncLoad:function(t,e,r,o){var a=o?\"\":\"al \"+t;Module.readAsync(t,function(n){assert(n,'Loading data file \"'+t+'\" failed (no arrayBuffer).'),e(new Uint8Array(n)),a&&removeRunDependency(a)},function(n){if(r)r();else throw'Loading data file \"'+t+'\" failed.'}),a&&addRunDependency(a)},resizeListeners:[],updateResizeListeners:function(){var t=Module.canvas;Browser.resizeListeners.forEach(function(e){e(t.width,t.height)})},setCanvasSize:function(t,e,r){var o=Module.canvas;Browser.updateCanvasDimensions(o,t,e),r||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<\"u\"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<\"u\"){var t=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];t=t&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=t}Browser.updateResizeListeners()},updateCanvasDimensions:function(t,e,r){e&&r?(t.widthNative=e,t.heightNative=r):(e=t.widthNative,r=t.heightNative);var o=e,a=r;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(o/a<Module.forcedAspectRatio?o=Math.round(a*Module.forcedAspectRatio):a=Math.round(o/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===t.parentNode&&typeof screen<\"u\"){var n=Math.min(screen.width/o,screen.height/a);o=Math.round(o*n),a=Math.round(a*n)}Browser.resizeCanvas?(t.width!=o&&(t.width=o),t.height!=a&&(t.height=a),typeof t.style<\"u\"&&(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\"))):(t.width!=e&&(t.width=e),t.height!=r&&(t.height=r),typeof t.style<\"u\"&&(o!=e||a!=r?(t.style.setProperty(\"width\",o+\"px\",\"important\"),t.style.setProperty(\"height\",a+\"px\",\"important\")):(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var t=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,t}},SYSCALLS={varargs:0,get:function(t){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var t=Pointer_stringify(SYSCALLS.get());return t},get64:function(){var t=SYSCALLS.get(),e=SYSCALLS.get();return t>=0?assert(e===0):assert(e===-1),t},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall6(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(o){return(typeof FS>\"u\"||!(o instanceof FS.ErrnoError))&&abort(o),-o.errno}}function ___syscall54(t,e){SYSCALLS.varargs=e;try{return 0}catch(r){return(typeof FS>\"u\"||!(r instanceof FS.ErrnoError))&&abort(r),-r.errno}}function _typeModule(t){var e=[[0,1,\"X\"],[1,1,\"const X\"],[128,1,\"X *\"],[256,1,\"X &\"],[384,1,\"X &&\"],[512,1,\"std::shared_ptr<X>\"],[640,1,\"std::unique_ptr<X>\"],[5120,1,\"std::vector<X>\"],[6144,2,\"std::array<X, Y>\"],[9216,-1,\"std::function<X (Y)>\"]];function r(p,h,E,I,v,x){if(h==1){var C=I&896;(C==128||C==256||C==384)&&(p=\"X const\")}var R;return x?R=E.replace(\"X\",p).replace(\"Y\",v):R=p.replace(\"X\",E).replace(\"Y\",v),R.replace(/([*&]) (?=[*&])/g,\"$1\")}function o(p,h,E,I,v){throw new Error(p+\" type \"+E.replace(\"X\",h+\"?\")+(I?\" with flag \"+I:\"\")+\" in \"+v)}function a(p,h,E,I,v,x,C,R){x===void 0&&(x=\"X\"),R===void 0&&(R=1);var L=E(p);if(L)return L;var U=I(p),J=U.placeholderFlag,te=e[J];C&&te&&(x=r(C[2],C[0],x,te[0],\"?\",!0));var ae;J==0&&(ae=\"Unbound\"),J>=10&&(ae=\"Corrupt\"),R>20&&(ae=\"Deeply nested\"),ae&&o(ae,p,x,J,v||\"?\");var fe=U.paramList[0],ce=a(fe,h,E,I,v,x,te,R+1),me,he={flags:te[0],id:p,name:\"\",paramList:[ce]},Be=[],we=\"?\";switch(U.placeholderFlag){case 1:me=ce.spec;break;case 2:if((ce.flags&15360)==1024&&ce.spec.ptrSize==1){he.flags=7168;break}case 3:case 6:case 5:me=ce.spec,ce.flags&15360;break;case 8:we=\"\"+U.paramList[1],he.paramList.push(U.paramList[1]);break;case 9:for(var g=0,Ee=U.paramList[1];g<Ee.length;g++){var Se=Ee[g],le=a(Se,h,E,I,v,x,te,R+1);Be.push(le.name),he.paramList.push(le)}we=Be.join(\", \");break;default:break}if(he.name=r(te[2],te[0],ce.name,ce.flags,we),me){for(var ne=0,ee=Object.keys(me);ne<ee.length;ne++){var Ie=ee[ne];he[Ie]=he[Ie]||me[Ie]}he.flags|=me.flags}return n(h,he)}function n(p,h){var E=h.flags,I=E&896,v=E&15360;return!h.name&&v==1024&&(h.ptrSize==1?h.name=(E&16?\"\":(E&8?\"un\":\"\")+\"signed \")+\"char\":h.name=(E&8?\"u\":\"\")+(E&32?\"float\":\"int\")+(h.ptrSize*8+\"_t\")),h.ptrSize==8&&!(E&32)&&(v=64),v==2048&&(I==512||I==640?v=4096:I&&(v=3072)),p(v,h)}var u=function(){function p(h){this.id=h.id,this.name=h.name,this.flags=h.flags,this.spec=h}return p.prototype.toString=function(){return this.name},p}(),A={Type:u,getComplexType:a,makeType:n,structureList:e};return t.output=A,t.output||A}function __nbind_register_type(t,e){var r=_nbind.readAsciiString(e),o={flags:10240,id:t,name:r};_nbind.makeType(_nbind.constructType,o)}function __nbind_register_callback_signature(t,e){var r=_nbind.readTypeIdList(t,e),o=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[o]=_nbind.makeJSCaller(r),o}function __extends(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o}function __nbind_register_class(t,e,r,o,a,n,u){var A=_nbind.readAsciiString(u),p=_nbind.readPolicyList(e),h=HEAPU32.subarray(t/4,t/4+2),E={flags:2048|(p.Value?2:0),id:h[0],name:A},I=_nbind.makeType(_nbind.constructType,E);I.ptrType=_nbind.getComplexType(h[1],_nbind.constructType,_nbind.getType,_nbind.queryType),I.destroy=_nbind.makeMethodCaller(I.ptrType,{boundID:E.id,flags:0,name:\"destroy\",num:0,ptr:n,title:I.name+\".free\",typeList:[\"void\",\"uint32_t\",\"uint32_t\"]}),a&&(I.superIdList=Array.prototype.slice.call(HEAPU32.subarray(r/4,r/4+a)),I.upcastList=Array.prototype.slice.call(HEAPU32.subarray(o/4,o/4+a))),Module[I.name]=I.makeBound(p),_nbind.BindClass.list.push(I)}function _removeAccessorPrefix(t){var e=/^[Gg]et_?([A-Z]?([A-Z]?))/;return t.replace(e,function(r,o,a){return a?o:o.toLowerCase()})}function __nbind_register_function(t,e,r,o,a,n,u,A,p,h){var E=_nbind.getType(t),I=_nbind.readPolicyList(e),v=_nbind.readTypeIdList(r,o),x;if(u==5)x=[{direct:a,name:\"__nbindConstructor\",ptr:0,title:E.name+\" constructor\",typeList:[\"uint32_t\"].concat(v.slice(1))},{direct:n,name:\"__nbindValueConstructor\",ptr:0,title:E.name+\" value constructor\",typeList:[\"void\",\"uint32_t\"].concat(v.slice(1))}];else{var C=_nbind.readAsciiString(A),R=(E.name&&E.name+\".\")+C;(u==3||u==4)&&(C=_removeAccessorPrefix(C)),x=[{boundID:t,direct:n,name:C,ptr:a,title:R,typeList:v}]}for(var L=0,U=x;L<U.length;L++){var J=U[L];J.signatureType=u,J.policyTbl=I,J.num=p,J.flags=h,E.addMethod(J)}}function _nbind_value(t,e){_nbind.typeNameTbl[t]||_nbind.throwError(\"Unknown value type \"+t),Module.NBind.bind_value(t,e),_defineHidden(_nbind.typeNameTbl[t].proto.prototype.__nbindValueConstructor)(e.prototype,\"__nbindValueConstructor\")}Module._nbind_value=_nbind_value;function __nbind_get_value_object(t,e){var r=_nbind.popValue(t);if(!r.fromJS)throw new Error(\"Object \"+r+\" has no fromJS function\");r.fromJS(function(){r.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([e],arguments))})}function _emscripten_memcpy_big(t,e,r){return HEAPU8.set(HEAPU8.subarray(e,e+r),t),t}function __nbind_register_primitive(t,e,r){var o={flags:1024|r,id:t,ptrSize:e};_nbind.makeType(_nbind.constructType,o)}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],\"i8\",ALLOC_STATIC);function ___setErrNo(t){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=t),t}function _llvm_stacksave(){var t=_llvm_stacksave;return t.LLVM_SAVEDSTACKS||(t.LLVM_SAVEDSTACKS=[]),t.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),t.LLVM_SAVEDSTACKS.length-1}function ___syscall140(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.getStreamFromFD(),o=SYSCALLS.get(),a=SYSCALLS.get(),n=SYSCALLS.get(),u=SYSCALLS.get(),A=a;return FS.llseek(r,A,u),HEAP32[n>>2]=r.position,r.getdents&&A===0&&u===0&&(r.getdents=null),0}catch(p){return(typeof FS>\"u\"||!(p instanceof FS.ErrnoError))&&abort(p),-p.errno}}function ___syscall146(t,e){SYSCALLS.varargs=e;try{var r=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get(),n=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(E,I){var v=___syscall146.buffers[E];assert(v),I===0||I===10?((E===1?Module.print:Module.printErr)(UTF8ArrayToString(v,0)),v.length=0):v.push(I)});for(var u=0;u<a;u++){for(var A=HEAP32[o+u*8>>2],p=HEAP32[o+(u*8+4)>>2],h=0;h<p;h++)___syscall146.printChar(r,HEAPU8[A+h]);n+=p}return n}catch(E){return(typeof FS>\"u\"||!(E instanceof FS.ErrnoError))&&abort(E),-E.errno}}function __nbind_finish(){for(var t=0,e=_nbind.BindClass.list;t<e.length;t++){var r=e[t];r.finish()}}var ___dso_handle=STATICTOP;STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function t(){}return t.lalloc=function(e){e=e+7&-8;var r=HEAPU32[t.usedPtr];if(e>t.pageSize/2||e>t.pageSize-r){var o=_nbind.typeNameTbl.NBind.proto;return o.lalloc(e)}else return HEAPU32[t.usedPtr]=r+e,t.rootPtr+r},t.lreset=function(e,r){var o=HEAPU32[t.pagePtr];if(o){var a=_nbind.typeNameTbl.NBind.proto;a.lreset(e,r)}else HEAPU32[t.usedPtr]=e},t}();_nbind.Pool=Pool;function constructType(t,e){var r=t==10240?_nbind.makeTypeNameTbl[e.name]||_nbind.BindType:_nbind.makeTypeKindTbl[t],o=new r(e);return typeIdTbl[e.id]=o,_nbind.typeNameTbl[e.name]=o,o}_nbind.constructType=constructType;function getType(t){return typeIdTbl[t]}_nbind.getType=getType;function queryType(t){var e=HEAPU8[t],r=_nbind.structureList[e][1];t/=4,r<0&&(++t,r=HEAPU32[t]+1);var o=Array.prototype.slice.call(HEAPU32.subarray(t+1,t+1+r));return e==9&&(o=[o[0],o.slice(1)]),{paramList:o,placeholderFlag:e}}_nbind.queryType=queryType;function getTypes(t,e){return t.map(function(r){return typeof r==\"number\"?_nbind.getComplexType(r,constructType,getType,queryType,e):_nbind.typeNameTbl[r]})}_nbind.getTypes=getTypes;function readTypeIdList(t,e){return Array.prototype.slice.call(HEAPU32,t/4,t/4+e)}_nbind.readTypeIdList=readTypeIdList;function readAsciiString(t){for(var e=t;HEAPU8[e++];);return String.fromCharCode.apply(\"\",HEAPU8.subarray(t,e-1))}_nbind.readAsciiString=readAsciiString;function readPolicyList(t){var e={};if(t)for(;;){var r=HEAPU32[t/4];if(!r)break;e[readAsciiString(r)]=!0,t+=4}return e}_nbind.readPolicyList=readPolicyList;function getDynCall(t,e){var r={float32_t:\"d\",float64_t:\"d\",int64_t:\"d\",uint64_t:\"d\",void:\"v\"},o=t.map(function(n){return r[n.name]||\"i\"}).join(\"\"),a=Module[\"dynCall_\"+o];if(!a)throw new Error(\"dynCall_\"+o+\" not found for \"+e+\"(\"+t.map(function(n){return n.name}).join(\", \")+\")\");return a}_nbind.getDynCall=getDynCall;function addMethod(t,e,r,o){var a=t[e];t.hasOwnProperty(e)&&a?((a.arity||a.arity===0)&&(a=_nbind.makeOverloader(a,a.arity),t[e]=a),a.addMethod(r,o)):(r.arity=o,t[e]=r)}_nbind.addMethod=addMethod;function throwError(t){throw new Error(t)}_nbind.throwError=throwError,_nbind.bigEndian=!1,_a=_typeModule(_typeModule),_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.heap=HEAPU32,r.ptrSize=4,r}return e.prototype.needsWireRead=function(r){return!!this.wireRead||!!this.makeWireRead},e.prototype.needsWireWrite=function(r){return!!this.wireWrite||!!this.makeWireWrite},e}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this,a=r.flags&32?{32:HEAPF32,64:HEAPF64}:r.flags&8?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return o.heap=a[r.ptrSize*8],o.ptrSize=r.ptrSize,o}return e.prototype.needsWireWrite=function(r){return!!r&&!!r.Strict},e.prototype.makeWireWrite=function(r,o){return o&&o.Strict&&function(a){if(typeof a==\"number\")return a;throw new Error(\"Type mismatch\")}},e}(BindType);_nbind.PrimitiveType=PrimitiveType;function pushCString(t,e){if(t==null){if(e&&e.Nullable)return 0;throw new Error(\"Type mismatch\")}if(e&&e.Strict){if(typeof t!=\"string\")throw new Error(\"Type mismatch\")}else t=t.toString();var r=Module.lengthBytesUTF8(t)+1,o=_nbind.Pool.lalloc(r);return Module.stringToUTF8Array(t,HEAPU8,o,r),o}_nbind.pushCString=pushCString;function popCString(t){return t===0?null:Module.Pointer_stringify(t)}_nbind.popCString=popCString;var CStringType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popCString,r.wireWrite=pushCString,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushCString(a,o)}},e}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=function(o){return!!o},r}return e.prototype.needsWireWrite=function(r){return!!r&&!!r.Strict},e.prototype.makeWireRead=function(r){return\"!!(\"+r+\")\"},e.prototype.makeWireWrite=function(r,o){return o&&o.Strict&&function(a){if(typeof a==\"boolean\")return a;throw new Error(\"Type mismatch\")}||r},e}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function t(){}return t.prototype.persist=function(){this.__nbindState|=1},t}();_nbind.Wrapper=Wrapper;function makeBound(t,e){var r=function(o){__extends(a,o);function a(n,u,A,p){var h=o.call(this)||this;if(!(h instanceof a))return new(Function.prototype.bind.apply(a,Array.prototype.concat.apply([null],arguments)));var E=u,I=A,v=p;if(n!==_nbind.ptrMarker){var x=h.__nbindConstructor.apply(h,arguments);E=4608,v=HEAPU32[x/4],I=HEAPU32[x/4+1]}var C={configurable:!0,enumerable:!1,value:null,writable:!1},R={__nbindFlags:E,__nbindPtr:I};v&&(R.__nbindShared=v,_nbind.mark(h));for(var L=0,U=Object.keys(R);L<U.length;L++){var J=U[L];C.value=R[J],Object.defineProperty(h,J,C)}return _defineHidden(0)(h,\"__nbindState\"),h}return a.prototype.free=function(){e.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,\"__nbindShared\"),disableMember(this,\"__nbindPtr\")},a}(Wrapper);return __decorate([_defineHidden()],r.prototype,\"__nbindConstructor\",void 0),__decorate([_defineHidden()],r.prototype,\"__nbindValueConstructor\",void 0),__decorate([_defineHidden(t)],r.prototype,\"__nbindPolicies\",void 0),r}_nbind.makeBound=makeBound;function disableMember(t,e){function r(){throw new Error(\"Accessing deleted object\")}Object.defineProperty(t,e,{configurable:!1,enumerable:!1,get:r,set:r})}_nbind.ptrMarker={};var BindClass=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;return o.wireRead=function(a){return _nbind.popValue(a,o.ptrType)},o.wireWrite=function(a){return pushPointer(a,o.ptrType,!0)},o.pendingSuperCount=0,o.ready=!1,o.methodTbl={},r.paramList?(o.classType=r.paramList[0].classType,o.proto=o.classType.proto):o.classType=o,o}return e.prototype.makeBound=function(r){var o=_nbind.makeBound(r,this);return this.proto=o,this.ptrType.proto=o,o},e.prototype.addMethod=function(r){var o=this.methodTbl[r.name]||[];o.push(r),this.methodTbl[r.name]=o},e.prototype.registerMethods=function(r,o){for(var a,n=0,u=Object.keys(r.methodTbl);n<u.length;n++)for(var A=u[n],p=r.methodTbl[A],h=0,E=p;h<E.length;h++){var I=E[h],v=void 0,x=void 0;if(v=this.proto.prototype,!(o&&I.signatureType!=1))switch(I.signatureType){case 1:v=this.proto;case 5:x=_nbind.makeCaller(I),_nbind.addMethod(v,I.name,x,I.typeList.length-1);break;case 4:a=_nbind.makeMethodCaller(r.ptrType,I);break;case 3:Object.defineProperty(v,I.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(r.ptrType,I),set:a});break;case 2:x=_nbind.makeMethodCaller(r.ptrType,I),_nbind.addMethod(v,I.name,x,I.typeList.length-1);break;default:break}}},e.prototype.registerSuperMethods=function(r,o,a){if(!a[r.name]){a[r.name]=!0;for(var n=0,u,A=0,p=r.superIdList||[];A<p.length;A++){var h=p[A],E=_nbind.getType(h);n++<o||o<0?u=-1:u=0,this.registerSuperMethods(E,u,a)}this.registerMethods(r,o<0)}},e.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(a){return _nbind.getType(a).finish()});var r=this.proto;if(this.superList.length){var o=function(){this.constructor=r};o.prototype=this.superList[0].proto.prototype,r.prototype=new o}return r!=Module&&(r.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},e.prototype.upcastStep=function(r,o){if(r==this)return o;for(var a=0;a<this.superList.length;++a){var n=this.superList[a].upcastStep(r,_nbind.callUpcast(this.upcastList[a],o));if(n)return n}return 0},e}(_nbind.BindType);BindClass.list=[],_nbind.BindClass=BindClass;function popPointer(t,e){return t?new e.proto(_nbind.ptrMarker,e.flags,t):null}_nbind.popPointer=popPointer;function pushPointer(t,e,r){if(!(t instanceof _nbind.Wrapper)){if(r)return _nbind.pushValue(t);throw new Error(\"Type mismatch\")}var o=t.__nbindPtr,a=t.__nbindType.classType,n=e.classType;if(t instanceof e.proto)for(;a!=n;)o=_nbind.callUpcast(a.upcastList[0],o),a=a.superList[0];else if(o=a.upcastStep(n,o),!o)throw new Error(\"Type mismatch\");return o}_nbind.pushPointer=pushPointer;function pushMutablePointer(t,e){var r=pushPointer(t,e);if(t.__nbindFlags&1)throw new Error(\"Passing a const value as a non-const argument\");return r}var BindClassPtr=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;o.classType=r.paramList[0].classType,o.proto=o.classType.proto;var a=r.flags&1,n=(o.flags&896)==256&&r.flags&2,u=a?pushPointer:pushMutablePointer,A=n?_nbind.popValue:popPointer;return o.makeWireWrite=function(p,h){return h.Nullable?function(E){return E?u(E,o):0}:function(E){return u(E,o)}},o.wireRead=function(p){return A(p,o)},o.wireWrite=function(p){return u(p,o)},o}return e}(_nbind.BindType);_nbind.BindClassPtr=BindClassPtr;function popShared(t,e){var r=HEAPU32[t/4],o=HEAPU32[t/4+1];return o?new e.proto(_nbind.ptrMarker,e.flags,o,r):null}_nbind.popShared=popShared;function pushShared(t,e){if(!(t instanceof e.proto))throw new Error(\"Type mismatch\");return t.__nbindShared}function pushMutableShared(t,e){if(!(t instanceof e.proto))throw new Error(\"Type mismatch\");if(t.__nbindFlags&1)throw new Error(\"Passing a const value as a non-const argument\");return t.__nbindShared}var SharedClassPtr=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;o.readResources=[_nbind.resources.pool],o.classType=r.paramList[0].classType,o.proto=o.classType.proto;var a=r.flags&1,n=a?pushShared:pushMutableShared;return o.wireRead=function(u){return popShared(u,o)},o.wireWrite=function(u){return n(u,o)},o}return e}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function t(e){this.refCount=1,this.data=e}return t.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},t.prototype.reference=function(){++this.refCount},t.prototype.dereference=function(e){--this.refCount==0&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},t}();_nbind.External=External;function popExternal(t){var e=_nbind.externalList[t];return e.dereference(t),e.data}function pushExternal(t){var e=new External(t);return e.reference(),e.register()}var ExternalType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popExternal,r.wireWrite=pushExternal,r}return e}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=function(o){return typeof o!=\"function\"&&_nbind.throwError(\"Type mismatch\"),new _nbind.External(o).register()},r}return e}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(t){var e=firstFreeValue;return e?firstFreeValue=_nbind.valueList[e]:e=_nbind.valueList.length,_nbind.valueList[e]=t,e*2+1}_nbind.pushValue=pushValue;function popValue(t,e){if(t||_nbind.throwError(\"Value type JavaScript class is missing or not registered\"),t&1){t>>=1;var r=_nbind.valueList[t];return _nbind.valueList[t]=firstFreeValue,firstFreeValue=t,r}else{if(e)return _nbind.popShared(t,e);throw new Error(\"Invalid value slot \"+t)}}_nbind.popValue=popValue;var valueBase=18446744073709552e3;function push64(t){return typeof t==\"number\"?t:pushValue(t)*4096+valueBase}function pop64(t){return t<valueBase?t:popValue((t-valueBase)/4096)}var CreateValueType=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeWireWrite=function(r){return\"(_nbind.pushValue(new \"+r+\"))\"},e}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=push64,r.wireRead=pop64,r}return e}(_nbind.BindType);_nbind.Int64Type=Int64Type;function pushArray(t,e){if(!t)return 0;var r=t.length;if((e.size||e.size===0)&&r<e.size)throw new Error(\"Type mismatch\");var o=e.memberType.ptrSize,a=_nbind.Pool.lalloc(4+r*o);HEAPU32[a/4]=r;var n=e.memberType.heap,u=(a+4)/o,A=e.memberType.wireWrite,p=0;if(A)for(;p<r;)n[u++]=A(t[p++]);else for(;p<r;)n[u++]=t[p++];return a}_nbind.pushArray=pushArray;function popArray(t,e){if(t===0)return null;var r=HEAPU32[t/4],o=new Array(r),a=e.memberType.heap;t=(t+4)/e.memberType.ptrSize;var n=e.memberType.wireRead,u=0;if(n)for(;u<r;)o[u++]=n(a[t++]);else for(;u<r;)o[u++]=a[t++];return o}_nbind.popArray=popArray;var ArrayType=function(t){__extends(e,t);function e(r){var o=t.call(this,r)||this;return o.wireRead=function(a){return popArray(a,o)},o.wireWrite=function(a){return pushArray(a,o)},o.readResources=[_nbind.resources.pool],o.writeResources=[_nbind.resources.pool],o.memberType=r.paramList[0],r.paramList[1]&&(o.size=r.paramList[1]),o}return e}(_nbind.BindType);_nbind.ArrayType=ArrayType;function pushString(t,e){if(t==null)if(e&&e.Nullable)t=\"\";else throw new Error(\"Type mismatch\");if(e&&e.Strict){if(typeof t!=\"string\")throw new Error(\"Type mismatch\")}else t=t.toString();var r=Module.lengthBytesUTF8(t),o=_nbind.Pool.lalloc(4+r+1);return HEAPU32[o/4]=r,Module.stringToUTF8Array(t,HEAPU8,o+4,r+1),o}_nbind.pushString=pushString;function popString(t){if(t===0)return null;var e=HEAPU32[t/4];return Module.Pointer_stringify(t+4,e)}_nbind.popString=popString;var StringType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireRead=popString,r.wireWrite=pushString,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushString(a,o)}},e}(_nbind.BindType);_nbind.StringType=StringType;function makeArgList(t){return Array.apply(null,Array(t)).map(function(e,r){return\"a\"+(r+1)})}function anyNeedsWireWrite(t,e){return t.reduce(function(r,o){return r||o.needsWireWrite(e)},!1)}function anyNeedsWireRead(t,e){return t.reduce(function(r,o){return r||!!o.needsWireRead(e)},!1)}function makeWireRead(t,e,r,o){var a=t.length;return r.makeWireRead?r.makeWireRead(o,t,a):r.wireRead?(t[a]=r.wireRead,\"(convertParamList[\"+a+\"](\"+o+\"))\"):o}function makeWireWrite(t,e,r,o){var a,n=t.length;return r.makeWireWrite?a=r.makeWireWrite(o,e,t,n):a=r.wireWrite,a?typeof a==\"string\"?a:(t[n]=a,\"(convertParamList[\"+n+\"](\"+o+\"))\"):o}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,\"dynCall(\"+[prefix].concat(argList.map(function(t,e){return makeWireWrite(convertParamList,policyTbl,argTypeList[e],t)})).join(\",\")+\")\"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode=\"function(\"+argList.join(\",\")+\"){\"+(mask?\"this.__nbindFlags&mask&&err();\":\"\")+resourceSet.makeOpen()+\"var r=\"+callExpression+\";\"+resourceSet.makeClose()+\"return r;}\";return eval(\"(\"+sourceCode+\")\")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,\"_nbind.externalList[num].data(\"+argList.map(function(t,e){return makeWireRead(convertParamList,null,argTypeList[e],t)}).join(\",\")+\")\"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode=\"function(\"+[\"dummy\",\"num\"].concat(argList).join(\",\")+\"){\"+resourceSet.makeOpen()+\"var r=\"+callExpression+\";\"+resourceSet.makeClose()+\"return r;}\";return eval(\"(\"+sourceCode+\")\")}_nbind.buildJSCallerFunction=buildJSCallerFunction;function makeJSCaller(t){var e=t.length-1,r=_nbind.getTypes(t,\"callback\"),o=r[0],a=r.slice(1),n=anyNeedsWireRead(a,null),u=o.needsWireWrite(null);if(!u&&!n)switch(e){case 0:return function(A,p){return _nbind.externalList[p].data()};case 1:return function(A,p,h){return _nbind.externalList[p].data(h)};case 2:return function(A,p,h,E){return _nbind.externalList[p].data(h,E)};case 3:return function(A,p,h,E,I){return _nbind.externalList[p].data(h,E,I)};default:break}return buildJSCallerFunction(o,a)}_nbind.makeJSCaller=makeJSCaller;function makeMethodCaller(t,e){var r=e.typeList.length-1,o=e.typeList.slice(0);o.splice(1,0,\"uint32_t\",e.boundID);var a=_nbind.getTypes(o,e.title),n=a[0],u=a.slice(3),A=n.needsWireRead(e.policyTbl),p=anyNeedsWireWrite(u,e.policyTbl),h=e.ptr,E=e.num,I=_nbind.getDynCall(a,e.title),v=~e.flags&1;function x(){throw new Error(\"Calling a non-const method on a const object\")}if(!A&&!p)switch(r){case 0:return function(){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t))};case 1:return function(C){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C)};case 2:return function(C,R){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C,R)};case 3:return function(C,R,L){return this.__nbindFlags&v?x():I(h,E,_nbind.pushPointer(this,t),C,R,L)};default:break}return buildCallerFunction(I,t,h,E,e.policyTbl,p,\"ptr,num,pushPointer(this,ptrType)\",n,u,v,x)}_nbind.makeMethodCaller=makeMethodCaller;function makeCaller(t){var e=t.typeList.length-1,r=_nbind.getTypes(t.typeList,t.title),o=r[0],a=r.slice(1),n=o.needsWireRead(t.policyTbl),u=anyNeedsWireWrite(a,t.policyTbl),A=t.direct,p=t.ptr;if(t.direct&&!n&&!u){var h=_nbind.getDynCall(r,t.title);switch(e){case 0:return function(){return h(A)};case 1:return function(x){return h(A,x)};case 2:return function(x,C){return h(A,x,C)};case 3:return function(x,C,R){return h(A,x,C,R)};default:break}p=0}var E;if(p){var I=t.typeList.slice(0);I.splice(1,0,\"uint32_t\"),r=_nbind.getTypes(I,t.title),E=\"ptr,num\"}else p=A,E=\"ptr\";var v=_nbind.getDynCall(r,t.title);return buildCallerFunction(v,null,p,t.num,t.policyTbl,u,E,o,a)}_nbind.makeCaller=makeCaller;function makeOverloader(t,e){var r=[];function o(){return r[arguments.length].apply(this,arguments)}return o.addMethod=function(a,n){r[n]=a},o.addMethod(t,e),o}_nbind.makeOverloader=makeOverloader;var Resource=function(){function t(e,r){var o=this;this.makeOpen=function(){return Object.keys(o.openTbl).join(\"\")},this.makeClose=function(){return Object.keys(o.closeTbl).join(\"\")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),r&&(this.closeTbl[r]=!0)}return t.prototype.add=function(e){for(var r=0,o=Object.keys(e.openTbl);r<o.length;r++){var a=o[r];this.openTbl[a]=!0}for(var n=0,u=Object.keys(e.closeTbl);n<u.length;n++){var a=u[n];this.closeTbl[a]=!0}},t.prototype.remove=function(e){for(var r=0,o=Object.keys(e.openTbl);r<o.length;r++){var a=o[r];delete this.openTbl[a]}for(var n=0,u=Object.keys(e.closeTbl);n<u.length;n++){var a=u[n];delete this.closeTbl[a]}},t}();_nbind.Resource=Resource;function listResources(t,e){for(var r=new Resource,o=0,a=t;o<a.length;o++)for(var n=a[o],u=0,A=n.readResources||[];u<A.length;u++){var p=A[u];r.add(p)}for(var h=0,E=e;h<E.length;h++)for(var n=E[h],I=0,v=n.writeResources||[];I<v.length;I++){var p=v[I];r.add(p)}return r}_nbind.listResources=listResources,_nbind.resources={pool:new Resource(\"var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];\",\"_nbind.Pool.lreset(used,page);\")};var ExternalBuffer=function(t){__extends(e,t);function e(r,o){var a=t.call(this,r)||this;return a.ptr=o,a}return e.prototype.free=function(){_free(this.ptr)},e}(_nbind.External);function getBuffer(t){return t instanceof ArrayBuffer?new Uint8Array(t):t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pushBuffer(t,e){if(t==null&&e&&e.Nullable&&(t=[]),typeof t!=\"object\")throw new Error(\"Type mismatch\");var r=t,o=r.byteLength||r.length;if(!o&&o!==0&&r.byteLength!==0)throw new Error(\"Type mismatch\");var a=_nbind.Pool.lalloc(8),n=_malloc(o),u=a/4;return HEAPU32[u++]=o,HEAPU32[u++]=n,HEAPU32[u++]=new ExternalBuffer(t,n).register(),HEAPU8.set(getBuffer(t),n),a}var BufferType=function(t){__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.wireWrite=pushBuffer,r.readResources=[_nbind.resources.pool],r.writeResources=[_nbind.resources.pool],r}return e.prototype.makeWireWrite=function(r,o){return function(a){return pushBuffer(a,o)}},e}(_nbind.BindType);_nbind.BufferType=BufferType;function commitBuffer(t,e,r){var o=_nbind.externalList[t].data,a=Buffer;if(typeof Buffer!=\"function\"&&(a=function(){}),!(o instanceof Array)){var n=HEAPU8.subarray(e,e+r);if(o instanceof a){var u=void 0;typeof Buffer.from==\"function\"&&Buffer.from.length>=3?u=Buffer.from(n):u=new Buffer(n),u.copy(o)}else getBuffer(o).set(n)}}_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var t=0,e=dirtyList;t<e.length;t++){var r=e[t];r.__nbindState&3||r.free()}dirtyList=[],gcTimer=0}_nbind.mark=function(t){};function toggleLightGC(t){t?_nbind.mark=function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:_nbind.mark=function(e){}}_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function t(e,r,o){Module.printErr(\"Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead.\"),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,r,o)},Module.requestFullscreen=function t(e,r,o){Browser.requestFullscreen(e,r,o)},Module.requestAnimationFrame=function t(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function t(e,r,o){Browser.setCanvasSize(e,r,o)},Module.pauseMainLoop=function t(){Browser.mainLoop.pause()},Module.resumeMainLoop=function t(){Browser.mainLoop.resume()},Module.getUserMedia=function t(){Browser.getUserMedia()},Module.createContext=function t(e,r,o,a){return Browser.createContext(e,r,o,a)},ENVIRONMENT_IS_NODE?_emscripten_get_now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof dateNow<\"u\"?_emscripten_get_now=dateNow:typeof self==\"object\"&&self.performance&&typeof self.performance.now==\"function\"?_emscripten_get_now=function(){return self.performance.now()}:typeof performance==\"object\"&&typeof performance.now==\"function\"?_emscripten_get_now=function(){return performance.now()}:_emscripten_get_now=Date.now,__ATEXIT__.push(function(){var t=Module._fflush;t&&t(0);var e=___syscall146.printChar;if(!!e){var r=___syscall146.buffers;r[1].length&&e(1,10),r[2].length&&e(2,10)}}),DYNAMICTOP_PTR=allocate(1,\"i32\",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_viiiii(t,e,r,o,a,n){try{Module.dynCall_viiiii(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_vif(t,e,r){try{Module.dynCall_vif(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_vid(t,e,r){try{Module.dynCall_vid(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_fiff(t,e,r,o){try{return Module.dynCall_fiff(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_vi(t,e){try{Module.dynCall_vi(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_vii(t,e,r){try{Module.dynCall_vii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_ii(t,e){try{return Module.dynCall_ii(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_viddi(t,e,r,o,a){try{Module.dynCall_viddi(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}function invoke_vidd(t,e,r,o){try{Module.dynCall_vidd(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_iiii(t,e,r,o){try{return Module.dynCall_iiii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_diii(t,e,r,o){try{return Module.dynCall_diii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_di(t,e){try{return Module.dynCall_di(t,e)}catch(r){if(typeof r!=\"number\"&&r!==\"longjmp\")throw r;Module.setThrew(1,0)}}function invoke_iid(t,e,r){try{return Module.dynCall_iid(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_iii(t,e,r){try{return Module.dynCall_iii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_viiddi(t,e,r,o,a,n){try{Module.dynCall_viiddi(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_viiiiii(t,e,r,o,a,n,u){try{Module.dynCall_viiiiii(t,e,r,o,a,n,u)}catch(A){if(typeof A!=\"number\"&&A!==\"longjmp\")throw A;Module.setThrew(1,0)}}function invoke_dii(t,e,r){try{return Module.dynCall_dii(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_i(t){try{return Module.dynCall_i(t)}catch(e){if(typeof e!=\"number\"&&e!==\"longjmp\")throw e;Module.setThrew(1,0)}}function invoke_iiiiii(t,e,r,o,a,n){try{return Module.dynCall_iiiiii(t,e,r,o,a,n)}catch(u){if(typeof u!=\"number\"&&u!==\"longjmp\")throw u;Module.setThrew(1,0)}}function invoke_viiid(t,e,r,o,a){try{Module.dynCall_viiid(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}function invoke_viififi(t,e,r,o,a,n,u){try{Module.dynCall_viififi(t,e,r,o,a,n,u)}catch(A){if(typeof A!=\"number\"&&A!==\"longjmp\")throw A;Module.setThrew(1,0)}}function invoke_viii(t,e,r,o){try{Module.dynCall_viii(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_v(t){try{Module.dynCall_v(t)}catch(e){if(typeof e!=\"number\"&&e!==\"longjmp\")throw e;Module.setThrew(1,0)}}function invoke_viid(t,e,r,o){try{Module.dynCall_viid(t,e,r,o)}catch(a){if(typeof a!=\"number\"&&a!==\"longjmp\")throw a;Module.setThrew(1,0)}}function invoke_idd(t,e,r){try{return Module.dynCall_idd(t,e,r)}catch(o){if(typeof o!=\"number\"&&o!==\"longjmp\")throw o;Module.setThrew(1,0)}}function invoke_viiii(t,e,r,o,a){try{Module.dynCall_viiii(t,e,r,o,a)}catch(n){if(typeof n!=\"number\"&&n!==\"longjmp\")throw n;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_viiiii,invoke_vif,invoke_vid,invoke_fiff,invoke_vi,invoke_vii,invoke_ii,invoke_viddi,invoke_vidd,invoke_iiii,invoke_diii,invoke_di,invoke_iid,invoke_iii,invoke_viiddi,invoke_viiiiii,invoke_dii,invoke_i,invoke_iiiiii,invoke_viiid,invoke_viififi,invoke_viii,invoke_v,invoke_viid,invoke_idd,invoke_viiii,_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid,__nbind_reference_external,_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix,_typeModule,__nbind_register_pool,__decorate,_llvm_stackrestore,___cxa_atexit,__extends,__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing,__nbind_register_primitive,__nbind_register_type,_emscripten_memcpy_big,__nbind_register_function,___setErrNo,__nbind_register_class,__nbind_finish,_abort,_nbind_value,_llvm_stacksave,___syscall54,_defineHidden,_emscripten_set_main_loop,_emscripten_get_now,__nbind_register_callback_signature,_emscripten_asm_const_iiiiii,__nbind_free_external,_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi,___syscall6,_atexit,___syscall140,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8,___dso_handle};var asm=function(t,e,r){var o=new t.Int8Array(r),a=new t.Int16Array(r),n=new t.Int32Array(r),u=new t.Uint8Array(r),A=new t.Uint16Array(r),p=new t.Uint32Array(r),h=new t.Float32Array(r),E=new t.Float64Array(r),I=e.DYNAMICTOP_PTR|0,v=e.tempDoublePtr|0,x=e.ABORT|0,C=e.STACKTOP|0,R=e.STACK_MAX|0,L=e.cttz_i8|0,U=e.___dso_handle|0,J=0,te=0,ae=0,fe=0,ce=t.NaN,me=t.Infinity,he=0,Be=0,we=0,g=0,Ee=0,Se=0,le=t.Math.floor,ne=t.Math.abs,ee=t.Math.sqrt,Ie=t.Math.pow,Fe=t.Math.cos,At=t.Math.sin,H=t.Math.tan,at=t.Math.acos,Re=t.Math.asin,ke=t.Math.atan,xe=t.Math.atan2,He=t.Math.exp,Te=t.Math.log,Je=t.Math.ceil,qe=t.Math.imul,b=t.Math.min,w=t.Math.max,P=t.Math.clz32,y=t.Math.fround,F=e.abort,z=e.assert,X=e.enlargeMemory,Z=e.getTotalMemory,ie=e.abortOnCannotGrowMemory,Pe=e.invoke_viiiii,Ne=e.invoke_vif,ot=e.invoke_vid,dt=e.invoke_fiff,jt=e.invoke_vi,$t=e.invoke_vii,bt=e.invoke_ii,an=e.invoke_viddi,Qr=e.invoke_vidd,mr=e.invoke_iiii,br=e.invoke_diii,Wr=e.invoke_di,Kn=e.invoke_iid,Ns=e.invoke_iii,Ti=e.invoke_viiddi,ps=e.invoke_viiiiii,io=e.invoke_dii,Pi=e.invoke_i,Ls=e.invoke_iiiiii,so=e.invoke_viiid,cc=e.invoke_viififi,cu=e.invoke_viii,lp=e.invoke_v,cp=e.invoke_viid,Os=e.invoke_idd,Dn=e.invoke_viiii,oo=e._emscripten_asm_const_iiiii,Ms=e._emscripten_asm_const_iiidddddd,ml=e._emscripten_asm_const_iiiid,yl=e.__nbind_reference_external,ao=e._emscripten_asm_const_iiiiiiii,Vn=e._removeAccessorPrefix,On=e._typeModule,Ni=e.__nbind_register_pool,Mn=e.__decorate,_i=e._llvm_stackrestore,tr=e.___cxa_atexit,Oe=e.__extends,ii=e.__nbind_get_value_object,Ma=e.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,hr=e._emscripten_set_main_loop_timing,uc=e.__nbind_register_primitive,uu=e.__nbind_register_type,Ac=e._emscripten_memcpy_big,El=e.__nbind_register_function,DA=e.___setErrNo,Au=e.__nbind_register_class,Ce=e.__nbind_finish,Rt=e._abort,fc=e._nbind_value,Hi=e._llvm_stacksave,fu=e.___syscall54,Yt=e._defineHidden,Cl=e._emscripten_set_main_loop,SA=e._emscripten_get_now,up=e.__nbind_register_callback_signature,pc=e._emscripten_asm_const_iiiiii,PA=e.__nbind_free_external,Qn=e._emscripten_asm_const_iiii,hi=e._emscripten_asm_const_iiididi,hc=e.___syscall6,bA=e._atexit,sa=e.___syscall140,Li=e.___syscall146,_o=y(0);let Ze=y(0);function lo(s){s=s|0;var l=0;return l=C,C=C+s|0,C=C+15&-16,l|0}function gc(){return C|0}function pu(s){s=s|0,C=s}function qi(s,l){s=s|0,l=l|0,C=s,R=l}function hu(s,l){s=s|0,l=l|0,J||(J=s,te=l)}function xA(s){s=s|0,Se=s}function Ua(){return Se|0}function dc(){var s=0,l=0;Dr(8104,8,400)|0,Dr(8504,408,540)|0,s=9044,l=s+44|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));o[9088]=0,o[9089]=1,n[2273]=0,n[2274]=948,n[2275]=948,tr(17,8104,U|0)|0}function hs(s){s=s|0,pt(s+948|0)}function _t(s){return s=y(s),((Du(s)|0)&2147483647)>>>0>2139095040|0}function Fn(s,l,c){s=s|0,l=l|0,c=c|0;e:do if(n[s+(l<<3)+4>>2]|0)s=s+(l<<3)|0;else{if((l|2|0)==3&&n[s+60>>2]|0){s=s+56|0;break}switch(l|0){case 0:case 2:case 4:case 5:{if(n[s+52>>2]|0){s=s+48|0;break e}break}default:}if(n[s+68>>2]|0){s=s+64|0;break}else{s=(l|1|0)==5?948:c;break}}while(0);return s|0}function Ci(s){s=s|0;var l=0;return l=pD(1e3)|0,oa(s,(l|0)!=0,2456),n[2276]=(n[2276]|0)+1,Dr(l|0,8104,1e3)|0,o[s+2>>0]|0&&(n[l+4>>2]=2,n[l+12>>2]=4),n[l+976>>2]=s,l|0}function oa(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;d=C,C=C+16|0,f=d,l||(n[f>>2]=c,Eg(s,5,3197,f)),C=d}function co(){return Ci(956)|0}function Us(s){s=s|0;var l=0;return l=Kt(1e3)|0,aa(l,s),oa(n[s+976>>2]|0,1,2456),n[2276]=(n[2276]|0)+1,n[l+944>>2]=0,l|0}function aa(s,l){s=s|0,l=l|0;var c=0;Dr(s|0,l|0,948)|0,Rm(s+948|0,l+948|0),c=s+960|0,s=l+960|0,l=c+40|0;do n[c>>2]=n[s>>2],c=c+4|0,s=s+4|0;while((c|0)<(l|0))}function la(s){s=s|0;var l=0,c=0,f=0,d=0;if(l=s+944|0,c=n[l>>2]|0,c|0&&(Ho(c+948|0,s)|0,n[l>>2]=0),c=wi(s)|0,c|0){l=0;do n[(gs(s,l)|0)+944>>2]=0,l=l+1|0;while((l|0)!=(c|0))}c=s+948|0,f=n[c>>2]|0,d=s+952|0,l=n[d>>2]|0,(l|0)!=(f|0)&&(n[d>>2]=l+(~((l+-4-f|0)>>>2)<<2)),ds(c),hD(s),n[2276]=(n[2276]|0)+-1}function Ho(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0;f=n[s>>2]|0,k=s+4|0,c=n[k>>2]|0,m=c;e:do if((f|0)==(c|0))d=f,B=4;else for(s=f;;){if((n[s>>2]|0)==(l|0)){d=s,B=4;break e}if(s=s+4|0,(s|0)==(c|0)){s=0;break}}while(0);return(B|0)==4&&((d|0)!=(c|0)?(f=d+4|0,s=m-f|0,l=s>>2,l&&(Mw(d|0,f|0,s|0)|0,c=n[k>>2]|0),s=d+(l<<2)|0,(c|0)==(s|0)||(n[k>>2]=c+(~((c+-4-s|0)>>>2)<<2)),s=1):s=0),s|0}function wi(s){return s=s|0,(n[s+952>>2]|0)-(n[s+948>>2]|0)>>2|0}function gs(s,l){s=s|0,l=l|0;var c=0;return c=n[s+948>>2]|0,(n[s+952>>2]|0)-c>>2>>>0>l>>>0?s=n[c+(l<<2)>>2]|0:s=0,s|0}function ds(s){s=s|0;var l=0,c=0,f=0,d=0;f=C,C=C+32|0,l=f,d=n[s>>2]|0,c=(n[s+4>>2]|0)-d|0,((n[s+8>>2]|0)-d|0)>>>0>c>>>0&&(d=c>>2,Ip(l,d,d,s+8|0),Bg(s,l),_A(l)),C=f}function ms(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;M=wi(s)|0;do if(M|0){if((n[(gs(s,0)|0)+944>>2]|0)==(s|0)){if(!(Ho(s+948|0,l)|0))break;Dr(l+400|0,8504,540)|0,n[l+944>>2]=0,Le(s);break}B=n[(n[s+976>>2]|0)+12>>2]|0,k=s+948|0,Q=(B|0)==0,c=0,m=0;do f=n[(n[k>>2]|0)+(m<<2)>>2]|0,(f|0)==(l|0)?Le(s):(d=Us(f)|0,n[(n[k>>2]|0)+(c<<2)>>2]=d,n[d+944>>2]=s,Q||TR[B&15](f,d,s,c),c=c+1|0),m=m+1|0;while((m|0)!=(M|0));if(c>>>0<M>>>0){Q=s+948|0,k=s+952|0,B=c,c=n[k>>2]|0;do m=(n[Q>>2]|0)+(B<<2)|0,f=m+4|0,d=c-f|0,l=d>>2,l&&(Mw(m|0,f|0,d|0)|0,c=n[k>>2]|0),d=c,f=m+(l<<2)|0,(d|0)!=(f|0)&&(c=d+(~((d+-4-f|0)>>>2)<<2)|0,n[k>>2]=c),B=B+1|0;while((B|0)!=(M|0))}}while(0)}function _s(s){s=s|0;var l=0,c=0,f=0,d=0;Un(s,(wi(s)|0)==0,2491),Un(s,(n[s+944>>2]|0)==0,2545),l=s+948|0,c=n[l>>2]|0,f=s+952|0,d=n[f>>2]|0,(d|0)!=(c|0)&&(n[f>>2]=d+(~((d+-4-c|0)>>>2)<<2)),ds(l),l=s+976|0,c=n[l>>2]|0,Dr(s|0,8104,1e3)|0,o[c+2>>0]|0&&(n[s+4>>2]=2,n[s+12>>2]=4),n[l>>2]=c}function Un(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;d=C,C=C+16|0,f=d,l||(n[f>>2]=c,Ao(s,5,3197,f)),C=d}function Sn(){return n[2276]|0}function ys(){var s=0;return s=pD(20)|0,We((s|0)!=0,2592),n[2277]=(n[2277]|0)+1,n[s>>2]=n[239],n[s+4>>2]=n[240],n[s+8>>2]=n[241],n[s+12>>2]=n[242],n[s+16>>2]=n[243],s|0}function We(s,l){s=s|0,l=l|0;var c=0,f=0;f=C,C=C+16|0,c=f,s||(n[c>>2]=l,Ao(0,5,3197,c)),C=f}function tt(s){s=s|0,hD(s),n[2277]=(n[2277]|0)+-1}function It(s,l){s=s|0,l=l|0;var c=0;l?(Un(s,(wi(s)|0)==0,2629),c=1):(c=0,l=0),n[s+964>>2]=l,n[s+988>>2]=c}function nr(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,m=f+8|0,d=f+4|0,B=f,n[d>>2]=l,Un(s,(n[l+944>>2]|0)==0,2709),Un(s,(n[s+964>>2]|0)==0,2763),$(s),l=s+948|0,n[B>>2]=(n[l>>2]|0)+(c<<2),n[m>>2]=n[B>>2],ye(l,m,d)|0,n[(n[d>>2]|0)+944>>2]=s,Le(s),C=f}function $(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;if(c=wi(s)|0,c|0&&(n[(gs(s,0)|0)+944>>2]|0)!=(s|0)){f=n[(n[s+976>>2]|0)+12>>2]|0,d=s+948|0,m=(f|0)==0,l=0;do B=n[(n[d>>2]|0)+(l<<2)>>2]|0,k=Us(B)|0,n[(n[d>>2]|0)+(l<<2)>>2]=k,n[k+944>>2]=s,m||TR[f&15](B,k,s,l),l=l+1|0;while((l|0)!=(c|0))}}function ye(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0;et=C,C=C+64|0,j=et+52|0,k=et+48|0,se=et+28|0,Ge=et+24|0,Me=et+20|0,Qe=et,f=n[s>>2]|0,m=f,l=f+((n[l>>2]|0)-m>>2<<2)|0,f=s+4|0,d=n[f>>2]|0,B=s+8|0;do if(d>>>0<(n[B>>2]|0)>>>0){if((l|0)==(d|0)){n[l>>2]=n[c>>2],n[f>>2]=(n[f>>2]|0)+4;break}HA(s,l,d,l+4|0),l>>>0<=c>>>0&&(c=(n[f>>2]|0)>>>0>c>>>0?c+4|0:c),n[l>>2]=n[c>>2]}else{f=(d-m>>2)+1|0,d=N(s)|0,d>>>0<f>>>0&&zr(s),O=n[s>>2]|0,M=(n[B>>2]|0)-O|0,m=M>>1,Ip(Qe,M>>2>>>0<d>>>1>>>0?m>>>0<f>>>0?f:m:d,l-O>>2,s+8|0),O=Qe+8|0,f=n[O>>2]|0,m=Qe+12|0,M=n[m>>2]|0,B=M,Q=f;do if((f|0)==(M|0)){if(M=Qe+4|0,f=n[M>>2]|0,Xe=n[Qe>>2]|0,d=Xe,f>>>0<=Xe>>>0){f=B-d>>1,f=(f|0)==0?1:f,Ip(se,f,f>>>2,n[Qe+16>>2]|0),n[Ge>>2]=n[M>>2],n[Me>>2]=n[O>>2],n[k>>2]=n[Ge>>2],n[j>>2]=n[Me>>2],Dw(se,k,j),f=n[Qe>>2]|0,n[Qe>>2]=n[se>>2],n[se>>2]=f,f=se+4|0,Xe=n[M>>2]|0,n[M>>2]=n[f>>2],n[f>>2]=Xe,f=se+8|0,Xe=n[O>>2]|0,n[O>>2]=n[f>>2],n[f>>2]=Xe,f=se+12|0,Xe=n[m>>2]|0,n[m>>2]=n[f>>2],n[f>>2]=Xe,_A(se),f=n[O>>2]|0;break}m=f,B=((m-d>>2)+1|0)/-2|0,k=f+(B<<2)|0,d=Q-m|0,m=d>>2,m&&(Mw(k|0,f|0,d|0)|0,f=n[M>>2]|0),Xe=k+(m<<2)|0,n[O>>2]=Xe,n[M>>2]=f+(B<<2),f=Xe}while(0);n[f>>2]=n[c>>2],n[O>>2]=(n[O>>2]|0)+4,l=vg(s,Qe,l)|0,_A(Qe)}while(0);return C=et,l|0}function Le(s){s=s|0;var l=0;do{if(l=s+984|0,o[l>>0]|0)break;o[l>>0]=1,h[s+504>>2]=y(ce),s=n[s+944>>2]|0}while((s|0)!=0)}function pt(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ht(s){return s=s|0,n[s+944>>2]|0}function Tt(s){s=s|0,Un(s,(n[s+964>>2]|0)!=0,2832),Le(s)}function er(s){return s=s|0,(o[s+984>>0]|0)!=0|0}function $r(s,l){s=s|0,l=l|0,QUe(s,l,400)|0&&(Dr(s|0,l|0,400)|0,Le(s))}function ji(s){s=s|0;var l=Ze;return l=y(h[s+44>>2]),s=_t(l)|0,y(s?y(0):l)}function es(s){s=s|0;var l=Ze;return l=y(h[s+48>>2]),_t(l)|0&&(l=o[(n[s+976>>2]|0)+2>>0]|0?y(1):y(0)),y(l)}function bi(s,l){s=s|0,l=l|0,n[s+980>>2]=l}function qo(s){return s=s|0,n[s+980>>2]|0}function kA(s,l){s=s|0,l=l|0;var c=0;c=s+4|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function QA(s){return s=s|0,n[s+4>>2]|0}function Ap(s,l){s=s|0,l=l|0;var c=0;c=s+8|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function ig(s){return s=s|0,n[s+8>>2]|0}function gu(s,l){s=s|0,l=l|0;var c=0;c=s+12|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function sg(s){return s=s|0,n[s+12>>2]|0}function du(s,l){s=s|0,l=l|0;var c=0;c=s+16|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function uo(s){return s=s|0,n[s+16>>2]|0}function FA(s,l){s=s|0,l=l|0;var c=0;c=s+20|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function mc(s){return s=s|0,n[s+20>>2]|0}function ca(s,l){s=s|0,l=l|0;var c=0;c=s+24|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function og(s){return s=s|0,n[s+24>>2]|0}function yc(s,l){s=s|0,l=l|0;var c=0;c=s+28|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function Pm(s){return s=s|0,n[s+28>>2]|0}function ag(s,l){s=s|0,l=l|0;var c=0;c=s+32|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function $n(s){return s=s|0,n[s+32>>2]|0}function fp(s,l){s=s|0,l=l|0;var c=0;c=s+36|0,(n[c>>2]|0)!=(l|0)&&(n[c>>2]=l,Le(s))}function lg(s){return s=s|0,n[s+36>>2]|0}function RA(s,l){s=s|0,l=y(l);var c=0;c=s+40|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Hs(s,l){s=s|0,l=y(l);var c=0;c=s+44|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function mu(s,l){s=s|0,l=y(l);var c=0;c=s+48|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Ha(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+52|0,d=s+56|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Gi(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+52|0,c=s+56|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function ua(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+52|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function yu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+132+(l<<3)|0,l=s+132+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Es(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+132+(l<<3)|0,l=s+132+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Ec(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+132+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function Cc(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+60+(l<<3)|0,l=s+60+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function G(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+60+(l<<3)|0,l=s+60+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function Dt(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+60+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function wl(s,l){s=s|0,l=l|0;var c=0;c=s+60+(l<<3)+4|0,(n[c>>2]|0)!=3&&(h[s+60+(l<<3)>>2]=y(ce),n[c>>2]=3,Le(s))}function xi(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+204+(l<<3)|0,l=s+204+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function wc(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=m?0:2,d=s+204+(l<<3)|0,l=s+204+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function ct(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=l+204+(c<<3)|0,l=n[f+4>>2]|0,c=s,n[c>>2]=n[f>>2],n[c+4>>2]=l}function Eu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0,m=0;m=_t(c)|0,f=(m^1)&1,d=s+276+(l<<3)|0,l=s+276+(l<<3)+4|0,m|y(h[d>>2])==c&&(n[l>>2]|0)==(f|0)||(h[d>>2]=c,n[l>>2]=f,Le(s))}function cg(s,l){return s=s|0,l=l|0,y(h[s+276+(l<<3)>>2])}function yw(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+348|0,d=s+352|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function TA(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+348|0,c=s+352|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function pp(s){s=s|0;var l=0;l=s+352|0,(n[l>>2]|0)!=3&&(h[s+348>>2]=y(ce),n[l>>2]=3,Le(s))}function Br(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+348|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Cs(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+356|0,d=s+360|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function ug(s,l){s=s|0,l=y(l);var c=0,f=0;f=s+356|0,c=s+360|0,y(h[f>>2])==l&&(n[c>>2]|0)==2||(h[f>>2]=l,f=_t(l)|0,n[c>>2]=f?3:2,Le(s))}function Ag(s){s=s|0;var l=0;l=s+360|0,(n[l>>2]|0)!=3&&(h[s+356>>2]=y(ce),n[l>>2]=3,Le(s))}function fg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+356|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function hp(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+364|0,d=s+368|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ic(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+364|0,d=s+368|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ct(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+364|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function bm(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+372|0,d=s+376|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function pg(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+372|0,d=s+376|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function hg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+372|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Cu(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+380|0,d=s+384|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function xm(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+380|0,d=s+384|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function gg(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+380|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function wu(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=(m^1)&1,f=s+388|0,d=s+392|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function Ew(s,l){s=s|0,l=y(l);var c=0,f=0,d=0,m=0;m=_t(l)|0,c=m?0:2,f=s+388|0,d=s+392|0,m|y(h[f>>2])==l&&(n[d>>2]|0)==(c|0)||(h[f>>2]=l,n[d>>2]=c,Le(s))}function km(s,l){s=s|0,l=l|0;var c=0,f=0;f=l+388|0,c=n[f+4>>2]|0,l=s,n[l>>2]=n[f>>2],n[l+4>>2]=c}function Aa(s,l){s=s|0,l=y(l);var c=0;c=s+396|0,y(h[c>>2])!=l&&(h[c>>2]=l,Le(s))}function Bc(s){return s=s|0,y(h[s+396>>2])}function Il(s){return s=s|0,y(h[s+400>>2])}function Iu(s){return s=s|0,y(h[s+404>>2])}function dg(s){return s=s|0,y(h[s+408>>2])}function NA(s){return s=s|0,y(h[s+412>>2])}function gp(s){return s=s|0,y(h[s+416>>2])}function qa(s){return s=s|0,y(h[s+420>>2])}function mg(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+424+(l<<2)>>2])}function dp(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+448+(l<<2)>>2])}function jo(s,l){switch(s=s|0,l=l|0,Un(s,(l|0)<6,2918),l|0){case 0:{l=(n[s+496>>2]|0)==2?5:4;break}case 2:{l=(n[s+496>>2]|0)==2?4:5;break}default:}return y(h[s+472+(l<<2)>>2])}function ws(s,l){s=s|0,l=l|0;var c=0,f=Ze;return c=n[s+4>>2]|0,(c|0)==(n[l+4>>2]|0)?c?(f=y(h[s>>2]),s=y(ne(y(f-y(h[l>>2]))))<y(999999974e-13)):s=1:s=0,s|0}function Ii(s,l){s=y(s),l=y(l);var c=0;return _t(s)|0?c=_t(l)|0:c=y(ne(y(s-l)))<y(999999974e-13),c|0}function Qm(s,l){s=s|0,l=l|0,Fm(s,l)}function Fm(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c+4|0,n[f>>2]=0,n[f+4>>2]=0,n[f+8>>2]=0,Ma(f|0,s|0,l|0,0),Ao(s,3,(o[f+11>>0]|0)<0?n[f>>2]|0:f,c),e3e(f),C=c}function Go(s,l,c,f){s=y(s),l=y(l),c=c|0,f=f|0;var d=Ze;s=y(s*l),d=y(bR(s,y(1)));do if(Ii(d,y(0))|0)s=y(s-d);else{if(s=y(s-d),Ii(d,y(1))|0){s=y(s+y(1));break}if(c){s=y(s+y(1));break}f||(d>y(.5)?d=y(1):(f=Ii(d,y(.5))|0,d=y(f?1:0)),s=y(s+d))}while(0);return y(s/l)}function LA(s,l,c,f,d,m,B,k,Q,M,O,j,se){s=s|0,l=y(l),c=c|0,f=y(f),d=d|0,m=y(m),B=B|0,k=y(k),Q=y(Q),M=y(M),O=y(O),j=y(j),se=se|0;var Ge=0,Me=Ze,Qe=Ze,et=Ze,Xe=Ze,lt=Ze,Ue=Ze;return Q<y(0)|M<y(0)?se=0:((se|0)!=0&&(Me=y(h[se+4>>2]),Me!=y(0))?(et=y(Go(l,Me,0,0)),Xe=y(Go(f,Me,0,0)),Qe=y(Go(m,Me,0,0)),Me=y(Go(k,Me,0,0))):(Qe=m,et=l,Me=k,Xe=f),(d|0)==(s|0)?Ge=Ii(Qe,et)|0:Ge=0,(B|0)==(c|0)?se=Ii(Me,Xe)|0:se=0,!Ge&&(lt=y(l-O),!(mp(s,lt,Q)|0))&&!(yp(s,lt,d,Q)|0)?Ge=yg(s,lt,d,m,Q)|0:Ge=1,!se&&(Ue=y(f-j),!(mp(c,Ue,M)|0))&&!(yp(c,Ue,B,M)|0)?se=yg(c,Ue,B,k,M)|0:se=1,se=Ge&se),se|0}function mp(s,l,c){return s=s|0,l=y(l),c=y(c),(s|0)==1?s=Ii(l,c)|0:s=0,s|0}function yp(s,l,c,f){return s=s|0,l=y(l),c=c|0,f=y(f),(s|0)==2&(c|0)==0?l>=f?s=1:s=Ii(l,f)|0:s=0,s|0}function yg(s,l,c,f,d){return s=s|0,l=y(l),c=c|0,f=y(f),d=y(d),(s|0)==2&(c|0)==2&f>l?d<=l?s=1:s=Ii(l,d)|0:s=0,s|0}function fa(s,l,c,f,d,m,B,k,Q,M,O){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=m|0,B=y(B),k=y(k),Q=Q|0,M=M|0,O=O|0;var j=0,se=0,Ge=0,Me=0,Qe=Ze,et=Ze,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=Ze,go=Ze,mo=Ze,yo=0,ya=0;ir=C,C=C+160|0,Xt=ir+152|0,or=ir+120|0,Mr=ir+104|0,Ue=ir+72|0,Me=ir+56|0,Lt=ir+8|0,lt=ir,je=(n[2279]|0)+1|0,n[2279]=je,Sr=s+984|0,(o[Sr>>0]|0)!=0&&(n[s+512>>2]|0)!=(n[2278]|0)?Xe=4:(n[s+516>>2]|0)==(f|0)?Nr=0:Xe=4,(Xe|0)==4&&(n[s+520>>2]=0,n[s+924>>2]=-1,n[s+928>>2]=-1,h[s+932>>2]=y(-1),h[s+936>>2]=y(-1),Nr=1);e:do if(n[s+964>>2]|0)if(Qe=y(ln(s,2,B)),et=y(ln(s,0,B)),j=s+916|0,mo=y(h[j>>2]),go=y(h[s+920>>2]),xn=y(h[s+932>>2]),LA(d,l,m,c,n[s+924>>2]|0,mo,n[s+928>>2]|0,go,xn,y(h[s+936>>2]),Qe,et,O)|0)Xe=22;else if(Ge=n[s+520>>2]|0,!Ge)Xe=21;else for(se=0;;){if(j=s+524+(se*24|0)|0,xn=y(h[j>>2]),go=y(h[s+524+(se*24|0)+4>>2]),mo=y(h[s+524+(se*24|0)+16>>2]),LA(d,l,m,c,n[s+524+(se*24|0)+8>>2]|0,xn,n[s+524+(se*24|0)+12>>2]|0,go,mo,y(h[s+524+(se*24|0)+20>>2]),Qe,et,O)|0){Xe=22;break e}if(se=se+1|0,se>>>0>=Ge>>>0){Xe=21;break}}else{if(Q){if(j=s+916|0,!(Ii(y(h[j>>2]),l)|0)){Xe=21;break}if(!(Ii(y(h[s+920>>2]),c)|0)){Xe=21;break}if((n[s+924>>2]|0)!=(d|0)){Xe=21;break}j=(n[s+928>>2]|0)==(m|0)?j:0,Xe=22;break}if(Ge=n[s+520>>2]|0,!Ge)Xe=21;else for(se=0;;){if(j=s+524+(se*24|0)|0,Ii(y(h[j>>2]),l)|0&&Ii(y(h[s+524+(se*24|0)+4>>2]),c)|0&&(n[s+524+(se*24|0)+8>>2]|0)==(d|0)&&(n[s+524+(se*24|0)+12>>2]|0)==(m|0)){Xe=22;break e}if(se=se+1|0,se>>>0>=Ge>>>0){Xe=21;break}}}while(0);do if((Xe|0)==21)o[11697]|0?(j=0,Xe=28):(j=0,Xe=31);else if((Xe|0)==22){if(se=(o[11697]|0)!=0,!((j|0)!=0&(Nr^1)))if(se){Xe=28;break}else{Xe=31;break}Me=j+16|0,n[s+908>>2]=n[Me>>2],Ge=j+20|0,n[s+912>>2]=n[Ge>>2],(o[11698]|0)==0|se^1||(n[lt>>2]=OA(je)|0,n[lt+4>>2]=je,Ao(s,4,2972,lt),se=n[s+972>>2]|0,se|0&&tf[se&127](s),d=ja(d,Q)|0,m=ja(m,Q)|0,ya=+y(h[Me>>2]),yo=+y(h[Ge>>2]),n[Lt>>2]=d,n[Lt+4>>2]=m,E[Lt+8>>3]=+l,E[Lt+16>>3]=+c,E[Lt+24>>3]=ya,E[Lt+32>>3]=yo,n[Lt+40>>2]=M,Ao(s,4,2989,Lt))}while(0);return(Xe|0)==28&&(se=OA(je)|0,n[Me>>2]=se,n[Me+4>>2]=je,n[Me+8>>2]=Nr?3047:11699,Ao(s,4,3038,Me),se=n[s+972>>2]|0,se|0&&tf[se&127](s),Lt=ja(d,Q)|0,Xe=ja(m,Q)|0,n[Ue>>2]=Lt,n[Ue+4>>2]=Xe,E[Ue+8>>3]=+l,E[Ue+16>>3]=+c,n[Ue+24>>2]=M,Ao(s,4,3049,Ue),Xe=31),(Xe|0)==31&&(si(s,l,c,f,d,m,B,k,Q,O),o[11697]|0&&(se=n[2279]|0,Lt=OA(se)|0,n[Mr>>2]=Lt,n[Mr+4>>2]=se,n[Mr+8>>2]=Nr?3047:11699,Ao(s,4,3083,Mr),se=n[s+972>>2]|0,se|0&&tf[se&127](s),Lt=ja(d,Q)|0,Mr=ja(m,Q)|0,yo=+y(h[s+908>>2]),ya=+y(h[s+912>>2]),n[or>>2]=Lt,n[or+4>>2]=Mr,E[or+8>>3]=yo,E[or+16>>3]=ya,n[or+24>>2]=M,Ao(s,4,3092,or)),n[s+516>>2]=f,j||(se=s+520|0,j=n[se>>2]|0,(j|0)==16&&(o[11697]|0&&Ao(s,4,3124,Xt),n[se>>2]=0,j=0),Q?j=s+916|0:(n[se>>2]=j+1,j=s+524+(j*24|0)|0),h[j>>2]=l,h[j+4>>2]=c,n[j+8>>2]=d,n[j+12>>2]=m,n[j+16>>2]=n[s+908>>2],n[j+20>>2]=n[s+912>>2],j=0)),Q&&(n[s+416>>2]=n[s+908>>2],n[s+420>>2]=n[s+912>>2],o[s+985>>0]=1,o[Sr>>0]=0),n[2279]=(n[2279]|0)+-1,n[s+512>>2]=n[2278],C=ir,Nr|(j|0)==0|0}function ln(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(K(s,l,c)),y(f+y(re(s,l,c)))}function Ao(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=C,C=C+16|0,d=m,n[d>>2]=f,s?f=n[s+976>>2]|0:f=0,Cg(f,s,l,c,d),C=m}function OA(s){return s=s|0,(s>>>0>60?3201:3201+(60-s)|0)|0}function ja(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+32|0,c=d+12|0,f=d,n[c>>2]=n[254],n[c+4>>2]=n[255],n[c+8>>2]=n[256],n[f>>2]=n[257],n[f+4>>2]=n[258],n[f+8>>2]=n[259],(s|0)>2?s=11699:s=n[(l?f:c)+(s<<2)>>2]|0,C=d,s|0}function si(s,l,c,f,d,m,B,k,Q,M){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=m|0,B=y(B),k=y(k),Q=Q|0,M=M|0;var O=0,j=0,se=0,Ge=0,Me=Ze,Qe=Ze,et=Ze,Xe=Ze,lt=Ze,Ue=Ze,je=Ze,Lt=0,Mr=0,or=0,Xt=Ze,Sr=Ze,Nr=0,ir=Ze,xn=0,go=0,mo=0,yo=0,ya=0,Fp=0,Rp=0,bl=0,Tp=0,Fu=0,Ru=0,Np=0,Lp=0,Op=0,Xr=0,xl=0,Mp=0,xc=0,Up=Ze,_p=Ze,Tu=Ze,Nu=Ze,kc=Ze,js=0,za=0,Wo=0,kl=0,nf=0,sf=Ze,Lu=Ze,of=Ze,af=Ze,Gs=Ze,vs=Ze,Ql=0,Rn=Ze,lf=Ze,Eo=Ze,Qc=Ze,Co=Ze,Fc=Ze,cf=0,uf=0,Rc=Ze,Ys=Ze,Fl=0,Af=0,ff=0,pf=0,xr=Ze,Jn=0,Ds=0,wo=0,Ws=0,Rr=0,ur=0,Rl=0,Jt=Ze,hf=0,li=0;Rl=C,C=C+16|0,js=Rl+12|0,za=Rl+8|0,Wo=Rl+4|0,kl=Rl,Un(s,(d|0)==0|(_t(l)|0)^1,3326),Un(s,(m|0)==0|(_t(c)|0)^1,3406),Ds=mt(s,f)|0,n[s+496>>2]=Ds,Rr=fr(2,Ds)|0,ur=fr(0,Ds)|0,h[s+440>>2]=y(K(s,Rr,B)),h[s+444>>2]=y(re(s,Rr,B)),h[s+428>>2]=y(K(s,ur,B)),h[s+436>>2]=y(re(s,ur,B)),h[s+464>>2]=y(Cr(s,Rr)),h[s+468>>2]=y(yn(s,Rr)),h[s+452>>2]=y(Cr(s,ur)),h[s+460>>2]=y(yn(s,ur)),h[s+488>>2]=y(oi(s,Rr,B)),h[s+492>>2]=y(Oi(s,Rr,B)),h[s+476>>2]=y(oi(s,ur,B)),h[s+484>>2]=y(Oi(s,ur,B));do if(n[s+964>>2]|0)Ig(s,l,c,d,m,B,k);else{if(wo=s+948|0,Ws=(n[s+952>>2]|0)-(n[wo>>2]|0)>>2,!Ws){Gv(s,l,c,d,m,B,k);break}if(!Q&&Yv(s,l,c,d,m,B,k)|0)break;$(s),xl=s+508|0,o[xl>>0]=0,Rr=fr(n[s+4>>2]|0,Ds)|0,ur=ww(Rr,Ds)|0,Jn=pe(Rr)|0,Mp=n[s+8>>2]|0,Af=s+28|0,xc=(n[Af>>2]|0)!=0,Co=Jn?B:k,Rc=Jn?k:B,Up=y(Cp(s,Rr,B)),_p=y(Iw(s,Rr,B)),Me=y(Cp(s,ur,B)),Fc=y(En(s,Rr,B)),Ys=y(En(s,ur,B)),or=Jn?d:m,Fl=Jn?m:d,xr=Jn?Fc:Ys,lt=Jn?Ys:Fc,Qc=y(ln(s,2,B)),Xe=y(ln(s,0,B)),Qe=y(y(Gr(s+364|0,B))-xr),et=y(y(Gr(s+380|0,B))-xr),Ue=y(y(Gr(s+372|0,k))-lt),je=y(y(Gr(s+388|0,k))-lt),Tu=Jn?Qe:Ue,Nu=Jn?et:je,Qc=y(l-Qc),l=y(Qc-xr),_t(l)|0?xr=l:xr=y(_n(y(Tg(l,et)),Qe)),lf=y(c-Xe),l=y(lf-lt),_t(l)|0?Eo=l:Eo=y(_n(y(Tg(l,je)),Ue)),Qe=Jn?xr:Eo,Rn=Jn?Eo:xr;e:do if((or|0)==1)for(f=0,j=0;;){if(O=gs(s,j)|0,!f)y(rs(O))>y(0)&&y(qs(O))>y(0)?f=O:f=0;else if(Tm(O)|0){Ge=0;break e}if(j=j+1|0,j>>>0>=Ws>>>0){Ge=f;break}}else Ge=0;while(0);Lt=Ge+500|0,Mr=Ge+504|0,f=0,O=0,l=y(0),se=0;do{if(j=n[(n[wo>>2]|0)+(se<<2)>>2]|0,(n[j+36>>2]|0)==1)Bu(j),o[j+985>>0]=1,o[j+984>>0]=0;else{Bl(j),Q&&Ep(j,mt(j,Ds)|0,Qe,Rn,xr);do if((n[j+24>>2]|0)!=1)if((j|0)==(Ge|0)){n[Lt>>2]=n[2278],h[Mr>>2]=y(0);break}else{Nm(s,j,xr,d,Eo,xr,Eo,m,Ds,M);break}else O|0&&(n[O+960>>2]=j),n[j+960>>2]=0,O=j,f=(f|0)==0?j:f;while(0);vs=y(h[j+504>>2]),l=y(l+y(vs+y(ln(j,Rr,xr))))}se=se+1|0}while((se|0)!=(Ws|0));for(mo=l>Qe,Ql=xc&((or|0)==2&mo)?1:or,xn=(Fl|0)==1,ya=xn&(Q^1),Fp=(Ql|0)==1,Rp=(Ql|0)==2,bl=976+(Rr<<2)|0,Tp=(Fl|2|0)==2,Op=xn&(xc^1),Fu=1040+(ur<<2)|0,Ru=1040+(Rr<<2)|0,Np=976+(ur<<2)|0,Lp=(Fl|0)!=1,mo=xc&((or|0)!=0&mo),go=s+976|0,xn=xn^1,l=Qe,Nr=0,yo=0,vs=y(0),kc=y(0);;){e:do if(Nr>>>0<Ws>>>0)for(Mr=n[wo>>2]|0,se=0,je=y(0),Ue=y(0),et=y(0),Qe=y(0),j=0,O=0,Ge=Nr;;){if(Lt=n[Mr+(Ge<<2)>>2]|0,(n[Lt+36>>2]|0)!=1&&(n[Lt+940>>2]=yo,(n[Lt+24>>2]|0)!=1)){if(Xe=y(ln(Lt,Rr,xr)),Xr=n[bl>>2]|0,c=y(Gr(Lt+380+(Xr<<3)|0,Co)),lt=y(h[Lt+504>>2]),c=y(Tg(c,lt)),c=y(_n(y(Gr(Lt+364+(Xr<<3)|0,Co)),c)),xc&(se|0)!=0&y(Xe+y(Ue+c))>l){m=se,Xe=je,or=Ge;break e}Xe=y(Xe+c),c=y(Ue+Xe),Xe=y(je+Xe),Tm(Lt)|0&&(et=y(et+y(rs(Lt))),Qe=y(Qe-y(lt*y(qs(Lt))))),O|0&&(n[O+960>>2]=Lt),n[Lt+960>>2]=0,se=se+1|0,O=Lt,j=(j|0)==0?Lt:j}else Xe=je,c=Ue;if(Ge=Ge+1|0,Ge>>>0<Ws>>>0)je=Xe,Ue=c;else{m=se,or=Ge;break}}else m=0,Xe=y(0),et=y(0),Qe=y(0),j=0,or=Nr;while(0);Xr=et>y(0)&et<y(1),Xt=Xr?y(1):et,Xr=Qe>y(0)&Qe<y(1),je=Xr?y(1):Qe;do if(Fp)Xr=51;else if(Xe<Tu&((_t(Tu)|0)^1))l=Tu,Xr=51;else if(Xe>Nu&((_t(Nu)|0)^1))l=Nu,Xr=51;else if(o[(n[go>>2]|0)+3>>0]|0)Xr=51;else{if(Xt!=y(0)&&y(rs(s))!=y(0)){Xr=53;break}l=Xe,Xr=53}while(0);if((Xr|0)==51&&(Xr=0,_t(l)|0?Xr=53:(Sr=y(l-Xe),ir=l)),(Xr|0)==53&&(Xr=0,Xe<y(0)?(Sr=y(-Xe),ir=l):(Sr=y(0),ir=l)),!ya&&(nf=(j|0)==0,!nf)){se=n[bl>>2]|0,Ge=Sr<y(0),lt=y(Sr/je),Lt=Sr>y(0),Ue=y(Sr/Xt),et=y(0),Xe=y(0),l=y(0),O=j;do c=y(Gr(O+380+(se<<3)|0,Co)),Qe=y(Gr(O+364+(se<<3)|0,Co)),Qe=y(Tg(c,y(_n(Qe,y(h[O+504>>2]))))),Ge?(c=y(Qe*y(qs(O))),c!=y(-0)&&(Jt=y(Qe-y(lt*c)),sf=y(Bi(O,Rr,Jt,ir,xr)),Jt!=sf)&&(et=y(et-y(sf-Qe)),l=y(l+c))):Lt&&(Lu=y(rs(O)),Lu!=y(0))&&(Jt=y(Qe+y(Ue*Lu)),of=y(Bi(O,Rr,Jt,ir,xr)),Jt!=of)&&(et=y(et-y(of-Qe)),Xe=y(Xe-Lu)),O=n[O+960>>2]|0;while((O|0)!=0);if(l=y(je+l),Qe=y(Sr+et),nf)l=y(0);else{lt=y(Xt+Xe),Ge=n[bl>>2]|0,Lt=Qe<y(0),Mr=l==y(0),Ue=y(Qe/l),se=Qe>y(0),lt=y(Qe/lt),l=y(0);do{Jt=y(Gr(j+380+(Ge<<3)|0,Co)),et=y(Gr(j+364+(Ge<<3)|0,Co)),et=y(Tg(Jt,y(_n(et,y(h[j+504>>2]))))),Lt?(Jt=y(et*y(qs(j))),Qe=y(-Jt),Jt!=y(-0)?(Jt=y(Ue*Qe),Qe=y(Bi(j,Rr,y(et+(Mr?Qe:Jt)),ir,xr))):Qe=et):se&&(af=y(rs(j)),af!=y(0))?Qe=y(Bi(j,Rr,y(et+y(lt*af)),ir,xr)):Qe=et,l=y(l-y(Qe-et)),Xe=y(ln(j,Rr,xr)),c=y(ln(j,ur,xr)),Qe=y(Qe+Xe),h[za>>2]=Qe,n[kl>>2]=1,et=y(h[j+396>>2]);e:do if(_t(et)|0){O=_t(Rn)|0;do if(!O){if(mo|(ts(j,ur,Rn)|0|xn)||(ha(s,j)|0)!=4||(n[(vl(j,ur)|0)+4>>2]|0)==3||(n[(Sc(j,ur)|0)+4>>2]|0)==3)break;h[js>>2]=Rn,n[Wo>>2]=1;break e}while(0);if(ts(j,ur,Rn)|0){O=n[j+992+(n[Np>>2]<<2)>>2]|0,Jt=y(c+y(Gr(O,Rn))),h[js>>2]=Jt,O=Lp&(n[O+4>>2]|0)==2,n[Wo>>2]=((_t(Jt)|0|O)^1)&1;break}else{h[js>>2]=Rn,n[Wo>>2]=O?0:2;break}}else Jt=y(Qe-Xe),Xt=y(Jt/et),Jt=y(et*Jt),n[Wo>>2]=1,h[js>>2]=y(c+(Jn?Xt:Jt));while(0);yr(j,Rr,ir,xr,kl,za),yr(j,ur,Rn,xr,Wo,js);do if(!(ts(j,ur,Rn)|0)&&(ha(s,j)|0)==4){if((n[(vl(j,ur)|0)+4>>2]|0)==3){O=0;break}O=(n[(Sc(j,ur)|0)+4>>2]|0)!=3}else O=0;while(0);Jt=y(h[za>>2]),Xt=y(h[js>>2]),hf=n[kl>>2]|0,li=n[Wo>>2]|0,fa(j,Jn?Jt:Xt,Jn?Xt:Jt,Ds,Jn?hf:li,Jn?li:hf,xr,Eo,Q&(O^1),3488,M)|0,o[xl>>0]=o[xl>>0]|o[j+508>>0],j=n[j+960>>2]|0}while((j|0)!=0)}}else l=y(0);if(l=y(Sr+l),li=l<y(0)&1,o[xl>>0]=li|u[xl>>0],Rp&l>y(0)?(O=n[bl>>2]|0,(n[s+364+(O<<3)+4>>2]|0)!=0&&(Gs=y(Gr(s+364+(O<<3)|0,Co)),Gs>=y(0))?Qe=y(_n(y(0),y(Gs-y(ir-l)))):Qe=y(0)):Qe=l,Lt=Nr>>>0<or>>>0,Lt){Ge=n[wo>>2]|0,se=Nr,O=0;do j=n[Ge+(se<<2)>>2]|0,n[j+24>>2]|0||(O=((n[(vl(j,Rr)|0)+4>>2]|0)==3&1)+O|0,O=O+((n[(Sc(j,Rr)|0)+4>>2]|0)==3&1)|0),se=se+1|0;while((se|0)!=(or|0));O?(Xe=y(0),c=y(0)):Xr=101}else Xr=101;e:do if((Xr|0)==101)switch(Xr=0,Mp|0){case 1:{O=0,Xe=y(Qe*y(.5)),c=y(0);break e}case 2:{O=0,Xe=Qe,c=y(0);break e}case 3:{if(m>>>0<=1){O=0,Xe=y(0),c=y(0);break e}c=y((m+-1|0)>>>0),O=0,Xe=y(0),c=y(y(_n(Qe,y(0)))/c);break e}case 5:{c=y(Qe/y((m+1|0)>>>0)),O=0,Xe=c;break e}case 4:{c=y(Qe/y(m>>>0)),O=0,Xe=y(c*y(.5));break e}default:{O=0,Xe=y(0),c=y(0);break e}}while(0);if(l=y(Up+Xe),Lt){et=y(Qe/y(O|0)),se=n[wo>>2]|0,j=Nr,Qe=y(0);do{O=n[se+(j<<2)>>2]|0;e:do if((n[O+36>>2]|0)!=1){switch(n[O+24>>2]|0){case 1:{if(gi(O,Rr)|0){if(!Q)break e;Jt=y(Or(O,Rr,ir)),Jt=y(Jt+y(Cr(s,Rr))),Jt=y(Jt+y(K(O,Rr,xr))),h[O+400+(n[Ru>>2]<<2)>>2]=Jt;break e}break}case 0:if(li=(n[(vl(O,Rr)|0)+4>>2]|0)==3,Jt=y(et+l),l=li?Jt:l,Q&&(li=O+400+(n[Ru>>2]<<2)|0,h[li>>2]=y(l+y(h[li>>2]))),li=(n[(Sc(O,Rr)|0)+4>>2]|0)==3,Jt=y(et+l),l=li?Jt:l,ya){Jt=y(c+y(ln(O,Rr,xr))),Qe=Rn,l=y(l+y(Jt+y(h[O+504>>2])));break e}else{l=y(l+y(c+y(ns(O,Rr,xr)))),Qe=y(_n(Qe,y(ns(O,ur,xr))));break e}default:}Q&&(Jt=y(Xe+y(Cr(s,Rr))),li=O+400+(n[Ru>>2]<<2)|0,h[li>>2]=y(Jt+y(h[li>>2])))}while(0);j=j+1|0}while((j|0)!=(or|0))}else Qe=y(0);if(c=y(_p+l),Tp?Xe=y(y(Bi(s,ur,y(Ys+Qe),Rc,B))-Ys):Xe=Rn,et=y(y(Bi(s,ur,y(Ys+(Op?Rn:Qe)),Rc,B))-Ys),Lt&Q){j=Nr;do{se=n[(n[wo>>2]|0)+(j<<2)>>2]|0;do if((n[se+36>>2]|0)!=1){if((n[se+24>>2]|0)==1){if(gi(se,ur)|0){if(Jt=y(Or(se,ur,Rn)),Jt=y(Jt+y(Cr(s,ur))),Jt=y(Jt+y(K(se,ur,xr))),O=n[Fu>>2]|0,h[se+400+(O<<2)>>2]=Jt,!(_t(Jt)|0))break}else O=n[Fu>>2]|0;Jt=y(Cr(s,ur)),h[se+400+(O<<2)>>2]=y(Jt+y(K(se,ur,xr)));break}O=ha(s,se)|0;do if((O|0)==4){if((n[(vl(se,ur)|0)+4>>2]|0)==3){Xr=139;break}if((n[(Sc(se,ur)|0)+4>>2]|0)==3){Xr=139;break}if(ts(se,ur,Rn)|0){l=Me;break}hf=n[se+908+(n[bl>>2]<<2)>>2]|0,n[js>>2]=hf,l=y(h[se+396>>2]),li=_t(l)|0,Qe=(n[v>>2]=hf,y(h[v>>2])),li?l=et:(Sr=y(ln(se,ur,xr)),Jt=y(Qe/l),l=y(l*Qe),l=y(Sr+(Jn?Jt:l))),h[za>>2]=l,h[js>>2]=y(y(ln(se,Rr,xr))+Qe),n[Wo>>2]=1,n[kl>>2]=1,yr(se,Rr,ir,xr,Wo,js),yr(se,ur,Rn,xr,kl,za),l=y(h[js>>2]),Sr=y(h[za>>2]),Jt=Jn?l:Sr,l=Jn?Sr:l,li=((_t(Jt)|0)^1)&1,fa(se,Jt,l,Ds,li,((_t(l)|0)^1)&1,xr,Eo,1,3493,M)|0,l=Me}else Xr=139;while(0);e:do if((Xr|0)==139){Xr=0,l=y(Xe-y(ns(se,ur,xr)));do if((n[(vl(se,ur)|0)+4>>2]|0)==3){if((n[(Sc(se,ur)|0)+4>>2]|0)!=3)break;l=y(Me+y(_n(y(0),y(l*y(.5)))));break e}while(0);if((n[(Sc(se,ur)|0)+4>>2]|0)==3){l=Me;break}if((n[(vl(se,ur)|0)+4>>2]|0)==3){l=y(Me+y(_n(y(0),l)));break}switch(O|0){case 1:{l=Me;break e}case 2:{l=y(Me+y(l*y(.5)));break e}default:{l=y(Me+l);break e}}}while(0);Jt=y(vs+l),li=se+400+(n[Fu>>2]<<2)|0,h[li>>2]=y(Jt+y(h[li>>2]))}while(0);j=j+1|0}while((j|0)!=(or|0))}if(vs=y(vs+et),kc=y(_n(kc,c)),m=yo+1|0,or>>>0>=Ws>>>0)break;l=ir,Nr=or,yo=m}do if(Q){if(O=m>>>0>1,!O&&!(Yi(s)|0))break;if(!(_t(Rn)|0)){l=y(Rn-vs);e:do switch(n[s+12>>2]|0){case 3:{Me=y(Me+l),Ue=y(0);break}case 2:{Me=y(Me+y(l*y(.5))),Ue=y(0);break}case 4:{Rn>vs?Ue=y(l/y(m>>>0)):Ue=y(0);break}case 7:if(Rn>vs){Me=y(Me+y(l/y(m<<1>>>0))),Ue=y(l/y(m>>>0)),Ue=O?Ue:y(0);break e}else{Me=y(Me+y(l*y(.5))),Ue=y(0);break e}case 6:{Ue=y(l/y(yo>>>0)),Ue=Rn>vs&O?Ue:y(0);break}default:Ue=y(0)}while(0);if(m|0)for(Lt=1040+(ur<<2)|0,Mr=976+(ur<<2)|0,Ge=0,j=0;;){e:do if(j>>>0<Ws>>>0)for(Qe=y(0),et=y(0),l=y(0),se=j;;){O=n[(n[wo>>2]|0)+(se<<2)>>2]|0;do if((n[O+36>>2]|0)!=1&&(n[O+24>>2]|0)==0){if((n[O+940>>2]|0)!=(Ge|0))break e;if(Lm(O,ur)|0&&(Jt=y(h[O+908+(n[Mr>>2]<<2)>>2]),l=y(_n(l,y(Jt+y(ln(O,ur,xr)))))),(ha(s,O)|0)!=5)break;Gs=y(Ya(O)),Gs=y(Gs+y(K(O,0,xr))),Jt=y(h[O+912>>2]),Jt=y(y(Jt+y(ln(O,0,xr)))-Gs),Gs=y(_n(et,Gs)),Jt=y(_n(Qe,Jt)),Qe=Jt,et=Gs,l=y(_n(l,y(Gs+Jt)))}while(0);if(O=se+1|0,O>>>0<Ws>>>0)se=O;else{se=O;break}}else et=y(0),l=y(0),se=j;while(0);if(lt=y(Ue+l),c=Me,Me=y(Me+lt),j>>>0<se>>>0){Xe=y(c+et),O=j;do{j=n[(n[wo>>2]|0)+(O<<2)>>2]|0;e:do if((n[j+36>>2]|0)!=1&&(n[j+24>>2]|0)==0)switch(ha(s,j)|0){case 1:{Jt=y(c+y(K(j,ur,xr))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 3:{Jt=y(y(Me-y(re(j,ur,xr)))-y(h[j+908+(n[Mr>>2]<<2)>>2])),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 2:{Jt=y(c+y(y(lt-y(h[j+908+(n[Mr>>2]<<2)>>2]))*y(.5))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt;break e}case 4:{if(Jt=y(c+y(K(j,ur,xr))),h[j+400+(n[Lt>>2]<<2)>>2]=Jt,ts(j,ur,Rn)|0||(Jn?(Qe=y(h[j+908>>2]),l=y(Qe+y(ln(j,Rr,xr))),et=lt):(et=y(h[j+912>>2]),et=y(et+y(ln(j,ur,xr))),l=lt,Qe=y(h[j+908>>2])),Ii(l,Qe)|0&&Ii(et,y(h[j+912>>2]))|0))break e;fa(j,l,et,Ds,1,1,xr,Eo,1,3501,M)|0;break e}case 5:{h[j+404>>2]=y(y(Xe-y(Ya(j)))+y(Or(j,0,Rn)));break e}default:break e}while(0);O=O+1|0}while((O|0)!=(se|0))}if(Ge=Ge+1|0,(Ge|0)==(m|0))break;j=se}}}while(0);if(h[s+908>>2]=y(Bi(s,2,Qc,B,B)),h[s+912>>2]=y(Bi(s,0,lf,k,B)),(Ql|0)!=0&&(cf=n[s+32>>2]|0,uf=(Ql|0)==2,!(uf&(cf|0)!=2))?uf&(cf|0)==2&&(l=y(Fc+ir),l=y(_n(y(Tg(l,y(MA(s,Rr,kc,Co)))),Fc)),Xr=198):(l=y(Bi(s,Rr,kc,Co,B)),Xr=198),(Xr|0)==198&&(h[s+908+(n[976+(Rr<<2)>>2]<<2)>>2]=l),(Fl|0)!=0&&(ff=n[s+32>>2]|0,pf=(Fl|0)==2,!(pf&(ff|0)!=2))?pf&(ff|0)==2&&(l=y(Ys+Rn),l=y(_n(y(Tg(l,y(MA(s,ur,y(Ys+vs),Rc)))),Ys)),Xr=204):(l=y(Bi(s,ur,y(Ys+vs),Rc,B)),Xr=204),(Xr|0)==204&&(h[s+908+(n[976+(ur<<2)>>2]<<2)>>2]=l),Q){if((n[Af>>2]|0)==2){j=976+(ur<<2)|0,se=1040+(ur<<2)|0,O=0;do Ge=gs(s,O)|0,n[Ge+24>>2]|0||(hf=n[j>>2]|0,Jt=y(h[s+908+(hf<<2)>>2]),li=Ge+400+(n[se>>2]<<2)|0,Jt=y(Jt-y(h[li>>2])),h[li>>2]=y(Jt-y(h[Ge+908+(hf<<2)>>2]))),O=O+1|0;while((O|0)!=(Ws|0))}if(f|0){O=Jn?Ql:d;do Om(s,f,xr,O,Eo,Ds,M),f=n[f+960>>2]|0;while((f|0)!=0)}if(O=(Rr|2|0)==3,j=(ur|2|0)==3,O|j){f=0;do se=n[(n[wo>>2]|0)+(f<<2)>>2]|0,(n[se+36>>2]|0)!=1&&(O&&wp(s,se,Rr),j&&wp(s,se,ur)),f=f+1|0;while((f|0)!=(Ws|0))}}}while(0);C=Rl}function pa(s,l){s=s|0,l=y(l);var c=0;oa(s,l>=y(0),3147),c=l==y(0),h[s+4>>2]=c?y(0):l}function vc(s,l,c,f){s=s|0,l=y(l),c=y(c),f=f|0;var d=Ze,m=Ze,B=0,k=0,Q=0;n[2278]=(n[2278]|0)+1,Bl(s),ts(s,2,l)|0?(d=y(Gr(n[s+992>>2]|0,l)),Q=1,d=y(d+y(ln(s,2,l)))):(d=y(Gr(s+380|0,l)),d>=y(0)?Q=2:(Q=((_t(l)|0)^1)&1,d=l)),ts(s,0,c)|0?(m=y(Gr(n[s+996>>2]|0,c)),k=1,m=y(m+y(ln(s,0,l)))):(m=y(Gr(s+388|0,c)),m>=y(0)?k=2:(k=((_t(c)|0)^1)&1,m=c)),B=s+976|0,fa(s,d,m,f,Q,k,l,c,1,3189,n[B>>2]|0)|0&&(Ep(s,n[s+496>>2]|0,l,c,l),Dc(s,y(h[(n[B>>2]|0)+4>>2]),y(0),y(0)),o[11696]|0)&&Qm(s,7)}function Bl(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;k=C,C=C+32|0,B=k+24|0,m=k+16|0,f=k+8|0,d=k,c=0;do l=s+380+(c<<3)|0,(n[s+380+(c<<3)+4>>2]|0)!=0&&(Q=l,M=n[Q+4>>2]|0,O=f,n[O>>2]=n[Q>>2],n[O+4>>2]=M,O=s+364+(c<<3)|0,M=n[O+4>>2]|0,Q=d,n[Q>>2]=n[O>>2],n[Q+4>>2]=M,n[m>>2]=n[f>>2],n[m+4>>2]=n[f+4>>2],n[B>>2]=n[d>>2],n[B+4>>2]=n[d+4>>2],ws(m,B)|0)||(l=s+348+(c<<3)|0),n[s+992+(c<<2)>>2]=l,c=c+1|0;while((c|0)!=2);C=k}function ts(s,l,c){s=s|0,l=l|0,c=y(c);var f=0;switch(s=n[s+992+(n[976+(l<<2)>>2]<<2)>>2]|0,n[s+4>>2]|0){case 0:case 3:{s=0;break}case 1:{y(h[s>>2])<y(0)?s=0:f=5;break}case 2:{y(h[s>>2])<y(0)?s=0:s=(_t(c)|0)^1;break}default:f=5}return(f|0)==5&&(s=1),s|0}function Gr(s,l){switch(s=s|0,l=y(l),n[s+4>>2]|0){case 2:{l=y(y(y(h[s>>2])*l)/y(100));break}case 1:{l=y(h[s>>2]);break}default:l=y(ce)}return y(l)}function Ep(s,l,c,f,d){s=s|0,l=l|0,c=y(c),f=y(f),d=y(d);var m=0,B=Ze;l=n[s+944>>2]|0?l:1,m=fr(n[s+4>>2]|0,l)|0,l=ww(m,l)|0,c=y(Mm(s,m,c)),f=y(Mm(s,l,f)),B=y(c+y(K(s,m,d))),h[s+400+(n[1040+(m<<2)>>2]<<2)>>2]=B,c=y(c+y(re(s,m,d))),h[s+400+(n[1e3+(m<<2)>>2]<<2)>>2]=c,c=y(f+y(K(s,l,d))),h[s+400+(n[1040+(l<<2)>>2]<<2)>>2]=c,d=y(f+y(re(s,l,d))),h[s+400+(n[1e3+(l<<2)>>2]<<2)>>2]=d}function Dc(s,l,c,f){s=s|0,l=y(l),c=y(c),f=y(f);var d=0,m=0,B=Ze,k=Ze,Q=0,M=0,O=Ze,j=0,se=Ze,Ge=Ze,Me=Ze,Qe=Ze;if(l!=y(0)&&(d=s+400|0,Qe=y(h[d>>2]),m=s+404|0,Me=y(h[m>>2]),j=s+416|0,Ge=y(h[j>>2]),M=s+420|0,B=y(h[M>>2]),se=y(Qe+c),O=y(Me+f),f=y(se+Ge),k=y(O+B),Q=(n[s+988>>2]|0)==1,h[d>>2]=y(Go(Qe,l,0,Q)),h[m>>2]=y(Go(Me,l,0,Q)),c=y(bR(y(Ge*l),y(1))),Ii(c,y(0))|0?m=0:m=(Ii(c,y(1))|0)^1,c=y(bR(y(B*l),y(1))),Ii(c,y(0))|0?d=0:d=(Ii(c,y(1))|0)^1,Qe=y(Go(f,l,Q&m,Q&(m^1))),h[j>>2]=y(Qe-y(Go(se,l,0,Q))),Qe=y(Go(k,l,Q&d,Q&(d^1))),h[M>>2]=y(Qe-y(Go(O,l,0,Q))),m=(n[s+952>>2]|0)-(n[s+948>>2]|0)>>2,m|0)){d=0;do Dc(gs(s,d)|0,l,se,O),d=d+1|0;while((d|0)!=(m|0))}}function Cw(s,l,c,f,d){switch(s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,c|0){case 5:case 0:{s=i7(n[489]|0,f,d)|0;break}default:s=zUe(f,d)|0}return s|0}function Eg(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;d=C,C=C+16|0,m=d,n[m>>2]=f,Cg(s,0,l,c,m),C=d}function Cg(s,l,c,f,d){if(s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,s=s|0?s:956,D7[n[s+8>>2]&1](s,l,c,f,d)|0,(c|0)==5)Rt();else return}function Ga(s,l,c){s=s|0,l=l|0,c=c|0,o[s+l>>0]=c&1}function Rm(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(wg(s,f),Qt(s,n[l>>2]|0,n[c>>2]|0,f))}function wg(s,l){s=s|0,l=l|0;var c=0;if((N(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function Qt(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function N(s){return s=s|0,1073741823}function K(s,l,c){return s=s|0,l=l|0,c=y(c),pe(l)|0&&(n[s+96>>2]|0)!=0?s=s+92|0:s=Fn(s+60|0,n[1040+(l<<2)>>2]|0,992)|0,y(ze(s,c))}function re(s,l,c){return s=s|0,l=l|0,c=y(c),pe(l)|0&&(n[s+104>>2]|0)!=0?s=s+100|0:s=Fn(s+60|0,n[1e3+(l<<2)>>2]|0,992)|0,y(ze(s,c))}function pe(s){return s=s|0,(s|1|0)==3|0}function ze(s,l){return s=s|0,l=y(l),(n[s+4>>2]|0)==3?l=y(0):l=y(Gr(s,l)),y(l)}function mt(s,l){return s=s|0,l=l|0,s=n[s>>2]|0,((s|0)==0?(l|0)>1?l:1:s)|0}function fr(s,l){s=s|0,l=l|0;var c=0;e:do if((l|0)==2){switch(s|0){case 2:{s=3;break e}case 3:break;default:{c=4;break e}}s=2}else c=4;while(0);return s|0}function Cr(s,l){s=s|0,l=l|0;var c=Ze;return pe(l)|0&&(n[s+312>>2]|0)!=0&&(c=y(h[s+308>>2]),c>=y(0))||(c=y(_n(y(h[(Fn(s+276|0,n[1040+(l<<2)>>2]|0,992)|0)>>2]),y(0)))),y(c)}function yn(s,l){s=s|0,l=l|0;var c=Ze;return pe(l)|0&&(n[s+320>>2]|0)!=0&&(c=y(h[s+316>>2]),c>=y(0))||(c=y(_n(y(h[(Fn(s+276|0,n[1e3+(l<<2)>>2]|0,992)|0)>>2]),y(0)))),y(c)}function oi(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return pe(l)|0&&(n[s+240>>2]|0)!=0&&(f=y(Gr(s+236|0,c)),f>=y(0))||(f=y(_n(y(Gr(Fn(s+204|0,n[1040+(l<<2)>>2]|0,992)|0,c)),y(0)))),y(f)}function Oi(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return pe(l)|0&&(n[s+248>>2]|0)!=0&&(f=y(Gr(s+244|0,c)),f>=y(0))||(f=y(_n(y(Gr(Fn(s+204|0,n[1e3+(l<<2)>>2]|0,992)|0,c)),y(0)))),y(f)}function Ig(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=Ze,Q=Ze,M=Ze,O=Ze,j=Ze,se=Ze,Ge=0,Me=0,Qe=0;Qe=C,C=C+16|0,Ge=Qe,Me=s+964|0,Un(s,(n[Me>>2]|0)!=0,3519),k=y(En(s,2,l)),Q=y(En(s,0,l)),M=y(ln(s,2,l)),O=y(ln(s,0,l)),_t(l)|0?j=l:j=y(_n(y(0),y(y(l-M)-k))),_t(c)|0?se=c:se=y(_n(y(0),y(y(c-O)-Q))),(f|0)==1&(d|0)==1?(h[s+908>>2]=y(Bi(s,2,y(l-M),m,m)),l=y(Bi(s,0,y(c-O),B,m))):(S7[n[Me>>2]&1](Ge,s,j,f,se,d),j=y(k+y(h[Ge>>2])),se=y(l-M),h[s+908>>2]=y(Bi(s,2,(f|2|0)==2?j:se,m,m)),se=y(Q+y(h[Ge+4>>2])),l=y(c-O),l=y(Bi(s,0,(d|2|0)==2?se:l,B,m))),h[s+912>>2]=l,C=Qe}function Gv(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=Ze,Q=Ze,M=Ze,O=Ze;M=y(En(s,2,m)),k=y(En(s,0,m)),O=y(ln(s,2,m)),Q=y(ln(s,0,m)),l=y(l-O),h[s+908>>2]=y(Bi(s,2,(f|2|0)==2?M:l,m,m)),c=y(c-Q),h[s+912>>2]=y(Bi(s,0,(d|2|0)==2?k:c,B,m))}function Yv(s,l,c,f,d,m,B){s=s|0,l=y(l),c=y(c),f=f|0,d=d|0,m=y(m),B=y(B);var k=0,Q=Ze,M=Ze;return k=(f|0)==2,!(l<=y(0)&k)&&!(c<=y(0)&(d|0)==2)&&!((f|0)==1&(d|0)==1)?s=0:(Q=y(ln(s,0,m)),M=y(ln(s,2,m)),k=l<y(0)&k|(_t(l)|0),l=y(l-M),h[s+908>>2]=y(Bi(s,2,k?y(0):l,m,m)),l=y(c-Q),k=c<y(0)&(d|0)==2|(_t(c)|0),h[s+912>>2]=y(Bi(s,0,k?y(0):l,B,m)),s=1),s|0}function ww(s,l){return s=s|0,l=l|0,UA(s)|0?s=fr(2,l)|0:s=0,s|0}function Cp(s,l,c){return s=s|0,l=l|0,c=y(c),c=y(oi(s,l,c)),y(c+y(Cr(s,l)))}function Iw(s,l,c){return s=s|0,l=l|0,c=y(c),c=y(Oi(s,l,c)),y(c+y(yn(s,l)))}function En(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(Cp(s,l,c)),y(f+y(Iw(s,l,c)))}function Tm(s){return s=s|0,n[s+24>>2]|0?s=0:y(rs(s))!=y(0)?s=1:s=y(qs(s))!=y(0),s|0}function rs(s){s=s|0;var l=Ze;if(n[s+944>>2]|0){if(l=y(h[s+44>>2]),_t(l)|0)return l=y(h[s+40>>2]),s=l>y(0)&((_t(l)|0)^1),y(s?l:y(0))}else l=y(0);return y(l)}function qs(s){s=s|0;var l=Ze,c=0,f=Ze;do if(n[s+944>>2]|0){if(l=y(h[s+48>>2]),_t(l)|0){if(c=o[(n[s+976>>2]|0)+2>>0]|0,c<<24>>24==0&&(f=y(h[s+40>>2]),f<y(0)&((_t(f)|0)^1))){l=y(-f);break}l=c<<24>>24?y(1):y(0)}}else l=y(0);while(0);return y(l)}function Bu(s){s=s|0;var l=0,c=0;if(Xm(s+400|0,0,540)|0,o[s+985>>0]=1,$(s),c=wi(s)|0,c|0){l=s+948|0,s=0;do Bu(n[(n[l>>2]|0)+(s<<2)>>2]|0),s=s+1|0;while((s|0)!=(c|0))}}function Nm(s,l,c,f,d,m,B,k,Q,M){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=y(m),B=y(B),k=k|0,Q=Q|0,M=M|0;var O=0,j=Ze,se=0,Ge=0,Me=Ze,Qe=Ze,et=0,Xe=Ze,lt=0,Ue=Ze,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0,go=0;xn=C,C=C+16|0,Mr=xn+12|0,or=xn+8|0,Xt=xn+4|0,Sr=xn,ir=fr(n[s+4>>2]|0,Q)|0,je=pe(ir)|0,j=y(Gr(Bw(l)|0,je?m:B)),Lt=ts(l,2,m)|0,Nr=ts(l,0,B)|0;do if(!(_t(j)|0)&&!(_t(je?c:d)|0)){if(O=l+504|0,!(_t(y(h[O>>2]))|0)&&(!(vw(n[l+976>>2]|0,0)|0)||(n[l+500>>2]|0)==(n[2278]|0)))break;h[O>>2]=y(_n(j,y(En(l,ir,m))))}else se=7;while(0);do if((se|0)==7){if(lt=je^1,!(lt|Lt^1)){B=y(Gr(n[l+992>>2]|0,m)),h[l+504>>2]=y(_n(B,y(En(l,2,m))));break}if(!(je|Nr^1)){B=y(Gr(n[l+996>>2]|0,B)),h[l+504>>2]=y(_n(B,y(En(l,0,m))));break}h[Mr>>2]=y(ce),h[or>>2]=y(ce),n[Xt>>2]=0,n[Sr>>2]=0,Xe=y(ln(l,2,m)),Ue=y(ln(l,0,m)),Lt?(Me=y(Xe+y(Gr(n[l+992>>2]|0,m))),h[Mr>>2]=Me,n[Xt>>2]=1,Ge=1):(Ge=0,Me=y(ce)),Nr?(j=y(Ue+y(Gr(n[l+996>>2]|0,B))),h[or>>2]=j,n[Sr>>2]=1,O=1):(O=0,j=y(ce)),se=n[s+32>>2]|0,je&(se|0)==2?se=2:_t(Me)|0&&!(_t(c)|0)&&(h[Mr>>2]=c,n[Xt>>2]=2,Ge=2,Me=c),!((se|0)==2&lt)&&_t(j)|0&&!(_t(d)|0)&&(h[or>>2]=d,n[Sr>>2]=2,O=2,j=d),Qe=y(h[l+396>>2]),et=_t(Qe)|0;do if(et)se=Ge;else{if((Ge|0)==1&lt){h[or>>2]=y(y(Me-Xe)/Qe),n[Sr>>2]=1,O=1,se=1;break}je&(O|0)==1?(h[Mr>>2]=y(Qe*y(j-Ue)),n[Xt>>2]=1,O=1,se=1):se=Ge}while(0);go=_t(c)|0,Ge=(ha(s,l)|0)!=4,!(je|Lt|((f|0)!=1|go)|(Ge|(se|0)==1))&&(h[Mr>>2]=c,n[Xt>>2]=1,!et)&&(h[or>>2]=y(y(c-Xe)/Qe),n[Sr>>2]=1,O=1),!(Nr|lt|((k|0)!=1|(_t(d)|0))|(Ge|(O|0)==1))&&(h[or>>2]=d,n[Sr>>2]=1,!et)&&(h[Mr>>2]=y(Qe*y(d-Ue)),n[Xt>>2]=1),yr(l,2,m,m,Xt,Mr),yr(l,0,B,m,Sr,or),c=y(h[Mr>>2]),d=y(h[or>>2]),fa(l,c,d,Q,n[Xt>>2]|0,n[Sr>>2]|0,m,B,0,3565,M)|0,B=y(h[l+908+(n[976+(ir<<2)>>2]<<2)>>2]),h[l+504>>2]=y(_n(B,y(En(l,ir,m))))}while(0);n[l+500>>2]=n[2278],C=xn}function Bi(s,l,c,f,d){return s=s|0,l=l|0,c=y(c),f=y(f),d=y(d),f=y(MA(s,l,c,f)),y(_n(f,y(En(s,l,d))))}function ha(s,l){return s=s|0,l=l|0,l=l+20|0,l=n[((n[l>>2]|0)==0?s+16|0:l)>>2]|0,(l|0)==5&&UA(n[s+4>>2]|0)|0&&(l=1),l|0}function vl(s,l){return s=s|0,l=l|0,pe(l)|0&&(n[s+96>>2]|0)!=0?l=4:l=n[1040+(l<<2)>>2]|0,s+60+(l<<3)|0}function Sc(s,l){return s=s|0,l=l|0,pe(l)|0&&(n[s+104>>2]|0)!=0?l=5:l=n[1e3+(l<<2)>>2]|0,s+60+(l<<3)|0}function yr(s,l,c,f,d,m){switch(s=s|0,l=l|0,c=y(c),f=y(f),d=d|0,m=m|0,c=y(Gr(s+380+(n[976+(l<<2)>>2]<<3)|0,c)),c=y(c+y(ln(s,l,f))),n[d>>2]|0){case 2:case 1:{d=_t(c)|0,f=y(h[m>>2]),h[m>>2]=d|f<c?f:c;break}case 0:{_t(c)|0||(n[d>>2]=2,h[m>>2]=c);break}default:}}function gi(s,l){return s=s|0,l=l|0,s=s+132|0,pe(l)|0&&(n[(Fn(s,4,948)|0)+4>>2]|0)!=0?s=1:s=(n[(Fn(s,n[1040+(l<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function Or(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0;return s=s+132|0,pe(l)|0&&(f=Fn(s,4,948)|0,(n[f+4>>2]|0)!=0)?d=4:(f=Fn(s,n[1040+(l<<2)>>2]|0,948)|0,n[f+4>>2]|0?d=4:c=y(0)),(d|0)==4&&(c=y(Gr(f,c))),y(c)}function ns(s,l,c){s=s|0,l=l|0,c=y(c);var f=Ze;return f=y(h[s+908+(n[976+(l<<2)>>2]<<2)>>2]),f=y(f+y(K(s,l,c))),y(f+y(re(s,l,c)))}function Yi(s){s=s|0;var l=0,c=0,f=0;e:do if(UA(n[s+4>>2]|0)|0)l=0;else if((n[s+16>>2]|0)!=5)if(c=wi(s)|0,!c)l=0;else for(l=0;;){if(f=gs(s,l)|0,(n[f+24>>2]|0)==0&&(n[f+20>>2]|0)==5){l=1;break e}if(l=l+1|0,l>>>0>=c>>>0){l=0;break}}else l=1;while(0);return l|0}function Lm(s,l){s=s|0,l=l|0;var c=Ze;return c=y(h[s+908+(n[976+(l<<2)>>2]<<2)>>2]),c>=y(0)&((_t(c)|0)^1)|0}function Ya(s){s=s|0;var l=Ze,c=0,f=0,d=0,m=0,B=0,k=0,Q=Ze;if(c=n[s+968>>2]|0,c)Q=y(h[s+908>>2]),l=y(h[s+912>>2]),l=y(w7[c&0](s,Q,l)),Un(s,(_t(l)|0)^1,3573);else{m=wi(s)|0;do if(m|0){for(c=0,d=0;;){if(f=gs(s,d)|0,n[f+940>>2]|0){B=8;break}if((n[f+24>>2]|0)!=1)if(k=(ha(s,f)|0)==5,k){c=f;break}else c=(c|0)==0?f:c;if(d=d+1|0,d>>>0>=m>>>0){B=8;break}}if((B|0)==8&&!c)break;return l=y(Ya(c)),y(l+y(h[c+404>>2]))}while(0);l=y(h[s+912>>2])}return y(l)}function MA(s,l,c,f){s=s|0,l=l|0,c=y(c),f=y(f);var d=Ze,m=0;return UA(l)|0?(l=1,m=3):pe(l)|0?(l=0,m=3):(f=y(ce),d=y(ce)),(m|0)==3&&(d=y(Gr(s+364+(l<<3)|0,f)),f=y(Gr(s+380+(l<<3)|0,f))),m=f<c&(f>=y(0)&((_t(f)|0)^1)),c=m?f:c,m=d>=y(0)&((_t(d)|0)^1)&c<d,y(m?d:c)}function Om(s,l,c,f,d,m,B){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0,B=B|0;var k=Ze,Q=Ze,M=0,O=0,j=Ze,se=Ze,Ge=Ze,Me=0,Qe=0,et=0,Xe=0,lt=Ze,Ue=0;et=fr(n[s+4>>2]|0,m)|0,Me=ww(et,m)|0,Qe=pe(et)|0,j=y(ln(l,2,c)),se=y(ln(l,0,c)),ts(l,2,c)|0?k=y(j+y(Gr(n[l+992>>2]|0,c))):gi(l,2)|0&&sr(l,2)|0?(k=y(h[s+908>>2]),Q=y(Cr(s,2)),Q=y(k-y(Q+y(yn(s,2)))),k=y(Or(l,2,c)),k=y(Bi(l,2,y(Q-y(k+y(vu(l,2,c)))),c,c))):k=y(ce),ts(l,0,d)|0?Q=y(se+y(Gr(n[l+996>>2]|0,d))):gi(l,0)|0&&sr(l,0)|0?(Q=y(h[s+912>>2]),lt=y(Cr(s,0)),lt=y(Q-y(lt+y(yn(s,0)))),Q=y(Or(l,0,d)),Q=y(Bi(l,0,y(lt-y(Q+y(vu(l,0,d)))),d,c))):Q=y(ce),M=_t(k)|0,O=_t(Q)|0;do if(M^O&&(Ge=y(h[l+396>>2]),!(_t(Ge)|0)))if(M){k=y(j+y(y(Q-se)*Ge));break}else{lt=y(se+y(y(k-j)/Ge)),Q=O?lt:Q;break}while(0);O=_t(k)|0,M=_t(Q)|0,O|M&&(Ue=(O^1)&1,f=c>y(0)&((f|0)!=0&O),k=Qe?k:f?c:k,fa(l,k,Q,m,Qe?Ue:f?2:Ue,O&(M^1)&1,k,Q,0,3623,B)|0,k=y(h[l+908>>2]),k=y(k+y(ln(l,2,c))),Q=y(h[l+912>>2]),Q=y(Q+y(ln(l,0,c)))),fa(l,k,Q,m,1,1,k,Q,1,3635,B)|0,sr(l,et)|0&&!(gi(l,et)|0)?(Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),lt=y(lt-y(yn(s,et))),lt=y(lt-y(re(l,et,c))),lt=y(lt-y(vu(l,et,Qe?c:d))),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt):Xe=21;do if((Xe|0)==21){if(!(gi(l,et)|0)&&(n[s+8>>2]|0)==1){Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(y(lt-y(h[l+908+(Ue<<2)>>2]))*y(.5)),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt;break}!(gi(l,et)|0)&&(n[s+8>>2]|0)==2&&(Ue=n[976+(et<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),h[l+400+(n[1040+(et<<2)>>2]<<2)>>2]=lt)}while(0);sr(l,Me)|0&&!(gi(l,Me)|0)?(Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),lt=y(lt-y(yn(s,Me))),lt=y(lt-y(re(l,Me,c))),lt=y(lt-y(vu(l,Me,Qe?d:c))),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt):Xe=30;do if((Xe|0)==30&&!(gi(l,Me)|0)){if((ha(s,l)|0)==2){Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(y(lt-y(h[l+908+(Ue<<2)>>2]))*y(.5)),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt;break}Ue=(ha(s,l)|0)==3,Ue^(n[s+28>>2]|0)==2&&(Ue=n[976+(Me<<2)>>2]|0,lt=y(h[s+908+(Ue<<2)>>2]),lt=y(lt-y(h[l+908+(Ue<<2)>>2])),h[l+400+(n[1040+(Me<<2)>>2]<<2)>>2]=lt)}while(0)}function wp(s,l,c){s=s|0,l=l|0,c=c|0;var f=Ze,d=0;d=n[976+(c<<2)>>2]|0,f=y(h[l+908+(d<<2)>>2]),f=y(y(h[s+908+(d<<2)>>2])-f),f=y(f-y(h[l+400+(n[1040+(c<<2)>>2]<<2)>>2])),h[l+400+(n[1e3+(c<<2)>>2]<<2)>>2]=f}function UA(s){return s=s|0,(s|1|0)==1|0}function Bw(s){s=s|0;var l=Ze;switch(n[s+56>>2]|0){case 0:case 3:{l=y(h[s+40>>2]),l>y(0)&((_t(l)|0)^1)?s=o[(n[s+976>>2]|0)+2>>0]|0?1056:992:s=1056;break}default:s=s+52|0}return s|0}function vw(s,l){return s=s|0,l=l|0,(o[s+l>>0]|0)!=0|0}function sr(s,l){return s=s|0,l=l|0,s=s+132|0,pe(l)|0&&(n[(Fn(s,5,948)|0)+4>>2]|0)!=0?s=1:s=(n[(Fn(s,n[1e3+(l<<2)>>2]|0,948)|0)+4>>2]|0)!=0,s|0}function vu(s,l,c){s=s|0,l=l|0,c=y(c);var f=0,d=0;return s=s+132|0,pe(l)|0&&(f=Fn(s,5,948)|0,(n[f+4>>2]|0)!=0)?d=4:(f=Fn(s,n[1e3+(l<<2)>>2]|0,948)|0,n[f+4>>2]|0?d=4:c=y(0)),(d|0)==4&&(c=y(Gr(f,c))),y(c)}function Mm(s,l,c){return s=s|0,l=l|0,c=y(c),gi(s,l)|0?c=y(Or(s,l,c)):c=y(-y(vu(s,l,c))),y(c)}function Du(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function Ip(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function Bg(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function _A(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function HA(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;if(B=s+4|0,k=n[B>>2]|0,d=k-f|0,m=d>>2,s=l+(m<<2)|0,s>>>0<c>>>0){f=k;do n[f>>2]=n[s>>2],s=s+4|0,f=(n[B>>2]|0)+4|0,n[B>>2]=f;while(s>>>0<c>>>0)}m|0&&Mw(k+(0-m<<2)|0,l|0,d|0)|0}function vg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0;return k=l+4|0,Q=n[k>>2]|0,d=n[s>>2]|0,B=c,m=B-d|0,f=Q+(0-(m>>2)<<2)|0,n[k>>2]=f,(m|0)>0&&Dr(f|0,d|0,m|0)|0,d=s+4|0,m=l+8|0,f=(n[d>>2]|0)-B|0,(f|0)>0&&(Dr(n[m>>2]|0,c|0,f|0)|0,n[m>>2]=(n[m>>2]|0)+(f>>>2<<2)),B=n[s>>2]|0,n[s>>2]=n[k>>2],n[k>>2]=B,B=n[d>>2]|0,n[d>>2]=n[m>>2],n[m>>2]=B,B=s+8|0,c=l+12|0,s=n[B>>2]|0,n[B>>2]=n[c>>2],n[c>>2]=s,n[l>>2]=n[k>>2],Q|0}function Dw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;if(B=n[l>>2]|0,m=n[c>>2]|0,(B|0)!=(m|0)){d=s+8|0,c=((m+-4-B|0)>>>2)+1|0,s=B,f=n[d>>2]|0;do n[f>>2]=n[s>>2],f=(n[d>>2]|0)+4|0,n[d>>2]=f,s=s+4|0;while((s|0)!=(m|0));n[l>>2]=B+(c<<2)}}function Um(){dc()}function ga(){var s=0;return s=Kt(4)|0,qA(s),s|0}function qA(s){s=s|0,n[s>>2]=ys()|0}function Pc(s){s=s|0,s|0&&(Dg(s),gt(s))}function Dg(s){s=s|0,tt(n[s>>2]|0)}function _m(s,l,c){s=s|0,l=l|0,c=c|0,Ga(n[s>>2]|0,l,c)}function fo(s,l){s=s|0,l=y(l),pa(n[s>>2]|0,l)}function Wv(s,l){return s=s|0,l=l|0,vw(n[s>>2]|0,l)|0}function Sw(){var s=0;return s=Kt(8)|0,Kv(s,0),s|0}function Kv(s,l){s=s|0,l=l|0,l?l=Ci(n[l>>2]|0)|0:l=co()|0,n[s>>2]=l,n[s+4>>2]=0,bi(l,s)}function AF(s){s=s|0;var l=0;return l=Kt(8)|0,Kv(l,s),l|0}function Vv(s){s=s|0,s|0&&(Su(s),gt(s))}function Su(s){s=s|0;var l=0;la(n[s>>2]|0),l=s+4|0,s=n[l>>2]|0,n[l>>2]=0,s|0&&(jA(s),gt(s))}function jA(s){s=s|0,GA(s)}function GA(s){s=s|0,s=n[s>>2]|0,s|0&&PA(s|0)}function Pw(s){return s=s|0,qo(s)|0}function Hm(s){s=s|0;var l=0,c=0;c=s+4|0,l=n[c>>2]|0,n[c>>2]=0,l|0&&(jA(l),gt(l)),_s(n[s>>2]|0)}function fF(s,l){s=s|0,l=l|0,$r(n[s>>2]|0,n[l>>2]|0)}function pF(s,l){s=s|0,l=l|0,ca(n[s>>2]|0,l)}function Jv(s,l,c){s=s|0,l=l|0,c=+c,yu(n[s>>2]|0,l,y(c))}function zv(s,l,c){s=s|0,l=l|0,c=+c,Es(n[s>>2]|0,l,y(c))}function bw(s,l){s=s|0,l=l|0,gu(n[s>>2]|0,l)}function Pu(s,l){s=s|0,l=l|0,du(n[s>>2]|0,l)}function hF(s,l){s=s|0,l=l|0,FA(n[s>>2]|0,l)}function gF(s,l){s=s|0,l=l|0,kA(n[s>>2]|0,l)}function Bp(s,l){s=s|0,l=l|0,yc(n[s>>2]|0,l)}function dF(s,l){s=s|0,l=l|0,Ap(n[s>>2]|0,l)}function Xv(s,l,c){s=s|0,l=l|0,c=+c,Cc(n[s>>2]|0,l,y(c))}function YA(s,l,c){s=s|0,l=l|0,c=+c,G(n[s>>2]|0,l,y(c))}function mF(s,l){s=s|0,l=l|0,wl(n[s>>2]|0,l)}function yF(s,l){s=s|0,l=l|0,ag(n[s>>2]|0,l)}function Zv(s,l){s=s|0,l=l|0,fp(n[s>>2]|0,l)}function xw(s,l){s=s|0,l=+l,RA(n[s>>2]|0,y(l))}function kw(s,l){s=s|0,l=+l,Ha(n[s>>2]|0,y(l))}function EF(s,l){s=s|0,l=+l,Gi(n[s>>2]|0,y(l))}function CF(s,l){s=s|0,l=+l,Hs(n[s>>2]|0,y(l))}function Dl(s,l){s=s|0,l=+l,mu(n[s>>2]|0,y(l))}function Qw(s,l){s=s|0,l=+l,yw(n[s>>2]|0,y(l))}function wF(s,l){s=s|0,l=+l,TA(n[s>>2]|0,y(l))}function WA(s){s=s|0,pp(n[s>>2]|0)}function qm(s,l){s=s|0,l=+l,Cs(n[s>>2]|0,y(l))}function bu(s,l){s=s|0,l=+l,ug(n[s>>2]|0,y(l))}function Fw(s){s=s|0,Ag(n[s>>2]|0)}function Rw(s,l){s=s|0,l=+l,hp(n[s>>2]|0,y(l))}function IF(s,l){s=s|0,l=+l,Ic(n[s>>2]|0,y(l))}function $v(s,l){s=s|0,l=+l,bm(n[s>>2]|0,y(l))}function KA(s,l){s=s|0,l=+l,pg(n[s>>2]|0,y(l))}function eD(s,l){s=s|0,l=+l,Cu(n[s>>2]|0,y(l))}function jm(s,l){s=s|0,l=+l,xm(n[s>>2]|0,y(l))}function tD(s,l){s=s|0,l=+l,wu(n[s>>2]|0,y(l))}function rD(s,l){s=s|0,l=+l,Ew(n[s>>2]|0,y(l))}function Gm(s,l){s=s|0,l=+l,Aa(n[s>>2]|0,y(l))}function nD(s,l,c){s=s|0,l=l|0,c=+c,Eu(n[s>>2]|0,l,y(c))}function BF(s,l,c){s=s|0,l=l|0,c=+c,xi(n[s>>2]|0,l,y(c))}function S(s,l,c){s=s|0,l=l|0,c=+c,wc(n[s>>2]|0,l,y(c))}function D(s){return s=s|0,og(n[s>>2]|0)|0}function T(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Ec(d,n[l>>2]|0,c),q(s,d),C=f}function q(s,l){s=s|0,l=l|0,Y(s,n[l+4>>2]|0,+y(h[l>>2]))}function Y(s,l,c){s=s|0,l=l|0,c=+c,n[s>>2]=l,E[s+8>>3]=c}function Ae(s){return s=s|0,sg(n[s>>2]|0)|0}function De(s){return s=s|0,uo(n[s>>2]|0)|0}function vt(s){return s=s|0,mc(n[s>>2]|0)|0}function wt(s){return s=s|0,QA(n[s>>2]|0)|0}function xt(s){return s=s|0,Pm(n[s>>2]|0)|0}function _r(s){return s=s|0,ig(n[s>>2]|0)|0}function is(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Dt(d,n[l>>2]|0,c),q(s,d),C=f}function di(s){return s=s|0,$n(n[s>>2]|0)|0}function po(s){return s=s|0,lg(n[s>>2]|0)|0}function VA(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,ua(f,n[l>>2]|0),q(s,f),C=c}function Yo(s){return s=s|0,+ +y(ji(n[s>>2]|0))}function rt(s){return s=s|0,+ +y(es(n[s>>2]|0))}function Ve(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Br(f,n[l>>2]|0),q(s,f),C=c}function ft(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,fg(f,n[l>>2]|0),q(s,f),C=c}function Wt(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Ct(f,n[l>>2]|0),q(s,f),C=c}function vr(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,hg(f,n[l>>2]|0),q(s,f),C=c}function Pn(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,gg(f,n[l>>2]|0),q(s,f),C=c}function Fr(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,km(f,n[l>>2]|0),q(s,f),C=c}function bn(s){return s=s|0,+ +y(Bc(n[s>>2]|0))}function ai(s,l){return s=s|0,l=l|0,+ +y(cg(n[s>>2]|0,l))}function tn(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,ct(d,n[l>>2]|0,c),q(s,d),C=f}function ho(s,l,c){s=s|0,l=l|0,c=c|0,nr(n[s>>2]|0,n[l>>2]|0,c)}function vF(s,l){s=s|0,l=l|0,ms(n[s>>2]|0,n[l>>2]|0)}function eve(s){return s=s|0,wi(n[s>>2]|0)|0}function tve(s){return s=s|0,s=ht(n[s>>2]|0)|0,s?s=Pw(s)|0:s=0,s|0}function rve(s,l){return s=s|0,l=l|0,s=gs(n[s>>2]|0,l)|0,s?s=Pw(s)|0:s=0,s|0}function nve(s,l){s=s|0,l=l|0;var c=0,f=0;f=Kt(4)|0,zG(f,l),c=s+4|0,l=n[c>>2]|0,n[c>>2]=f,l|0&&(jA(l),gt(l)),It(n[s>>2]|0,1)}function zG(s,l){s=s|0,l=l|0,gve(s,l)}function ive(s,l,c,f,d,m){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0;var B=0,k=0;B=C,C=C+16|0,k=B,sve(k,qo(l)|0,+c,f,+d,m),h[s>>2]=y(+E[k>>3]),h[s+4>>2]=y(+E[k+8>>3]),C=B}function sve(s,l,c,f,d,m){s=s|0,l=l|0,c=+c,f=f|0,d=+d,m=m|0;var B=0,k=0,Q=0,M=0,O=0;B=C,C=C+32|0,O=B+8|0,M=B+20|0,Q=B,k=B+16|0,E[O>>3]=c,n[M>>2]=f,E[Q>>3]=d,n[k>>2]=m,ove(s,n[l+4>>2]|0,O,M,Q,k),C=B}function ove(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0;B=C,C=C+16|0,k=B,Ka(k),l=da(l)|0,ave(s,l,+E[c>>3],n[f>>2]|0,+E[d>>3],n[m>>2]|0),Va(k),C=B}function da(s){return s=s|0,n[s>>2]|0}function ave(s,l,c,f,d,m){s=s|0,l=l|0,c=+c,f=f|0,d=+d,m=m|0;var B=0;B=Sl(lve()|0)|0,c=+JA(c),f=DF(f)|0,d=+JA(d),cve(s,hi(0,B|0,l|0,+c,f|0,+d,DF(m)|0)|0)}function lve(){var s=0;return o[7608]|0||(pve(9120),s=7608,n[s>>2]=1,n[s+4>>2]=0),9120}function Sl(s){return s=s|0,n[s+8>>2]|0}function JA(s){return s=+s,+ +SF(s)}function DF(s){return s=s|0,ZG(s)|0}function cve(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+32|0,c=d,f=l,f&1?(uve(c,0),ii(f|0,c|0)|0,Ave(s,c),fve(c)):(n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2]),C=d}function uve(s,l){s=s|0,l=l|0,XG(s,l),n[s+8>>2]=0,o[s+24>>0]=0}function Ave(s,l){s=s|0,l=l|0,l=l+8|0,n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2]}function fve(s){s=s|0,o[s+24>>0]=0}function XG(s,l){s=s|0,l=l|0,n[s>>2]=l}function ZG(s){return s=s|0,s|0}function SF(s){return s=+s,+s}function pve(s){s=s|0,Pl(s,hve()|0,4)}function hve(){return 1064}function Pl(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=up(l|0,c+1|0)|0}function gve(s,l){s=s|0,l=l|0,l=n[l>>2]|0,n[s>>2]=l,yl(l|0)}function dve(s){s=s|0;var l=0,c=0;c=s+4|0,l=n[c>>2]|0,n[c>>2]=0,l|0&&(jA(l),gt(l)),It(n[s>>2]|0,0)}function mve(s){s=s|0,Tt(n[s>>2]|0)}function yve(s){return s=s|0,er(n[s>>2]|0)|0}function Eve(s,l,c,f){s=s|0,l=+l,c=+c,f=f|0,vc(n[s>>2]|0,y(l),y(c),f)}function Cve(s){return s=s|0,+ +y(Il(n[s>>2]|0))}function wve(s){return s=s|0,+ +y(dg(n[s>>2]|0))}function Ive(s){return s=s|0,+ +y(Iu(n[s>>2]|0))}function Bve(s){return s=s|0,+ +y(NA(n[s>>2]|0))}function vve(s){return s=s|0,+ +y(gp(n[s>>2]|0))}function Dve(s){return s=s|0,+ +y(qa(n[s>>2]|0))}function Sve(s,l){s=s|0,l=l|0,E[s>>3]=+y(Il(n[l>>2]|0)),E[s+8>>3]=+y(dg(n[l>>2]|0)),E[s+16>>3]=+y(Iu(n[l>>2]|0)),E[s+24>>3]=+y(NA(n[l>>2]|0)),E[s+32>>3]=+y(gp(n[l>>2]|0)),E[s+40>>3]=+y(qa(n[l>>2]|0))}function Pve(s,l){return s=s|0,l=l|0,+ +y(mg(n[s>>2]|0,l))}function bve(s,l){return s=s|0,l=l|0,+ +y(dp(n[s>>2]|0,l))}function xve(s,l){return s=s|0,l=l|0,+ +y(jo(n[s>>2]|0,l))}function kve(){return Sn()|0}function Qve(){Fve(),Rve(),Tve(),Nve(),Lve(),Ove()}function Fve(){LNe(11713,4938,1)}function Rve(){tNe(10448)}function Tve(){LTe(10408)}function Nve(){sTe(10324)}function Lve(){pFe(10096)}function Ove(){Mve(9132)}function Mve(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0,go=0,mo=0,yo=0,ya=0,Fp=0,Rp=0,bl=0,Tp=0,Fu=0,Ru=0,Np=0,Lp=0,Op=0,Xr=0,xl=0,Mp=0,xc=0,Up=0,_p=0,Tu=0,Nu=0,kc=0,js=0,za=0,Wo=0,kl=0,nf=0,sf=0,Lu=0,of=0,af=0,Gs=0,vs=0,Ql=0,Rn=0,lf=0,Eo=0,Qc=0,Co=0,Fc=0,cf=0,uf=0,Rc=0,Ys=0,Fl=0,Af=0,ff=0,pf=0,xr=0,Jn=0,Ds=0,wo=0,Ws=0,Rr=0,ur=0,Rl=0;l=C,C=C+672|0,c=l+656|0,Rl=l+648|0,ur=l+640|0,Rr=l+632|0,Ws=l+624|0,wo=l+616|0,Ds=l+608|0,Jn=l+600|0,xr=l+592|0,pf=l+584|0,ff=l+576|0,Af=l+568|0,Fl=l+560|0,Ys=l+552|0,Rc=l+544|0,uf=l+536|0,cf=l+528|0,Fc=l+520|0,Co=l+512|0,Qc=l+504|0,Eo=l+496|0,lf=l+488|0,Rn=l+480|0,Ql=l+472|0,vs=l+464|0,Gs=l+456|0,af=l+448|0,of=l+440|0,Lu=l+432|0,sf=l+424|0,nf=l+416|0,kl=l+408|0,Wo=l+400|0,za=l+392|0,js=l+384|0,kc=l+376|0,Nu=l+368|0,Tu=l+360|0,_p=l+352|0,Up=l+344|0,xc=l+336|0,Mp=l+328|0,xl=l+320|0,Xr=l+312|0,Op=l+304|0,Lp=l+296|0,Np=l+288|0,Ru=l+280|0,Fu=l+272|0,Tp=l+264|0,bl=l+256|0,Rp=l+248|0,Fp=l+240|0,ya=l+232|0,yo=l+224|0,mo=l+216|0,go=l+208|0,xn=l+200|0,ir=l+192|0,Nr=l+184|0,Sr=l+176|0,Xt=l+168|0,or=l+160|0,Mr=l+152|0,Lt=l+144|0,je=l+136|0,Ue=l+128|0,lt=l+120|0,Xe=l+112|0,et=l+104|0,Qe=l+96|0,Me=l+88|0,Ge=l+80|0,se=l+72|0,j=l+64|0,O=l+56|0,M=l+48|0,Q=l+40|0,k=l+32|0,B=l+24|0,m=l+16|0,d=l+8|0,f=l,Uve(s,3646),_ve(s,3651,2)|0,Hve(s,3665,2)|0,qve(s,3682,18)|0,n[Rl>>2]=19,n[Rl+4>>2]=0,n[c>>2]=n[Rl>>2],n[c+4>>2]=n[Rl+4>>2],Tw(s,3690,c)|0,n[ur>>2]=1,n[ur+4>>2]=0,n[c>>2]=n[ur>>2],n[c+4>>2]=n[ur+4>>2],jve(s,3696,c)|0,n[Rr>>2]=2,n[Rr+4>>2]=0,n[c>>2]=n[Rr>>2],n[c+4>>2]=n[Rr+4>>2],xu(s,3706,c)|0,n[Ws>>2]=1,n[Ws+4>>2]=0,n[c>>2]=n[Ws>>2],n[c+4>>2]=n[Ws+4>>2],Sg(s,3722,c)|0,n[wo>>2]=2,n[wo+4>>2]=0,n[c>>2]=n[wo>>2],n[c+4>>2]=n[wo+4>>2],Sg(s,3734,c)|0,n[Ds>>2]=3,n[Ds+4>>2]=0,n[c>>2]=n[Ds>>2],n[c+4>>2]=n[Ds+4>>2],xu(s,3753,c)|0,n[Jn>>2]=4,n[Jn+4>>2]=0,n[c>>2]=n[Jn>>2],n[c+4>>2]=n[Jn+4>>2],xu(s,3769,c)|0,n[xr>>2]=5,n[xr+4>>2]=0,n[c>>2]=n[xr>>2],n[c+4>>2]=n[xr+4>>2],xu(s,3783,c)|0,n[pf>>2]=6,n[pf+4>>2]=0,n[c>>2]=n[pf>>2],n[c+4>>2]=n[pf+4>>2],xu(s,3796,c)|0,n[ff>>2]=7,n[ff+4>>2]=0,n[c>>2]=n[ff>>2],n[c+4>>2]=n[ff+4>>2],xu(s,3813,c)|0,n[Af>>2]=8,n[Af+4>>2]=0,n[c>>2]=n[Af>>2],n[c+4>>2]=n[Af+4>>2],xu(s,3825,c)|0,n[Fl>>2]=3,n[Fl+4>>2]=0,n[c>>2]=n[Fl>>2],n[c+4>>2]=n[Fl+4>>2],Sg(s,3843,c)|0,n[Ys>>2]=4,n[Ys+4>>2]=0,n[c>>2]=n[Ys>>2],n[c+4>>2]=n[Ys+4>>2],Sg(s,3853,c)|0,n[Rc>>2]=9,n[Rc+4>>2]=0,n[c>>2]=n[Rc>>2],n[c+4>>2]=n[Rc+4>>2],xu(s,3870,c)|0,n[uf>>2]=10,n[uf+4>>2]=0,n[c>>2]=n[uf>>2],n[c+4>>2]=n[uf+4>>2],xu(s,3884,c)|0,n[cf>>2]=11,n[cf+4>>2]=0,n[c>>2]=n[cf>>2],n[c+4>>2]=n[cf+4>>2],xu(s,3896,c)|0,n[Fc>>2]=1,n[Fc+4>>2]=0,n[c>>2]=n[Fc>>2],n[c+4>>2]=n[Fc+4>>2],Is(s,3907,c)|0,n[Co>>2]=2,n[Co+4>>2]=0,n[c>>2]=n[Co>>2],n[c+4>>2]=n[Co+4>>2],Is(s,3915,c)|0,n[Qc>>2]=3,n[Qc+4>>2]=0,n[c>>2]=n[Qc>>2],n[c+4>>2]=n[Qc+4>>2],Is(s,3928,c)|0,n[Eo>>2]=4,n[Eo+4>>2]=0,n[c>>2]=n[Eo>>2],n[c+4>>2]=n[Eo+4>>2],Is(s,3948,c)|0,n[lf>>2]=5,n[lf+4>>2]=0,n[c>>2]=n[lf>>2],n[c+4>>2]=n[lf+4>>2],Is(s,3960,c)|0,n[Rn>>2]=6,n[Rn+4>>2]=0,n[c>>2]=n[Rn>>2],n[c+4>>2]=n[Rn+4>>2],Is(s,3974,c)|0,n[Ql>>2]=7,n[Ql+4>>2]=0,n[c>>2]=n[Ql>>2],n[c+4>>2]=n[Ql+4>>2],Is(s,3983,c)|0,n[vs>>2]=20,n[vs+4>>2]=0,n[c>>2]=n[vs>>2],n[c+4>>2]=n[vs+4>>2],Tw(s,3999,c)|0,n[Gs>>2]=8,n[Gs+4>>2]=0,n[c>>2]=n[Gs>>2],n[c+4>>2]=n[Gs+4>>2],Is(s,4012,c)|0,n[af>>2]=9,n[af+4>>2]=0,n[c>>2]=n[af>>2],n[c+4>>2]=n[af+4>>2],Is(s,4022,c)|0,n[of>>2]=21,n[of+4>>2]=0,n[c>>2]=n[of>>2],n[c+4>>2]=n[of+4>>2],Tw(s,4039,c)|0,n[Lu>>2]=10,n[Lu+4>>2]=0,n[c>>2]=n[Lu>>2],n[c+4>>2]=n[Lu+4>>2],Is(s,4053,c)|0,n[sf>>2]=11,n[sf+4>>2]=0,n[c>>2]=n[sf>>2],n[c+4>>2]=n[sf+4>>2],Is(s,4065,c)|0,n[nf>>2]=12,n[nf+4>>2]=0,n[c>>2]=n[nf>>2],n[c+4>>2]=n[nf+4>>2],Is(s,4084,c)|0,n[kl>>2]=13,n[kl+4>>2]=0,n[c>>2]=n[kl>>2],n[c+4>>2]=n[kl+4>>2],Is(s,4097,c)|0,n[Wo>>2]=14,n[Wo+4>>2]=0,n[c>>2]=n[Wo>>2],n[c+4>>2]=n[Wo+4>>2],Is(s,4117,c)|0,n[za>>2]=15,n[za+4>>2]=0,n[c>>2]=n[za>>2],n[c+4>>2]=n[za+4>>2],Is(s,4129,c)|0,n[js>>2]=16,n[js+4>>2]=0,n[c>>2]=n[js>>2],n[c+4>>2]=n[js+4>>2],Is(s,4148,c)|0,n[kc>>2]=17,n[kc+4>>2]=0,n[c>>2]=n[kc>>2],n[c+4>>2]=n[kc+4>>2],Is(s,4161,c)|0,n[Nu>>2]=18,n[Nu+4>>2]=0,n[c>>2]=n[Nu>>2],n[c+4>>2]=n[Nu+4>>2],Is(s,4181,c)|0,n[Tu>>2]=5,n[Tu+4>>2]=0,n[c>>2]=n[Tu>>2],n[c+4>>2]=n[Tu+4>>2],Sg(s,4196,c)|0,n[_p>>2]=6,n[_p+4>>2]=0,n[c>>2]=n[_p>>2],n[c+4>>2]=n[_p+4>>2],Sg(s,4206,c)|0,n[Up>>2]=7,n[Up+4>>2]=0,n[c>>2]=n[Up>>2],n[c+4>>2]=n[Up+4>>2],Sg(s,4217,c)|0,n[xc>>2]=3,n[xc+4>>2]=0,n[c>>2]=n[xc>>2],n[c+4>>2]=n[xc+4>>2],zA(s,4235,c)|0,n[Mp>>2]=1,n[Mp+4>>2]=0,n[c>>2]=n[Mp>>2],n[c+4>>2]=n[Mp+4>>2],PF(s,4251,c)|0,n[xl>>2]=4,n[xl+4>>2]=0,n[c>>2]=n[xl>>2],n[c+4>>2]=n[xl+4>>2],zA(s,4263,c)|0,n[Xr>>2]=5,n[Xr+4>>2]=0,n[c>>2]=n[Xr>>2],n[c+4>>2]=n[Xr+4>>2],zA(s,4279,c)|0,n[Op>>2]=6,n[Op+4>>2]=0,n[c>>2]=n[Op>>2],n[c+4>>2]=n[Op+4>>2],zA(s,4293,c)|0,n[Lp>>2]=7,n[Lp+4>>2]=0,n[c>>2]=n[Lp>>2],n[c+4>>2]=n[Lp+4>>2],zA(s,4306,c)|0,n[Np>>2]=8,n[Np+4>>2]=0,n[c>>2]=n[Np>>2],n[c+4>>2]=n[Np+4>>2],zA(s,4323,c)|0,n[Ru>>2]=9,n[Ru+4>>2]=0,n[c>>2]=n[Ru>>2],n[c+4>>2]=n[Ru+4>>2],zA(s,4335,c)|0,n[Fu>>2]=2,n[Fu+4>>2]=0,n[c>>2]=n[Fu>>2],n[c+4>>2]=n[Fu+4>>2],PF(s,4353,c)|0,n[Tp>>2]=12,n[Tp+4>>2]=0,n[c>>2]=n[Tp>>2],n[c+4>>2]=n[Tp+4>>2],Pg(s,4363,c)|0,n[bl>>2]=1,n[bl+4>>2]=0,n[c>>2]=n[bl>>2],n[c+4>>2]=n[bl+4>>2],XA(s,4376,c)|0,n[Rp>>2]=2,n[Rp+4>>2]=0,n[c>>2]=n[Rp>>2],n[c+4>>2]=n[Rp+4>>2],XA(s,4388,c)|0,n[Fp>>2]=13,n[Fp+4>>2]=0,n[c>>2]=n[Fp>>2],n[c+4>>2]=n[Fp+4>>2],Pg(s,4402,c)|0,n[ya>>2]=14,n[ya+4>>2]=0,n[c>>2]=n[ya>>2],n[c+4>>2]=n[ya+4>>2],Pg(s,4411,c)|0,n[yo>>2]=15,n[yo+4>>2]=0,n[c>>2]=n[yo>>2],n[c+4>>2]=n[yo+4>>2],Pg(s,4421,c)|0,n[mo>>2]=16,n[mo+4>>2]=0,n[c>>2]=n[mo>>2],n[c+4>>2]=n[mo+4>>2],Pg(s,4433,c)|0,n[go>>2]=17,n[go+4>>2]=0,n[c>>2]=n[go>>2],n[c+4>>2]=n[go+4>>2],Pg(s,4446,c)|0,n[xn>>2]=18,n[xn+4>>2]=0,n[c>>2]=n[xn>>2],n[c+4>>2]=n[xn+4>>2],Pg(s,4458,c)|0,n[ir>>2]=3,n[ir+4>>2]=0,n[c>>2]=n[ir>>2],n[c+4>>2]=n[ir+4>>2],XA(s,4471,c)|0,n[Nr>>2]=1,n[Nr+4>>2]=0,n[c>>2]=n[Nr>>2],n[c+4>>2]=n[Nr+4>>2],iD(s,4486,c)|0,n[Sr>>2]=10,n[Sr+4>>2]=0,n[c>>2]=n[Sr>>2],n[c+4>>2]=n[Sr+4>>2],zA(s,4496,c)|0,n[Xt>>2]=11,n[Xt+4>>2]=0,n[c>>2]=n[Xt>>2],n[c+4>>2]=n[Xt+4>>2],zA(s,4508,c)|0,n[or>>2]=3,n[or+4>>2]=0,n[c>>2]=n[or>>2],n[c+4>>2]=n[or+4>>2],PF(s,4519,c)|0,n[Mr>>2]=4,n[Mr+4>>2]=0,n[c>>2]=n[Mr>>2],n[c+4>>2]=n[Mr+4>>2],Gve(s,4530,c)|0,n[Lt>>2]=19,n[Lt+4>>2]=0,n[c>>2]=n[Lt>>2],n[c+4>>2]=n[Lt+4>>2],Yve(s,4542,c)|0,n[je>>2]=12,n[je+4>>2]=0,n[c>>2]=n[je>>2],n[c+4>>2]=n[je+4>>2],Wve(s,4554,c)|0,n[Ue>>2]=13,n[Ue+4>>2]=0,n[c>>2]=n[Ue>>2],n[c+4>>2]=n[Ue+4>>2],Kve(s,4568,c)|0,n[lt>>2]=2,n[lt+4>>2]=0,n[c>>2]=n[lt>>2],n[c+4>>2]=n[lt+4>>2],Vve(s,4578,c)|0,n[Xe>>2]=20,n[Xe+4>>2]=0,n[c>>2]=n[Xe>>2],n[c+4>>2]=n[Xe+4>>2],Jve(s,4587,c)|0,n[et>>2]=22,n[et+4>>2]=0,n[c>>2]=n[et>>2],n[c+4>>2]=n[et+4>>2],Tw(s,4602,c)|0,n[Qe>>2]=23,n[Qe+4>>2]=0,n[c>>2]=n[Qe>>2],n[c+4>>2]=n[Qe+4>>2],Tw(s,4619,c)|0,n[Me>>2]=14,n[Me+4>>2]=0,n[c>>2]=n[Me>>2],n[c+4>>2]=n[Me+4>>2],zve(s,4629,c)|0,n[Ge>>2]=1,n[Ge+4>>2]=0,n[c>>2]=n[Ge>>2],n[c+4>>2]=n[Ge+4>>2],Xve(s,4637,c)|0,n[se>>2]=4,n[se+4>>2]=0,n[c>>2]=n[se>>2],n[c+4>>2]=n[se+4>>2],XA(s,4653,c)|0,n[j>>2]=5,n[j+4>>2]=0,n[c>>2]=n[j>>2],n[c+4>>2]=n[j+4>>2],XA(s,4669,c)|0,n[O>>2]=6,n[O+4>>2]=0,n[c>>2]=n[O>>2],n[c+4>>2]=n[O+4>>2],XA(s,4686,c)|0,n[M>>2]=7,n[M+4>>2]=0,n[c>>2]=n[M>>2],n[c+4>>2]=n[M+4>>2],XA(s,4701,c)|0,n[Q>>2]=8,n[Q+4>>2]=0,n[c>>2]=n[Q>>2],n[c+4>>2]=n[Q+4>>2],XA(s,4719,c)|0,n[k>>2]=9,n[k+4>>2]=0,n[c>>2]=n[k>>2],n[c+4>>2]=n[k+4>>2],XA(s,4736,c)|0,n[B>>2]=21,n[B+4>>2]=0,n[c>>2]=n[B>>2],n[c+4>>2]=n[B+4>>2],Zve(s,4754,c)|0,n[m>>2]=2,n[m+4>>2]=0,n[c>>2]=n[m>>2],n[c+4>>2]=n[m+4>>2],iD(s,4772,c)|0,n[d>>2]=3,n[d+4>>2]=0,n[c>>2]=n[d>>2],n[c+4>>2]=n[d+4>>2],iD(s,4790,c)|0,n[f>>2]=4,n[f+4>>2]=0,n[c>>2]=n[f>>2],n[c+4>>2]=n[f+4>>2],iD(s,4808,c)|0,C=l}function Uve(s,l){s=s|0,l=l|0;var c=0;c=iFe()|0,n[s>>2]=c,sFe(c,l),xp(n[s>>2]|0)}function _ve(s,l,c){return s=s|0,l=l|0,c=c|0,GQe(s,pn(l)|0,c,0),s|0}function Hve(s,l,c){return s=s|0,l=l|0,c=c|0,bQe(s,pn(l)|0,c,0),s|0}function qve(s,l,c){return s=s|0,l=l|0,c=c|0,hQe(s,pn(l)|0,c,0),s|0}function Tw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Zke(s,l,d),C=f,s|0}function jve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Rke(s,l,d),C=f,s|0}function xu(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],mke(s,l,d),C=f,s|0}function Sg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tke(s,l,d),C=f,s|0}function Is(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Uxe(s,l,d),C=f,s|0}function zA(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Bxe(s,l,d),C=f,s|0}function PF(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],axe(s,l,d),C=f,s|0}function Pg(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Rbe(s,l,d),C=f,s|0}function XA(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],mbe(s,l,d),C=f,s|0}function iD(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tbe(s,l,d),C=f,s|0}function Gve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],UPe(s,l,d),C=f,s|0}function Yve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],BPe(s,l,d),C=f,s|0}function Wve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],lPe(s,l,d),C=f,s|0}function Kve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],KSe(s,l,d),C=f,s|0}function Vve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],kSe(s,l,d),C=f,s|0}function Jve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],pSe(s,l,d),C=f,s|0}function zve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],XDe(s,l,d),C=f,s|0}function Xve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],RDe(s,l,d),C=f,s|0}function Zve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],$ve(s,l,d),C=f,s|0}function $ve(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],eDe(s,c,d,1),C=f}function pn(s){return s=s|0,s|0}function eDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=bF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=tDe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,rDe(m,f)|0,f),C=d}function bF(){var s=0,l=0;if(o[7616]|0||(t5(9136),tr(24,9136,U|0)|0,l=7616,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9136)|0)){s=9136,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));t5(9136)}return 9136}function tDe(s){return s=s|0,0}function rDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=bF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],e5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sDe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function hn(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0;B=C,C=C+32|0,se=B+24|0,j=B+20|0,Q=B+16|0,O=B+12|0,M=B+8|0,k=B+4|0,Ge=B,n[j>>2]=l,n[Q>>2]=c,n[O>>2]=f,n[M>>2]=d,n[k>>2]=m,m=s+28|0,n[Ge>>2]=n[m>>2],n[se>>2]=n[Ge>>2],nDe(s+24|0,se,j,O,M,Q,k)|0,n[m>>2]=n[n[m>>2]>>2],C=B}function nDe(s,l,c,f,d,m,B){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,s=iDe(l)|0,l=Kt(24)|0,$G(l+4|0,n[c>>2]|0,n[f>>2]|0,n[d>>2]|0,n[m>>2]|0,n[B>>2]|0),n[l>>2]=n[s>>2],n[s>>2]=l,l|0}function iDe(s){return s=s|0,n[s>>2]|0}function $G(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=f,n[s+12>>2]=d,n[s+16>>2]=m}function gr(s,l){return s=s|0,l=l|0,l|s|0}function e5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oDe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,aDe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],e5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lDe(s,k),cDe(k),C=M;return}}function oDe(s){return s=s|0,357913941}function aDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cDe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function t5(s){s=s|0,fDe(s)}function uDe(s){s=s|0,ADe(s+24|0)}function Tr(s){return s=s|0,n[s>>2]|0}function ADe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fDe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,3,l,pDe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Kr(){return 9228}function pDe(){return 1140}function hDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=gDe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=dDe(l,f)|0,C=c,l|0}function Vr(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,n[s>>2]=l,n[s+4>>2]=c,n[s+8>>2]=f,n[s+12>>2]=d,n[s+16>>2]=m}function gDe(s){return s=s|0,(n[(bF()|0)+24>>2]|0)+(s*12|0)|0}function dDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+48|0,f=d,c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),rf[c&31](f,s),f=mDe(f)|0,C=d,f|0}function mDe(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(r5()|0)|0,f?(kF(l,f),QF(c,l),yDe(s,c),s=FF(l)|0):s=EDe(s)|0,C=d,s|0}function r5(){var s=0;return o[7632]|0||(xDe(9184),tr(25,9184,U|0)|0,s=7632,n[s>>2]=1,n[s+4>>2]=0),9184}function xF(s){return s=s|0,n[s+36>>2]|0}function kF(s,l){s=s|0,l=l|0,n[s>>2]=l,n[s+4>>2]=s,n[s+8>>2]=0}function QF(s,l){s=s|0,l=l|0,n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=0}function yDe(s,l){s=s|0,l=l|0,BDe(l,s,s+8|0,s+16|0,s+24|0,s+32|0,s+40|0)|0}function FF(s){return s=s|0,n[(n[s+4>>2]|0)+8>>2]|0}function EDe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0;Q=C,C=C+16|0,c=Q+4|0,f=Q,d=Wa(8)|0,m=d,B=Kt(48)|0,k=B,l=k+48|0;do n[k>>2]=n[s>>2],k=k+4|0,s=s+4|0;while((k|0)<(l|0));return l=m+4|0,n[l>>2]=B,k=Kt(8)|0,B=n[l>>2]|0,n[f>>2]=0,n[c>>2]=n[f>>2],n5(k,B,c),n[d>>2]=k,C=Q,m|0}function n5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1092,n[c+12>>2]=l,n[s+4>>2]=c}function CDe(s){s=s|0,zm(s),gt(s)}function wDe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function IDe(s){s=s|0,gt(s)}function BDe(s,l,c,f,d,m,B){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,m=vDe(n[s>>2]|0,l,c,f,d,m,B)|0,B=s+4|0,n[(n[B>>2]|0)+8>>2]=m,n[(n[B>>2]|0)+8>>2]|0}function vDe(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0;var k=0,Q=0;return k=C,C=C+16|0,Q=k,Ka(Q),s=da(s)|0,B=DDe(s,+E[l>>3],+E[c>>3],+E[f>>3],+E[d>>3],+E[m>>3],+E[B>>3])|0,Va(Q),C=k,B|0}function DDe(s,l,c,f,d,m,B){s=s|0,l=+l,c=+c,f=+f,d=+d,m=+m,B=+B;var k=0;return k=Sl(SDe()|0)|0,l=+JA(l),c=+JA(c),f=+JA(f),d=+JA(d),m=+JA(m),Ms(0,k|0,s|0,+l,+c,+f,+d,+m,+ +JA(B))|0}function SDe(){var s=0;return o[7624]|0||(PDe(9172),s=7624,n[s>>2]=1,n[s+4>>2]=0),9172}function PDe(s){s=s|0,Pl(s,bDe()|0,6)}function bDe(){return 1112}function xDe(s){s=s|0,vp(s)}function kDe(s){s=s|0,i5(s+24|0),s5(s+16|0)}function i5(s){s=s|0,FDe(s)}function s5(s){s=s|0,QDe(s)}function QDe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function FDe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function vp(s){s=s|0;var l=0;n[s+16>>2]=0,n[s+20>>2]=0,l=s+24|0,n[l>>2]=0,n[s+28>>2]=l,n[s+36>>2]=0,o[s+40>>0]=0,o[s+41>>0]=0}function RDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],TDe(s,c,d,0),C=f}function TDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=RF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=NDe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,LDe(m,f)|0,f),C=d}function RF(){var s=0,l=0;if(o[7640]|0||(a5(9232),tr(26,9232,U|0)|0,l=7640,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9232)|0)){s=9232,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));a5(9232)}return 9232}function NDe(s){return s=s|0,0}function LDe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=RF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],o5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(ODe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function o5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function ODe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=MDe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,UDe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],o5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_De(s,k),HDe(k),C=M;return}}function MDe(s){return s=s|0,357913941}function UDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _De(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function HDe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function a5(s){s=s|0,GDe(s)}function qDe(s){s=s|0,jDe(s+24|0)}function jDe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function GDe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,YDe()|0,3),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function YDe(){return 1144}function WDe(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+16|0,B=m+8|0,k=m,Q=KDe(s)|0,s=n[Q+4>>2]|0,n[k>>2]=n[Q>>2],n[k+4>>2]=s,n[B>>2]=n[k>>2],n[B+4>>2]=n[k+4>>2],VDe(l,B,c,f,d),C=m}function KDe(s){return s=s|0,(n[(RF()|0)+24>>2]|0)+(s*12|0)|0}function VDe(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0;var m=0,B=0,k=0,Q=0,M=0;M=C,C=C+16|0,B=M+2|0,k=M+1|0,Q=M,m=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(m=n[(n[s>>2]|0)+m>>2]|0),ku(B,c),c=+Qu(B,c),ku(k,f),f=+Qu(k,f),ZA(Q,d),Q=$A(Q,d)|0,I7[m&1](s,c,f,Q),C=M}function ku(s,l){s=s|0,l=+l}function Qu(s,l){return s=s|0,l=+l,+ +zDe(l)}function ZA(s,l){s=s|0,l=l|0}function $A(s,l){return s=s|0,l=l|0,JDe(l)|0}function JDe(s){return s=s|0,s|0}function zDe(s){return s=+s,+s}function XDe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],ZDe(s,c,d,1),C=f}function ZDe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=TF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=$De(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,eSe(m,f)|0,f),C=d}function TF(){var s=0,l=0;if(o[7648]|0||(c5(9268),tr(27,9268,U|0)|0,l=7648,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9268)|0)){s=9268,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));c5(9268)}return 9268}function $De(s){return s=s|0,0}function eSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=TF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],l5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(tSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function l5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function tSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=rSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,nSe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],l5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,iSe(s,k),sSe(k),C=M;return}}function rSe(s){return s=s|0,357913941}function nSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function iSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function sSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function c5(s){s=s|0,lSe(s)}function oSe(s){s=s|0,aSe(s+24|0)}function aSe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function lSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,4,l,cSe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function cSe(){return 1160}function uSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=ASe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=fSe(l,f)|0,C=c,l|0}function ASe(s){return s=s|0,(n[(TF()|0)+24>>2]|0)+(s*12|0)|0}function fSe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),u5(Lg[c&31](s)|0)|0}function u5(s){return s=s|0,s&1|0}function pSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],hSe(s,c,d,0),C=f}function hSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=NF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=gSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,dSe(m,f)|0,f),C=d}function NF(){var s=0,l=0;if(o[7656]|0||(f5(9304),tr(28,9304,U|0)|0,l=7656,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9304)|0)){s=9304,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));f5(9304)}return 9304}function gSe(s){return s=s|0,0}function dSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=NF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],A5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(mSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function A5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function mSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=ySe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,ESe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],A5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,CSe(s,k),wSe(k),C=M;return}}function ySe(s){return s=s|0,357913941}function ESe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function CSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function wSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function f5(s){s=s|0,vSe(s)}function ISe(s){s=s|0,BSe(s+24|0)}function BSe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function vSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,DSe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function DSe(){return 1164}function SSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=PSe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],bSe(l,d,c),C=f}function PSe(s){return s=s|0,(n[(NF()|0)+24>>2]|0)+(s*12|0)|0}function bSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),Dp(d,c),c=Sp(d,c)|0,rf[f&31](s,c),Pp(d),C=m}function Dp(s,l){s=s|0,l=l|0,xSe(s,l)}function Sp(s,l){return s=s|0,l=l|0,s|0}function Pp(s){s=s|0,jA(s)}function xSe(s,l){s=s|0,l=l|0,LF(s,l)}function LF(s,l){s=s|0,l=l|0,n[s>>2]=l}function kSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],QSe(s,c,d,0),C=f}function QSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=OF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=FSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,RSe(m,f)|0,f),C=d}function OF(){var s=0,l=0;if(o[7664]|0||(h5(9340),tr(29,9340,U|0)|0,l=7664,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9340)|0)){s=9340,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));h5(9340)}return 9340}function FSe(s){return s=s|0,0}function RSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=OF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],p5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(TSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function p5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function TSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=NSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,LSe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],p5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,OSe(s,k),MSe(k),C=M;return}}function NSe(s){return s=s|0,357913941}function LSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function OSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function MSe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function h5(s){s=s|0,HSe(s)}function USe(s){s=s|0,_Se(s+24|0)}function _Se(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function HSe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,4,l,qSe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function qSe(){return 1180}function jSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=GSe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=YSe(l,d,c)|0,C=f,c|0}function GSe(s){return s=s|0,(n[(OF()|0)+24>>2]|0)+(s*12|0)|0}function YSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),bg(d,c),d=xg(d,c)|0,d=sD(RR[f&15](s,d)|0)|0,C=m,d|0}function bg(s,l){s=s|0,l=l|0}function xg(s,l){return s=s|0,l=l|0,WSe(l)|0}function sD(s){return s=s|0,s|0}function WSe(s){return s=s|0,s|0}function KSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],VSe(s,c,d,0),C=f}function VSe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=MF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=JSe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,zSe(m,f)|0,f),C=d}function MF(){var s=0,l=0;if(o[7672]|0||(d5(9376),tr(30,9376,U|0)|0,l=7672,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9376)|0)){s=9376,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));d5(9376)}return 9376}function JSe(s){return s=s|0,0}function zSe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=MF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],g5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(XSe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function g5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function XSe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=ZSe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,$Se(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],g5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,ePe(s,k),tPe(k),C=M;return}}function ZSe(s){return s=s|0,357913941}function $Se(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function ePe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function tPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function d5(s){s=s|0,iPe(s)}function rPe(s){s=s|0,nPe(s+24|0)}function nPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function iPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,m5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function m5(){return 1196}function sPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=oPe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=aPe(l,f)|0,C=c,l|0}function oPe(s){return s=s|0,(n[(MF()|0)+24>>2]|0)+(s*12|0)|0}function aPe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),sD(Lg[c&31](s)|0)|0}function lPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],cPe(s,c,d,1),C=f}function cPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=UF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=uPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,APe(m,f)|0,f),C=d}function UF(){var s=0,l=0;if(o[7680]|0||(E5(9412),tr(31,9412,U|0)|0,l=7680,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9412)|0)){s=9412,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));E5(9412)}return 9412}function uPe(s){return s=s|0,0}function APe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=UF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],y5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(fPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function y5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function fPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=pPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,hPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],y5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,gPe(s,k),dPe(k),C=M;return}}function pPe(s){return s=s|0,357913941}function hPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function gPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function dPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function E5(s){s=s|0,EPe(s)}function mPe(s){s=s|0,yPe(s+24|0)}function yPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function EPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,C5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function C5(){return 1200}function CPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=wPe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=IPe(l,f)|0,C=c,l|0}function wPe(s){return s=s|0,(n[(UF()|0)+24>>2]|0)+(s*12|0)|0}function IPe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),oD(Lg[c&31](s)|0)|0}function oD(s){return s=s|0,s|0}function BPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],vPe(s,c,d,0),C=f}function vPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=_F()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=DPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,SPe(m,f)|0,f),C=d}function _F(){var s=0,l=0;if(o[7688]|0||(I5(9448),tr(32,9448,U|0)|0,l=7688,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9448)|0)){s=9448,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));I5(9448)}return 9448}function DPe(s){return s=s|0,0}function SPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=_F()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],w5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(PPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function w5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function PPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=bPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,xPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],w5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,kPe(s,k),QPe(k),C=M;return}}function bPe(s){return s=s|0,357913941}function xPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function kPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function QPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function I5(s){s=s|0,TPe(s)}function FPe(s){s=s|0,RPe(s+24|0)}function RPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function TPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,B5()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function B5(){return 1204}function NPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=LPe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],OPe(l,d,c),C=f}function LPe(s){return s=s|0,(n[(_F()|0)+24>>2]|0)+(s*12|0)|0}function OPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),HF(d,c),d=qF(d,c)|0,rf[f&31](s,d),C=m}function HF(s,l){s=s|0,l=l|0}function qF(s,l){return s=s|0,l=l|0,MPe(l)|0}function MPe(s){return s=s|0,s|0}function UPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],_Pe(s,c,d,0),C=f}function _Pe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=jF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=HPe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,qPe(m,f)|0,f),C=d}function jF(){var s=0,l=0;if(o[7696]|0||(D5(9484),tr(33,9484,U|0)|0,l=7696,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9484)|0)){s=9484,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));D5(9484)}return 9484}function HPe(s){return s=s|0,0}function qPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=jF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],v5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(jPe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function v5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function jPe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=GPe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,YPe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],v5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,WPe(s,k),KPe(k),C=M;return}}function GPe(s){return s=s|0,357913941}function YPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function WPe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function KPe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function D5(s){s=s|0,zPe(s)}function VPe(s){s=s|0,JPe(s+24|0)}function JPe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function zPe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,XPe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function XPe(){return 1212}function ZPe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=$Pe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],ebe(l,m,c,f),C=d}function $Pe(s){return s=s|0,(n[(jF()|0)+24>>2]|0)+(s*12|0)|0}function ebe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),HF(m,c),m=qF(m,c)|0,bg(B,f),B=xg(B,f)|0,Hw[d&15](s,m,B),C=k}function tbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rbe(s,c,d,1),C=f}function rbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=GF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nbe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,ibe(m,f)|0,f),C=d}function GF(){var s=0,l=0;if(o[7704]|0||(P5(9520),tr(34,9520,U|0)|0,l=7704,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9520)|0)){s=9520,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));P5(9520)}return 9520}function nbe(s){return s=s|0,0}function ibe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=GF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],S5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sbe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function S5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=obe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,abe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],S5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lbe(s,k),cbe(k),C=M;return}}function obe(s){return s=s|0,357913941}function abe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function P5(s){s=s|0,fbe(s)}function ube(s){s=s|0,Abe(s+24|0)}function Abe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,pbe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pbe(){return 1224}function hbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;return d=C,C=C+16|0,m=d+8|0,B=d,k=gbe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],f=+dbe(l,m,c),C=d,+f}function gbe(s){return s=s|0,(n[(GF()|0)+24>>2]|0)+(s*12|0)|0}function dbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,B=+SF(+v7[f&7](s,d)),C=m,+B}function mbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],ybe(s,c,d,1),C=f}function ybe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=YF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Ebe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Cbe(m,f)|0,f),C=d}function YF(){var s=0,l=0;if(o[7712]|0||(x5(9556),tr(35,9556,U|0)|0,l=7712,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9556)|0)){s=9556,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));x5(9556)}return 9556}function Ebe(s){return s=s|0,0}function Cbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=YF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],b5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(wbe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function b5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function wbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Ibe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Bbe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],b5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,vbe(s,k),Dbe(k),C=M;return}}function Ibe(s){return s=s|0,357913941}function Bbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function vbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Dbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function x5(s){s=s|0,bbe(s)}function Sbe(s){s=s|0,Pbe(s+24|0)}function Pbe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function bbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,xbe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function xbe(){return 1232}function kbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=Qbe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=+Fbe(l,d),C=f,+c}function Qbe(s){return s=s|0,(n[(YF()|0)+24>>2]|0)+(s*12|0)|0}function Fbe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),+ +SF(+B7[c&15](s))}function Rbe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Tbe(s,c,d,1),C=f}function Tbe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=WF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Nbe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Lbe(m,f)|0,f),C=d}function WF(){var s=0,l=0;if(o[7720]|0||(Q5(9592),tr(36,9592,U|0)|0,l=7720,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9592)|0)){s=9592,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Q5(9592)}return 9592}function Nbe(s){return s=s|0,0}function Lbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=WF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],k5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Obe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function k5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Obe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Mbe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Ube(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],k5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_be(s,k),Hbe(k),C=M;return}}function Mbe(s){return s=s|0,357913941}function Ube(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _be(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Hbe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function Q5(s){s=s|0,Gbe(s)}function qbe(s){s=s|0,jbe(s+24|0)}function jbe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Gbe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,7,l,Ybe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Ybe(){return 1276}function Wbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=Kbe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=Vbe(l,f)|0,C=c,l|0}function Kbe(s){return s=s|0,(n[(WF()|0)+24>>2]|0)+(s*12|0)|0}function Vbe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;return d=C,C=C+16|0,f=d,c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),rf[c&31](f,s),f=F5(f)|0,C=d,f|0}function F5(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(R5()|0)|0,f?(kF(l,f),QF(c,l),Jbe(s,c),s=FF(l)|0):s=zbe(s)|0,C=d,s|0}function R5(){var s=0;return o[7736]|0||(oxe(9640),tr(25,9640,U|0)|0,s=7736,n[s>>2]=1,n[s+4>>2]=0),9640}function Jbe(s,l){s=s|0,l=l|0,exe(l,s,s+8|0)|0}function zbe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(16)|0,n[k>>2]=n[s>>2],n[k+4>>2]=n[s+4>>2],n[k+8>>2]=n[s+8>>2],n[k+12>>2]=n[s+12>>2],m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],KF(s,m,d),n[f>>2]=s,C=c,l|0}function KF(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1244,n[c+12>>2]=l,n[s+4>>2]=c}function Xbe(s){s=s|0,zm(s),gt(s)}function Zbe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function $be(s){s=s|0,gt(s)}function exe(s,l,c){return s=s|0,l=l|0,c=c|0,l=txe(n[s>>2]|0,l,c)|0,c=s+4|0,n[(n[c>>2]|0)+8>>2]=l,n[(n[c>>2]|0)+8>>2]|0}function txe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;return f=C,C=C+16|0,d=f,Ka(d),s=da(s)|0,c=rxe(s,n[l>>2]|0,+E[c>>3])|0,Va(d),C=f,c|0}function rxe(s,l,c){s=s|0,l=l|0,c=+c;var f=0;return f=Sl(nxe()|0)|0,l=DF(l)|0,ml(0,f|0,s|0,l|0,+ +JA(c))|0}function nxe(){var s=0;return o[7728]|0||(ixe(9628),s=7728,n[s>>2]=1,n[s+4>>2]=0),9628}function ixe(s){s=s|0,Pl(s,sxe()|0,2)}function sxe(){return 1264}function oxe(s){s=s|0,vp(s)}function axe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],lxe(s,c,d,1),C=f}function lxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=VF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=cxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,uxe(m,f)|0,f),C=d}function VF(){var s=0,l=0;if(o[7744]|0||(N5(9684),tr(37,9684,U|0)|0,l=7744,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9684)|0)){s=9684,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));N5(9684)}return 9684}function cxe(s){return s=s|0,0}function uxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=VF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],T5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Axe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function T5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Axe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=fxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,pxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],T5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,hxe(s,k),gxe(k),C=M;return}}function fxe(s){return s=s|0,357913941}function pxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function hxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function gxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function N5(s){s=s|0,yxe(s)}function dxe(s){s=s|0,mxe(s+24|0)}function mxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function yxe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,5,l,Exe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Exe(){return 1280}function Cxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=wxe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=Ixe(l,d,c)|0,C=f,c|0}function wxe(s){return s=s|0,(n[(VF()|0)+24>>2]|0)+(s*12|0)|0}function Ixe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return B=C,C=C+32|0,d=B,m=B+16|0,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(m,c),m=$A(m,c)|0,Hw[f&15](d,s,m),m=F5(d)|0,C=B,m|0}function Bxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],vxe(s,c,d,1),C=f}function vxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=JF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Dxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Sxe(m,f)|0,f),C=d}function JF(){var s=0,l=0;if(o[7752]|0||(O5(9720),tr(38,9720,U|0)|0,l=7752,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9720)|0)){s=9720,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));O5(9720)}return 9720}function Dxe(s){return s=s|0,0}function Sxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=JF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],L5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Pxe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function L5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Pxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=bxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,xxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],L5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,kxe(s,k),Qxe(k),C=M;return}}function bxe(s){return s=s|0,357913941}function xxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function kxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Qxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function O5(s){s=s|0,Txe(s)}function Fxe(s){s=s|0,Rxe(s+24|0)}function Rxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Txe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Nxe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Nxe(){return 1288}function Lxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;return c=C,C=C+16|0,f=c+8|0,d=c,m=Oxe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],l=Mxe(l,f)|0,C=c,l|0}function Oxe(s){return s=s|0,(n[(JF()|0)+24>>2]|0)+(s*12|0)|0}function Mxe(s,l){s=s|0,l=l|0;var c=0;return c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),ZG(Lg[c&31](s)|0)|0}function Uxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],_xe(s,c,d,0),C=f}function _xe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=zF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Hxe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,qxe(m,f)|0,f),C=d}function zF(){var s=0,l=0;if(o[7760]|0||(U5(9756),tr(39,9756,U|0)|0,l=7760,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9756)|0)){s=9756,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));U5(9756)}return 9756}function Hxe(s){return s=s|0,0}function qxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=zF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],M5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(jxe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function M5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function jxe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Gxe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Yxe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],M5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,Wxe(s,k),Kxe(k),C=M;return}}function Gxe(s){return s=s|0,357913941}function Yxe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function Wxe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Kxe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function U5(s){s=s|0,zxe(s)}function Vxe(s){s=s|0,Jxe(s+24|0)}function Jxe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function zxe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Xxe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Xxe(){return 1292}function Zxe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=$xe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],eke(l,d,c),C=f}function $xe(s){return s=s|0,(n[(zF()|0)+24>>2]|0)+(s*12|0)|0}function eke(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ku(d,c),c=+Qu(d,c),C7[f&31](s,c),C=m}function tke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rke(s,c,d,0),C=f}function rke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=XF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,ike(m,f)|0,f),C=d}function XF(){var s=0,l=0;if(o[7768]|0||(H5(9792),tr(40,9792,U|0)|0,l=7768,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9792)|0)){s=9792,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));H5(9792)}return 9792}function nke(s){return s=s|0,0}function ike(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=XF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],_5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(ske(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function _5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function ske(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oke(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,ake(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],_5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lke(s,k),cke(k),C=M;return}}function oke(s){return s=s|0,357913941}function ake(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function H5(s){s=s|0,fke(s)}function uke(s){s=s|0,Ake(s+24|0)}function Ake(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,1,l,pke()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pke(){return 1300}function hke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=gke(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],dke(l,m,c,f),C=d}function gke(s){return s=s|0,(n[(XF()|0)+24>>2]|0)+(s*12|0)|0}function dke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),ZA(m,c),m=$A(m,c)|0,ku(B,f),f=+Qu(B,f),b7[d&15](s,m,f),C=k}function mke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],yke(s,c,d,0),C=f}function yke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=ZF()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Eke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Cke(m,f)|0,f),C=d}function ZF(){var s=0,l=0;if(o[7776]|0||(j5(9828),tr(41,9828,U|0)|0,l=7776,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9828)|0)){s=9828,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));j5(9828)}return 9828}function Eke(s){return s=s|0,0}function Cke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=ZF()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],q5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(wke(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function q5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function wke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Ike(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Bke(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],q5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,vke(s,k),Dke(k),C=M;return}}function Ike(s){return s=s|0,357913941}function Bke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function vke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Dke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function j5(s){s=s|0,bke(s)}function Ske(s){s=s|0,Pke(s+24|0)}function Pke(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function bke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,7,l,xke()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function xke(){return 1312}function kke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=Qke(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Fke(l,d,c),C=f}function Qke(s){return s=s|0,(n[(ZF()|0)+24>>2]|0)+(s*12|0)|0}function Fke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,rf[f&31](s,d),C=m}function Rke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Tke(s,c,d,0),C=f}function Tke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=$F()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=Nke(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,Lke(m,f)|0,f),C=d}function $F(){var s=0,l=0;if(o[7784]|0||(Y5(9864),tr(42,9864,U|0)|0,l=7784,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9864)|0)){s=9864,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Y5(9864)}return 9864}function Nke(s){return s=s|0,0}function Lke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=$F()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],G5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(Oke(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function G5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function Oke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=Mke(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,Uke(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],G5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,_ke(s,k),Hke(k),C=M;return}}function Mke(s){return s=s|0,357913941}function Uke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function _ke(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function Hke(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function Y5(s){s=s|0,Gke(s)}function qke(s){s=s|0,jke(s+24|0)}function jke(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function Gke(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,8,l,Yke()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Yke(){return 1320}function Wke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=Kke(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],Vke(l,d,c),C=f}function Kke(s){return s=s|0,(n[($F()|0)+24>>2]|0)+(s*12|0)|0}function Vke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),Jke(d,c),d=zke(d,c)|0,rf[f&31](s,d),C=m}function Jke(s,l){s=s|0,l=l|0}function zke(s,l){return s=s|0,l=l|0,Xke(l)|0}function Xke(s){return s=s|0,s|0}function Zke(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],$ke(s,c,d,0),C=f}function $ke(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=eR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=eQe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,tQe(m,f)|0,f),C=d}function eR(){var s=0,l=0;if(o[7792]|0||(K5(9900),tr(43,9900,U|0)|0,l=7792,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9900)|0)){s=9900,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));K5(9900)}return 9900}function eQe(s){return s=s|0,0}function tQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=eR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],W5(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(rQe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function W5(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function rQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=nQe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,iQe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],W5(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,sQe(s,k),oQe(k),C=M;return}}function nQe(s){return s=s|0,357913941}function iQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function sQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function oQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function K5(s){s=s|0,cQe(s)}function aQe(s){s=s|0,lQe(s+24|0)}function lQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function cQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,22,l,uQe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function uQe(){return 1344}function AQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0;c=C,C=C+16|0,f=c+8|0,d=c,m=fQe(s)|0,s=n[m+4>>2]|0,n[d>>2]=n[m>>2],n[d+4>>2]=s,n[f>>2]=n[d>>2],n[f+4>>2]=n[d+4>>2],pQe(l,f),C=c}function fQe(s){return s=s|0,(n[(eR()|0)+24>>2]|0)+(s*12|0)|0}function pQe(s,l){s=s|0,l=l|0;var c=0;c=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(c=n[(n[s>>2]|0)+c>>2]|0),tf[c&127](s)}function hQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=tR()|0,s=gQe(c)|0,hn(m,l,d,s,dQe(c,f)|0,f)}function tR(){var s=0,l=0;if(o[7800]|0||(J5(9936),tr(44,9936,U|0)|0,l=7800,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9936)|0)){s=9936,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));J5(9936)}return 9936}function gQe(s){return s=s|0,s|0}function dQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=tR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(V5(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(mQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function V5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function mQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=yQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,EQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,V5(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,CQe(s,d),wQe(d),C=k;return}}function yQe(s){return s=s|0,536870911}function EQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function CQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function wQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function J5(s){s=s|0,vQe(s)}function IQe(s){s=s|0,BQe(s+24|0)}function BQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function vQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,23,l,B5()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function DQe(s,l){s=s|0,l=l|0,PQe(n[(SQe(s)|0)>>2]|0,l)}function SQe(s){return s=s|0,(n[(tR()|0)+24>>2]|0)+(s<<3)|0}function PQe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,HF(f,l),l=qF(f,l)|0,tf[s&127](l),C=c}function bQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=rR()|0,s=xQe(c)|0,hn(m,l,d,s,kQe(c,f)|0,f)}function rR(){var s=0,l=0;if(o[7808]|0||(X5(9972),tr(45,9972,U|0)|0,l=7808,n[l>>2]=1,n[l+4>>2]=0),!(Tr(9972)|0)){s=9972,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));X5(9972)}return 9972}function xQe(s){return s=s|0,s|0}function kQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=rR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(z5(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(QQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function z5(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function QQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=FQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,RQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,z5(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,TQe(s,d),NQe(d),C=k;return}}function FQe(s){return s=s|0,536870911}function RQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function TQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function NQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function X5(s){s=s|0,MQe(s)}function LQe(s){s=s|0,OQe(s+24|0)}function OQe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function MQe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,9,l,UQe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function UQe(){return 1348}function _Qe(s,l){return s=s|0,l=l|0,qQe(n[(HQe(s)|0)>>2]|0,l)|0}function HQe(s){return s=s|0,(n[(rR()|0)+24>>2]|0)+(s<<3)|0}function qQe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,Z5(f,l),l=$5(f,l)|0,l=sD(Lg[s&31](l)|0)|0,C=c,l|0}function Z5(s,l){s=s|0,l=l|0}function $5(s,l){return s=s|0,l=l|0,jQe(l)|0}function jQe(s){return s=s|0,s|0}function GQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=nR()|0,s=YQe(c)|0,hn(m,l,d,s,WQe(c,f)|0,f)}function nR(){var s=0,l=0;if(o[7816]|0||(t9(10008),tr(46,10008,U|0)|0,l=7816,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10008)|0)){s=10008,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));t9(10008)}return 10008}function YQe(s){return s=s|0,s|0}function WQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=nR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(e9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(KQe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function e9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function KQe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=VQe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,JQe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,e9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,zQe(s,d),XQe(d),C=k;return}}function VQe(s){return s=s|0,536870911}function JQe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function zQe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function XQe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function t9(s){s=s|0,eFe(s)}function ZQe(s){s=s|0,$Qe(s+24|0)}function $Qe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function eFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,15,l,m5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function tFe(s){return s=s|0,nFe(n[(rFe(s)|0)>>2]|0)|0}function rFe(s){return s=s|0,(n[(nR()|0)+24>>2]|0)+(s<<3)|0}function nFe(s){return s=s|0,sD(CD[s&7]()|0)|0}function iFe(){var s=0;return o[7832]|0||(fFe(10052),tr(25,10052,U|0)|0,s=7832,n[s>>2]=1,n[s+4>>2]=0),10052}function sFe(s,l){s=s|0,l=l|0,n[s>>2]=oFe()|0,n[s+4>>2]=aFe()|0,n[s+12>>2]=l,n[s+8>>2]=lFe()|0,n[s+32>>2]=2}function oFe(){return 11709}function aFe(){return 1188}function lFe(){return aD()|0}function cFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(uFe(c),gt(c)):l|0&&(Su(l),gt(l))}function bp(s,l){return s=s|0,l=l|0,l&s|0}function uFe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function aD(){var s=0;return o[7824]|0||(n[2511]=AFe()|0,n[2512]=0,s=7824,n[s>>2]=1,n[s+4>>2]=0),10044}function AFe(){return 0}function fFe(s){s=s|0,vp(s)}function pFe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0;l=C,C=C+32|0,c=l+24|0,m=l+16|0,d=l+8|0,f=l,hFe(s,4827),gFe(s,4834,3)|0,dFe(s,3682,47)|0,n[m>>2]=9,n[m+4>>2]=0,n[c>>2]=n[m>>2],n[c+4>>2]=n[m+4>>2],mFe(s,4841,c)|0,n[d>>2]=1,n[d+4>>2]=0,n[c>>2]=n[d>>2],n[c+4>>2]=n[d+4>>2],yFe(s,4871,c)|0,n[f>>2]=10,n[f+4>>2]=0,n[c>>2]=n[f>>2],n[c+4>>2]=n[f+4>>2],EFe(s,4891,c)|0,C=l}function hFe(s,l){s=s|0,l=l|0;var c=0;c=XRe()|0,n[s>>2]=c,ZRe(c,l),xp(n[s>>2]|0)}function gFe(s,l,c){return s=s|0,l=l|0,c=c|0,NRe(s,pn(l)|0,c,0),s|0}function dFe(s,l,c){return s=s|0,l=l|0,c=c|0,CRe(s,pn(l)|0,c,0),s|0}function mFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],tRe(s,l,d),C=f,s|0}function yFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],LFe(s,l,d),C=f,s|0}function EFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=n[c+4>>2]|0,n[m>>2]=n[c>>2],n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],CFe(s,l,d),C=f,s|0}function CFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],wFe(s,c,d,1),C=f}function wFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=iR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=IFe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,BFe(m,f)|0,f),C=d}function iR(){var s=0,l=0;if(o[7840]|0||(n9(10100),tr(48,10100,U|0)|0,l=7840,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10100)|0)){s=10100,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));n9(10100)}return 10100}function IFe(s){return s=s|0,0}function BFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=iR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],r9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(vFe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function r9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function vFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=DFe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,SFe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],r9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,PFe(s,k),bFe(k),C=M;return}}function DFe(s){return s=s|0,357913941}function SFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function PFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function bFe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function n9(s){s=s|0,QFe(s)}function xFe(s){s=s|0,kFe(s+24|0)}function kFe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function QFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,6,l,FFe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function FFe(){return 1364}function RFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;return f=C,C=C+16|0,d=f+8|0,m=f,B=TFe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],c=NFe(l,d,c)|0,C=f,c|0}function TFe(s){return s=s|0,(n[(iR()|0)+24>>2]|0)+(s*12|0)|0}function NFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZA(d,c),d=$A(d,c)|0,d=u5(RR[f&15](s,d)|0)|0,C=m,d|0}function LFe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],OFe(s,c,d,0),C=f}function OFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=sR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=MFe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,UFe(m,f)|0,f),C=d}function sR(){var s=0,l=0;if(o[7848]|0||(s9(10136),tr(49,10136,U|0)|0,l=7848,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10136)|0)){s=10136,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));s9(10136)}return 10136}function MFe(s){return s=s|0,0}function UFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=sR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],i9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(_Fe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function i9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function _Fe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=HFe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,qFe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],i9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,jFe(s,k),GFe(k),C=M;return}}function HFe(s){return s=s|0,357913941}function qFe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function jFe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function GFe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function s9(s){s=s|0,KFe(s)}function YFe(s){s=s|0,WFe(s+24|0)}function WFe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function KFe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,9,l,VFe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function VFe(){return 1372}function JFe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,d=f+8|0,m=f,B=zFe(s)|0,s=n[B+4>>2]|0,n[m>>2]=n[B>>2],n[m+4>>2]=s,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],XFe(l,d,c),C=f}function zFe(s){return s=s|0,(n[(sR()|0)+24>>2]|0)+(s*12|0)|0}function XFe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=Ze;m=C,C=C+16|0,d=m,f=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(f=n[(n[s>>2]|0)+f>>2]|0),ZFe(d,c),B=y($Fe(d,c)),E7[f&1](s,B),C=m}function ZFe(s,l){s=s|0,l=+l}function $Fe(s,l){return s=s|0,l=+l,y(eRe(l))}function eRe(s){return s=+s,y(s)}function tRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,d=f+8|0,m=f,k=n[c>>2]|0,B=n[c+4>>2]|0,c=pn(l)|0,n[m>>2]=k,n[m+4>>2]=B,n[d>>2]=n[m>>2],n[d+4>>2]=n[m+4>>2],rRe(s,c,d,0),C=f}function rRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0,Q=0,M=0,O=0;d=C,C=C+32|0,m=d+16|0,O=d+8|0,k=d,M=n[c>>2]|0,Q=n[c+4>>2]|0,B=n[s>>2]|0,s=oR()|0,n[O>>2]=M,n[O+4>>2]=Q,n[m>>2]=n[O>>2],n[m+4>>2]=n[O+4>>2],c=nRe(m)|0,n[k>>2]=M,n[k+4>>2]=Q,n[m>>2]=n[k>>2],n[m+4>>2]=n[k+4>>2],hn(B,l,s,c,iRe(m,f)|0,f),C=d}function oR(){var s=0,l=0;if(o[7856]|0||(a9(10172),tr(50,10172,U|0)|0,l=7856,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10172)|0)){s=10172,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));a9(10172)}return 10172}function nRe(s){return s=s|0,0}function iRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0;return O=C,C=C+32|0,d=O+24|0,B=O+16|0,k=O,Q=O+8|0,m=n[s>>2]|0,f=n[s+4>>2]|0,n[k>>2]=m,n[k+4>>2]=f,j=oR()|0,M=j+24|0,s=gr(l,4)|0,n[Q>>2]=s,l=j+28|0,c=n[l>>2]|0,c>>>0<(n[j+32>>2]|0)>>>0?(n[B>>2]=m,n[B+4>>2]=f,n[d>>2]=n[B>>2],n[d+4>>2]=n[B+4>>2],o9(c,d,s),s=(n[l>>2]|0)+12|0,n[l>>2]=s):(sRe(M,k,Q),s=n[l>>2]|0),C=O,((s-(n[M>>2]|0)|0)/12|0)+-1|0}function o9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=n[l+4>>2]|0,n[s>>2]=n[l>>2],n[s+4>>2]=f,n[s+8>>2]=c}function sRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;if(M=C,C=C+48|0,f=M+32|0,B=M+24|0,k=M,Q=s+4|0,d=(((n[Q>>2]|0)-(n[s>>2]|0)|0)/12|0)+1|0,m=oRe(s)|0,m>>>0<d>>>0)zr(s);else{O=n[s>>2]|0,se=((n[s+8>>2]|0)-O|0)/12|0,j=se<<1,aRe(k,se>>>0<m>>>1>>>0?j>>>0<d>>>0?d:j:m,((n[Q>>2]|0)-O|0)/12|0,s+8|0),Q=k+8|0,m=n[Q>>2]|0,d=n[l+4>>2]|0,c=n[c>>2]|0,n[B>>2]=n[l>>2],n[B+4>>2]=d,n[f>>2]=n[B>>2],n[f+4>>2]=n[B+4>>2],o9(m,f,c),n[Q>>2]=(n[Q>>2]|0)+12,lRe(s,k),cRe(k),C=M;return}}function oRe(s){return s=s|0,357913941}function aRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>357913941)Rt();else{d=Kt(l*12|0)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c*12|0)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l*12|0)}function lRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(((d|0)/-12|0)*12|0)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function cRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~(((f+-12-l|0)>>>0)/12|0)*12|0)),s=n[s>>2]|0,s|0&&gt(s)}function a9(s){s=s|0,fRe(s)}function uRe(s){s=s|0,ARe(s+24|0)}function ARe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~(((l+-12-f|0)>>>0)/12|0)*12|0)),gt(c))}function fRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,2,3,l,pRe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pRe(){return 1380}function hRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+8|0,B=d,k=gRe(s)|0,s=n[k+4>>2]|0,n[B>>2]=n[k>>2],n[B+4>>2]=s,n[m>>2]=n[B>>2],n[m+4>>2]=n[B+4>>2],dRe(l,m,c,f),C=d}function gRe(s){return s=s|0,(n[(oR()|0)+24>>2]|0)+(s*12|0)|0}function dRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;k=C,C=C+16|0,m=k+1|0,B=k,d=n[l>>2]|0,l=n[l+4>>2]|0,s=s+(l>>1)|0,l&1&&(d=n[(n[s>>2]|0)+d>>2]|0),ZA(m,c),m=$A(m,c)|0,mRe(B,f),B=yRe(B,f)|0,Hw[d&15](s,m,B),C=k}function mRe(s,l){s=s|0,l=l|0}function yRe(s,l){return s=s|0,l=l|0,ERe(l)|0}function ERe(s){return s=s|0,(s|0)!=0|0}function CRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=aR()|0,s=wRe(c)|0,hn(m,l,d,s,IRe(c,f)|0,f)}function aR(){var s=0,l=0;if(o[7864]|0||(c9(10208),tr(51,10208,U|0)|0,l=7864,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10208)|0)){s=10208,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));c9(10208)}return 10208}function wRe(s){return s=s|0,s|0}function IRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=aR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(l9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(BRe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function l9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function BRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=vRe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,DRe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,l9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,SRe(s,d),PRe(d),C=k;return}}function vRe(s){return s=s|0,536870911}function DRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function SRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function PRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function c9(s){s=s|0,kRe(s)}function bRe(s){s=s|0,xRe(s+24|0)}function xRe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function kRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,24,l,QRe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function QRe(){return 1392}function FRe(s,l){s=s|0,l=l|0,TRe(n[(RRe(s)|0)>>2]|0,l)}function RRe(s){return s=s|0,(n[(aR()|0)+24>>2]|0)+(s<<3)|0}function TRe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,Z5(f,l),l=$5(f,l)|0,tf[s&127](l),C=c}function NRe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=lR()|0,s=LRe(c)|0,hn(m,l,d,s,ORe(c,f)|0,f)}function lR(){var s=0,l=0;if(o[7872]|0||(A9(10244),tr(52,10244,U|0)|0,l=7872,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10244)|0)){s=10244,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));A9(10244)}return 10244}function LRe(s){return s=s|0,s|0}function ORe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=lR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(u9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(MRe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function u9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function MRe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=URe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,_Re(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,u9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,HRe(s,d),qRe(d),C=k;return}}function URe(s){return s=s|0,536870911}function _Re(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function HRe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function qRe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function A9(s){s=s|0,YRe(s)}function jRe(s){s=s|0,GRe(s+24|0)}function GRe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function YRe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,16,l,WRe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function WRe(){return 1400}function KRe(s){return s=s|0,JRe(n[(VRe(s)|0)>>2]|0)|0}function VRe(s){return s=s|0,(n[(lR()|0)+24>>2]|0)+(s<<3)|0}function JRe(s){return s=s|0,zRe(CD[s&7]()|0)|0}function zRe(s){return s=s|0,s|0}function XRe(){var s=0;return o[7880]|0||(iTe(10280),tr(25,10280,U|0)|0,s=7880,n[s>>2]=1,n[s+4>>2]=0),10280}function ZRe(s,l){s=s|0,l=l|0,n[s>>2]=$Re()|0,n[s+4>>2]=eTe()|0,n[s+12>>2]=l,n[s+8>>2]=tTe()|0,n[s+32>>2]=4}function $Re(){return 11711}function eTe(){return 1356}function tTe(){return aD()|0}function rTe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(nTe(c),gt(c)):l|0&&(Dg(l),gt(l))}function nTe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function iTe(s){s=s|0,vp(s)}function sTe(s){s=s|0,oTe(s,4920),aTe(s)|0,lTe(s)|0}function oTe(s,l){s=s|0,l=l|0;var c=0;c=R5()|0,n[s>>2]=c,xTe(c,l),xp(n[s>>2]|0)}function aTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,ETe()|0),s|0}function lTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,cTe()|0),s|0}function cTe(){var s=0;return o[7888]|0||(f9(10328),tr(53,10328,U|0)|0,s=7888,n[s>>2]=1,n[s+4>>2]=0),Tr(10328)|0||f9(10328),10328}function kg(s,l){s=s|0,l=l|0,hn(s,0,l,0,0,0)}function f9(s){s=s|0,fTe(s),Qg(s,10)}function uTe(s){s=s|0,ATe(s+24|0)}function ATe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function fTe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,1,l,dTe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function pTe(s,l,c){s=s|0,l=l|0,c=+c,hTe(s,l,c)}function Qg(s,l){s=s|0,l=l|0,n[s+20>>2]=l}function hTe(s,l,c){s=s|0,l=l|0,c=+c;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+16|0,m=f+8|0,k=f+13|0,d=f,B=f+12|0,ZA(k,l),n[m>>2]=$A(k,l)|0,ku(B,c),E[d>>3]=+Qu(B,c),gTe(s,m,d),C=f}function gTe(s,l,c){s=s|0,l=l|0,c=c|0,Y(s+8|0,n[l>>2]|0,+E[c>>3]),o[s+24>>0]=1}function dTe(){return 1404}function mTe(s,l){return s=s|0,l=+l,yTe(s,l)|0}function yTe(s,l){s=s|0,l=+l;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+16|0,m=f+4|0,B=f+8|0,k=f,d=Wa(8)|0,c=d,Q=Kt(16)|0,ZA(m,s),s=$A(m,s)|0,ku(B,l),Y(Q,s,+Qu(B,l)),B=c+4|0,n[B>>2]=Q,s=Kt(8)|0,B=n[B>>2]|0,n[k>>2]=0,n[m>>2]=n[k>>2],KF(s,B,m),n[d>>2]=s,C=f,c|0}function ETe(){var s=0;return o[7896]|0||(p9(10364),tr(54,10364,U|0)|0,s=7896,n[s>>2]=1,n[s+4>>2]=0),Tr(10364)|0||p9(10364),10364}function p9(s){s=s|0,ITe(s),Qg(s,55)}function CTe(s){s=s|0,wTe(s+24|0)}function wTe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function ITe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,4,l,STe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function BTe(s){s=s|0,vTe(s)}function vTe(s){s=s|0,DTe(s)}function DTe(s){s=s|0,h9(s+8|0),o[s+24>>0]=1}function h9(s){s=s|0,n[s>>2]=0,E[s+8>>3]=0}function STe(){return 1424}function PTe(){return bTe()|0}function bTe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,f=Kt(16)|0,h9(f),m=s+4|0,n[m>>2]=f,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],KF(f,m,d),n[c>>2]=f,C=l,s|0}function xTe(s,l){s=s|0,l=l|0,n[s>>2]=kTe()|0,n[s+4>>2]=QTe()|0,n[s+12>>2]=l,n[s+8>>2]=FTe()|0,n[s+32>>2]=5}function kTe(){return 11710}function QTe(){return 1416}function FTe(){return lD()|0}function RTe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(TTe(c),gt(c)):l|0&&gt(l)}function TTe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function lD(){var s=0;return o[7904]|0||(n[2600]=NTe()|0,n[2601]=0,s=7904,n[s>>2]=1,n[s+4>>2]=0),10400}function NTe(){return n[357]|0}function LTe(s){s=s|0,OTe(s,4926),MTe(s)|0}function OTe(s,l){s=s|0,l=l|0;var c=0;c=r5()|0,n[s>>2]=c,JTe(c,l),xp(n[s>>2]|0)}function MTe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,UTe()|0),s|0}function UTe(){var s=0;return o[7912]|0||(g9(10412),tr(56,10412,U|0)|0,s=7912,n[s>>2]=1,n[s+4>>2]=0),Tr(10412)|0||g9(10412),10412}function g9(s){s=s|0,qTe(s),Qg(s,57)}function _Te(s){s=s|0,HTe(s+24|0)}function HTe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function qTe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,5,l,WTe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function jTe(s){s=s|0,GTe(s)}function GTe(s){s=s|0,YTe(s)}function YTe(s){s=s|0;var l=0,c=0;l=s+8|0,c=l+48|0;do n[l>>2]=0,l=l+4|0;while((l|0)<(c|0));o[s+56>>0]=1}function WTe(){return 1432}function KTe(){return VTe()|0}function VTe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0,k=0;B=C,C=C+16|0,s=B+4|0,l=B,c=Wa(8)|0,f=c,d=Kt(48)|0,m=d,k=m+48|0;do n[m>>2]=0,m=m+4|0;while((m|0)<(k|0));return m=f+4|0,n[m>>2]=d,k=Kt(8)|0,m=n[m>>2]|0,n[l>>2]=0,n[s>>2]=n[l>>2],n5(k,m,s),n[c>>2]=k,C=B,f|0}function JTe(s,l){s=s|0,l=l|0,n[s>>2]=zTe()|0,n[s+4>>2]=XTe()|0,n[s+12>>2]=l,n[s+8>>2]=ZTe()|0,n[s+32>>2]=6}function zTe(){return 11704}function XTe(){return 1436}function ZTe(){return lD()|0}function $Te(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(eNe(c),gt(c)):l|0&&gt(l)}function eNe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function tNe(s){s=s|0,rNe(s,4933),nNe(s)|0,iNe(s)|0}function rNe(s,l){s=s|0,l=l|0;var c=0;c=bNe()|0,n[s>>2]=c,xNe(c,l),xp(n[s>>2]|0)}function nNe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,yNe()|0),s|0}function iNe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,sNe()|0),s|0}function sNe(){var s=0;return o[7920]|0||(d9(10452),tr(58,10452,U|0)|0,s=7920,n[s>>2]=1,n[s+4>>2]=0),Tr(10452)|0||d9(10452),10452}function d9(s){s=s|0,lNe(s),Qg(s,1)}function oNe(s){s=s|0,aNe(s+24|0)}function aNe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function lNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,1,l,fNe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function cNe(s,l,c){s=s|0,l=+l,c=+c,uNe(s,l,c)}function uNe(s,l,c){s=s|0,l=+l,c=+c;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,m=f+8|0,k=f+17|0,d=f,B=f+16|0,ku(k,l),E[m>>3]=+Qu(k,l),ku(B,c),E[d>>3]=+Qu(B,c),ANe(s,m,d),C=f}function ANe(s,l,c){s=s|0,l=l|0,c=c|0,m9(s+8|0,+E[l>>3],+E[c>>3]),o[s+24>>0]=1}function m9(s,l,c){s=s|0,l=+l,c=+c,E[s>>3]=l,E[s+8>>3]=c}function fNe(){return 1472}function pNe(s,l){return s=+s,l=+l,hNe(s,l)|0}function hNe(s,l){s=+s,l=+l;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+16|0,B=f+4|0,k=f+8|0,Q=f,d=Wa(8)|0,c=d,m=Kt(16)|0,ku(B,s),s=+Qu(B,s),ku(k,l),m9(m,s,+Qu(k,l)),k=c+4|0,n[k>>2]=m,m=Kt(8)|0,k=n[k>>2]|0,n[Q>>2]=0,n[B>>2]=n[Q>>2],y9(m,k,B),n[d>>2]=m,C=f,c|0}function y9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1452,n[c+12>>2]=l,n[s+4>>2]=c}function gNe(s){s=s|0,zm(s),gt(s)}function dNe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function mNe(s){s=s|0,gt(s)}function yNe(){var s=0;return o[7928]|0||(E9(10488),tr(59,10488,U|0)|0,s=7928,n[s>>2]=1,n[s+4>>2]=0),Tr(10488)|0||E9(10488),10488}function E9(s){s=s|0,wNe(s),Qg(s,60)}function ENe(s){s=s|0,CNe(s+24|0)}function CNe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function wNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,6,l,DNe()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function INe(s){s=s|0,BNe(s)}function BNe(s){s=s|0,vNe(s)}function vNe(s){s=s|0,C9(s+8|0),o[s+24>>0]=1}function C9(s){s=s|0,n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,n[s+12>>2]=0}function DNe(){return 1492}function SNe(){return PNe()|0}function PNe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,f=Kt(16)|0,C9(f),m=s+4|0,n[m>>2]=f,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],y9(f,m,d),n[c>>2]=f,C=l,s|0}function bNe(){var s=0;return o[7936]|0||(NNe(10524),tr(25,10524,U|0)|0,s=7936,n[s>>2]=1,n[s+4>>2]=0),10524}function xNe(s,l){s=s|0,l=l|0,n[s>>2]=kNe()|0,n[s+4>>2]=QNe()|0,n[s+12>>2]=l,n[s+8>>2]=FNe()|0,n[s+32>>2]=7}function kNe(){return 11700}function QNe(){return 1484}function FNe(){return lD()|0}function RNe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(TNe(c),gt(c)):l|0&&gt(l)}function TNe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function NNe(s){s=s|0,vp(s)}function LNe(s,l,c){s=s|0,l=l|0,c=c|0,s=pn(l)|0,l=ONe(c)|0,c=MNe(c,0)|0,hLe(s,l,c,cR()|0,0)}function ONe(s){return s=s|0,s|0}function MNe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=cR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(I9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(YNe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function cR(){var s=0,l=0;if(o[7944]|0||(w9(10568),tr(61,10568,U|0)|0,l=7944,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10568)|0)){s=10568,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));w9(10568)}return 10568}function w9(s){s=s|0,HNe(s)}function UNe(s){s=s|0,_Ne(s+24|0)}function _Ne(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function HNe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,17,l,C5()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function qNe(s){return s=s|0,GNe(n[(jNe(s)|0)>>2]|0)|0}function jNe(s){return s=s|0,(n[(cR()|0)+24>>2]|0)+(s<<3)|0}function GNe(s){return s=s|0,oD(CD[s&7]()|0)|0}function I9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function YNe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=WNe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,KNe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,I9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,VNe(s,d),JNe(d),C=k;return}}function WNe(s){return s=s|0,536870911}function KNe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function VNe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function JNe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function zNe(){XNe()}function XNe(){ZNe(10604)}function ZNe(s){s=s|0,$Ne(s,4955)}function $Ne(s,l){s=s|0,l=l|0;var c=0;c=eLe()|0,n[s>>2]=c,tLe(c,l),xp(n[s>>2]|0)}function eLe(){var s=0;return o[7952]|0||(uLe(10612),tr(25,10612,U|0)|0,s=7952,n[s>>2]=1,n[s+4>>2]=0),10612}function tLe(s,l){s=s|0,l=l|0,n[s>>2]=sLe()|0,n[s+4>>2]=oLe()|0,n[s+12>>2]=l,n[s+8>>2]=aLe()|0,n[s+32>>2]=8}function xp(s){s=s|0;var l=0,c=0;l=C,C=C+16|0,c=l,Ym()|0,n[c>>2]=s,rLe(10608,c),C=l}function Ym(){return o[11714]|0||(n[2652]=0,tr(62,10608,U|0)|0,o[11714]=1),10608}function rLe(s,l){s=s|0,l=l|0;var c=0;c=Kt(8)|0,n[c+4>>2]=n[l>>2],n[c>>2]=n[s>>2],n[s>>2]=c}function nLe(s){s=s|0,iLe(s)}function iLe(s){s=s|0;var l=0,c=0;if(l=n[s>>2]|0,l|0)do c=l,l=n[l>>2]|0,gt(c);while((l|0)!=0);n[s>>2]=0}function sLe(){return 11715}function oLe(){return 1496}function aLe(){return aD()|0}function lLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(cLe(c),gt(c)):l|0&&gt(l)}function cLe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function uLe(s){s=s|0,vp(s)}function ALe(s,l){s=s|0,l=l|0;var c=0,f=0;Ym()|0,c=n[2652]|0;e:do if(c|0){for(;f=n[c+4>>2]|0,!(f|0&&(n7(uR(f)|0,s)|0)==0);)if(c=n[c>>2]|0,!c)break e;fLe(f,l)}while(0)}function uR(s){return s=s|0,n[s+12>>2]|0}function fLe(s,l){s=s|0,l=l|0;var c=0;s=s+36|0,c=n[s>>2]|0,c|0&&(jA(c),gt(c)),c=Kt(4)|0,zG(c,l),n[s>>2]=c}function AR(){return o[11716]|0||(n[2664]=0,tr(63,10656,U|0)|0,o[11716]=1),10656}function B9(){var s=0;return o[11717]|0?s=n[2665]|0:(pLe(),n[2665]=1504,o[11717]=1,s=1504),s|0}function pLe(){o[11740]|0||(o[11718]=gr(gr(8,0)|0,0)|0,o[11719]=gr(gr(0,0)|0,0)|0,o[11720]=gr(gr(0,16)|0,0)|0,o[11721]=gr(gr(8,0)|0,0)|0,o[11722]=gr(gr(0,0)|0,0)|0,o[11723]=gr(gr(8,0)|0,0)|0,o[11724]=gr(gr(0,0)|0,0)|0,o[11725]=gr(gr(8,0)|0,0)|0,o[11726]=gr(gr(0,0)|0,0)|0,o[11727]=gr(gr(8,0)|0,0)|0,o[11728]=gr(gr(0,0)|0,0)|0,o[11729]=gr(gr(0,0)|0,32)|0,o[11730]=gr(gr(0,0)|0,32)|0,o[11740]=1)}function v9(){return 1572}function hLe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0;m=C,C=C+32|0,O=m+16|0,M=m+12|0,Q=m+8|0,k=m+4|0,B=m,n[O>>2]=s,n[M>>2]=l,n[Q>>2]=c,n[k>>2]=f,n[B>>2]=d,AR()|0,gLe(10656,O,M,Q,k,B),C=m}function gLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0;B=Kt(24)|0,$G(B+4|0,n[l>>2]|0,n[c>>2]|0,n[f>>2]|0,n[d>>2]|0,n[m>>2]|0),n[B>>2]=n[s>>2],n[s>>2]=B}function D9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0;if(lt=C,C=C+32|0,Me=lt+20|0,Qe=lt+8|0,et=lt+4|0,Xe=lt,l=n[l>>2]|0,l|0){Ge=Me+4|0,Q=Me+8|0,M=Qe+4|0,O=Qe+8|0,j=Qe+8|0,se=Me+8|0;do{if(B=l+4|0,k=fR(B)|0,k|0){if(d=Nw(k)|0,n[Me>>2]=0,n[Ge>>2]=0,n[Q>>2]=0,f=(Lw(k)|0)+1|0,dLe(Me,f),f|0)for(;f=f+-1|0,bc(Qe,n[d>>2]|0),m=n[Ge>>2]|0,m>>>0<(n[se>>2]|0)>>>0?(n[m>>2]=n[Qe>>2],n[Ge>>2]=(n[Ge>>2]|0)+4):pR(Me,Qe),f;)d=d+4|0;f=Ow(k)|0,n[Qe>>2]=0,n[M>>2]=0,n[O>>2]=0;e:do if(n[f>>2]|0)for(d=0,m=0;;){if((d|0)==(m|0)?mLe(Qe,f):(n[d>>2]=n[f>>2],n[M>>2]=(n[M>>2]|0)+4),f=f+4|0,!(n[f>>2]|0))break e;d=n[M>>2]|0,m=n[j>>2]|0}while(0);n[et>>2]=cD(B)|0,n[Xe>>2]=Tr(k)|0,yLe(c,s,et,Xe,Me,Qe),hR(Qe),ef(Me)}l=n[l>>2]|0}while((l|0)!=0)}C=lt}function fR(s){return s=s|0,n[s+12>>2]|0}function Nw(s){return s=s|0,n[s+12>>2]|0}function Lw(s){return s=s|0,n[s+16>>2]|0}function dLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+32|0,c=d,f=n[s>>2]|0,(n[s+8>>2]|0)-f>>2>>>0<l>>>0&&(R9(c,l,(n[s+4>>2]|0)-f>>2,s+8|0),T9(s,c),N9(c)),C=d}function pR(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;if(B=C,C=C+32|0,c=B,f=s+4|0,d=((n[f>>2]|0)-(n[s>>2]|0)>>2)+1|0,m=F9(s)|0,m>>>0<d>>>0)zr(s);else{k=n[s>>2]|0,M=(n[s+8>>2]|0)-k|0,Q=M>>1,R9(c,M>>2>>>0<m>>>1>>>0?Q>>>0<d>>>0?d:Q:m,(n[f>>2]|0)-k>>2,s+8|0),m=c+8|0,n[n[m>>2]>>2]=n[l>>2],n[m>>2]=(n[m>>2]|0)+4,T9(s,c),N9(c),C=B;return}}function Ow(s){return s=s|0,n[s+8>>2]|0}function mLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;if(B=C,C=C+32|0,c=B,f=s+4|0,d=((n[f>>2]|0)-(n[s>>2]|0)>>2)+1|0,m=Q9(s)|0,m>>>0<d>>>0)zr(s);else{k=n[s>>2]|0,M=(n[s+8>>2]|0)-k|0,Q=M>>1,OLe(c,M>>2>>>0<m>>>1>>>0?Q>>>0<d>>>0?d:Q:m,(n[f>>2]|0)-k>>2,s+8|0),m=c+8|0,n[n[m>>2]>>2]=n[l>>2],n[m>>2]=(n[m>>2]|0)+4,MLe(s,c),ULe(c),C=B;return}}function cD(s){return s=s|0,n[s>>2]|0}function yLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,ELe(s,l,c,f,d,m)}function hR(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ef(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-4-f|0)>>>2)<<2)),gt(c))}function ELe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+48|0,O=B+40|0,k=B+32|0,j=B+24|0,Q=B+12|0,M=B,Ka(k),s=da(s)|0,n[j>>2]=n[l>>2],c=n[c>>2]|0,f=n[f>>2]|0,gR(Q,d),CLe(M,m),n[O>>2]=n[j>>2],wLe(s,O,c,f,Q,M),hR(M),ef(Q),Va(k),C=B}function gR(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(NLe(s,f),LLe(s,n[l>>2]|0,n[c>>2]|0,f))}function CLe(s,l){s=s|0,l=l|0;var c=0,f=0;n[s>>2]=0,n[s+4>>2]=0,n[s+8>>2]=0,c=l+4|0,f=(n[c>>2]|0)-(n[l>>2]|0)>>2,f|0&&(RLe(s,f),TLe(s,n[l>>2]|0,n[c>>2]|0,f))}function wLe(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+32|0,O=B+28|0,j=B+24|0,k=B+12|0,Q=B,M=Sl(ILe()|0)|0,n[j>>2]=n[l>>2],n[O>>2]=n[j>>2],l=Fg(O)|0,c=S9(c)|0,f=dR(f)|0,n[k>>2]=n[d>>2],O=d+4|0,n[k+4>>2]=n[O>>2],j=d+8|0,n[k+8>>2]=n[j>>2],n[j>>2]=0,n[O>>2]=0,n[d>>2]=0,d=mR(k)|0,n[Q>>2]=n[m>>2],O=m+4|0,n[Q+4>>2]=n[O>>2],j=m+8|0,n[Q+8>>2]=n[j>>2],n[j>>2]=0,n[O>>2]=0,n[m>>2]=0,ao(0,M|0,s|0,l|0,c|0,f|0,d|0,BLe(Q)|0)|0,hR(Q),ef(k),C=B}function ILe(){var s=0;return o[7968]|0||(QLe(10708),s=7968,n[s>>2]=1,n[s+4>>2]=0),10708}function Fg(s){return s=s|0,b9(s)|0}function S9(s){return s=s|0,P9(s)|0}function dR(s){return s=s|0,oD(s)|0}function mR(s){return s=s|0,DLe(s)|0}function BLe(s){return s=s|0,vLe(s)|0}function vLe(s){s=s|0;var l=0,c=0,f=0;if(f=(n[s+4>>2]|0)-(n[s>>2]|0)|0,c=f>>2,f=Wa(f+4|0)|0,n[f>>2]=c,c|0){l=0;do n[f+4+(l<<2)>>2]=P9(n[(n[s>>2]|0)+(l<<2)>>2]|0)|0,l=l+1|0;while((l|0)!=(c|0))}return f|0}function P9(s){return s=s|0,s|0}function DLe(s){s=s|0;var l=0,c=0,f=0;if(f=(n[s+4>>2]|0)-(n[s>>2]|0)|0,c=f>>2,f=Wa(f+4|0)|0,n[f>>2]=c,c|0){l=0;do n[f+4+(l<<2)>>2]=b9((n[s>>2]|0)+(l<<2)|0)|0,l=l+1|0;while((l|0)!=(c|0))}return f|0}function b9(s){s=s|0;var l=0,c=0,f=0,d=0;return d=C,C=C+32|0,l=d+12|0,c=d,f=xF(x9()|0)|0,f?(kF(l,f),QF(c,l),aUe(s,c),s=FF(l)|0):s=SLe(s)|0,C=d,s|0}function x9(){var s=0;return o[7960]|0||(kLe(10664),tr(25,10664,U|0)|0,s=7960,n[s>>2]=1,n[s+4>>2]=0),10664}function SLe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(4)|0,n[k>>2]=n[s>>2],m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],k9(s,m,d),n[f>>2]=s,C=c,l|0}function k9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1656,n[c+12>>2]=l,n[s+4>>2]=c}function PLe(s){s=s|0,zm(s),gt(s)}function bLe(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function xLe(s){s=s|0,gt(s)}function kLe(s){s=s|0,vp(s)}function QLe(s){s=s|0,Pl(s,FLe()|0,5)}function FLe(){return 1676}function RLe(s,l){s=s|0,l=l|0;var c=0;if((Q9(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function TLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function Q9(s){return s=s|0,1073741823}function NLe(s,l){s=s|0,l=l|0;var c=0;if((F9(s)|0)>>>0<l>>>0&&zr(s),l>>>0>1073741823)Rt();else{c=Kt(l<<2)|0,n[s+4>>2]=c,n[s>>2]=c,n[s+8>>2]=c+(l<<2);return}}function LLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,f=s+4|0,s=c-l|0,(s|0)>0&&(Dr(n[f>>2]|0,l|0,s|0)|0,n[f>>2]=(n[f>>2]|0)+(s>>>2<<2))}function F9(s){return s=s|0,1073741823}function OLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function MLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function ULe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function R9(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>1073741823)Rt();else{d=Kt(l<<2)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<2)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<2)}function T9(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>2)<<2)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function N9(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-4-l|0)>>>2)<<2)),s=n[s>>2]|0,s|0&&gt(s)}function _Le(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;if(Qe=C,C=C+32|0,O=Qe+20|0,j=Qe+12|0,M=Qe+16|0,se=Qe+4|0,Ge=Qe,Me=Qe+8|0,k=B9()|0,m=n[k>>2]|0,B=n[m>>2]|0,B|0)for(Q=n[k+8>>2]|0,k=n[k+4>>2]|0;bc(O,B),HLe(s,O,k,Q),m=m+4|0,B=n[m>>2]|0,B;)Q=Q+1|0,k=k+1|0;if(m=v9()|0,B=n[m>>2]|0,B|0)do bc(O,B),n[j>>2]=n[m+4>>2],qLe(l,O,j),m=m+8|0,B=n[m>>2]|0;while((B|0)!=0);if(m=n[(Ym()|0)>>2]|0,m|0)do l=n[m+4>>2]|0,bc(O,n[(Wm(l)|0)>>2]|0),n[j>>2]=uR(l)|0,jLe(c,O,j),m=n[m>>2]|0;while((m|0)!=0);if(bc(M,0),m=AR()|0,n[O>>2]=n[M>>2],D9(O,m,d),m=n[(Ym()|0)>>2]|0,m|0){s=O+4|0,l=O+8|0,c=O+8|0;do{if(Q=n[m+4>>2]|0,bc(j,n[(Wm(Q)|0)>>2]|0),GLe(se,L9(Q)|0),B=n[se>>2]|0,B|0){n[O>>2]=0,n[s>>2]=0,n[l>>2]=0;do bc(Ge,n[(Wm(n[B+4>>2]|0)|0)>>2]|0),k=n[s>>2]|0,k>>>0<(n[c>>2]|0)>>>0?(n[k>>2]=n[Ge>>2],n[s>>2]=(n[s>>2]|0)+4):pR(O,Ge),B=n[B>>2]|0;while((B|0)!=0);YLe(f,j,O),ef(O)}n[Me>>2]=n[j>>2],M=O9(Q)|0,n[O>>2]=n[Me>>2],D9(O,M,d),s5(se),m=n[m>>2]|0}while((m|0)!=0)}C=Qe}function HLe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,nOe(s,l,c,f)}function qLe(s,l,c){s=s|0,l=l|0,c=c|0,rOe(s,l,c)}function Wm(s){return s=s|0,s|0}function jLe(s,l,c){s=s|0,l=l|0,c=c|0,ZLe(s,l,c)}function L9(s){return s=s|0,s+16|0}function GLe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;if(m=C,C=C+16|0,d=m+8|0,c=m,n[s>>2]=0,f=n[l>>2]|0,n[d>>2]=f,n[c>>2]=s,c=XLe(c)|0,f|0){if(f=Kt(12)|0,B=(M9(d)|0)+4|0,s=n[B+4>>2]|0,l=f+4|0,n[l>>2]=n[B>>2],n[l+4>>2]=s,l=n[n[d>>2]>>2]|0,n[d>>2]=l,!l)s=f;else for(l=f;s=Kt(12)|0,Q=(M9(d)|0)+4|0,k=n[Q+4>>2]|0,B=s+4|0,n[B>>2]=n[Q>>2],n[B+4>>2]=k,n[l>>2]=s,B=n[n[d>>2]>>2]|0,n[d>>2]=B,B;)l=s;n[s>>2]=n[c>>2],n[c>>2]=f}C=m}function YLe(s,l,c){s=s|0,l=l|0,c=c|0,WLe(s,l,c)}function O9(s){return s=s|0,s+24|0}function WLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,B=f+24|0,d=f+16|0,k=f+12|0,m=f,Ka(d),s=da(s)|0,n[k>>2]=n[l>>2],gR(m,c),n[B>>2]=n[k>>2],KLe(s,B,m),ef(m),Va(d),C=f}function KLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=C,C=C+32|0,B=f+16|0,k=f+12|0,d=f,m=Sl(VLe()|0)|0,n[k>>2]=n[l>>2],n[B>>2]=n[k>>2],l=Fg(B)|0,n[d>>2]=n[c>>2],B=c+4|0,n[d+4>>2]=n[B>>2],k=c+8|0,n[d+8>>2]=n[k>>2],n[k>>2]=0,n[B>>2]=0,n[c>>2]=0,oo(0,m|0,s|0,l|0,mR(d)|0)|0,ef(d),C=f}function VLe(){var s=0;return o[7976]|0||(JLe(10720),s=7976,n[s>>2]=1,n[s+4>>2]=0),10720}function JLe(s){s=s|0,Pl(s,zLe()|0,2)}function zLe(){return 1732}function XLe(s){return s=s|0,n[s>>2]|0}function M9(s){return s=s|0,n[s>>2]|0}function ZLe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+32|0,m=f+16|0,d=f+8|0,B=f,Ka(d),s=da(s)|0,n[B>>2]=n[l>>2],c=n[c>>2]|0,n[m>>2]=n[B>>2],U9(s,m,c),Va(d),C=f}function U9(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+16|0,m=f+4|0,B=f,d=Sl($Le()|0)|0,n[B>>2]=n[l>>2],n[m>>2]=n[B>>2],l=Fg(m)|0,oo(0,d|0,s|0,l|0,S9(c)|0)|0,C=f}function $Le(){var s=0;return o[7984]|0||(eOe(10732),s=7984,n[s>>2]=1,n[s+4>>2]=0),10732}function eOe(s){s=s|0,Pl(s,tOe()|0,2)}function tOe(){return 1744}function rOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;f=C,C=C+32|0,m=f+16|0,d=f+8|0,B=f,Ka(d),s=da(s)|0,n[B>>2]=n[l>>2],c=n[c>>2]|0,n[m>>2]=n[B>>2],U9(s,m,c),Va(d),C=f}function nOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+32|0,B=d+16|0,m=d+8|0,k=d,Ka(m),s=da(s)|0,n[k>>2]=n[l>>2],c=o[c>>0]|0,f=o[f>>0]|0,n[B>>2]=n[k>>2],iOe(s,B,c,f),Va(m),C=d}function iOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,B=d+4|0,k=d,m=Sl(sOe()|0)|0,n[k>>2]=n[l>>2],n[B>>2]=n[k>>2],l=Fg(B)|0,c=Km(c)|0,pc(0,m|0,s|0,l|0,c|0,Km(f)|0)|0,C=d}function sOe(){var s=0;return o[7992]|0||(aOe(10744),s=7992,n[s>>2]=1,n[s+4>>2]=0),10744}function Km(s){return s=s|0,oOe(s)|0}function oOe(s){return s=s|0,s&255|0}function aOe(s){s=s|0,Pl(s,lOe()|0,3)}function lOe(){return 1756}function cOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;switch(se=C,C=C+32|0,k=se+8|0,Q=se+4|0,M=se+20|0,O=se,LF(s,0),f=oUe(l)|0,n[k>>2]=0,j=k+4|0,n[j>>2]=0,n[k+8>>2]=0,f<<24>>24){case 0:{o[M>>0]=0,uOe(Q,c,M),uD(s,Q)|0,GA(Q);break}case 8:{j=BR(l)|0,o[M>>0]=8,bc(O,n[j+4>>2]|0),AOe(Q,c,M,O,j+8|0),uD(s,Q)|0,GA(Q);break}case 9:{if(m=BR(l)|0,l=n[m+4>>2]|0,l|0)for(B=k+8|0,d=m+12|0;l=l+-1|0,bc(Q,n[d>>2]|0),f=n[j>>2]|0,f>>>0<(n[B>>2]|0)>>>0?(n[f>>2]=n[Q>>2],n[j>>2]=(n[j>>2]|0)+4):pR(k,Q),l;)d=d+4|0;o[M>>0]=9,bc(O,n[m+8>>2]|0),fOe(Q,c,M,O,k),uD(s,Q)|0,GA(Q);break}default:j=BR(l)|0,o[M>>0]=f,bc(O,n[j+4>>2]|0),pOe(Q,c,M,O),uD(s,Q)|0,GA(Q)}ef(k),C=se}function uOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;f=C,C=C+16|0,d=f,Ka(d),l=da(l)|0,SOe(s,l,o[c>>0]|0),Va(d),C=f}function uD(s,l){s=s|0,l=l|0;var c=0;return c=n[s>>2]|0,c|0&&PA(c|0),n[s>>2]=n[l>>2],n[l>>2]=0,s|0}function AOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+32|0,k=m+16|0,B=m+8|0,Q=m,Ka(B),l=da(l)|0,c=o[c>>0]|0,n[Q>>2]=n[f>>2],d=n[d>>2]|0,n[k>>2]=n[Q>>2],IOe(s,l,c,k,d),Va(B),C=m}function fOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0;m=C,C=C+32|0,Q=m+24|0,B=m+16|0,M=m+12|0,k=m,Ka(B),l=da(l)|0,c=o[c>>0]|0,n[M>>2]=n[f>>2],gR(k,d),n[Q>>2]=n[M>>2],yOe(s,l,c,Q,k),ef(k),Va(B),C=m}function pOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+32|0,B=d+16|0,m=d+8|0,k=d,Ka(m),l=da(l)|0,c=o[c>>0]|0,n[k>>2]=n[f>>2],n[B>>2]=n[k>>2],hOe(s,l,c,B),Va(m),C=d}function hOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0,B=0,k=0;d=C,C=C+16|0,m=d+4|0,k=d,B=Sl(gOe()|0)|0,c=Km(c)|0,n[k>>2]=n[f>>2],n[m>>2]=n[k>>2],AD(s,oo(0,B|0,l|0,c|0,Fg(m)|0)|0),C=d}function gOe(){var s=0;return o[8e3]|0||(dOe(10756),s=8e3,n[s>>2]=1,n[s+4>>2]=0),10756}function AD(s,l){s=s|0,l=l|0,LF(s,l)}function dOe(s){s=s|0,Pl(s,mOe()|0,2)}function mOe(){return 1772}function yOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0;m=C,C=C+32|0,Q=m+16|0,M=m+12|0,B=m,k=Sl(EOe()|0)|0,c=Km(c)|0,n[M>>2]=n[f>>2],n[Q>>2]=n[M>>2],f=Fg(Q)|0,n[B>>2]=n[d>>2],Q=d+4|0,n[B+4>>2]=n[Q>>2],M=d+8|0,n[B+8>>2]=n[M>>2],n[M>>2]=0,n[Q>>2]=0,n[d>>2]=0,AD(s,pc(0,k|0,l|0,c|0,f|0,mR(B)|0)|0),ef(B),C=m}function EOe(){var s=0;return o[8008]|0||(COe(10768),s=8008,n[s>>2]=1,n[s+4>>2]=0),10768}function COe(s){s=s|0,Pl(s,wOe()|0,3)}function wOe(){return 1784}function IOe(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0;m=C,C=C+16|0,k=m+4|0,Q=m,B=Sl(BOe()|0)|0,c=Km(c)|0,n[Q>>2]=n[f>>2],n[k>>2]=n[Q>>2],f=Fg(k)|0,AD(s,pc(0,B|0,l|0,c|0,f|0,dR(d)|0)|0),C=m}function BOe(){var s=0;return o[8016]|0||(vOe(10780),s=8016,n[s>>2]=1,n[s+4>>2]=0),10780}function vOe(s){s=s|0,Pl(s,DOe()|0,3)}function DOe(){return 1800}function SOe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;f=Sl(POe()|0)|0,AD(s,Qn(0,f|0,l|0,Km(c)|0)|0)}function POe(){var s=0;return o[8024]|0||(bOe(10792),s=8024,n[s>>2]=1,n[s+4>>2]=0),10792}function bOe(s){s=s|0,Pl(s,xOe()|0,1)}function xOe(){return 1816}function kOe(){QOe(),FOe(),ROe()}function QOe(){n[2702]=p7(65536)|0}function FOe(){$Oe(10856)}function ROe(){TOe(10816)}function TOe(s){s=s|0,NOe(s,5044),LOe(s)|0}function NOe(s,l){s=s|0,l=l|0;var c=0;c=x9()|0,n[s>>2]=c,KOe(c,l),xp(n[s>>2]|0)}function LOe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,OOe()|0),s|0}function OOe(){var s=0;return o[8032]|0||(_9(10820),tr(64,10820,U|0)|0,s=8032,n[s>>2]=1,n[s+4>>2]=0),Tr(10820)|0||_9(10820),10820}function _9(s){s=s|0,_Oe(s),Qg(s,25)}function MOe(s){s=s|0,UOe(s+24|0)}function UOe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function _Oe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,18,l,GOe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function HOe(s,l){s=s|0,l=l|0,qOe(s,l)}function qOe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;c=C,C=C+16|0,f=c,d=c+4|0,bg(d,l),n[f>>2]=xg(d,l)|0,jOe(s,f),C=c}function jOe(s,l){s=s|0,l=l|0,H9(s+4|0,n[l>>2]|0),o[s+8>>0]=1}function H9(s,l){s=s|0,l=l|0,n[s>>2]=l}function GOe(){return 1824}function YOe(s){return s=s|0,WOe(s)|0}function WOe(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0;return c=C,C=C+16|0,d=c+4|0,B=c,f=Wa(8)|0,l=f,k=Kt(4)|0,bg(d,s),H9(k,xg(d,s)|0),m=l+4|0,n[m>>2]=k,s=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],k9(s,m,d),n[f>>2]=s,C=c,l|0}function Wa(s){s=s|0;var l=0,c=0;return s=s+7&-8,s>>>0<=32768&&(l=n[2701]|0,s>>>0<=(65536-l|0)>>>0)?(c=(n[2702]|0)+l|0,n[2701]=l+s,s=c):(s=p7(s+8|0)|0,n[s>>2]=n[2703],n[2703]=s,s=s+8|0),s|0}function KOe(s,l){s=s|0,l=l|0,n[s>>2]=VOe()|0,n[s+4>>2]=JOe()|0,n[s+12>>2]=l,n[s+8>>2]=zOe()|0,n[s+32>>2]=9}function VOe(){return 11744}function JOe(){return 1832}function zOe(){return lD()|0}function XOe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(ZOe(c),gt(c)):l|0&&gt(l)}function ZOe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function $Oe(s){s=s|0,eMe(s,5052),tMe(s)|0,rMe(s,5058,26)|0,nMe(s,5069,1)|0,iMe(s,5077,10)|0,sMe(s,5087,19)|0,oMe(s,5094,27)|0}function eMe(s,l){s=s|0,l=l|0;var c=0;c=Z4e()|0,n[s>>2]=c,$4e(c,l),xp(n[s>>2]|0)}function tMe(s){s=s|0;var l=0;return l=n[s>>2]|0,kg(l,M4e()|0),s|0}function rMe(s,l,c){return s=s|0,l=l|0,c=c|0,C4e(s,pn(l)|0,c,0),s|0}function nMe(s,l,c){return s=s|0,l=l|0,c=c|0,s4e(s,pn(l)|0,c,0),s|0}function iMe(s,l,c){return s=s|0,l=l|0,c=c|0,OMe(s,pn(l)|0,c,0),s|0}function sMe(s,l,c){return s=s|0,l=l|0,c=c|0,IMe(s,pn(l)|0,c,0),s|0}function q9(s,l){s=s|0,l=l|0;var c=0,f=0;e:for(;;){for(c=n[2703]|0;;){if((c|0)==(l|0))break e;if(f=n[c>>2]|0,n[2703]=f,!c)c=f;else break}gt(c)}n[2701]=s}function oMe(s,l,c){return s=s|0,l=l|0,c=c|0,aMe(s,pn(l)|0,c,0),s|0}function aMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=yR()|0,s=lMe(c)|0,hn(m,l,d,s,cMe(c,f)|0,f)}function yR(){var s=0,l=0;if(o[8040]|0||(G9(10860),tr(65,10860,U|0)|0,l=8040,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10860)|0)){s=10860,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));G9(10860)}return 10860}function lMe(s){return s=s|0,s|0}function cMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=yR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(j9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(uMe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function j9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function uMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=AMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,fMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,j9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,pMe(s,d),hMe(d),C=k;return}}function AMe(s){return s=s|0,536870911}function fMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function pMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function hMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function G9(s){s=s|0,mMe(s)}function gMe(s){s=s|0,dMe(s+24|0)}function dMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function mMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,11,l,yMe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function yMe(){return 1840}function EMe(s,l,c){s=s|0,l=l|0,c=c|0,wMe(n[(CMe(s)|0)>>2]|0,l,c)}function CMe(s){return s=s|0,(n[(yR()|0)+24>>2]|0)+(s<<3)|0}function wMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;f=C,C=C+16|0,m=f+1|0,d=f,bg(m,l),l=xg(m,l)|0,bg(d,c),c=xg(d,c)|0,rf[s&31](l,c),C=f}function IMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=ER()|0,s=BMe(c)|0,hn(m,l,d,s,vMe(c,f)|0,f)}function ER(){var s=0,l=0;if(o[8048]|0||(W9(10896),tr(66,10896,U|0)|0,l=8048,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10896)|0)){s=10896,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));W9(10896)}return 10896}function BMe(s){return s=s|0,s|0}function vMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=ER()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(Y9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(DMe(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function Y9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function DMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=SMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,PMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,Y9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,bMe(s,d),xMe(d),C=k;return}}function SMe(s){return s=s|0,536870911}function PMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function bMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function xMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function W9(s){s=s|0,FMe(s)}function kMe(s){s=s|0,QMe(s+24|0)}function QMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function FMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,11,l,RMe()|0,1),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function RMe(){return 1852}function TMe(s,l){return s=s|0,l=l|0,LMe(n[(NMe(s)|0)>>2]|0,l)|0}function NMe(s){return s=s|0,(n[(ER()|0)+24>>2]|0)+(s<<3)|0}function LMe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,bg(f,l),l=xg(f,l)|0,l=oD(Lg[s&31](l)|0)|0,C=c,l|0}function OMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=CR()|0,s=MMe(c)|0,hn(m,l,d,s,UMe(c,f)|0,f)}function CR(){var s=0,l=0;if(o[8056]|0||(V9(10932),tr(67,10932,U|0)|0,l=8056,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10932)|0)){s=10932,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));V9(10932)}return 10932}function MMe(s){return s=s|0,s|0}function UMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=CR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(K9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(_Me(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function K9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function _Me(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=HMe(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,qMe(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,K9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,jMe(s,d),GMe(d),C=k;return}}function HMe(s){return s=s|0,536870911}function qMe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function jMe(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function GMe(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function V9(s){s=s|0,KMe(s)}function YMe(s){s=s|0,WMe(s+24|0)}function WMe(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function KMe(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,7,l,VMe()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function VMe(){return 1860}function JMe(s,l,c){return s=s|0,l=l|0,c=c|0,XMe(n[(zMe(s)|0)>>2]|0,l,c)|0}function zMe(s){return s=s|0,(n[(CR()|0)+24>>2]|0)+(s<<3)|0}function XMe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0;return f=C,C=C+32|0,B=f+12|0,m=f+8|0,k=f,Q=f+16|0,d=f+4|0,ZMe(Q,l),$Me(k,Q,l),Dp(d,c),c=Sp(d,c)|0,n[B>>2]=n[k>>2],Hw[s&15](m,B,c),c=e4e(m)|0,GA(m),Pp(d),C=f,c|0}function ZMe(s,l){s=s|0,l=l|0}function $Me(s,l,c){s=s|0,l=l|0,c=c|0,t4e(s,c)}function e4e(s){return s=s|0,da(s)|0}function t4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0;d=C,C=C+16|0,c=d,f=l,f&1?(r4e(c,0),ii(f|0,c|0)|0,n4e(s,c),i4e(c)):n[s>>2]=n[l>>2],C=d}function r4e(s,l){s=s|0,l=l|0,XG(s,l),n[s+4>>2]=0,o[s+8>>0]=0}function n4e(s,l){s=s|0,l=l|0,n[s>>2]=n[l+4>>2]}function i4e(s){s=s|0,o[s+8>>0]=0}function s4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=wR()|0,s=o4e(c)|0,hn(m,l,d,s,a4e(c,f)|0,f)}function wR(){var s=0,l=0;if(o[8064]|0||(z9(10968),tr(68,10968,U|0)|0,l=8064,n[l>>2]=1,n[l+4>>2]=0),!(Tr(10968)|0)){s=10968,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));z9(10968)}return 10968}function o4e(s){return s=s|0,s|0}function a4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=wR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(J9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(l4e(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function J9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function l4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=c4e(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,u4e(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,J9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,A4e(s,d),f4e(d),C=k;return}}function c4e(s){return s=s|0,536870911}function u4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function A4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function f4e(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function z9(s){s=s|0,g4e(s)}function p4e(s){s=s|0,h4e(s+24|0)}function h4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function g4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,1,l,d4e()|0,5),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function d4e(){return 1872}function m4e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,E4e(n[(y4e(s)|0)>>2]|0,l,c,f,d,m)}function y4e(s){return s=s|0,(n[(wR()|0)+24>>2]|0)+(s<<3)|0}function E4e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0;B=C,C=C+32|0,k=B+16|0,Q=B+12|0,M=B+8|0,O=B+4|0,j=B,Dp(k,l),l=Sp(k,l)|0,Dp(Q,c),c=Sp(Q,c)|0,Dp(M,f),f=Sp(M,f)|0,Dp(O,d),d=Sp(O,d)|0,Dp(j,m),m=Sp(j,m)|0,y7[s&1](l,c,f,d,m),Pp(j),Pp(O),Pp(M),Pp(Q),Pp(k),C=B}function C4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;m=n[s>>2]|0,d=IR()|0,s=w4e(c)|0,hn(m,l,d,s,I4e(c,f)|0,f)}function IR(){var s=0,l=0;if(o[8072]|0||(Z9(11004),tr(69,11004,U|0)|0,l=8072,n[l>>2]=1,n[l+4>>2]=0),!(Tr(11004)|0)){s=11004,l=s+36|0;do n[s>>2]=0,s=s+4|0;while((s|0)<(l|0));Z9(11004)}return 11004}function w4e(s){return s=s|0,s|0}function I4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0,k=0,Q=0;return k=C,C=C+16|0,d=k,m=k+4|0,n[d>>2]=s,Q=IR()|0,B=Q+24|0,l=gr(l,4)|0,n[m>>2]=l,c=Q+28|0,f=n[c>>2]|0,f>>>0<(n[Q+32>>2]|0)>>>0?(X9(f,s,l),l=(n[c>>2]|0)+8|0,n[c>>2]=l):(B4e(B,d,m),l=n[c>>2]|0),C=k,(l-(n[B>>2]|0)>>3)+-1|0}function X9(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,n[s+4>>2]=c}function B4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0;if(k=C,C=C+32|0,d=k,m=s+4|0,B=((n[m>>2]|0)-(n[s>>2]|0)>>3)+1|0,f=v4e(s)|0,f>>>0<B>>>0)zr(s);else{Q=n[s>>2]|0,O=(n[s+8>>2]|0)-Q|0,M=O>>2,D4e(d,O>>3>>>0<f>>>1>>>0?M>>>0<B>>>0?B:M:f,(n[m>>2]|0)-Q>>3,s+8|0),B=d+8|0,X9(n[B>>2]|0,n[l>>2]|0,n[c>>2]|0),n[B>>2]=(n[B>>2]|0)+8,S4e(s,d),P4e(d),C=k;return}}function v4e(s){return s=s|0,536870911}function D4e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0;n[s+12>>2]=0,n[s+16>>2]=f;do if(l)if(l>>>0>536870911)Rt();else{d=Kt(l<<3)|0;break}else d=0;while(0);n[s>>2]=d,f=d+(c<<3)|0,n[s+8>>2]=f,n[s+4>>2]=f,n[s+12>>2]=d+(l<<3)}function S4e(s,l){s=s|0,l=l|0;var c=0,f=0,d=0,m=0,B=0;f=n[s>>2]|0,B=s+4|0,m=l+4|0,d=(n[B>>2]|0)-f|0,c=(n[m>>2]|0)+(0-(d>>3)<<3)|0,n[m>>2]=c,(d|0)>0?(Dr(c|0,f|0,d|0)|0,f=m,c=n[m>>2]|0):f=m,m=n[s>>2]|0,n[s>>2]=c,n[f>>2]=m,m=l+8|0,d=n[B>>2]|0,n[B>>2]=n[m>>2],n[m>>2]=d,m=s+8|0,B=l+12|0,s=n[m>>2]|0,n[m>>2]=n[B>>2],n[B>>2]=s,n[l>>2]=n[f>>2]}function P4e(s){s=s|0;var l=0,c=0,f=0;l=n[s+4>>2]|0,c=s+8|0,f=n[c>>2]|0,(f|0)!=(l|0)&&(n[c>>2]=f+(~((f+-8-l|0)>>>3)<<3)),s=n[s>>2]|0,s|0&&gt(s)}function Z9(s){s=s|0,k4e(s)}function b4e(s){s=s|0,x4e(s+24|0)}function x4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function k4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,1,12,l,Q4e()|0,2),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function Q4e(){return 1896}function F4e(s,l,c){s=s|0,l=l|0,c=c|0,T4e(n[(R4e(s)|0)>>2]|0,l,c)}function R4e(s){return s=s|0,(n[(IR()|0)+24>>2]|0)+(s<<3)|0}function T4e(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;f=C,C=C+16|0,m=f+4|0,d=f,N4e(m,l),l=L4e(m,l)|0,Dp(d,c),c=Sp(d,c)|0,rf[s&31](l,c),Pp(d),C=f}function N4e(s,l){s=s|0,l=l|0}function L4e(s,l){return s=s|0,l=l|0,O4e(l)|0}function O4e(s){return s=s|0,s|0}function M4e(){var s=0;return o[8080]|0||($9(11040),tr(70,11040,U|0)|0,s=8080,n[s>>2]=1,n[s+4>>2]=0),Tr(11040)|0||$9(11040),11040}function $9(s){s=s|0,H4e(s),Qg(s,71)}function U4e(s){s=s|0,_4e(s+24|0)}function _4e(s){s=s|0;var l=0,c=0,f=0;c=n[s>>2]|0,f=c,c|0&&(s=s+4|0,l=n[s>>2]|0,(l|0)!=(c|0)&&(n[s>>2]=l+(~((l+-8-f|0)>>>3)<<3)),gt(c))}function H4e(s){s=s|0;var l=0;l=Kr()|0,Vr(s,5,7,l,Y4e()|0,0),n[s+24>>2]=0,n[s+28>>2]=0,n[s+32>>2]=0}function q4e(s){s=s|0,j4e(s)}function j4e(s){s=s|0,G4e(s)}function G4e(s){s=s|0,o[s+8>>0]=1}function Y4e(){return 1936}function W4e(){return K4e()|0}function K4e(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0;return l=C,C=C+16|0,d=l+4|0,B=l,c=Wa(8)|0,s=c,m=s+4|0,n[m>>2]=Kt(1)|0,f=Kt(8)|0,m=n[m>>2]|0,n[B>>2]=0,n[d>>2]=n[B>>2],V4e(f,m,d),n[c>>2]=f,C=l,s|0}function V4e(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]=l,c=Kt(16)|0,n[c+4>>2]=0,n[c+8>>2]=0,n[c>>2]=1916,n[c+12>>2]=l,n[s+4>>2]=c}function J4e(s){s=s|0,zm(s),gt(s)}function z4e(s){s=s|0,s=n[s+12>>2]|0,s|0&&gt(s)}function X4e(s){s=s|0,gt(s)}function Z4e(){var s=0;return o[8088]|0||(sUe(11076),tr(25,11076,U|0)|0,s=8088,n[s>>2]=1,n[s+4>>2]=0),11076}function $4e(s,l){s=s|0,l=l|0,n[s>>2]=eUe()|0,n[s+4>>2]=tUe()|0,n[s+12>>2]=l,n[s+8>>2]=rUe()|0,n[s+32>>2]=10}function eUe(){return 11745}function tUe(){return 1940}function rUe(){return aD()|0}function nUe(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,(bp(f,896)|0)==512?c|0&&(iUe(c),gt(c)):l|0&&gt(l)}function iUe(s){s=s|0,s=n[s+4>>2]|0,s|0&&kp(s)}function sUe(s){s=s|0,vp(s)}function bc(s,l){s=s|0,l=l|0,n[s>>2]=l}function BR(s){return s=s|0,n[s>>2]|0}function oUe(s){return s=s|0,o[n[s>>2]>>0]|0}function aUe(s,l){s=s|0,l=l|0;var c=0,f=0;c=C,C=C+16|0,f=c,n[f>>2]=n[s>>2],lUe(l,f)|0,C=c}function lUe(s,l){s=s|0,l=l|0;var c=0;return c=cUe(n[s>>2]|0,l)|0,l=s+4|0,n[(n[l>>2]|0)+8>>2]=c,n[(n[l>>2]|0)+8>>2]|0}function cUe(s,l){s=s|0,l=l|0;var c=0,f=0;return c=C,C=C+16|0,f=c,Ka(f),s=da(s)|0,l=uUe(s,n[l>>2]|0)|0,Va(f),C=c,l|0}function Ka(s){s=s|0,n[s>>2]=n[2701],n[s+4>>2]=n[2703]}function uUe(s,l){s=s|0,l=l|0;var c=0;return c=Sl(AUe()|0)|0,Qn(0,c|0,s|0,dR(l)|0)|0}function Va(s){s=s|0,q9(n[s>>2]|0,n[s+4>>2]|0)}function AUe(){var s=0;return o[8096]|0||(fUe(11120),s=8096,n[s>>2]=1,n[s+4>>2]=0),11120}function fUe(s){s=s|0,Pl(s,pUe()|0,1)}function pUe(){return 1948}function hUe(){gUe()}function gUe(){var s=0,l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;if(Me=C,C=C+16|0,O=Me+4|0,j=Me,Ni(65536,10804,n[2702]|0,10812),c=B9()|0,l=n[c>>2]|0,s=n[l>>2]|0,s|0)for(f=n[c+8>>2]|0,c=n[c+4>>2]|0;uc(s|0,u[c>>0]|0|0,o[f>>0]|0),l=l+4|0,s=n[l>>2]|0,s;)f=f+1|0,c=c+1|0;if(s=v9()|0,l=n[s>>2]|0,l|0)do uu(l|0,n[s+4>>2]|0),s=s+8|0,l=n[s>>2]|0;while((l|0)!=0);uu(dUe()|0,5167),M=Ym()|0,s=n[M>>2]|0;e:do if(s|0){do mUe(n[s+4>>2]|0),s=n[s>>2]|0;while((s|0)!=0);if(s=n[M>>2]|0,s|0){Q=M;do{for(;d=s,s=n[s>>2]|0,d=n[d+4>>2]|0,!!(yUe(d)|0);)if(n[j>>2]=Q,n[O>>2]=n[j>>2],EUe(M,O)|0,!s)break e;if(CUe(d),Q=n[Q>>2]|0,l=e7(d)|0,m=Hi()|0,B=C,C=C+((1*(l<<2)|0)+15&-16)|0,k=C,C=C+((1*(l<<2)|0)+15&-16)|0,l=n[(L9(d)|0)>>2]|0,l|0)for(c=B,f=k;n[c>>2]=n[(Wm(n[l+4>>2]|0)|0)>>2],n[f>>2]=n[l+8>>2],l=n[l>>2]|0,l;)c=c+4|0,f=f+4|0;Qe=Wm(d)|0,l=wUe(d)|0,c=e7(d)|0,f=IUe(d)|0,Au(Qe|0,l|0,B|0,k|0,c|0,f|0,uR(d)|0),_i(m|0)}while((s|0)!=0)}}while(0);if(s=n[(AR()|0)>>2]|0,s|0)do Qe=s+4|0,M=fR(Qe)|0,d=Ow(M)|0,m=Nw(M)|0,B=(Lw(M)|0)+1|0,k=fD(M)|0,Q=t7(Qe)|0,M=Tr(M)|0,O=cD(Qe)|0,j=vR(Qe)|0,El(0,d|0,m|0,B|0,k|0,Q|0,M|0,O|0,j|0,DR(Qe)|0),s=n[s>>2]|0;while((s|0)!=0);s=n[(Ym()|0)>>2]|0;e:do if(s|0){t:for(;;){if(l=n[s+4>>2]|0,l|0&&(se=n[(Wm(l)|0)>>2]|0,Ge=n[(O9(l)|0)>>2]|0,Ge|0)){c=Ge;do{l=c+4|0,f=fR(l)|0;r:do if(f|0)switch(Tr(f)|0){case 0:break t;case 4:case 3:case 2:{k=Ow(f)|0,Q=Nw(f)|0,M=(Lw(f)|0)+1|0,O=fD(f)|0,j=Tr(f)|0,Qe=cD(l)|0,El(se|0,k|0,Q|0,M|0,O|0,0,j|0,Qe|0,vR(l)|0,DR(l)|0);break r}case 1:{B=Ow(f)|0,k=Nw(f)|0,Q=(Lw(f)|0)+1|0,M=fD(f)|0,O=t7(l)|0,j=Tr(f)|0,Qe=cD(l)|0,El(se|0,B|0,k|0,Q|0,M|0,O|0,j|0,Qe|0,vR(l)|0,DR(l)|0);break r}case 5:{M=Ow(f)|0,O=Nw(f)|0,j=(Lw(f)|0)+1|0,Qe=fD(f)|0,El(se|0,M|0,O|0,j|0,Qe|0,BUe(f)|0,Tr(f)|0,0,0,0);break r}default:break r}while(0);c=n[c>>2]|0}while((c|0)!=0)}if(s=n[s>>2]|0,!s)break e}Rt()}while(0);Ce(),C=Me}function dUe(){return 11703}function mUe(s){s=s|0,o[s+40>>0]=0}function yUe(s){return s=s|0,(o[s+40>>0]|0)!=0|0}function EUe(s,l){return s=s|0,l=l|0,l=vUe(l)|0,s=n[l>>2]|0,n[l>>2]=n[s>>2],gt(s),n[l>>2]|0}function CUe(s){s=s|0,o[s+40>>0]=1}function e7(s){return s=s|0,n[s+20>>2]|0}function wUe(s){return s=s|0,n[s+8>>2]|0}function IUe(s){return s=s|0,n[s+32>>2]|0}function fD(s){return s=s|0,n[s+4>>2]|0}function t7(s){return s=s|0,n[s+4>>2]|0}function vR(s){return s=s|0,n[s+8>>2]|0}function DR(s){return s=s|0,n[s+16>>2]|0}function BUe(s){return s=s|0,n[s+20>>2]|0}function vUe(s){return s=s|0,n[s>>2]|0}function pD(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0;Lt=C,C=C+16|0,se=Lt;do if(s>>>0<245){if(M=s>>>0<11?16:s+11&-8,s=M>>>3,j=n[2783]|0,c=j>>>s,c&3|0)return l=(c&1^1)+s|0,s=11172+(l<<1<<2)|0,c=s+8|0,f=n[c>>2]|0,d=f+8|0,m=n[d>>2]|0,(s|0)==(m|0)?n[2783]=j&~(1<<l):(n[m+12>>2]=s,n[c>>2]=m),je=l<<3,n[f+4>>2]=je|3,je=f+je+4|0,n[je>>2]=n[je>>2]|1,je=d,C=Lt,je|0;if(O=n[2785]|0,M>>>0>O>>>0){if(c|0)return l=2<<s,l=c<<s&(l|0-l),l=(l&0-l)+-1|0,B=l>>>12&16,l=l>>>B,c=l>>>5&8,l=l>>>c,d=l>>>2&4,l=l>>>d,s=l>>>1&2,l=l>>>s,f=l>>>1&1,f=(c|B|d|s|f)+(l>>>f)|0,l=11172+(f<<1<<2)|0,s=l+8|0,d=n[s>>2]|0,B=d+8|0,c=n[B>>2]|0,(l|0)==(c|0)?(s=j&~(1<<f),n[2783]=s):(n[c+12>>2]=l,n[s>>2]=c,s=j),m=(f<<3)-M|0,n[d+4>>2]=M|3,f=d+M|0,n[f+4>>2]=m|1,n[f+m>>2]=m,O|0&&(d=n[2788]|0,l=O>>>3,c=11172+(l<<1<<2)|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=d,n[l+12>>2]=d,n[d+8>>2]=l,n[d+12>>2]=c),n[2785]=m,n[2788]=f,je=B,C=Lt,je|0;if(k=n[2784]|0,k){if(c=(k&0-k)+-1|0,B=c>>>12&16,c=c>>>B,m=c>>>5&8,c=c>>>m,Q=c>>>2&4,c=c>>>Q,f=c>>>1&2,c=c>>>f,s=c>>>1&1,s=n[11436+((m|B|Q|f|s)+(c>>>s)<<2)>>2]|0,c=(n[s+4>>2]&-8)-M|0,f=n[s+16+(((n[s+16>>2]|0)==0&1)<<2)>>2]|0,!f)Q=s,m=c;else{do B=(n[f+4>>2]&-8)-M|0,Q=B>>>0<c>>>0,c=Q?B:c,s=Q?f:s,f=n[f+16+(((n[f+16>>2]|0)==0&1)<<2)>>2]|0;while((f|0)!=0);Q=s,m=c}if(B=Q+M|0,Q>>>0<B>>>0){d=n[Q+24>>2]|0,l=n[Q+12>>2]|0;do if((l|0)==(Q|0)){if(s=Q+20|0,l=n[s>>2]|0,!l&&(s=Q+16|0,l=n[s>>2]|0,!l)){c=0;break}for(;;){if(c=l+20|0,f=n[c>>2]|0,f|0){l=f,s=c;continue}if(c=l+16|0,f=n[c>>2]|0,f)l=f,s=c;else break}n[s>>2]=0,c=l}else c=n[Q+8>>2]|0,n[c+12>>2]=l,n[l+8>>2]=c,c=l;while(0);do if(d|0){if(l=n[Q+28>>2]|0,s=11436+(l<<2)|0,(Q|0)==(n[s>>2]|0)){if(n[s>>2]=c,!c){n[2784]=k&~(1<<l);break}}else if(n[d+16+(((n[d+16>>2]|0)!=(Q|0)&1)<<2)>>2]=c,!c)break;n[c+24>>2]=d,l=n[Q+16>>2]|0,l|0&&(n[c+16>>2]=l,n[l+24>>2]=c),l=n[Q+20>>2]|0,l|0&&(n[c+20>>2]=l,n[l+24>>2]=c)}while(0);return m>>>0<16?(je=m+M|0,n[Q+4>>2]=je|3,je=Q+je+4|0,n[je>>2]=n[je>>2]|1):(n[Q+4>>2]=M|3,n[B+4>>2]=m|1,n[B+m>>2]=m,O|0&&(f=n[2788]|0,l=O>>>3,c=11172+(l<<1<<2)|0,l=1<<l,j&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=j|l,l=c,s=c+8|0),n[s>>2]=f,n[l+12>>2]=f,n[f+8>>2]=l,n[f+12>>2]=c),n[2785]=m,n[2788]=B),je=Q+8|0,C=Lt,je|0}else j=M}else j=M}else j=M}else if(s>>>0<=4294967231)if(s=s+11|0,M=s&-8,Q=n[2784]|0,Q){f=0-M|0,s=s>>>8,s?M>>>0>16777215?k=31:(j=(s+1048320|0)>>>16&8,Ue=s<<j,O=(Ue+520192|0)>>>16&4,Ue=Ue<<O,k=(Ue+245760|0)>>>16&2,k=14-(O|j|k)+(Ue<<k>>>15)|0,k=M>>>(k+7|0)&1|k<<1):k=0,c=n[11436+(k<<2)>>2]|0;e:do if(!c)c=0,s=0,Ue=57;else for(s=0,B=M<<((k|0)==31?0:25-(k>>>1)|0),m=0;;){if(d=(n[c+4>>2]&-8)-M|0,d>>>0<f>>>0)if(d)s=c,f=d;else{s=c,f=0,d=c,Ue=61;break e}if(d=n[c+20>>2]|0,c=n[c+16+(B>>>31<<2)>>2]|0,m=(d|0)==0|(d|0)==(c|0)?m:d,d=(c|0)==0,d){c=m,Ue=57;break}else B=B<<((d^1)&1)}while(0);if((Ue|0)==57){if((c|0)==0&(s|0)==0){if(s=2<<k,s=Q&(s|0-s),!s){j=M;break}j=(s&0-s)+-1|0,B=j>>>12&16,j=j>>>B,m=j>>>5&8,j=j>>>m,k=j>>>2&4,j=j>>>k,O=j>>>1&2,j=j>>>O,c=j>>>1&1,s=0,c=n[11436+((m|B|k|O|c)+(j>>>c)<<2)>>2]|0}c?(d=c,Ue=61):(k=s,B=f)}if((Ue|0)==61)for(;;)if(Ue=0,c=(n[d+4>>2]&-8)-M|0,j=c>>>0<f>>>0,c=j?c:f,s=j?d:s,d=n[d+16+(((n[d+16>>2]|0)==0&1)<<2)>>2]|0,d)f=c,Ue=61;else{k=s,B=c;break}if((k|0)!=0&&B>>>0<((n[2785]|0)-M|0)>>>0){if(m=k+M|0,k>>>0>=m>>>0)return je=0,C=Lt,je|0;d=n[k+24>>2]|0,l=n[k+12>>2]|0;do if((l|0)==(k|0)){if(s=k+20|0,l=n[s>>2]|0,!l&&(s=k+16|0,l=n[s>>2]|0,!l)){l=0;break}for(;;){if(c=l+20|0,f=n[c>>2]|0,f|0){l=f,s=c;continue}if(c=l+16|0,f=n[c>>2]|0,f)l=f,s=c;else break}n[s>>2]=0}else je=n[k+8>>2]|0,n[je+12>>2]=l,n[l+8>>2]=je;while(0);do if(d){if(s=n[k+28>>2]|0,c=11436+(s<<2)|0,(k|0)==(n[c>>2]|0)){if(n[c>>2]=l,!l){f=Q&~(1<<s),n[2784]=f;break}}else if(n[d+16+(((n[d+16>>2]|0)!=(k|0)&1)<<2)>>2]=l,!l){f=Q;break}n[l+24>>2]=d,s=n[k+16>>2]|0,s|0&&(n[l+16>>2]=s,n[s+24>>2]=l),s=n[k+20>>2]|0,s&&(n[l+20>>2]=s,n[s+24>>2]=l),f=Q}else f=Q;while(0);do if(B>>>0>=16){if(n[k+4>>2]=M|3,n[m+4>>2]=B|1,n[m+B>>2]=B,l=B>>>3,B>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=m,n[l+12>>2]=m,n[m+8>>2]=l,n[m+12>>2]=c;break}if(l=B>>>8,l?B>>>0>16777215?l=31:(Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,l=(je+245760|0)>>>16&2,l=14-(lt|Ue|l)+(je<<l>>>15)|0,l=B>>>(l+7|0)&1|l<<1):l=0,c=11436+(l<<2)|0,n[m+28>>2]=l,s=m+16|0,n[s+4>>2]=0,n[s>>2]=0,s=1<<l,!(f&s)){n[2784]=f|s,n[c>>2]=m,n[m+24>>2]=c,n[m+12>>2]=m,n[m+8>>2]=m;break}for(s=B<<((l|0)==31?0:25-(l>>>1)|0),c=n[c>>2]|0;;){if((n[c+4>>2]&-8|0)==(B|0)){Ue=97;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=96;break}}if((Ue|0)==96){n[f>>2]=m,n[m+24>>2]=c,n[m+12>>2]=m,n[m+8>>2]=m;break}else if((Ue|0)==97){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=m,n[Ue>>2]=m,n[m+8>>2]=je,n[m+12>>2]=c,n[m+24>>2]=0;break}}else je=B+M|0,n[k+4>>2]=je|3,je=k+je+4|0,n[je>>2]=n[je>>2]|1;while(0);return je=k+8|0,C=Lt,je|0}else j=M}else j=M;else j=-1;while(0);if(c=n[2785]|0,c>>>0>=j>>>0)return l=c-j|0,s=n[2788]|0,l>>>0>15?(je=s+j|0,n[2788]=je,n[2785]=l,n[je+4>>2]=l|1,n[je+l>>2]=l,n[s+4>>2]=j|3):(n[2785]=0,n[2788]=0,n[s+4>>2]=c|3,je=s+c+4|0,n[je>>2]=n[je>>2]|1),je=s+8|0,C=Lt,je|0;if(B=n[2786]|0,B>>>0>j>>>0)return lt=B-j|0,n[2786]=lt,je=n[2789]|0,Ue=je+j|0,n[2789]=Ue,n[Ue+4>>2]=lt|1,n[je+4>>2]=j|3,je=je+8|0,C=Lt,je|0;if(n[2901]|0?s=n[2903]|0:(n[2903]=4096,n[2902]=4096,n[2904]=-1,n[2905]=-1,n[2906]=0,n[2894]=0,s=se&-16^1431655768,n[se>>2]=s,n[2901]=s,s=4096),k=j+48|0,Q=j+47|0,m=s+Q|0,d=0-s|0,M=m&d,M>>>0<=j>>>0||(s=n[2893]|0,s|0&&(O=n[2891]|0,se=O+M|0,se>>>0<=O>>>0|se>>>0>s>>>0)))return je=0,C=Lt,je|0;e:do if(n[2894]&4)l=0,Ue=133;else{c=n[2789]|0;t:do if(c){for(f=11580;s=n[f>>2]|0,!(s>>>0<=c>>>0&&(Qe=f+4|0,(s+(n[Qe>>2]|0)|0)>>>0>c>>>0));)if(s=n[f+8>>2]|0,s)f=s;else{Ue=118;break t}if(l=m-B&d,l>>>0<2147483647)if(s=Qp(l|0)|0,(s|0)==((n[f>>2]|0)+(n[Qe>>2]|0)|0)){if((s|0)!=-1){B=l,m=s,Ue=135;break e}}else f=s,Ue=126;else l=0}else Ue=118;while(0);do if((Ue|0)==118)if(c=Qp(0)|0,(c|0)!=-1&&(l=c,Ge=n[2902]|0,Me=Ge+-1|0,l=((Me&l|0)==0?0:(Me+l&0-Ge)-l|0)+M|0,Ge=n[2891]|0,Me=l+Ge|0,l>>>0>j>>>0&l>>>0<2147483647)){if(Qe=n[2893]|0,Qe|0&&Me>>>0<=Ge>>>0|Me>>>0>Qe>>>0){l=0;break}if(s=Qp(l|0)|0,(s|0)==(c|0)){B=l,m=c,Ue=135;break e}else f=s,Ue=126}else l=0;while(0);do if((Ue|0)==126){if(c=0-l|0,!(k>>>0>l>>>0&(l>>>0<2147483647&(f|0)!=-1)))if((f|0)==-1){l=0;break}else{B=l,m=f,Ue=135;break e}if(s=n[2903]|0,s=Q-l+s&0-s,s>>>0>=2147483647){B=l,m=f,Ue=135;break e}if((Qp(s|0)|0)==-1){Qp(c|0)|0,l=0;break}else{B=s+l|0,m=f,Ue=135;break e}}while(0);n[2894]=n[2894]|4,Ue=133}while(0);if((Ue|0)==133&&M>>>0<2147483647&&(lt=Qp(M|0)|0,Qe=Qp(0)|0,et=Qe-lt|0,Xe=et>>>0>(j+40|0)>>>0,!((lt|0)==-1|Xe^1|lt>>>0<Qe>>>0&((lt|0)!=-1&(Qe|0)!=-1)^1))&&(B=Xe?et:l,m=lt,Ue=135),(Ue|0)==135){l=(n[2891]|0)+B|0,n[2891]=l,l>>>0>(n[2892]|0)>>>0&&(n[2892]=l),Q=n[2789]|0;do if(Q){for(l=11580;;){if(s=n[l>>2]|0,c=l+4|0,f=n[c>>2]|0,(m|0)==(s+f|0)){Ue=145;break}if(d=n[l+8>>2]|0,d)l=d;else break}if((Ue|0)==145&&(n[l+12>>2]&8|0)==0&&Q>>>0<m>>>0&Q>>>0>=s>>>0){n[c>>2]=f+B,je=Q+8|0,je=(je&7|0)==0?0:0-je&7,Ue=Q+je|0,je=(n[2786]|0)+(B-je)|0,n[2789]=Ue,n[2786]=je,n[Ue+4>>2]=je|1,n[Ue+je+4>>2]=40,n[2790]=n[2905];break}for(m>>>0<(n[2787]|0)>>>0&&(n[2787]=m),c=m+B|0,l=11580;;){if((n[l>>2]|0)==(c|0)){Ue=153;break}if(s=n[l+8>>2]|0,s)l=s;else break}if((Ue|0)==153&&(n[l+12>>2]&8|0)==0){n[l>>2]=m,O=l+4|0,n[O>>2]=(n[O>>2]|0)+B,O=m+8|0,O=m+((O&7|0)==0?0:0-O&7)|0,l=c+8|0,l=c+((l&7|0)==0?0:0-l&7)|0,M=O+j|0,k=l-O-j|0,n[O+4>>2]=j|3;do if((l|0)!=(Q|0)){if((l|0)==(n[2788]|0)){je=(n[2785]|0)+k|0,n[2785]=je,n[2788]=M,n[M+4>>2]=je|1,n[M+je>>2]=je;break}if(s=n[l+4>>2]|0,(s&3|0)==1){B=s&-8,f=s>>>3;e:do if(s>>>0<256)if(s=n[l+8>>2]|0,c=n[l+12>>2]|0,(c|0)==(s|0)){n[2783]=n[2783]&~(1<<f);break}else{n[s+12>>2]=c,n[c+8>>2]=s;break}else{m=n[l+24>>2]|0,s=n[l+12>>2]|0;do if((s|0)==(l|0)){if(f=l+16|0,c=f+4|0,s=n[c>>2]|0,!s)if(s=n[f>>2]|0,s)c=f;else{s=0;break}for(;;){if(f=s+20|0,d=n[f>>2]|0,d|0){s=d,c=f;continue}if(f=s+16|0,d=n[f>>2]|0,d)s=d,c=f;else break}n[c>>2]=0}else je=n[l+8>>2]|0,n[je+12>>2]=s,n[s+8>>2]=je;while(0);if(!m)break;c=n[l+28>>2]|0,f=11436+(c<<2)|0;do if((l|0)!=(n[f>>2]|0)){if(n[m+16+(((n[m+16>>2]|0)!=(l|0)&1)<<2)>>2]=s,!s)break e}else{if(n[f>>2]=s,s|0)break;n[2784]=n[2784]&~(1<<c);break e}while(0);if(n[s+24>>2]=m,c=l+16|0,f=n[c>>2]|0,f|0&&(n[s+16>>2]=f,n[f+24>>2]=s),c=n[c+4>>2]|0,!c)break;n[s+20>>2]=c,n[c+24>>2]=s}while(0);l=l+B|0,d=B+k|0}else d=k;if(l=l+4|0,n[l>>2]=n[l>>2]&-2,n[M+4>>2]=d|1,n[M+d>>2]=d,l=d>>>3,d>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=M,n[l+12>>2]=M,n[M+8>>2]=l,n[M+12>>2]=c;break}l=d>>>8;do if(!l)l=0;else{if(d>>>0>16777215){l=31;break}Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,l=(je+245760|0)>>>16&2,l=14-(lt|Ue|l)+(je<<l>>>15)|0,l=d>>>(l+7|0)&1|l<<1}while(0);if(f=11436+(l<<2)|0,n[M+28>>2]=l,s=M+16|0,n[s+4>>2]=0,n[s>>2]=0,s=n[2784]|0,c=1<<l,!(s&c)){n[2784]=s|c,n[f>>2]=M,n[M+24>>2]=f,n[M+12>>2]=M,n[M+8>>2]=M;break}for(s=d<<((l|0)==31?0:25-(l>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(d|0)){Ue=194;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=193;break}}if((Ue|0)==193){n[f>>2]=M,n[M+24>>2]=c,n[M+12>>2]=M,n[M+8>>2]=M;break}else if((Ue|0)==194){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=M,n[Ue>>2]=M,n[M+8>>2]=je,n[M+12>>2]=c,n[M+24>>2]=0;break}}else je=(n[2786]|0)+k|0,n[2786]=je,n[2789]=M,n[M+4>>2]=je|1;while(0);return je=O+8|0,C=Lt,je|0}for(l=11580;s=n[l>>2]|0,!(s>>>0<=Q>>>0&&(je=s+(n[l+4>>2]|0)|0,je>>>0>Q>>>0));)l=n[l+8>>2]|0;d=je+-47|0,s=d+8|0,s=d+((s&7|0)==0?0:0-s&7)|0,d=Q+16|0,s=s>>>0<d>>>0?Q:s,l=s+8|0,c=m+8|0,c=(c&7|0)==0?0:0-c&7,Ue=m+c|0,c=B+-40-c|0,n[2789]=Ue,n[2786]=c,n[Ue+4>>2]=c|1,n[Ue+c+4>>2]=40,n[2790]=n[2905],c=s+4|0,n[c>>2]=27,n[l>>2]=n[2895],n[l+4>>2]=n[2896],n[l+8>>2]=n[2897],n[l+12>>2]=n[2898],n[2895]=m,n[2896]=B,n[2898]=0,n[2897]=l,l=s+24|0;do Ue=l,l=l+4|0,n[l>>2]=7;while((Ue+8|0)>>>0<je>>>0);if((s|0)!=(Q|0)){if(m=s-Q|0,n[c>>2]=n[c>>2]&-2,n[Q+4>>2]=m|1,n[s>>2]=m,l=m>>>3,m>>>0<256){c=11172+(l<<1<<2)|0,s=n[2783]|0,l=1<<l,s&l?(s=c+8|0,l=n[s>>2]|0):(n[2783]=s|l,l=c,s=c+8|0),n[s>>2]=Q,n[l+12>>2]=Q,n[Q+8>>2]=l,n[Q+12>>2]=c;break}if(l=m>>>8,l?m>>>0>16777215?c=31:(Ue=(l+1048320|0)>>>16&8,je=l<<Ue,lt=(je+520192|0)>>>16&4,je=je<<lt,c=(je+245760|0)>>>16&2,c=14-(lt|Ue|c)+(je<<c>>>15)|0,c=m>>>(c+7|0)&1|c<<1):c=0,f=11436+(c<<2)|0,n[Q+28>>2]=c,n[Q+20>>2]=0,n[d>>2]=0,l=n[2784]|0,s=1<<c,!(l&s)){n[2784]=l|s,n[f>>2]=Q,n[Q+24>>2]=f,n[Q+12>>2]=Q,n[Q+8>>2]=Q;break}for(s=m<<((c|0)==31?0:25-(c>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(m|0)){Ue=216;break}if(f=c+16+(s>>>31<<2)|0,l=n[f>>2]|0,l)s=s<<1,c=l;else{Ue=215;break}}if((Ue|0)==215){n[f>>2]=Q,n[Q+24>>2]=c,n[Q+12>>2]=Q,n[Q+8>>2]=Q;break}else if((Ue|0)==216){Ue=c+8|0,je=n[Ue>>2]|0,n[je+12>>2]=Q,n[Ue>>2]=Q,n[Q+8>>2]=je,n[Q+12>>2]=c,n[Q+24>>2]=0;break}}}else{je=n[2787]|0,(je|0)==0|m>>>0<je>>>0&&(n[2787]=m),n[2895]=m,n[2896]=B,n[2898]=0,n[2792]=n[2901],n[2791]=-1,l=0;do je=11172+(l<<1<<2)|0,n[je+12>>2]=je,n[je+8>>2]=je,l=l+1|0;while((l|0)!=32);je=m+8|0,je=(je&7|0)==0?0:0-je&7,Ue=m+je|0,je=B+-40-je|0,n[2789]=Ue,n[2786]=je,n[Ue+4>>2]=je|1,n[Ue+je+4>>2]=40,n[2790]=n[2905]}while(0);if(l=n[2786]|0,l>>>0>j>>>0)return lt=l-j|0,n[2786]=lt,je=n[2789]|0,Ue=je+j|0,n[2789]=Ue,n[Ue+4>>2]=lt|1,n[je+4>>2]=j|3,je=je+8|0,C=Lt,je|0}return n[(Vm()|0)>>2]=12,je=0,C=Lt,je|0}function hD(s){s=s|0;var l=0,c=0,f=0,d=0,m=0,B=0,k=0,Q=0;if(!!s){c=s+-8|0,d=n[2787]|0,s=n[s+-4>>2]|0,l=s&-8,Q=c+l|0;do if(s&1)k=c,B=c;else{if(f=n[c>>2]|0,!(s&3)||(B=c+(0-f)|0,m=f+l|0,B>>>0<d>>>0))return;if((B|0)==(n[2788]|0)){if(s=Q+4|0,l=n[s>>2]|0,(l&3|0)!=3){k=B,l=m;break}n[2785]=m,n[s>>2]=l&-2,n[B+4>>2]=m|1,n[B+m>>2]=m;return}if(c=f>>>3,f>>>0<256)if(s=n[B+8>>2]|0,l=n[B+12>>2]|0,(l|0)==(s|0)){n[2783]=n[2783]&~(1<<c),k=B,l=m;break}else{n[s+12>>2]=l,n[l+8>>2]=s,k=B,l=m;break}d=n[B+24>>2]|0,s=n[B+12>>2]|0;do if((s|0)==(B|0)){if(c=B+16|0,l=c+4|0,s=n[l>>2]|0,!s)if(s=n[c>>2]|0,s)l=c;else{s=0;break}for(;;){if(c=s+20|0,f=n[c>>2]|0,f|0){s=f,l=c;continue}if(c=s+16|0,f=n[c>>2]|0,f)s=f,l=c;else break}n[l>>2]=0}else k=n[B+8>>2]|0,n[k+12>>2]=s,n[s+8>>2]=k;while(0);if(d){if(l=n[B+28>>2]|0,c=11436+(l<<2)|0,(B|0)==(n[c>>2]|0)){if(n[c>>2]=s,!s){n[2784]=n[2784]&~(1<<l),k=B,l=m;break}}else if(n[d+16+(((n[d+16>>2]|0)!=(B|0)&1)<<2)>>2]=s,!s){k=B,l=m;break}n[s+24>>2]=d,l=B+16|0,c=n[l>>2]|0,c|0&&(n[s+16>>2]=c,n[c+24>>2]=s),l=n[l+4>>2]|0,l?(n[s+20>>2]=l,n[l+24>>2]=s,k=B,l=m):(k=B,l=m)}else k=B,l=m}while(0);if(!(B>>>0>=Q>>>0)&&(s=Q+4|0,f=n[s>>2]|0,!!(f&1))){if(f&2)n[s>>2]=f&-2,n[k+4>>2]=l|1,n[B+l>>2]=l,d=l;else{if(s=n[2788]|0,(Q|0)==(n[2789]|0)){if(Q=(n[2786]|0)+l|0,n[2786]=Q,n[2789]=k,n[k+4>>2]=Q|1,(k|0)!=(s|0))return;n[2788]=0,n[2785]=0;return}if((Q|0)==(s|0)){Q=(n[2785]|0)+l|0,n[2785]=Q,n[2788]=B,n[k+4>>2]=Q|1,n[B+Q>>2]=Q;return}d=(f&-8)+l|0,c=f>>>3;do if(f>>>0<256)if(l=n[Q+8>>2]|0,s=n[Q+12>>2]|0,(s|0)==(l|0)){n[2783]=n[2783]&~(1<<c);break}else{n[l+12>>2]=s,n[s+8>>2]=l;break}else{m=n[Q+24>>2]|0,s=n[Q+12>>2]|0;do if((s|0)==(Q|0)){if(c=Q+16|0,l=c+4|0,s=n[l>>2]|0,!s)if(s=n[c>>2]|0,s)l=c;else{c=0;break}for(;;){if(c=s+20|0,f=n[c>>2]|0,f|0){s=f,l=c;continue}if(c=s+16|0,f=n[c>>2]|0,f)s=f,l=c;else break}n[l>>2]=0,c=s}else c=n[Q+8>>2]|0,n[c+12>>2]=s,n[s+8>>2]=c,c=s;while(0);if(m|0){if(s=n[Q+28>>2]|0,l=11436+(s<<2)|0,(Q|0)==(n[l>>2]|0)){if(n[l>>2]=c,!c){n[2784]=n[2784]&~(1<<s);break}}else if(n[m+16+(((n[m+16>>2]|0)!=(Q|0)&1)<<2)>>2]=c,!c)break;n[c+24>>2]=m,s=Q+16|0,l=n[s>>2]|0,l|0&&(n[c+16>>2]=l,n[l+24>>2]=c),s=n[s+4>>2]|0,s|0&&(n[c+20>>2]=s,n[s+24>>2]=c)}}while(0);if(n[k+4>>2]=d|1,n[B+d>>2]=d,(k|0)==(n[2788]|0)){n[2785]=d;return}}if(s=d>>>3,d>>>0<256){c=11172+(s<<1<<2)|0,l=n[2783]|0,s=1<<s,l&s?(l=c+8|0,s=n[l>>2]|0):(n[2783]=l|s,s=c,l=c+8|0),n[l>>2]=k,n[s+12>>2]=k,n[k+8>>2]=s,n[k+12>>2]=c;return}s=d>>>8,s?d>>>0>16777215?s=31:(B=(s+1048320|0)>>>16&8,Q=s<<B,m=(Q+520192|0)>>>16&4,Q=Q<<m,s=(Q+245760|0)>>>16&2,s=14-(m|B|s)+(Q<<s>>>15)|0,s=d>>>(s+7|0)&1|s<<1):s=0,f=11436+(s<<2)|0,n[k+28>>2]=s,n[k+20>>2]=0,n[k+16>>2]=0,l=n[2784]|0,c=1<<s;do if(l&c){for(l=d<<((s|0)==31?0:25-(s>>>1)|0),c=n[f>>2]|0;;){if((n[c+4>>2]&-8|0)==(d|0)){s=73;break}if(f=c+16+(l>>>31<<2)|0,s=n[f>>2]|0,s)l=l<<1,c=s;else{s=72;break}}if((s|0)==72){n[f>>2]=k,n[k+24>>2]=c,n[k+12>>2]=k,n[k+8>>2]=k;break}else if((s|0)==73){B=c+8|0,Q=n[B>>2]|0,n[Q+12>>2]=k,n[B>>2]=k,n[k+8>>2]=Q,n[k+12>>2]=c,n[k+24>>2]=0;break}}else n[2784]=l|c,n[f>>2]=k,n[k+24>>2]=f,n[k+12>>2]=k,n[k+8>>2]=k;while(0);if(Q=(n[2791]|0)+-1|0,n[2791]=Q,!Q)s=11588;else return;for(;s=n[s>>2]|0,s;)s=s+8|0;n[2791]=-1}}}function DUe(){return 11628}function SUe(s){s=s|0;var l=0,c=0;return l=C,C=C+16|0,c=l,n[c>>2]=xUe(n[s+60>>2]|0)|0,s=gD(hc(6,c|0)|0)|0,C=l,s|0}function r7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0;j=C,C=C+48|0,M=j+16|0,m=j,d=j+32|0,k=s+28|0,f=n[k>>2]|0,n[d>>2]=f,Q=s+20|0,f=(n[Q>>2]|0)-f|0,n[d+4>>2]=f,n[d+8>>2]=l,n[d+12>>2]=c,f=f+c|0,B=s+60|0,n[m>>2]=n[B>>2],n[m+4>>2]=d,n[m+8>>2]=2,m=gD(Li(146,m|0)|0)|0;e:do if((f|0)!=(m|0)){for(l=2;!((m|0)<0);)if(f=f-m|0,Ge=n[d+4>>2]|0,se=m>>>0>Ge>>>0,d=se?d+8|0:d,l=(se<<31>>31)+l|0,Ge=m-(se?Ge:0)|0,n[d>>2]=(n[d>>2]|0)+Ge,se=d+4|0,n[se>>2]=(n[se>>2]|0)-Ge,n[M>>2]=n[B>>2],n[M+4>>2]=d,n[M+8>>2]=l,m=gD(Li(146,M|0)|0)|0,(f|0)==(m|0)){O=3;break e}n[s+16>>2]=0,n[k>>2]=0,n[Q>>2]=0,n[s>>2]=n[s>>2]|32,(l|0)==2?c=0:c=c-(n[d+4>>2]|0)|0}else O=3;while(0);return(O|0)==3&&(Ge=n[s+44>>2]|0,n[s+16>>2]=Ge+(n[s+48>>2]|0),n[k>>2]=Ge,n[Q>>2]=Ge),C=j,c|0}function PUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;return d=C,C=C+32|0,m=d,f=d+20|0,n[m>>2]=n[s+60>>2],n[m+4>>2]=0,n[m+8>>2]=l,n[m+12>>2]=f,n[m+16>>2]=c,(gD(sa(140,m|0)|0)|0)<0?(n[f>>2]=-1,s=-1):s=n[f>>2]|0,C=d,s|0}function gD(s){return s=s|0,s>>>0>4294963200&&(n[(Vm()|0)>>2]=0-s,s=-1),s|0}function Vm(){return(bUe()|0)+64|0}function bUe(){return SR()|0}function SR(){return 2084}function xUe(s){return s=s|0,s|0}function kUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;return d=C,C=C+32|0,f=d,n[s+36>>2]=1,(n[s>>2]&64|0)==0&&(n[f>>2]=n[s+60>>2],n[f+4>>2]=21523,n[f+8>>2]=d+16,fu(54,f|0)|0)&&(o[s+75>>0]=-1),f=r7(s,l,c)|0,C=d,f|0}function n7(s,l){s=s|0,l=l|0;var c=0,f=0;if(c=o[s>>0]|0,f=o[l>>0]|0,c<<24>>24==0||c<<24>>24!=f<<24>>24)s=f;else{do s=s+1|0,l=l+1|0,c=o[s>>0]|0,f=o[l>>0]|0;while(!(c<<24>>24==0||c<<24>>24!=f<<24>>24));s=f}return(c&255)-(s&255)|0}function QUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0;e:do if(!c)s=0;else{for(;f=o[s>>0]|0,d=o[l>>0]|0,f<<24>>24==d<<24>>24;)if(c=c+-1|0,c)s=s+1|0,l=l+1|0;else{s=0;break e}s=(f&255)-(d&255)|0}while(0);return s|0}function i7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0;Qe=C,C=C+224|0,O=Qe+120|0,j=Qe+80|0,Ge=Qe,Me=Qe+136|0,f=j,d=f+40|0;do n[f>>2]=0,f=f+4|0;while((f|0)<(d|0));return n[O>>2]=n[c>>2],(PR(0,l,O,Ge,j)|0)<0?c=-1:((n[s+76>>2]|0)>-1?se=FUe(s)|0:se=0,c=n[s>>2]|0,M=c&32,(o[s+74>>0]|0)<1&&(n[s>>2]=c&-33),f=s+48|0,n[f>>2]|0?c=PR(s,l,O,Ge,j)|0:(d=s+44|0,m=n[d>>2]|0,n[d>>2]=Me,B=s+28|0,n[B>>2]=Me,k=s+20|0,n[k>>2]=Me,n[f>>2]=80,Q=s+16|0,n[Q>>2]=Me+80,c=PR(s,l,O,Ge,j)|0,m&&(ED[n[s+36>>2]&7](s,0,0)|0,c=(n[k>>2]|0)==0?-1:c,n[d>>2]=m,n[f>>2]=0,n[Q>>2]=0,n[B>>2]=0,n[k>>2]=0)),f=n[s>>2]|0,n[s>>2]=f|M,se|0&&RUe(s),c=(f&32|0)==0?c:-1),C=Qe,c|0}function PR(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0;ir=C,C=C+64|0,or=ir+16|0,Xt=ir,Lt=ir+24|0,Sr=ir+8|0,Nr=ir+20|0,n[or>>2]=l,lt=(s|0)!=0,Ue=Lt+40|0,je=Ue,Lt=Lt+39|0,Mr=Sr+4|0,B=0,m=0,O=0;e:for(;;){do if((m|0)>-1)if((B|0)>(2147483647-m|0)){n[(Vm()|0)>>2]=75,m=-1;break}else{m=B+m|0;break}while(0);if(B=o[l>>0]|0,B<<24>>24)k=l;else{Xe=87;break}t:for(;;){switch(B<<24>>24){case 37:{B=k,Xe=9;break t}case 0:{B=k;break t}default:}et=k+1|0,n[or>>2]=et,B=o[et>>0]|0,k=et}t:do if((Xe|0)==9)for(;;){if(Xe=0,(o[k+1>>0]|0)!=37)break t;if(B=B+1|0,k=k+2|0,n[or>>2]=k,(o[k>>0]|0)==37)Xe=9;else break}while(0);if(B=B-l|0,lt&&ss(s,l,B),B|0){l=k;continue}Q=k+1|0,B=(o[Q>>0]|0)+-48|0,B>>>0<10?(et=(o[k+2>>0]|0)==36,Qe=et?B:-1,O=et?1:O,Q=et?k+3|0:Q):Qe=-1,n[or>>2]=Q,B=o[Q>>0]|0,k=(B<<24>>24)+-32|0;t:do if(k>>>0<32)for(M=0,j=B;;){if(B=1<<k,!(B&75913)){B=j;break t}if(M=B|M,Q=Q+1|0,n[or>>2]=Q,B=o[Q>>0]|0,k=(B<<24>>24)+-32|0,k>>>0>=32)break;j=B}else M=0;while(0);if(B<<24>>24==42){if(k=Q+1|0,B=(o[k>>0]|0)+-48|0,B>>>0<10&&(o[Q+2>>0]|0)==36)n[d+(B<<2)>>2]=10,B=n[f+((o[k>>0]|0)+-48<<3)>>2]|0,O=1,Q=Q+3|0;else{if(O|0){m=-1;break}lt?(O=(n[c>>2]|0)+(4-1)&~(4-1),B=n[O>>2]|0,n[c>>2]=O+4,O=0,Q=k):(B=0,O=0,Q=k)}n[or>>2]=Q,et=(B|0)<0,B=et?0-B|0:B,M=et?M|8192:M}else{if(B=s7(or)|0,(B|0)<0){m=-1;break}Q=n[or>>2]|0}do if((o[Q>>0]|0)==46){if((o[Q+1>>0]|0)!=42){n[or>>2]=Q+1,k=s7(or)|0,Q=n[or>>2]|0;break}if(j=Q+2|0,k=(o[j>>0]|0)+-48|0,k>>>0<10&&(o[Q+3>>0]|0)==36){n[d+(k<<2)>>2]=10,k=n[f+((o[j>>0]|0)+-48<<3)>>2]|0,Q=Q+4|0,n[or>>2]=Q;break}if(O|0){m=-1;break e}lt?(et=(n[c>>2]|0)+(4-1)&~(4-1),k=n[et>>2]|0,n[c>>2]=et+4):k=0,n[or>>2]=j,Q=j}else k=-1;while(0);for(Me=0;;){if(((o[Q>>0]|0)+-65|0)>>>0>57){m=-1;break e}if(et=Q+1|0,n[or>>2]=et,j=o[(o[Q>>0]|0)+-65+(5178+(Me*58|0))>>0]|0,se=j&255,(se+-1|0)>>>0<8)Me=se,Q=et;else break}if(!(j<<24>>24)){m=-1;break}Ge=(Qe|0)>-1;do if(j<<24>>24==19)if(Ge){m=-1;break e}else Xe=49;else{if(Ge){n[d+(Qe<<2)>>2]=se,Ge=f+(Qe<<3)|0,Qe=n[Ge+4>>2]|0,Xe=Xt,n[Xe>>2]=n[Ge>>2],n[Xe+4>>2]=Qe,Xe=49;break}if(!lt){m=0;break e}o7(Xt,se,c)}while(0);if((Xe|0)==49&&(Xe=0,!lt)){B=0,l=et;continue}Q=o[Q>>0]|0,Q=(Me|0)!=0&(Q&15|0)==3?Q&-33:Q,Ge=M&-65537,Qe=(M&8192|0)==0?M:Ge;t:do switch(Q|0){case 110:switch((Me&255)<<24>>24){case 0:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 1:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 2:{B=n[Xt>>2]|0,n[B>>2]=m,n[B+4>>2]=((m|0)<0)<<31>>31,B=0,l=et;continue e}case 3:{a[n[Xt>>2]>>1]=m,B=0,l=et;continue e}case 4:{o[n[Xt>>2]>>0]=m,B=0,l=et;continue e}case 6:{n[n[Xt>>2]>>2]=m,B=0,l=et;continue e}case 7:{B=n[Xt>>2]|0,n[B>>2]=m,n[B+4>>2]=((m|0)<0)<<31>>31,B=0,l=et;continue e}default:{B=0,l=et;continue e}}case 112:{Q=120,k=k>>>0>8?k:8,l=Qe|8,Xe=61;break}case 88:case 120:{l=Qe,Xe=61;break}case 111:{Q=Xt,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,se=NUe(l,Q,Ue)|0,Ge=je-se|0,M=0,j=5642,k=(Qe&8|0)==0|(k|0)>(Ge|0)?k:Ge+1|0,Ge=Qe,Xe=67;break}case 105:case 100:if(Q=Xt,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,(Q|0)<0){l=dD(0,0,l|0,Q|0)|0,Q=Se,M=Xt,n[M>>2]=l,n[M+4>>2]=Q,M=1,j=5642,Xe=66;break t}else{M=(Qe&2049|0)!=0&1,j=(Qe&2048|0)==0?(Qe&1|0)==0?5642:5644:5643,Xe=66;break t}case 117:{Q=Xt,M=0,j=5642,l=n[Q>>2]|0,Q=n[Q+4>>2]|0,Xe=66;break}case 99:{o[Lt>>0]=n[Xt>>2],l=Lt,M=0,j=5642,se=Ue,Q=1,k=Ge;break}case 109:{Q=LUe(n[(Vm()|0)>>2]|0)|0,Xe=71;break}case 115:{Q=n[Xt>>2]|0,Q=Q|0?Q:5652,Xe=71;break}case 67:{n[Sr>>2]=n[Xt>>2],n[Mr>>2]=0,n[Xt>>2]=Sr,se=-1,Q=Sr,Xe=75;break}case 83:{l=n[Xt>>2]|0,k?(se=k,Q=l,Xe=75):(Bs(s,32,B,0,Qe),l=0,Xe=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{B=MUe(s,+E[Xt>>3],B,k,Qe,Q)|0,l=et;continue e}default:M=0,j=5642,se=Ue,Q=k,k=Qe}while(0);t:do if((Xe|0)==61)Qe=Xt,Me=n[Qe>>2]|0,Qe=n[Qe+4>>2]|0,se=TUe(Me,Qe,Ue,Q&32)|0,j=(l&8|0)==0|(Me|0)==0&(Qe|0)==0,M=j?0:2,j=j?5642:5642+(Q>>4)|0,Ge=l,l=Me,Q=Qe,Xe=67;else if((Xe|0)==66)se=Jm(l,Q,Ue)|0,Ge=Qe,Xe=67;else if((Xe|0)==71)Xe=0,Qe=OUe(Q,0,k)|0,Me=(Qe|0)==0,l=Q,M=0,j=5642,se=Me?Q+k|0:Qe,Q=Me?k:Qe-Q|0,k=Ge;else if((Xe|0)==75){for(Xe=0,j=Q,l=0,k=0;M=n[j>>2]|0,!(!M||(k=a7(Nr,M)|0,(k|0)<0|k>>>0>(se-l|0)>>>0));)if(l=k+l|0,se>>>0>l>>>0)j=j+4|0;else break;if((k|0)<0){m=-1;break e}if(Bs(s,32,B,l,Qe),!l)l=0,Xe=84;else for(M=0;;){if(k=n[Q>>2]|0,!k){Xe=84;break t}if(k=a7(Nr,k)|0,M=k+M|0,(M|0)>(l|0)){Xe=84;break t}if(ss(s,Nr,k),M>>>0>=l>>>0){Xe=84;break}else Q=Q+4|0}}while(0);if((Xe|0)==67)Xe=0,Q=(l|0)!=0|(Q|0)!=0,Qe=(k|0)!=0|Q,Q=((Q^1)&1)+(je-se)|0,l=Qe?se:Ue,se=Ue,Q=Qe?(k|0)>(Q|0)?k:Q:k,k=(k|0)>-1?Ge&-65537:Ge;else if((Xe|0)==84){Xe=0,Bs(s,32,B,l,Qe^8192),B=(B|0)>(l|0)?B:l,l=et;continue}Me=se-l|0,Ge=(Q|0)<(Me|0)?Me:Q,Qe=Ge+M|0,B=(B|0)<(Qe|0)?Qe:B,Bs(s,32,B,Qe,k),ss(s,j,M),Bs(s,48,B,Qe,k^65536),Bs(s,48,Ge,Me,0),ss(s,l,Me),Bs(s,32,B,Qe,k^8192),l=et}e:do if((Xe|0)==87&&!s)if(!O)m=0;else{for(m=1;l=n[d+(m<<2)>>2]|0,!!l;)if(o7(f+(m<<3)|0,l,c),m=m+1|0,(m|0)>=10){m=1;break e}for(;;){if(n[d+(m<<2)>>2]|0){m=-1;break e}if(m=m+1|0,(m|0)>=10){m=1;break}}}while(0);return C=ir,m|0}function FUe(s){return s=s|0,0}function RUe(s){s=s|0}function ss(s,l,c){s=s|0,l=l|0,c=c|0,n[s>>2]&32||KUe(l,c,s)|0}function s7(s){s=s|0;var l=0,c=0,f=0;if(c=n[s>>2]|0,f=(o[c>>0]|0)+-48|0,f>>>0<10){l=0;do l=f+(l*10|0)|0,c=c+1|0,n[s>>2]=c,f=(o[c>>0]|0)+-48|0;while(f>>>0<10)}else l=0;return l|0}function o7(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;e:do if(l>>>0<=20)do switch(l|0){case 9:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,n[s>>2]=l;break e}case 10:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,f=s,n[f>>2]=l,n[f+4>>2]=((l|0)<0)<<31>>31;break e}case 11:{f=(n[c>>2]|0)+(4-1)&~(4-1),l=n[f>>2]|0,n[c>>2]=f+4,f=s,n[f>>2]=l,n[f+4>>2]=0;break e}case 12:{f=(n[c>>2]|0)+(8-1)&~(8-1),l=f,d=n[l>>2]|0,l=n[l+4>>2]|0,n[c>>2]=f+8,f=s,n[f>>2]=d,n[f+4>>2]=l;break e}case 13:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,f=(f&65535)<<16>>16,d=s,n[d>>2]=f,n[d+4>>2]=((f|0)<0)<<31>>31;break e}case 14:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,d=s,n[d>>2]=f&65535,n[d+4>>2]=0;break e}case 15:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,f=(f&255)<<24>>24,d=s,n[d>>2]=f,n[d+4>>2]=((f|0)<0)<<31>>31;break e}case 16:{d=(n[c>>2]|0)+(4-1)&~(4-1),f=n[d>>2]|0,n[c>>2]=d+4,d=s,n[d>>2]=f&255,n[d+4>>2]=0;break e}case 17:{d=(n[c>>2]|0)+(8-1)&~(8-1),m=+E[d>>3],n[c>>2]=d+8,E[s>>3]=m;break e}case 18:{d=(n[c>>2]|0)+(8-1)&~(8-1),m=+E[d>>3],n[c>>2]=d+8,E[s>>3]=m;break e}default:break e}while(0);while(0)}function TUe(s,l,c,f){if(s=s|0,l=l|0,c=c|0,f=f|0,!((s|0)==0&(l|0)==0))do c=c+-1|0,o[c>>0]=u[5694+(s&15)>>0]|0|f,s=mD(s|0,l|0,4)|0,l=Se;while(!((s|0)==0&(l|0)==0));return c|0}function NUe(s,l,c){if(s=s|0,l=l|0,c=c|0,!((s|0)==0&(l|0)==0))do c=c+-1|0,o[c>>0]=s&7|48,s=mD(s|0,l|0,3)|0,l=Se;while(!((s|0)==0&(l|0)==0));return c|0}function Jm(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;if(l>>>0>0|(l|0)==0&s>>>0>4294967295){for(;f=QR(s|0,l|0,10,0)|0,c=c+-1|0,o[c>>0]=f&255|48,f=s,s=kR(s|0,l|0,10,0)|0,l>>>0>9|(l|0)==9&f>>>0>4294967295;)l=Se;l=s}else l=s;if(l)for(;c=c+-1|0,o[c>>0]=(l>>>0)%10|0|48,!(l>>>0<10);)l=(l>>>0)/10|0;return c|0}function LUe(s){return s=s|0,jUe(s,n[(qUe()|0)+188>>2]|0)|0}function OUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;m=l&255,f=(c|0)!=0;e:do if(f&(s&3|0)!=0)for(d=l&255;;){if((o[s>>0]|0)==d<<24>>24){B=6;break e}if(s=s+1|0,c=c+-1|0,f=(c|0)!=0,!(f&(s&3|0)!=0)){B=5;break}}else B=5;while(0);(B|0)==5&&(f?B=6:c=0);e:do if((B|0)==6&&(d=l&255,(o[s>>0]|0)!=d<<24>>24)){f=qe(m,16843009)|0;t:do if(c>>>0>3){for(;m=n[s>>2]^f,!((m&-2139062144^-2139062144)&m+-16843009|0);)if(s=s+4|0,c=c+-4|0,c>>>0<=3){B=11;break t}}else B=11;while(0);if((B|0)==11&&!c){c=0;break}for(;;){if((o[s>>0]|0)==d<<24>>24)break e;if(s=s+1|0,c=c+-1|0,!c){c=0;break}}}while(0);return(c|0?s:0)|0}function Bs(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0;if(B=C,C=C+256|0,m=B,(c|0)>(f|0)&(d&73728|0)==0){if(d=c-f|0,Xm(m|0,l|0,(d>>>0<256?d:256)|0)|0,d>>>0>255){l=c-f|0;do ss(s,m,256),d=d+-256|0;while(d>>>0>255);d=l&255}ss(s,m,d)}C=B}function a7(s,l){return s=s|0,l=l|0,s?s=_Ue(s,l,0)|0:s=0,s|0}function MUe(s,l,c,f,d,m){s=s|0,l=+l,c=c|0,f=f|0,d=d|0,m=m|0;var B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0,Qe=0,et=0,Xe=0,lt=0,Ue=0,je=0,Lt=0,Mr=0,or=0,Xt=0,Sr=0,Nr=0,ir=0,xn=0;xn=C,C=C+560|0,Q=xn+8|0,et=xn,ir=xn+524|0,Nr=ir,M=xn+512|0,n[et>>2]=0,Sr=M+12|0,l7(l)|0,(Se|0)<0?(l=-l,or=1,Mr=5659):(or=(d&2049|0)!=0&1,Mr=(d&2048|0)==0?(d&1|0)==0?5660:5665:5662),l7(l)|0,Xt=Se&2146435072;do if(Xt>>>0<2146435072|(Xt|0)==2146435072&0<0){if(Ge=+UUe(l,et)*2,B=Ge!=0,B&&(n[et>>2]=(n[et>>2]|0)+-1),lt=m|32,(lt|0)==97){Me=m&32,se=(Me|0)==0?Mr:Mr+9|0,j=or|2,B=12-f|0;do if(f>>>0>11|(B|0)==0)l=Ge;else{l=8;do B=B+-1|0,l=l*16;while((B|0)!=0);if((o[se>>0]|0)==45){l=-(l+(-Ge-l));break}else{l=Ge+l-l;break}}while(0);k=n[et>>2]|0,B=(k|0)<0?0-k|0:k,B=Jm(B,((B|0)<0)<<31>>31,Sr)|0,(B|0)==(Sr|0)&&(B=M+11|0,o[B>>0]=48),o[B+-1>>0]=(k>>31&2)+43,O=B+-2|0,o[O>>0]=m+15,M=(f|0)<1,Q=(d&8|0)==0,B=ir;do Xt=~~l,k=B+1|0,o[B>>0]=u[5694+Xt>>0]|Me,l=(l-+(Xt|0))*16,(k-Nr|0)==1&&!(Q&(M&l==0))?(o[k>>0]=46,B=B+2|0):B=k;while(l!=0);Xt=B-Nr|0,Nr=Sr-O|0,Sr=(f|0)!=0&(Xt+-2|0)<(f|0)?f+2|0:Xt,B=Nr+j+Sr|0,Bs(s,32,c,B,d),ss(s,se,j),Bs(s,48,c,B,d^65536),ss(s,ir,Xt),Bs(s,48,Sr-Xt|0,0,0),ss(s,O,Nr),Bs(s,32,c,B,d^8192);break}k=(f|0)<0?6:f,B?(B=(n[et>>2]|0)+-28|0,n[et>>2]=B,l=Ge*268435456):(l=Ge,B=n[et>>2]|0),Xt=(B|0)<0?Q:Q+288|0,Q=Xt;do je=~~l>>>0,n[Q>>2]=je,Q=Q+4|0,l=(l-+(je>>>0))*1e9;while(l!=0);if((B|0)>0)for(M=Xt,j=Q;;){if(O=(B|0)<29?B:29,B=j+-4|0,B>>>0>=M>>>0){Q=0;do Ue=h7(n[B>>2]|0,0,O|0)|0,Ue=xR(Ue|0,Se|0,Q|0,0)|0,je=Se,Xe=QR(Ue|0,je|0,1e9,0)|0,n[B>>2]=Xe,Q=kR(Ue|0,je|0,1e9,0)|0,B=B+-4|0;while(B>>>0>=M>>>0);Q&&(M=M+-4|0,n[M>>2]=Q)}for(Q=j;!(Q>>>0<=M>>>0);)if(B=Q+-4|0,!(n[B>>2]|0))Q=B;else break;if(B=(n[et>>2]|0)-O|0,n[et>>2]=B,(B|0)>0)j=Q;else break}else M=Xt;if((B|0)<0){f=((k+25|0)/9|0)+1|0,Qe=(lt|0)==102;do{if(Me=0-B|0,Me=(Me|0)<9?Me:9,M>>>0<Q>>>0){O=(1<<Me)+-1|0,j=1e9>>>Me,se=0,B=M;do je=n[B>>2]|0,n[B>>2]=(je>>>Me)+se,se=qe(je&O,j)|0,B=B+4|0;while(B>>>0<Q>>>0);B=(n[M>>2]|0)==0?M+4|0:M,se?(n[Q>>2]=se,M=B,B=Q+4|0):(M=B,B=Q)}else M=(n[M>>2]|0)==0?M+4|0:M,B=Q;Q=Qe?Xt:M,Q=(B-Q>>2|0)>(f|0)?Q+(f<<2)|0:B,B=(n[et>>2]|0)+Me|0,n[et>>2]=B}while((B|0)<0);B=M,f=Q}else B=M,f=Q;if(je=Xt,B>>>0<f>>>0){if(Q=(je-B>>2)*9|0,O=n[B>>2]|0,O>>>0>=10){M=10;do M=M*10|0,Q=Q+1|0;while(O>>>0>=M>>>0)}}else Q=0;if(Qe=(lt|0)==103,Xe=(k|0)!=0,M=k-((lt|0)!=102?Q:0)+((Xe&Qe)<<31>>31)|0,(M|0)<(((f-je>>2)*9|0)+-9|0)){if(M=M+9216|0,Me=Xt+4+(((M|0)/9|0)+-1024<<2)|0,M=((M|0)%9|0)+1|0,(M|0)<9){O=10;do O=O*10|0,M=M+1|0;while((M|0)!=9)}else O=10;if(j=n[Me>>2]|0,se=(j>>>0)%(O>>>0)|0,M=(Me+4|0)==(f|0),M&(se|0)==0)M=Me;else if(Ge=(((j>>>0)/(O>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,Ue=(O|0)/2|0,l=se>>>0<Ue>>>0?.5:M&(se|0)==(Ue|0)?1:1.5,or&&(Ue=(o[Mr>>0]|0)==45,l=Ue?-l:l,Ge=Ue?-Ge:Ge),M=j-se|0,n[Me>>2]=M,Ge+l!=Ge){if(Ue=M+O|0,n[Me>>2]=Ue,Ue>>>0>999999999)for(Q=Me;M=Q+-4|0,n[Q>>2]=0,M>>>0<B>>>0&&(B=B+-4|0,n[B>>2]=0),Ue=(n[M>>2]|0)+1|0,n[M>>2]=Ue,Ue>>>0>999999999;)Q=M;else M=Me;if(Q=(je-B>>2)*9|0,j=n[B>>2]|0,j>>>0>=10){O=10;do O=O*10|0,Q=Q+1|0;while(j>>>0>=O>>>0)}}else M=Me;M=M+4|0,M=f>>>0>M>>>0?M:f,Ue=B}else M=f,Ue=B;for(lt=M;;){if(lt>>>0<=Ue>>>0){et=0;break}if(B=lt+-4|0,!(n[B>>2]|0))lt=B;else{et=1;break}}f=0-Q|0;do if(Qe)if(B=((Xe^1)&1)+k|0,(B|0)>(Q|0)&(Q|0)>-5?(O=m+-1|0,k=B+-1-Q|0):(O=m+-2|0,k=B+-1|0),B=d&8,B)Me=B;else{if(et&&(Lt=n[lt+-4>>2]|0,(Lt|0)!=0))if((Lt>>>0)%10|0)M=0;else{M=0,B=10;do B=B*10|0,M=M+1|0;while(!((Lt>>>0)%(B>>>0)|0|0))}else M=9;if(B=((lt-je>>2)*9|0)+-9|0,(O|32|0)==102){Me=B-M|0,Me=(Me|0)>0?Me:0,k=(k|0)<(Me|0)?k:Me,Me=0;break}else{Me=B+Q-M|0,Me=(Me|0)>0?Me:0,k=(k|0)<(Me|0)?k:Me,Me=0;break}}else O=m,Me=d&8;while(0);if(Qe=k|Me,j=(Qe|0)!=0&1,se=(O|32|0)==102,se)Xe=0,B=(Q|0)>0?Q:0;else{if(B=(Q|0)<0?f:Q,B=Jm(B,((B|0)<0)<<31>>31,Sr)|0,M=Sr,(M-B|0)<2)do B=B+-1|0,o[B>>0]=48;while((M-B|0)<2);o[B+-1>>0]=(Q>>31&2)+43,B=B+-2|0,o[B>>0]=O,Xe=B,B=M-B|0}if(B=or+1+k+j+B|0,Bs(s,32,c,B,d),ss(s,Mr,or),Bs(s,48,c,B,d^65536),se){O=Ue>>>0>Xt>>>0?Xt:Ue,Me=ir+9|0,j=Me,se=ir+8|0,M=O;do{if(Q=Jm(n[M>>2]|0,0,Me)|0,(M|0)==(O|0))(Q|0)==(Me|0)&&(o[se>>0]=48,Q=se);else if(Q>>>0>ir>>>0){Xm(ir|0,48,Q-Nr|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}ss(s,Q,j-Q|0),M=M+4|0}while(M>>>0<=Xt>>>0);if(Qe|0&&ss(s,5710,1),M>>>0<lt>>>0&(k|0)>0)for(;;){if(Q=Jm(n[M>>2]|0,0,Me)|0,Q>>>0>ir>>>0){Xm(ir|0,48,Q-Nr|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}if(ss(s,Q,(k|0)<9?k:9),M=M+4|0,Q=k+-9|0,M>>>0<lt>>>0&(k|0)>9)k=Q;else{k=Q;break}}Bs(s,48,k+9|0,9,0)}else{if(Qe=et?lt:Ue+4|0,(k|0)>-1){et=ir+9|0,Me=(Me|0)==0,f=et,j=0-Nr|0,se=ir+8|0,O=Ue;do{Q=Jm(n[O>>2]|0,0,et)|0,(Q|0)==(et|0)&&(o[se>>0]=48,Q=se);do if((O|0)==(Ue|0)){if(M=Q+1|0,ss(s,Q,1),Me&(k|0)<1){Q=M;break}ss(s,5710,1),Q=M}else{if(Q>>>0<=ir>>>0)break;Xm(ir|0,48,Q+j|0)|0;do Q=Q+-1|0;while(Q>>>0>ir>>>0)}while(0);Nr=f-Q|0,ss(s,Q,(k|0)>(Nr|0)?Nr:k),k=k-Nr|0,O=O+4|0}while(O>>>0<Qe>>>0&(k|0)>-1)}Bs(s,48,k+18|0,18,0),ss(s,Xe,Sr-Xe|0)}Bs(s,32,c,B,d^8192)}else ir=(m&32|0)!=0,B=or+3|0,Bs(s,32,c,B,d&-65537),ss(s,Mr,or),ss(s,l!=l|!1?ir?5686:5690:ir?5678:5682,3),Bs(s,32,c,B,d^8192);while(0);return C=xn,((B|0)<(c|0)?c:B)|0}function l7(s){s=+s;var l=0;return E[v>>3]=s,l=n[v>>2]|0,Se=n[v+4>>2]|0,l|0}function UUe(s,l){return s=+s,l=l|0,+ +c7(s,l)}function c7(s,l){s=+s,l=l|0;var c=0,f=0,d=0;switch(E[v>>3]=s,c=n[v>>2]|0,f=n[v+4>>2]|0,d=mD(c|0,f|0,52)|0,d&2047){case 0:{s!=0?(s=+c7(s*18446744073709552e3,l),c=(n[l>>2]|0)+-64|0):c=0,n[l>>2]=c;break}case 2047:break;default:n[l>>2]=(d&2047)+-1022,n[v>>2]=c,n[v+4>>2]=f&-2146435073|1071644672,s=+E[v>>3]}return+s}function _Ue(s,l,c){s=s|0,l=l|0,c=c|0;do if(s){if(l>>>0<128){o[s>>0]=l,s=1;break}if(!(n[n[(HUe()|0)+188>>2]>>2]|0))if((l&-128|0)==57216){o[s>>0]=l,s=1;break}else{n[(Vm()|0)>>2]=84,s=-1;break}if(l>>>0<2048){o[s>>0]=l>>>6|192,o[s+1>>0]=l&63|128,s=2;break}if(l>>>0<55296|(l&-8192|0)==57344){o[s>>0]=l>>>12|224,o[s+1>>0]=l>>>6&63|128,o[s+2>>0]=l&63|128,s=3;break}if((l+-65536|0)>>>0<1048576){o[s>>0]=l>>>18|240,o[s+1>>0]=l>>>12&63|128,o[s+2>>0]=l>>>6&63|128,o[s+3>>0]=l&63|128,s=4;break}else{n[(Vm()|0)>>2]=84,s=-1;break}}else s=1;while(0);return s|0}function HUe(){return SR()|0}function qUe(){return SR()|0}function jUe(s,l){s=s|0,l=l|0;var c=0,f=0;for(f=0;;){if((u[5712+f>>0]|0)==(s|0)){s=2;break}if(c=f+1|0,(c|0)==87){c=5800,f=87,s=5;break}else f=c}if((s|0)==2&&(f?(c=5800,s=5):c=5800),(s|0)==5)for(;;){do s=c,c=c+1|0;while((o[s>>0]|0)!=0);if(f=f+-1|0,f)s=5;else break}return GUe(c,n[l+20>>2]|0)|0}function GUe(s,l){return s=s|0,l=l|0,YUe(s,l)|0}function YUe(s,l){return s=s|0,l=l|0,l?l=WUe(n[l>>2]|0,n[l+4>>2]|0,s)|0:l=0,(l|0?l:s)|0}function WUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0;se=(n[s>>2]|0)+1794895138|0,m=Rg(n[s+8>>2]|0,se)|0,f=Rg(n[s+12>>2]|0,se)|0,d=Rg(n[s+16>>2]|0,se)|0;e:do if(m>>>0<l>>>2>>>0&&(j=l-(m<<2)|0,f>>>0<j>>>0&d>>>0<j>>>0)&&((d|f)&3|0)==0){for(j=f>>>2,O=d>>>2,M=0;;){if(k=m>>>1,Q=M+k|0,B=Q<<1,d=B+j|0,f=Rg(n[s+(d<<2)>>2]|0,se)|0,d=Rg(n[s+(d+1<<2)>>2]|0,se)|0,!(d>>>0<l>>>0&f>>>0<(l-d|0)>>>0)){f=0;break e}if(o[s+(d+f)>>0]|0){f=0;break e}if(f=n7(c,s+d|0)|0,!f)break;if(f=(f|0)<0,(m|0)==1){f=0;break e}else M=f?M:Q,m=f?k:m-k|0}f=B+O|0,d=Rg(n[s+(f<<2)>>2]|0,se)|0,f=Rg(n[s+(f+1<<2)>>2]|0,se)|0,f>>>0<l>>>0&d>>>0<(l-f|0)>>>0?f=(o[s+(f+d)>>0]|0)==0?s+f|0:0:f=0}else f=0;while(0);return f|0}function Rg(s,l){s=s|0,l=l|0;var c=0;return c=m7(s|0)|0,((l|0)==0?s:c)|0}function KUe(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0,k=0;f=c+16|0,d=n[f>>2]|0,d?m=5:VUe(c)|0?f=0:(d=n[f>>2]|0,m=5);e:do if((m|0)==5){if(k=c+20|0,B=n[k>>2]|0,f=B,(d-B|0)>>>0<l>>>0){f=ED[n[c+36>>2]&7](c,s,l)|0;break}t:do if((o[c+75>>0]|0)>-1){for(B=l;;){if(!B){m=0,d=s;break t}if(d=B+-1|0,(o[s+d>>0]|0)==10)break;B=d}if(f=ED[n[c+36>>2]&7](c,s,B)|0,f>>>0<B>>>0)break e;m=B,d=s+B|0,l=l-B|0,f=n[k>>2]|0}else m=0,d=s;while(0);Dr(f|0,d|0,l|0)|0,n[k>>2]=(n[k>>2]|0)+l,f=m+l|0}while(0);return f|0}function VUe(s){s=s|0;var l=0,c=0;return l=s+74|0,c=o[l>>0]|0,o[l>>0]=c+255|c,l=n[s>>2]|0,l&8?(n[s>>2]=l|32,s=-1):(n[s+8>>2]=0,n[s+4>>2]=0,c=n[s+44>>2]|0,n[s+28>>2]=c,n[s+20>>2]=c,n[s+16>>2]=c+(n[s+48>>2]|0),s=0),s|0}function _n(s,l){s=y(s),l=y(l);var c=0,f=0;c=u7(s)|0;do if((c&2147483647)>>>0<=2139095040){if(f=u7(l)|0,(f&2147483647)>>>0<=2139095040)if((f^c|0)<0){s=(c|0)<0?l:s;break}else{s=s<l?l:s;break}}else s=l;while(0);return y(s)}function u7(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function Tg(s,l){s=y(s),l=y(l);var c=0,f=0;c=A7(s)|0;do if((c&2147483647)>>>0<=2139095040){if(f=A7(l)|0,(f&2147483647)>>>0<=2139095040)if((f^c|0)<0){s=(c|0)<0?s:l;break}else{s=s<l?s:l;break}}else s=l;while(0);return y(s)}function A7(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function bR(s,l){s=y(s),l=y(l);var c=0,f=0,d=0,m=0,B=0,k=0,Q=0,M=0;m=(h[v>>2]=s,n[v>>2]|0),k=(h[v>>2]=l,n[v>>2]|0),c=m>>>23&255,B=k>>>23&255,Q=m&-2147483648,d=k<<1;e:do if((d|0)!=0&&!((c|0)==255|((JUe(l)|0)&2147483647)>>>0>2139095040)){if(f=m<<1,f>>>0<=d>>>0)return l=y(s*y(0)),y((f|0)==(d|0)?l:s);if(c)f=m&8388607|8388608;else{if(c=m<<9,(c|0)>-1){f=c,c=0;do c=c+-1|0,f=f<<1;while((f|0)>-1)}else c=0;f=m<<1-c}if(B)k=k&8388607|8388608;else{if(m=k<<9,(m|0)>-1){d=0;do d=d+-1|0,m=m<<1;while((m|0)>-1)}else d=0;B=d,k=k<<1-d}d=f-k|0,m=(d|0)>-1;t:do if((c|0)>(B|0)){for(;;){if(m)if(d)f=d;else break;if(f=f<<1,c=c+-1|0,d=f-k|0,m=(d|0)>-1,(c|0)<=(B|0))break t}l=y(s*y(0));break e}while(0);if(m)if(d)f=d;else{l=y(s*y(0));break}if(f>>>0<8388608)do f=f<<1,c=c+-1|0;while(f>>>0<8388608);(c|0)>0?c=f+-8388608|c<<23:c=f>>>(1-c|0),l=(n[v>>2]=c|Q,y(h[v>>2]))}else M=3;while(0);return(M|0)==3&&(l=y(s*l),l=y(l/l)),y(l)}function JUe(s){return s=y(s),h[v>>2]=s,n[v>>2]|0|0}function zUe(s,l){return s=s|0,l=l|0,i7(n[582]|0,s,l)|0}function zr(s){s=s|0,Rt()}function zm(s){s=s|0}function XUe(s,l){return s=s|0,l=l|0,0}function ZUe(s){return s=s|0,(f7(s+4|0)|0)==-1?(tf[n[(n[s>>2]|0)+8>>2]&127](s),s=1):s=0,s|0}function f7(s){s=s|0;var l=0;return l=n[s>>2]|0,n[s>>2]=l+-1,l+-1|0}function kp(s){s=s|0,ZUe(s)|0&&$Ue(s)}function $Ue(s){s=s|0;var l=0;l=s+8|0,(n[l>>2]|0)!=0&&(f7(l)|0)!=-1||tf[n[(n[s>>2]|0)+16>>2]&127](s)}function Kt(s){s=s|0;var l=0;for(l=(s|0)==0?1:s;s=pD(l)|0,!(s|0);){if(s=t3e()|0,!s){s=0;break}P7[s&0]()}return s|0}function p7(s){return s=s|0,Kt(s)|0}function gt(s){s=s|0,hD(s)}function e3e(s){s=s|0,(o[s+11>>0]|0)<0&&gt(n[s>>2]|0)}function t3e(){var s=0;return s=n[2923]|0,n[2923]=s+0,s|0}function r3e(){}function dD(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,f=l-f-(c>>>0>s>>>0|0)>>>0,Se=f,s-c>>>0|0|0}function xR(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,c=s+c>>>0,Se=l+f+(c>>>0<s>>>0|0)>>>0,c|0|0}function Xm(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0,B=0;if(m=s+c|0,l=l&255,(c|0)>=67){for(;s&3;)o[s>>0]=l,s=s+1|0;for(f=m&-4|0,d=f-64|0,B=l|l<<8|l<<16|l<<24;(s|0)<=(d|0);)n[s>>2]=B,n[s+4>>2]=B,n[s+8>>2]=B,n[s+12>>2]=B,n[s+16>>2]=B,n[s+20>>2]=B,n[s+24>>2]=B,n[s+28>>2]=B,n[s+32>>2]=B,n[s+36>>2]=B,n[s+40>>2]=B,n[s+44>>2]=B,n[s+48>>2]=B,n[s+52>>2]=B,n[s+56>>2]=B,n[s+60>>2]=B,s=s+64|0;for(;(s|0)<(f|0);)n[s>>2]=B,s=s+4|0}for(;(s|0)<(m|0);)o[s>>0]=l,s=s+1|0;return m-c|0}function h7(s,l,c){return s=s|0,l=l|0,c=c|0,(c|0)<32?(Se=l<<c|(s&(1<<c)-1<<32-c)>>>32-c,s<<c):(Se=s<<c-32,0)}function mD(s,l,c){return s=s|0,l=l|0,c=c|0,(c|0)<32?(Se=l>>>c,s>>>c|(l&(1<<c)-1)<<32-c):(Se=0,l>>>c-32|0)}function Dr(s,l,c){s=s|0,l=l|0,c=c|0;var f=0,d=0,m=0;if((c|0)>=8192)return Ac(s|0,l|0,c|0)|0;if(m=s|0,d=s+c|0,(s&3)==(l&3)){for(;s&3;){if(!c)return m|0;o[s>>0]=o[l>>0]|0,s=s+1|0,l=l+1|0,c=c-1|0}for(c=d&-4|0,f=c-64|0;(s|0)<=(f|0);)n[s>>2]=n[l>>2],n[s+4>>2]=n[l+4>>2],n[s+8>>2]=n[l+8>>2],n[s+12>>2]=n[l+12>>2],n[s+16>>2]=n[l+16>>2],n[s+20>>2]=n[l+20>>2],n[s+24>>2]=n[l+24>>2],n[s+28>>2]=n[l+28>>2],n[s+32>>2]=n[l+32>>2],n[s+36>>2]=n[l+36>>2],n[s+40>>2]=n[l+40>>2],n[s+44>>2]=n[l+44>>2],n[s+48>>2]=n[l+48>>2],n[s+52>>2]=n[l+52>>2],n[s+56>>2]=n[l+56>>2],n[s+60>>2]=n[l+60>>2],s=s+64|0,l=l+64|0;for(;(s|0)<(c|0);)n[s>>2]=n[l>>2],s=s+4|0,l=l+4|0}else for(c=d-4|0;(s|0)<(c|0);)o[s>>0]=o[l>>0]|0,o[s+1>>0]=o[l+1>>0]|0,o[s+2>>0]=o[l+2>>0]|0,o[s+3>>0]=o[l+3>>0]|0,s=s+4|0,l=l+4|0;for(;(s|0)<(d|0);)o[s>>0]=o[l>>0]|0,s=s+1|0,l=l+1|0;return m|0}function g7(s){s=s|0;var l=0;return l=o[L+(s&255)>>0]|0,(l|0)<8?l|0:(l=o[L+(s>>8&255)>>0]|0,(l|0)<8?l+8|0:(l=o[L+(s>>16&255)>>0]|0,(l|0)<8?l+16|0:(o[L+(s>>>24)>>0]|0)+24|0))}function d7(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0;var m=0,B=0,k=0,Q=0,M=0,O=0,j=0,se=0,Ge=0,Me=0;if(O=s,Q=l,M=Q,B=c,se=f,k=se,!M)return m=(d|0)!=0,k?m?(n[d>>2]=s|0,n[d+4>>2]=l&0,se=0,d=0,Se=se,d|0):(se=0,d=0,Se=se,d|0):(m&&(n[d>>2]=(O>>>0)%(B>>>0),n[d+4>>2]=0),se=0,d=(O>>>0)/(B>>>0)>>>0,Se=se,d|0);m=(k|0)==0;do if(B){if(!m){if(m=(P(k|0)|0)-(P(M|0)|0)|0,m>>>0<=31){j=m+1|0,k=31-m|0,l=m-31>>31,B=j,s=O>>>(j>>>0)&l|M<<k,l=M>>>(j>>>0)&l,m=0,k=O<<k;break}return d?(n[d>>2]=s|0,n[d+4>>2]=Q|l&0,se=0,d=0,Se=se,d|0):(se=0,d=0,Se=se,d|0)}if(m=B-1|0,m&B|0){k=(P(B|0)|0)+33-(P(M|0)|0)|0,Me=64-k|0,j=32-k|0,Q=j>>31,Ge=k-32|0,l=Ge>>31,B=k,s=j-1>>31&M>>>(Ge>>>0)|(M<<j|O>>>(k>>>0))&l,l=l&M>>>(k>>>0),m=O<<Me&Q,k=(M<<Me|O>>>(Ge>>>0))&Q|O<<j&k-33>>31;break}return d|0&&(n[d>>2]=m&O,n[d+4>>2]=0),(B|0)==1?(Ge=Q|l&0,Me=s|0|0,Se=Ge,Me|0):(Me=g7(B|0)|0,Ge=M>>>(Me>>>0)|0,Me=M<<32-Me|O>>>(Me>>>0)|0,Se=Ge,Me|0)}else{if(m)return d|0&&(n[d>>2]=(M>>>0)%(B>>>0),n[d+4>>2]=0),Ge=0,Me=(M>>>0)/(B>>>0)>>>0,Se=Ge,Me|0;if(!O)return d|0&&(n[d>>2]=0,n[d+4>>2]=(M>>>0)%(k>>>0)),Ge=0,Me=(M>>>0)/(k>>>0)>>>0,Se=Ge,Me|0;if(m=k-1|0,!(m&k))return d|0&&(n[d>>2]=s|0,n[d+4>>2]=m&M|l&0),Ge=0,Me=M>>>((g7(k|0)|0)>>>0),Se=Ge,Me|0;if(m=(P(k|0)|0)-(P(M|0)|0)|0,m>>>0<=30){l=m+1|0,k=31-m|0,B=l,s=M<<k|O>>>(l>>>0),l=M>>>(l>>>0),m=0,k=O<<k;break}return d?(n[d>>2]=s|0,n[d+4>>2]=Q|l&0,Ge=0,Me=0,Se=Ge,Me|0):(Ge=0,Me=0,Se=Ge,Me|0)}while(0);if(!B)M=k,Q=0,k=0;else{j=c|0|0,O=se|f&0,M=xR(j|0,O|0,-1,-1)|0,c=Se,Q=k,k=0;do f=Q,Q=m>>>31|Q<<1,m=k|m<<1,f=s<<1|f>>>31|0,se=s>>>31|l<<1|0,dD(M|0,c|0,f|0,se|0)|0,Me=Se,Ge=Me>>31|((Me|0)<0?-1:0)<<1,k=Ge&1,s=dD(f|0,se|0,Ge&j|0,(((Me|0)<0?-1:0)>>31|((Me|0)<0?-1:0)<<1)&O|0)|0,l=Se,B=B-1|0;while((B|0)!=0);M=Q,Q=0}return B=0,d|0&&(n[d>>2]=s,n[d+4>>2]=l),Ge=(m|0)>>>31|(M|B)<<1|(B<<1|m>>>31)&0|Q,Me=(m<<1|0>>>31)&-2|k,Se=Ge,Me|0}function kR(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,d7(s,l,c,f,0)|0}function Qp(s){s=s|0;var l=0,c=0;return c=s+15&-16|0,l=n[I>>2]|0,s=l+c|0,(c|0)>0&(s|0)<(l|0)|(s|0)<0?(ie()|0,DA(12),-1):(n[I>>2]=s,(s|0)>(Z()|0)&&(X()|0)==0?(n[I>>2]=l,DA(12),-1):l|0)}function Mw(s,l,c){s=s|0,l=l|0,c=c|0;var f=0;if((l|0)<(s|0)&(s|0)<(l+c|0)){for(f=s,l=l+c|0,s=s+c|0;(c|0)>0;)s=s-1|0,l=l-1|0,c=c-1|0,o[s>>0]=o[l>>0]|0;s=f}else Dr(s,l,c)|0;return s|0}function QR(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0;var d=0,m=0;return m=C,C=C+16|0,d=m|0,d7(s,l,c,f,d)|0,C=m,Se=n[d+4>>2]|0,n[d>>2]|0|0}function m7(s){return s=s|0,(s&255)<<24|(s>>8&255)<<16|(s>>16&255)<<8|s>>>24|0}function n3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,y7[s&1](l|0,c|0,f|0,d|0,m|0)}function i3e(s,l,c){s=s|0,l=l|0,c=y(c),E7[s&1](l|0,y(c))}function s3e(s,l,c){s=s|0,l=l|0,c=+c,C7[s&31](l|0,+c)}function o3e(s,l,c,f){return s=s|0,l=l|0,c=y(c),f=y(f),y(w7[s&0](l|0,y(c),y(f)))}function a3e(s,l){s=s|0,l=l|0,tf[s&127](l|0)}function l3e(s,l,c){s=s|0,l=l|0,c=c|0,rf[s&31](l|0,c|0)}function c3e(s,l){return s=s|0,l=l|0,Lg[s&31](l|0)|0}function u3e(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0,I7[s&1](l|0,+c,+f,d|0)}function A3e(s,l,c,f){s=s|0,l=l|0,c=+c,f=+f,Y3e[s&1](l|0,+c,+f)}function f3e(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,ED[s&7](l|0,c|0,f|0)|0}function p3e(s,l,c,f){return s=s|0,l=l|0,c=c|0,f=f|0,+W3e[s&1](l|0,c|0,f|0)}function h3e(s,l){return s=s|0,l=l|0,+B7[s&15](l|0)}function g3e(s,l,c){return s=s|0,l=l|0,c=+c,K3e[s&1](l|0,+c)|0}function d3e(s,l,c){return s=s|0,l=l|0,c=c|0,RR[s&15](l|0,c|0)|0}function m3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=+f,d=+d,m=m|0,V3e[s&1](l|0,c|0,+f,+d,m|0)}function y3e(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,B=B|0,J3e[s&1](l|0,c|0,f|0,d|0,m|0,B|0)}function E3e(s,l,c){return s=s|0,l=l|0,c=c|0,+v7[s&7](l|0,c|0)}function C3e(s){return s=s|0,CD[s&7]()|0}function w3e(s,l,c,f,d,m){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,D7[s&1](l|0,c|0,f|0,d|0,m|0)|0}function I3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=+d,z3e[s&1](l|0,c|0,f|0,+d)}function B3e(s,l,c,f,d,m,B){s=s|0,l=l|0,c=c|0,f=y(f),d=d|0,m=y(m),B=B|0,S7[s&1](l|0,c|0,y(f),d|0,y(m),B|0)}function v3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,Hw[s&15](l|0,c|0,f|0)}function D3e(s){s=s|0,P7[s&0]()}function S3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f,b7[s&15](l|0,c|0,+f)}function P3e(s,l,c){return s=s|0,l=+l,c=+c,X3e[s&1](+l,+c)|0}function b3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,TR[s&15](l|0,c|0,f|0,d|0)}function x3e(s,l,c,f,d){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,F(0)}function k3e(s,l){s=s|0,l=y(l),F(1)}function ma(s,l){s=s|0,l=+l,F(2)}function Q3e(s,l,c){return s=s|0,l=y(l),c=y(c),F(3),Ze}function Er(s){s=s|0,F(4)}function Uw(s,l){s=s|0,l=l|0,F(5)}function Ja(s){return s=s|0,F(6),0}function F3e(s,l,c,f){s=s|0,l=+l,c=+c,f=f|0,F(7)}function R3e(s,l,c){s=s|0,l=+l,c=+c,F(8)}function T3e(s,l,c){return s=s|0,l=l|0,c=c|0,F(9),0}function N3e(s,l,c){return s=s|0,l=l|0,c=c|0,F(10),0}function Ng(s){return s=s|0,F(11),0}function L3e(s,l){return s=s|0,l=+l,F(12),0}function _w(s,l){return s=s|0,l=l|0,F(13),0}function O3e(s,l,c,f,d){s=s|0,l=l|0,c=+c,f=+f,d=d|0,F(14)}function M3e(s,l,c,f,d,m){s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,m=m|0,F(15)}function FR(s,l){return s=s|0,l=l|0,F(16),0}function U3e(){return F(17),0}function _3e(s,l,c,f,d){return s=s|0,l=l|0,c=c|0,f=f|0,d=d|0,F(18),0}function H3e(s,l,c,f){s=s|0,l=l|0,c=c|0,f=+f,F(19)}function q3e(s,l,c,f,d,m){s=s|0,l=l|0,c=y(c),f=f|0,d=y(d),m=m|0,F(20)}function yD(s,l,c){s=s|0,l=l|0,c=c|0,F(21)}function j3e(){F(22)}function Zm(s,l,c){s=s|0,l=l|0,c=+c,F(23)}function G3e(s,l){return s=+s,l=+l,F(24),0}function $m(s,l,c,f){s=s|0,l=l|0,c=c|0,f=f|0,F(25)}var y7=[x3e,_Le],E7=[k3e,fo],C7=[ma,xw,kw,EF,CF,Dl,Qw,wF,qm,bu,Rw,IF,$v,KA,eD,jm,tD,rD,Gm,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma,ma],w7=[Q3e],tf=[Er,zm,CDe,wDe,IDe,Xbe,Zbe,$be,gNe,dNe,mNe,PLe,bLe,xLe,J4e,z4e,X4e,hs,Vv,Hm,WA,Fw,dve,mve,uDe,kDe,qDe,oSe,ISe,USe,rPe,mPe,FPe,VPe,ube,Sbe,qbe,dxe,Fxe,Vxe,uke,Ske,qke,aQe,IQe,LQe,ZQe,Pc,xFe,YFe,uRe,bRe,jRe,uTe,CTe,BTe,_Te,jTe,oNe,ENe,INe,UNe,nLe,i5,MOe,gMe,kMe,YMe,p4e,b4e,U4e,q4e,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er,Er],rf=[Uw,fF,pF,bw,Pu,hF,gF,Bp,dF,mF,yF,Zv,VA,Ve,ft,Wt,vr,Pn,Fr,vF,nve,Sve,AQe,DQe,FRe,HOe,ALe,q9,Uw,Uw,Uw,Uw],Lg=[Ja,SUe,AF,D,Ae,De,vt,wt,xt,_r,di,po,eve,tve,yve,tFe,KRe,qNe,YOe,Wa,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja,Ja],I7=[F3e,Eve],Y3e=[R3e,cNe],ED=[T3e,r7,PUe,kUe,jSe,Cxe,RFe,JMe],W3e=[N3e,hbe],B7=[Ng,Yo,rt,bn,Cve,wve,Ive,Bve,vve,Dve,Ng,Ng,Ng,Ng,Ng,Ng],K3e=[L3e,mTe],RR=[_w,XUe,rve,hDe,uSe,sPe,CPe,Wbe,Lxe,_Qe,Wv,TMe,_w,_w,_w,_w],V3e=[O3e,WDe],J3e=[M3e,m4e],v7=[FR,ai,Pve,bve,xve,kbe,FR,FR],CD=[U3e,kve,Sw,ga,PTe,KTe,SNe,W4e],D7=[_3e,Cw],z3e=[H3e,hke],S7=[q3e,ive],Hw=[yD,T,is,tn,ho,SSe,NPe,kke,Wke,_m,cOe,EMe,F4e,yD,yD,yD],P7=[j3e],b7=[Zm,Jv,zv,Xv,YA,nD,BF,S,Zxe,JFe,pTe,Zm,Zm,Zm,Zm,Zm],X3e=[G3e,pNe],TR=[$m,ZPe,cFe,hRe,rTe,RTe,$Te,RNe,lLe,XOe,nUe,$m,$m,$m,$m,$m];return{_llvm_bswap_i32:m7,dynCall_idd:P3e,dynCall_i:C3e,_i64Subtract:dD,___udivdi3:kR,dynCall_vif:i3e,setThrew:hu,dynCall_viii:v3e,_bitshift64Lshr:mD,_bitshift64Shl:h7,dynCall_vi:a3e,dynCall_viiddi:m3e,dynCall_diii:p3e,dynCall_iii:d3e,_memset:Xm,_sbrk:Qp,_memcpy:Dr,__GLOBAL__sub_I_Yoga_cpp:Um,dynCall_vii:l3e,___uremdi3:QR,dynCall_vid:s3e,stackAlloc:lo,_nbind_init:hUe,getTempRet0:Ua,dynCall_di:h3e,dynCall_iid:g3e,setTempRet0:xA,_i64Add:xR,dynCall_fiff:o3e,dynCall_iiii:f3e,_emscripten_get_global_libc:DUe,dynCall_viid:S3e,dynCall_viiid:I3e,dynCall_viififi:B3e,dynCall_ii:c3e,__GLOBAL__sub_I_Binding_cc:kOe,dynCall_viiii:b3e,dynCall_iiiiii:w3e,stackSave:gc,dynCall_viiiii:n3e,__GLOBAL__sub_I_nbind_cc:Qve,dynCall_vidd:A3e,_free:hD,runPostSets:r3e,dynCall_viiiiii:y3e,establishStackSpace:qi,_memmove:Mw,stackRestore:pu,_malloc:pD,__GLOBAL__sub_I_common_cc:zNe,dynCall_viddi:u3e,dynCall_dii:E3e,dynCall_v:D3e}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,getTempRet0=Module.getTempRet0=asm.getTempRet0,___udivdi3=Module.___udivdi3=asm.___udivdi3,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,stackAlloc=Module.stackAlloc=asm.stackAlloc,___uremdi3=Module.___uremdi3=asm.___uremdi3,_nbind_init=Module._nbind_init=asm._nbind_init,_i64Subtract=Module._i64Subtract=asm._i64Subtract,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,__GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc,stackSave=Module.stackSave=asm.stackSave,__GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_memmove=Module._memmove=asm._memmove,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vif=Module.dynCall_vif=asm.dynCall_vif,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_fiff=Module.dynCall_fiff=asm.dynCall_fiff,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viddi=Module.dynCall_viddi=asm.dynCall_viddi,dynCall_vidd=Module.dynCall_vidd=asm.dynCall_vidd,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_iid=Module.dynCall_iid=asm.dynCall_iid,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiddi=Module.dynCall_viiddi=asm.dynCall_viiddi,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiid=Module.dynCall_viiid=asm.dynCall_viiid,dynCall_viififi=Module.dynCall_viififi=asm.dynCall_viififi,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_idd=Module.dynCall_idd=asm.dynCall_idd,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(t){this.name=\"ExitStatus\",this.message=\"Program terminated with exit(\"+t+\")\",this.status=t}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function t(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=t)},Module.callMain=Module.callMain=function t(e){e=e||[],ensureInitRuntime();var r=e.length+1;function o(){for(var p=0;p<4-1;p++)a.push(0)}var a=[allocate(intArrayFromString(Module.thisProgram),\"i8\",ALLOC_NORMAL)];o();for(var n=0;n<r-1;n=n+1)a.push(allocate(intArrayFromString(e[n]),\"i8\",ALLOC_NORMAL)),o();a.push(0),a=allocate(a,\"i32\",ALLOC_NORMAL);try{var u=Module._main(r,a,0);exit(u,!0)}catch(p){if(p instanceof ExitStatus)return;if(p==\"SimulateInfiniteLoop\"){Module.noExitRuntime=!0;return}else{var A=p;p&&typeof p==\"object\"&&p.stack&&(A=[p,p.stack]),Module.printErr(\"exception thrown: \"+A),Module.quit(1,p)}}finally{calledMain=!0}};function run(t){if(t=t||Module.arguments,preloadStartTime===null&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(t),postRun()))}Module.setStatus?(Module.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){Module.setStatus(\"\")},1),e()},1)):e()}Module.run=Module.run=run;function exit(t,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=t,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(t)),ENVIRONMENT_IS_NODE&&process.exit(t),Module.quit(t,new ExitStatus(t)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(t){Module.onAbort&&Module.onAbort(t),t!==void 0?(Module.print(t),Module.printErr(t),t=JSON.stringify(t)):t=\"\",ABORT=!0,EXITSTATUS=1;var e=`\n/Users/yparis/Developer/atlantis/.yarn/releases/yarn-4.1.1.cjs:385:`,x}function u1t(t,e){return e.fs_.chmod(t,493)}function uj(t){if(!t)return{win32:\"\",posix:\"\"};let e=typeof t==\"string\"?t.split(sc.delimiter):Array.from(t),r={};for(let o=0;o<e.length;o++){let a=e[o].split(\"/\").join(\"\\\\\"),n=i1e()?e[o].split(\"\\\\\").join(\"/\").replace(/^([^:\\\\/]*):/,(u,A)=>`/mnt/${A.toLowerCase()}`):e[o];r.win32=r.win32?`${r.win32};${a}`:a,r.posix=r.posix?`${r.posix}:${n}`:n,r[o]={win32:a,posix:n}}return r}o1e.exports=cj});var vj=_((h$t,b1e)=>{b1e.exports=ve(\"stream\")});var F1e=_((g$t,Q1e)=>{\"use strict\";function x1e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function O1t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x1e(Object(r),!0).forEach(function(o){M1t(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x1e(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function M1t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U1t(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function k1e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _1t(t,e,r){return e&&k1e(t.prototype,e),r&&k1e(t,r),t}var H1t=ve(\"buffer\"),xQ=H1t.Buffer,q1t=ve(\"util\"),Dj=q1t.inspect,j1t=Dj&&Dj.custom||\"inspect\";function G1t(t,e,r){xQ.prototype.copy.call(t,e,r)}Q1e.exports=function(){function t(){U1t(this,t),this.head=null,this.tail=null,this.length=0}return _1t(t,[{key:\"push\",value:function(r){var o={data:r,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:\"unshift\",value:function(r){var o={data:r,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}},{key:\"shift\",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(r){if(this.length===0)return\"\";for(var o=this.head,a=\"\"+o.data;o=o.next;)a+=r+o.data;return a}},{key:\"concat\",value:function(r){if(this.length===0)return xQ.alloc(0);for(var o=xQ.allocUnsafe(r>>>0),a=this.head,n=0;a;)G1t(a.data,o,n),n+=a.data.length,a=a.next;return o}},{key:\"consume\",value:function(r,o){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?a=this.shift():a=o?this._getString(r):this._getBuffer(r),a}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(r){var o=this.head,a=1,n=o.data;for(r-=n.length;o=o.next;){var u=o.data,A=r>u.length?u.length:r;if(A===u.length?n+=u:n+=u.slice(0,r),r-=A,r===0){A===u.length?(++a,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=u.slice(A));break}++a}return this.length-=a,n}},{key:\"_getBuffer\",value:function(r){var o=xQ.allocUnsafe(r),a=this.head,n=1;for(a.data.copy(o),r-=a.data.length;a=a.next;){var u=a.data,A=r>u.length?u.length:r;if(u.copy(o,o.length-r,0,A),r-=A,r===0){A===u.length?(++n,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=u.slice(A));break}++n}return this.length-=n,o}},{key:j1t,value:function(r,o){return Dj(this,O1t({},o,{depth:0,customInspect:!1}))}}]),t}()});var Pj=_((d$t,T1e)=>{\"use strict\";function Y1t(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Sj,this,t)):process.nextTick(Sj,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(n){!e&&n?r._writableState?r._writableState.errorEmitted?process.nextTick(kQ,r):(r._writableState.errorEmitted=!0,process.nextTick(R1e,r,n)):process.nextTick(R1e,r,n):e?(process.nextTick(kQ,r),e(n)):process.nextTick(kQ,r)}),this)}function R1e(t,e){Sj(t,e),kQ(t)}function kQ(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit(\"close\")}function W1t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sj(t,e){t.emit(\"error\",e)}function K1t(t,e){var r=t._readableState,o=t._writableState;r&&r.autoDestroy||o&&o.autoDestroy?t.destroy(e):t.emit(\"error\",e)}T1e.exports={destroy:Y1t,undestroy:W1t,errorOrDestroy:K1t}});var Q0=_((m$t,O1e)=>{\"use strict\";var L1e={};function ac(t,e,r){r||(r=Error);function o(n,u,A){return typeof e==\"string\"?e:e(n,u,A)}class a extends r{constructor(u,A,p){super(o(u,A,p))}}a.prototype.name=r.name,a.prototype.code=t,L1e[t]=a}function N1e(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(o=>String(o)),r>2?`one of ${e} ${t.slice(0,r-1).join(\", \")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function V1t(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function J1t(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function z1t(t,e,r){return typeof r!=\"number\"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ac(\"ERR_INVALID_OPT_VALUE\",function(t,e){return'The value \"'+e+'\" is invalid for option \"'+t+'\"'},TypeError);ac(\"ERR_INVALID_ARG_TYPE\",function(t,e,r){let o;typeof e==\"string\"&&V1t(e,\"not \")?(o=\"must not be\",e=e.replace(/^not /,\"\")):o=\"must be\";let a;if(J1t(t,\" argument\"))a=`The ${t} ${o} ${N1e(e,\"type\")}`;else{let n=z1t(t,\".\")?\"property\":\"argument\";a=`The \"${t}\" ${n} ${o} ${N1e(e,\"type\")}`}return a+=`. Received type ${typeof r}`,a},TypeError);ac(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\");ac(\"ERR_METHOD_NOT_IMPLEMENTED\",function(t){return\"The \"+t+\" method is not implemented\"});ac(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\");ac(\"ERR_STREAM_DESTROYED\",function(t){return\"Cannot call \"+t+\" after a stream was destroyed\"});ac(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\");ac(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\");ac(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\");ac(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError);ac(\"ERR_UNKNOWN_ENCODING\",function(t){return\"Unknown encoding: \"+t},TypeError);ac(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\");O1e.exports.codes=L1e});var bj=_((y$t,M1e)=>{\"use strict\";var X1t=Q0().codes.ERR_INVALID_OPT_VALUE;function Z1t(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function $1t(t,e,r,o){var a=Z1t(e,o,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var n=o?r:\"highWaterMark\";throw new X1t(n,a)}return Math.floor(a)}return t.objectMode?16:16*1024}M1e.exports={getHighWaterMark:$1t}});var U1e=_((E$t,xj)=>{typeof Object.create==\"function\"?xj.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xj.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}}});var F0=_((C$t,Qj)=>{try{if(kj=ve(\"util\"),typeof kj.inherits!=\"function\")throw\"\";Qj.exports=kj.inherits}catch{Qj.exports=U1e()}var kj});var H1e=_((w$t,_1e)=>{_1e.exports=ve(\"util\").deprecate});var Tj=_((I$t,K1e)=>{\"use strict\";K1e.exports=Ri;function j1e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){S2t(e,t)}}var zC;Ri.WritableState=mv;var e2t={deprecate:H1e()},G1e=vj(),FQ=ve(\"buffer\").Buffer,t2t=global.Uint8Array||function(){};function r2t(t){return FQ.from(t)}function n2t(t){return FQ.isBuffer(t)||t instanceof t2t}var Rj=Pj(),i2t=bj(),s2t=i2t.getHighWaterMark,R0=Q0().codes,o2t=R0.ERR_INVALID_ARG_TYPE,a2t=R0.ERR_METHOD_NOT_IMPLEMENTED,l2t=R0.ERR_MULTIPLE_CALLBACK,c2t=R0.ERR_STREAM_CANNOT_PIPE,u2t=R0.ERR_STREAM_DESTROYED,A2t=R0.ERR_STREAM_NULL_VALUES,f2t=R0.ERR_STREAM_WRITE_AFTER_END,p2t=R0.ERR_UNKNOWN_ENCODING,XC=Rj.errorOrDestroy;F0()(Ri,G1e);function h2t(){}function mv(t,e,r){zC=zC||Cm(),t=t||{},typeof r!=\"boolean\"&&(r=e instanceof zC),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=s2t(this,t,\"writableHighWaterMark\",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){w2t(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j1e(this)}mv.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(mv.prototype,\"buffer\",{get:e2t.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch{}})();var QQ;typeof Symbol==\"function\"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==\"function\"?(QQ=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ri,Symbol.hasInstance,{value:function(e){return QQ.call(this,e)?!0:this!==Ri?!1:e&&e._writableState instanceof mv}})):QQ=function(e){return e instanceof this};function Ri(t){zC=zC||Cm();var e=this instanceof zC;if(!e&&!QQ.call(Ri,this))return new Ri(t);this._writableState=new mv(t,this,e),this.writable=!0,t&&(typeof t.write==\"function\"&&(this._write=t.write),typeof t.writev==\"function\"&&(this._writev=t.writev),typeof t.destroy==\"function\"&&(this._destroy=t.destroy),typeof t.final==\"function\"&&(this._final=t.final)),G1e.call(this)}Ri.prototype.pipe=function(){XC(this,new c2t)};function g2t(t,e){var r=new f2t;XC(t,r),process.nextTick(e,r)}function d2t(t,e,r,o){var a;return r===null?a=new A2t:typeof r!=\"string\"&&!e.objectMode&&(a=new o2t(\"chunk\",[\"string\",\"Buffer\"],r)),a?(XC(t,a),process.nextTick(o,a),!1):!0}Ri.prototype.write=function(t,e,r){var o=this._writableState,a=!1,n=!o.objectMode&&n2t(t);return n&&!FQ.isBuffer(t)&&(t=r2t(t)),typeof e==\"function\"&&(r=e,e=null),n?e=\"buffer\":e||(e=o.defaultEncoding),typeof r!=\"function\"&&(r=h2t),o.ending?g2t(this,r):(n||d2t(this,o,t,r))&&(o.pendingcb++,a=y2t(this,o,n,t,e,r)),a};Ri.prototype.cork=function(){this._writableState.corked++};Ri.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Y1e(this,t))};Ri.prototype.setDefaultEncoding=function(e){if(typeof e==\"string\"&&(e=e.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((e+\"\").toLowerCase())>-1))throw new p2t(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ri.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m2t(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e==\"string\"&&(e=FQ.from(e,r)),e}Object.defineProperty(Ri.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function y2t(t,e,r,o,a,n){if(!r){var u=m2t(e,o,a);o!==u&&(r=!0,a=\"buffer\",o=u)}var A=e.objectMode?1:o.length;e.length+=A;var p=e.length<e.highWaterMark;if(p||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:o,encoding:a,isBuf:r,callback:n,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Fj(t,e,!1,A,o,a,n);return p}function Fj(t,e,r,o,a,n,u){e.writelen=o,e.writecb=u,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new u2t(\"write\")):r?t._writev(a,e.onwrite):t._write(a,n,e.onwrite),e.sync=!1}function E2t(t,e,r,o,a){--e.pendingcb,r?(process.nextTick(a,o),process.nextTick(dv,t,e),t._writableState.errorEmitted=!0,XC(t,o)):(a(o),t._writableState.errorEmitted=!0,XC(t,o),dv(t,e))}function C2t(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function w2t(t,e){var r=t._writableState,o=r.sync,a=r.writecb;if(typeof a!=\"function\")throw new l2t;if(C2t(r),e)E2t(t,r,o,e,a);else{var n=W1e(r)||t.destroyed;!n&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Y1e(t,r),o?process.nextTick(q1e,t,r,n,a):q1e(t,r,n,a)}}function q1e(t,e,r,o){r||I2t(t,e),e.pendingcb--,o(),dv(t,e)}function I2t(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit(\"drain\"))}function Y1e(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var o=e.bufferedRequestCount,a=new Array(o),n=e.corkedRequestsFree;n.entry=r;for(var u=0,A=!0;r;)a[u]=r,r.isBuf||(A=!1),r=r.next,u+=1;a.allBuffers=A,Fj(t,e,!0,e.length,a,\"\",n.finish),e.pendingcb++,e.lastBufferedRequest=null,n.next?(e.corkedRequestsFree=n.next,n.next=null):e.corkedRequestsFree=new j1e(e),e.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,h=r.encoding,E=r.callback,I=e.objectMode?1:p.length;if(Fj(t,e,!1,I,p,h,E),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ri.prototype._write=function(t,e,r){r(new a2t(\"_write()\"))};Ri.prototype._writev=null;Ri.prototype.end=function(t,e,r){var o=this._writableState;return typeof t==\"function\"?(r=t,t=null,e=null):typeof e==\"function\"&&(r=e,e=null),t!=null&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||D2t(this,o,r),this};Object.defineProperty(Ri.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}});function W1e(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function B2t(t,e){t._final(function(r){e.pendingcb--,r&&XC(t,r),e.prefinished=!0,t.emit(\"prefinish\"),dv(t,e)})}function v2t(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final==\"function\"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(B2t,t,e)):(e.prefinished=!0,t.emit(\"prefinish\")))}function dv(t,e){var r=W1e(e);if(r&&(v2t(t,e),e.pendingcb===0&&(e.finished=!0,t.emit(\"finish\"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return r}function D2t(t,e,r){e.ending=!0,dv(t,e),r&&(e.finished?process.nextTick(r):t.once(\"finish\",r)),e.ended=!0,t.writable=!1}function S2t(t,e,r){var o=t.entry;for(t.entry=null;o;){var a=o.callback;e.pendingcb--,a(r),o=o.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ri.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Ri.prototype.destroy=Rj.destroy;Ri.prototype._undestroy=Rj.undestroy;Ri.prototype._destroy=function(t,e){e(t)}});var Cm=_((B$t,J1e)=>{\"use strict\";var P2t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};J1e.exports=EA;var V1e=Oj(),Lj=Tj();F0()(EA,V1e);for(Nj=P2t(Lj.prototype),RQ=0;RQ<Nj.length;RQ++)TQ=Nj[RQ],EA.prototype[TQ]||(EA.prototype[TQ]=Lj.prototype[TQ]);var Nj,TQ,RQ;function EA(t){if(!(this instanceof EA))return new EA(t);V1e.call(this,t),Lj.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once(\"end\",b2t)))}Object.defineProperty(EA.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(EA.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(EA.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}});function b2t(){this._writableState.ended||process.nextTick(x2t,this)}function x2t(t){t.end()}Object.defineProperty(EA.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Z1e=_((Mj,X1e)=>{var NQ=ve(\"buffer\"),ip=NQ.Buffer;function z1e(t,e){for(var r in t)e[r]=t[r]}ip.from&&ip.alloc&&ip.allocUnsafe&&ip.allocUnsafeSlow?X1e.exports=NQ:(z1e(NQ,Mj),Mj.Buffer=ZC);function ZC(t,e,r){return ip(t,e,r)}z1e(ip,ZC);ZC.from=function(t,e,r){if(typeof t==\"number\")throw new TypeError(\"Argument must not be a number\");return ip(t,e,r)};ZC.alloc=function(t,e,r){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");var o=ip(t);return e!==void 0?typeof r==\"string\"?o.fill(e,r):o.fill(e):o.fill(0),o};ZC.allocUnsafe=function(t){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");return ip(t)};ZC.allocUnsafeSlow=function(t){if(typeof t!=\"number\")throw new TypeError(\"Argument must be a number\");return NQ.SlowBuffer(t)}});var Hj=_(e2e=>{\"use strict\";var _j=Z1e().Buffer,$1e=_j.isEncoding||function(t){switch(t=\"\"+t,t&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function k2t(t){if(!t)return\"utf8\";for(var e;;)switch(t){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return t;default:if(e)return;t=(\"\"+t).toLowerCase(),e=!0}}function Q2t(t){var e=k2t(t);if(typeof e!=\"string\"&&(_j.isEncoding===$1e||!$1e(t)))throw new Error(\"Unknown encoding: \"+t);return e||t}e2e.StringDecoder=yv;function yv(t){this.encoding=Q2t(t);var e;switch(this.encoding){case\"utf16le\":this.text=O2t,this.end=M2t,e=4;break;case\"utf8\":this.fillLast=T2t,e=4;break;case\"base64\":this.text=U2t,this.end=_2t,e=3;break;default:this.write=H2t,this.end=q2t;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_j.allocUnsafe(e)}yv.prototype.write=function(t){if(t.length===0)return\"\";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return\"\";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||\"\"};yv.prototype.end=L2t;yv.prototype.text=N2t;yv.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Uj(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function F2t(t,e,r){var o=e.length-1;if(o<r)return 0;var a=Uj(e[o]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--o<r||a===-2?0:(a=Uj(e[o]),a>=0?(a>0&&(t.lastNeed=a-2),a):--o<r||a===-2?0:(a=Uj(e[o]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function R2t(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,\"\\uFFFD\";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,\"\\uFFFD\";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,\"\\uFFFD\"}}function T2t(t){var e=this.lastTotal-this.lastNeed,r=R2t(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function N2t(t,e){var r=F2t(this,t,e);if(!this.lastNeed)return t.toString(\"utf8\",e);this.lastTotal=r;var o=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString(\"utf8\",e,o)}function L2t(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+\"\\uFFFD\":e}function O2t(t,e){if((t.length-e)%2===0){var r=t.toString(\"utf16le\",e);if(r){var o=r.charCodeAt(r.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString(\"utf16le\",e,t.length-1)}function M2t(t){var e=t&&t.length?this.write(t):\"\";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString(\"utf16le\",0,r)}return e}function U2t(t,e){var r=(t.length-e)%3;return r===0?t.toString(\"base64\",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString(\"base64\",e,t.length-r))}function _2t(t){var e=t&&t.length?this.write(t):\"\";return this.lastNeed?e+this.lastChar.toString(\"base64\",0,3-this.lastNeed):e}function H2t(t){return t.toString(this.encoding)}function q2t(t){return t&&t.length?this.write(t):\"\"}});var LQ=_((D$t,n2e)=>{\"use strict\";var t2e=Q0().codes.ERR_STREAM_PREMATURE_CLOSE;function j2t(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t.apply(this,o)}}}function G2t(){}function Y2t(t){return t.setHeader&&typeof t.abort==\"function\"}function r2e(t,e,r){if(typeof e==\"function\")return r2e(t,null,e);e||(e={}),r=j2t(r||G2t);var o=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,n=function(){t.writable||A()},u=t._writableState&&t._writableState.finished,A=function(){a=!1,u=!0,o||r.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,p=!0,a||r.call(t)},E=function(C){r.call(t,C)},I=function(){var C;if(o&&!p)return(!t._readableState||!t._readableState.ended)&&(C=new t2e),r.call(t,C);if(a&&!u)return(!t._writableState||!t._writableState.ended)&&(C=new t2e),r.call(t,C)},v=function(){t.req.on(\"finish\",A)};return Y2t(t)?(t.on(\"complete\",A),t.on(\"abort\",I),t.req?v():t.on(\"request\",v)):a&&!t._writableState&&(t.on(\"end\",n),t.on(\"close\",n)),t.on(\"end\",h),t.on(\"finish\",A),e.error!==!1&&t.on(\"error\",E),t.on(\"close\",I),function(){t.removeListener(\"complete\",A),t.removeListener(\"abort\",I),t.removeListener(\"request\",v),t.req&&t.req.removeListener(\"finish\",A),t.removeListener(\"end\",n),t.removeListener(\"close\",n),t.removeListener(\"finish\",A),t.removeListener(\"end\",h),t.removeListener(\"error\",E),t.removeListener(\"close\",I)}}n2e.exports=r2e});var s2e=_((S$t,i2e)=>{\"use strict\";var OQ;function T0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var W2t=LQ(),N0=Symbol(\"lastResolve\"),wm=Symbol(\"lastReject\"),Ev=Symbol(\"error\"),MQ=Symbol(\"ended\"),Im=Symbol(\"lastPromise\"),qj=Symbol(\"handlePromise\"),Bm=Symbol(\"stream\");function L0(t,e){return{value:t,done:e}}function K2t(t){var e=t[N0];if(e!==null){var r=t[Bm].read();r!==null&&(t[Im]=null,t[N0]=null,t[wm]=null,e(L0(r,!1)))}}function V2t(t){process.nextTick(K2t,t)}function J2t(t,e){return function(r,o){t.then(function(){if(e[MQ]){r(L0(void 0,!0));return}e[qj](r,o)},o)}}var z2t=Object.getPrototypeOf(function(){}),X2t=Object.setPrototypeOf((OQ={get stream(){return this[Bm]},next:function(){var e=this,r=this[Ev];if(r!==null)return Promise.reject(r);if(this[MQ])return Promise.resolve(L0(void 0,!0));if(this[Bm].destroyed)return new Promise(function(u,A){process.nextTick(function(){e[Ev]?A(e[Ev]):u(L0(void 0,!0))})});var o=this[Im],a;if(o)a=new Promise(J2t(o,this));else{var n=this[Bm].read();if(n!==null)return Promise.resolve(L0(n,!1));a=new Promise(this[qj])}return this[Im]=a,a}},T0(OQ,Symbol.asyncIterator,function(){return this}),T0(OQ,\"return\",function(){var e=this;return new Promise(function(r,o){e[Bm].destroy(null,function(a){if(a){o(a);return}r(L0(void 0,!0))})})}),OQ),z2t),Z2t=function(e){var r,o=Object.create(X2t,(r={},T0(r,Bm,{value:e,writable:!0}),T0(r,N0,{value:null,writable:!0}),T0(r,wm,{value:null,writable:!0}),T0(r,Ev,{value:null,writable:!0}),T0(r,MQ,{value:e._readableState.endEmitted,writable:!0}),T0(r,qj,{value:function(n,u){var A=o[Bm].read();A?(o[Im]=null,o[N0]=null,o[wm]=null,n(L0(A,!1))):(o[N0]=n,o[wm]=u)},writable:!0}),r));return o[Im]=null,W2t(e,function(a){if(a&&a.code!==\"ERR_STREAM_PREMATURE_CLOSE\"){var n=o[wm];n!==null&&(o[Im]=null,o[N0]=null,o[wm]=null,n(a)),o[Ev]=a;return}var u=o[N0];u!==null&&(o[Im]=null,o[N0]=null,o[wm]=null,u(L0(void 0,!0))),o[MQ]=!0}),e.on(\"readable\",V2t.bind(null,o)),o};i2e.exports=Z2t});var c2e=_((P$t,l2e)=>{\"use strict\";function o2e(t,e,r,o,a,n,u){try{var A=t[n](u),p=A.value}catch(h){r(h);return}A.done?e(p):Promise.resolve(p).then(o,a)}function $2t(t){return function(){var e=this,r=arguments;return new Promise(function(o,a){var n=t.apply(e,r);function u(p){o2e(n,o,a,u,A,\"next\",p)}function A(p){o2e(n,o,a,u,A,\"throw\",p)}u(void 0)})}}function a2e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function eBt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2e(Object(r),!0).forEach(function(o){tBt(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2e(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function tBt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rBt=Q0().codes.ERR_INVALID_ARG_TYPE;function nBt(t,e,r){var o;if(e&&typeof e.next==\"function\")o=e;else if(e&&e[Symbol.asyncIterator])o=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])o=e[Symbol.iterator]();else throw new rBt(\"iterable\",[\"Iterable\"],e);var a=new t(eBt({objectMode:!0},r)),n=!1;a._read=function(){n||(n=!0,u())};function u(){return A.apply(this,arguments)}function A(){return A=$2t(function*(){try{var p=yield o.next(),h=p.value,E=p.done;E?a.push(null):a.push(yield h)?u():n=!1}catch(I){a.destroy(I)}}),A.apply(this,arguments)}return a}l2e.exports=nBt});var Oj=_((x$t,E2e)=>{\"use strict\";E2e.exports=mn;var $C;mn.ReadableState=p2e;var b$t=ve(\"events\").EventEmitter,f2e=function(e,r){return e.listeners(r).length},wv=vj(),UQ=ve(\"buffer\").Buffer,iBt=global.Uint8Array||function(){};function sBt(t){return UQ.from(t)}function oBt(t){return UQ.isBuffer(t)||t instanceof iBt}var jj=ve(\"util\"),en;jj&&jj.debuglog?en=jj.debuglog(\"stream\"):en=function(){};var aBt=F1e(),zj=Pj(),lBt=bj(),cBt=lBt.getHighWaterMark,_Q=Q0().codes,uBt=_Q.ERR_INVALID_ARG_TYPE,ABt=_Q.ERR_STREAM_PUSH_AFTER_EOF,fBt=_Q.ERR_METHOD_NOT_IMPLEMENTED,pBt=_Q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ew,Gj,Yj;F0()(mn,wv);var Cv=zj.errorOrDestroy,Wj=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function hBt(t,e,r){if(typeof t.prependListener==\"function\")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function p2e(t,e,r){$C=$C||Cm(),t=t||{},typeof r!=\"boolean\"&&(r=e instanceof $C),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=cBt(this,t,\"readableHighWaterMark\",r),this.buffer=new aBt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ew||(ew=Hj().StringDecoder),this.decoder=new ew(t.encoding),this.encoding=t.encoding)}function mn(t){if($C=$C||Cm(),!(this instanceof mn))return new mn(t);var e=this instanceof $C;this._readableState=new p2e(t,this,e),this.readable=!0,t&&(typeof t.read==\"function\"&&(this._read=t.read),typeof t.destroy==\"function\"&&(this._destroy=t.destroy)),wv.call(this)}Object.defineProperty(mn.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});mn.prototype.destroy=zj.destroy;mn.prototype._undestroy=zj.undestroy;mn.prototype._destroy=function(t,e){e(t)};mn.prototype.push=function(t,e){var r=this._readableState,o;return r.objectMode?o=!0:typeof t==\"string\"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=UQ.from(t,e),e=\"\"),o=!0),h2e(this,t,e,!1,o)};mn.prototype.unshift=function(t){return h2e(this,t,null,!0,!1)};function h2e(t,e,r,o,a){en(\"readableAddChunk\",e);var n=t._readableState;if(e===null)n.reading=!1,mBt(t,n);else{var u;if(a||(u=gBt(n,e)),u)Cv(t,u);else if(n.objectMode||e&&e.length>0)if(typeof e!=\"string\"&&!n.objectMode&&Object.getPrototypeOf(e)!==UQ.prototype&&(e=sBt(e)),o)n.endEmitted?Cv(t,new pBt):Kj(t,n,e,!0);else if(n.ended)Cv(t,new ABt);else{if(n.destroyed)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?Kj(t,n,e,!1):Jj(t,n)):Kj(t,n,e,!1)}else o||(n.reading=!1,Jj(t,n))}return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function Kj(t,e,r,o){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit(\"data\",r)):(e.length+=e.objectMode?1:r.length,o?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&HQ(t)),Jj(t,e)}function gBt(t,e){var r;return!oBt(e)&&typeof e!=\"string\"&&e!==void 0&&!t.objectMode&&(r=new uBt(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],e)),r}mn.prototype.isPaused=function(){return this._readableState.flowing===!1};mn.prototype.setEncoding=function(t){ew||(ew=Hj().StringDecoder);var e=new ew(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o=\"\";r!==null;)o+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),o!==\"\"&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var u2e=1073741824;function dBt(t){return t>=u2e?t=u2e:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function A2e(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=dBt(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}mn.prototype.read=function(t){en(\"read\",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return en(\"read: emitReadable\",e.length,e.ended),e.length===0&&e.ended?Vj(this):HQ(this),null;if(t=A2e(t,e),t===0&&e.ended)return e.length===0&&Vj(this),null;var o=e.needReadable;en(\"need readable\",o),(e.length===0||e.length-t<e.highWaterMark)&&(o=!0,en(\"length less than watermark\",o)),e.ended||e.reading?(o=!1,en(\"reading or ended\",o)):o&&(en(\"do read\"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=A2e(r,e)));var a;return t>0?a=m2e(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Vj(this)),a!==null&&this.emit(\"data\",a),a};function mBt(t,e){if(en(\"onEofChunk\"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?HQ(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,g2e(t)))}}function HQ(t){var e=t._readableState;en(\"emitReadable\",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(en(\"emitReadable\",e.flowing),e.emittedReadable=!0,process.nextTick(g2e,t))}function g2e(t){var e=t._readableState;en(\"emitReadable_\",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit(\"readable\"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Xj(t)}function Jj(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(yBt,t,e))}function yBt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(en(\"maybeReadMore read 0\"),t.read(0),r===e.length)break}e.readingMore=!1}mn.prototype._read=function(t){Cv(this,new fBt(\"_read()\"))};mn.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t);break}o.pipesCount+=1,en(\"pipe count=%d opts=%j\",o.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,n=a?A:R;o.endEmitted?process.nextTick(n):r.once(\"end\",n),t.on(\"unpipe\",u);function u(L,U){en(\"onunpipe\"),L===r&&U&&U.hasUnpiped===!1&&(U.hasUnpiped=!0,E())}function A(){en(\"onend\"),t.end()}var p=EBt(r);t.on(\"drain\",p);var h=!1;function E(){en(\"cleanup\"),t.removeListener(\"close\",x),t.removeListener(\"finish\",C),t.removeListener(\"drain\",p),t.removeListener(\"error\",v),t.removeListener(\"unpipe\",u),r.removeListener(\"end\",A),r.removeListener(\"end\",R),r.removeListener(\"data\",I),h=!0,o.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&p()}r.on(\"data\",I);function I(L){en(\"ondata\");var U=t.write(L);en(\"dest.write\",U),U===!1&&((o.pipesCount===1&&o.pipes===t||o.pipesCount>1&&y2e(o.pipes,t)!==-1)&&!h&&(en(\"false write response, pause\",o.awaitDrain),o.awaitDrain++),r.pause())}function v(L){en(\"onerror\",L),R(),t.removeListener(\"error\",v),f2e(t,\"error\")===0&&Cv(t,L)}hBt(t,\"error\",v);function x(){t.removeListener(\"finish\",C),R()}t.once(\"close\",x);function C(){en(\"onfinish\"),t.removeListener(\"close\",x),R()}t.once(\"finish\",C);function R(){en(\"unpipe\"),r.unpipe(t)}return t.emit(\"pipe\",r),o.flowing||(en(\"pipe resume\"),r.resume()),t};function EBt(t){return function(){var r=t._readableState;en(\"pipeOnDrain\",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&f2e(t,\"data\")&&(r.flowing=!0,Xj(t))}}mn.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit(\"unpipe\",this,r),this);if(!t){var o=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var n=0;n<a;n++)o[n].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var u=y2e(e.pipes,t);return u===-1?this:(e.pipes.splice(u,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit(\"unpipe\",this,r),this)};mn.prototype.on=function(t,e){var r=wv.prototype.on.call(this,t,e),o=this._readableState;return t===\"data\"?(o.readableListening=this.listenerCount(\"readable\")>0,o.flowing!==!1&&this.resume()):t===\"readable\"&&!o.endEmitted&&!o.readableListening&&(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,en(\"on readable\",o.length,o.reading),o.length?HQ(this):o.reading||process.nextTick(CBt,this)),r};mn.prototype.addListener=mn.prototype.on;mn.prototype.removeListener=function(t,e){var r=wv.prototype.removeListener.call(this,t,e);return t===\"readable\"&&process.nextTick(d2e,this),r};mn.prototype.removeAllListeners=function(t){var e=wv.prototype.removeAllListeners.apply(this,arguments);return(t===\"readable\"||t===void 0)&&process.nextTick(d2e,this),e};function d2e(t){var e=t._readableState;e.readableListening=t.listenerCount(\"readable\")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount(\"data\")>0&&t.resume()}function CBt(t){en(\"readable nexttick read 0\"),t.read(0)}mn.prototype.resume=function(){var t=this._readableState;return t.flowing||(en(\"resume\"),t.flowing=!t.readableListening,wBt(this,t)),t.paused=!1,this};function wBt(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(IBt,t,e))}function IBt(t,e){en(\"resume\",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit(\"resume\"),Xj(t),e.flowing&&!e.reading&&t.read(0)}mn.prototype.pause=function(){return en(\"call pause flowing=%j\",this._readableState.flowing),this._readableState.flowing!==!1&&(en(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this};function Xj(t){var e=t._readableState;for(en(\"flow\",e.flowing);e.flowing&&t.read()!==null;);}mn.prototype.wrap=function(t){var e=this,r=this._readableState,o=!1;t.on(\"end\",function(){if(en(\"wrapped end\"),r.decoder&&!r.ended){var u=r.decoder.end();u&&u.length&&e.push(u)}e.push(null)}),t.on(\"data\",function(u){if(en(\"wrapped data\"),r.decoder&&(u=r.decoder.write(u)),!(r.objectMode&&u==null)&&!(!r.objectMode&&(!u||!u.length))){var A=e.push(u);A||(o=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]==\"function\"&&(this[a]=function(A){return function(){return t[A].apply(t,arguments)}}(a));for(var n=0;n<Wj.length;n++)t.on(Wj[n],this.emit.bind(this,Wj[n]));return this._read=function(u){en(\"wrapped _read\",u),o&&(o=!1,t.resume())},this};typeof Symbol==\"function\"&&(mn.prototype[Symbol.asyncIterator]=function(){return Gj===void 0&&(Gj=s2e()),Gj(this)});Object.defineProperty(mn.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(mn.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(mn.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});mn._fromList=m2e;Object.defineProperty(mn.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}});function m2e(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(\"\"):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Vj(t){var e=t._readableState;en(\"endReadable\",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(BBt,e,t))}function BBt(t,e){if(en(\"endReadableNT\",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit(\"end\"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol==\"function\"&&(mn.from=function(t,e){return Yj===void 0&&(Yj=c2e()),Yj(mn,t,e)});function y2e(t,e){for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}});var Zj=_((k$t,w2e)=>{\"use strict\";w2e.exports=sp;var qQ=Q0().codes,vBt=qQ.ERR_METHOD_NOT_IMPLEMENTED,DBt=qQ.ERR_MULTIPLE_CALLBACK,SBt=qQ.ERR_TRANSFORM_ALREADY_TRANSFORMING,PBt=qQ.ERR_TRANSFORM_WITH_LENGTH_0,jQ=Cm();F0()(sp,jQ);function bBt(t,e){var r=this._transformState;r.transforming=!1;var o=r.writecb;if(o===null)return this.emit(\"error\",new DBt);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),o(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function sp(t){if(!(this instanceof sp))return new sp(t);jQ.call(this,t),this._transformState={afterTransform:bBt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform==\"function\"&&(this._transform=t.transform),typeof t.flush==\"function\"&&(this._flush=t.flush)),this.on(\"prefinish\",xBt)}function xBt(){var t=this;typeof this._flush==\"function\"&&!this._readableState.destroyed?this._flush(function(e,r){C2e(t,e,r)}):C2e(this,null,null)}sp.prototype.push=function(t,e){return this._transformState.needTransform=!1,jQ.prototype.push.call(this,t,e)};sp.prototype._transform=function(t,e,r){r(new vBt(\"_transform()\"))};sp.prototype._write=function(t,e,r){var o=this._transformState;if(o.writecb=r,o.writechunk=t,o.writeencoding=e,!o.transforming){var a=this._readableState;(o.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};sp.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};sp.prototype._destroy=function(t,e){jQ.prototype._destroy.call(this,t,function(r){e(r)})};function C2e(t,e,r){if(e)return t.emit(\"error\",e);if(r!=null&&t.push(r),t._writableState.length)throw new PBt;if(t._transformState.transforming)throw new SBt;return t.push(null)}});var v2e=_((Q$t,B2e)=>{\"use strict\";B2e.exports=Iv;var I2e=Zj();F0()(Iv,I2e);function Iv(t){if(!(this instanceof Iv))return new Iv(t);I2e.call(this,t)}Iv.prototype._transform=function(t,e,r){r(null,t)}});var x2e=_((F$t,b2e)=>{\"use strict\";var $j;function kBt(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var P2e=Q0().codes,QBt=P2e.ERR_MISSING_ARGS,FBt=P2e.ERR_STREAM_DESTROYED;function D2e(t){if(t)throw t}function RBt(t){return t.setHeader&&typeof t.abort==\"function\"}function TBt(t,e,r,o){o=kBt(o);var a=!1;t.on(\"close\",function(){a=!0}),$j===void 0&&($j=LQ()),$j(t,{readable:e,writable:r},function(u){if(u)return o(u);a=!0,o()});var n=!1;return function(u){if(!a&&!n){if(n=!0,RBt(t))return t.abort();if(typeof t.destroy==\"function\")return t.destroy();o(u||new FBt(\"pipe\"))}}}function S2e(t){t()}function NBt(t,e){return t.pipe(e)}function LBt(t){return!t.length||typeof t[t.length-1]!=\"function\"?D2e:t.pop()}function OBt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=LBt(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new QBt(\"streams\");var a,n=e.map(function(u,A){var p=A<e.length-1,h=A>0;return TBt(u,p,h,function(E){a||(a=E),E&&n.forEach(S2e),!p&&(n.forEach(S2e),o(a))})});return e.reduce(NBt)}b2e.exports=OBt});var tw=_((lc,vv)=>{var Bv=ve(\"stream\");process.env.READABLE_STREAM===\"disable\"&&Bv?(vv.exports=Bv.Readable,Object.assign(vv.exports,Bv),vv.exports.Stream=Bv):(lc=vv.exports=Oj(),lc.Stream=Bv||lc,lc.Readable=lc,lc.Writable=Tj(),lc.Duplex=Cm(),lc.Transform=Zj(),lc.PassThrough=v2e(),lc.finished=LQ(),lc.pipeline=x2e())});var F2e=_((R$t,Q2e)=>{\"use strict\";var{Buffer:lu}=ve(\"buffer\"),k2e=Symbol.for(\"BufferList\");function ni(t){if(!(this instanceof ni))return new ni(t);ni._init.call(this,t)}ni._init=function(e){Object.defineProperty(this,k2e,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};ni.prototype._new=function(e){return new ni(e)};ni.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let o=0;o<this._bufs.length;o++){let a=r+this._bufs[o].length;if(e<a||o===this._bufs.length-1)return[o,e-r];r=a}};ni.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let o=0;o<e;o++)r+=this._bufs[o].length;return r};ni.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ni.prototype.slice=function(e,r){return typeof e==\"number\"&&e<0&&(e+=this.length),typeof r==\"number\"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ni.prototype.copy=function(e,r,o,a){if((typeof o!=\"number\"||o<0)&&(o=0),(typeof a!=\"number\"||a>this.length)&&(a=this.length),o>=this.length||a<=0)return e||lu.alloc(0);let n=!!e,u=this._offset(o),A=a-o,p=A,h=n&&r||0,E=u[1];if(o===0&&a===this.length){if(!n)return this._bufs.length===1?this._bufs[0]:lu.concat(this._bufs,this.length);for(let I=0;I<this._bufs.length;I++)this._bufs[I].copy(e,h),h+=this._bufs[I].length;return e}if(p<=this._bufs[u[0]].length-E)return n?this._bufs[u[0]].copy(e,r,E,E+p):this._bufs[u[0]].slice(E,E+p);n||(e=lu.allocUnsafe(A));for(let I=u[0];I<this._bufs.length;I++){let v=this._bufs[I].length-E;if(p>v)this._bufs[I].copy(e,h,E),h+=v;else{this._bufs[I].copy(e,h,E,E+p),h+=v;break}p-=v,E&&(E=0)}return e.length>h?e.slice(0,h):e};ni.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!=\"number\"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let o=this._offset(e),a=this._offset(r),n=this._bufs.slice(o[0],a[0]+1);return a[1]===0?n.pop():n[n.length-1]=n[n.length-1].slice(0,a[1]),o[1]!==0&&(n[0]=n[0].slice(o[1])),this._new(n)};ni.prototype.toString=function(e,r,o){return this.slice(r,o).toString(e)};ni.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ni.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ni.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(lu.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e==\"number\"&&(e=e.toString()),this._appendBuffer(lu.from(e));return this};ni.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};ni.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e==\"string\"&&(r=e,e=void 0),typeof t==\"function\"||Array.isArray(t))throw new TypeError('The \"value\" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t==\"number\"?t=lu.from([t]):typeof t==\"string\"?t=lu.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=lu.from(t.buffer,t.byteOffset,t.byteLength):lu.isBuffer(t)||(t=lu.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let o=this._offset(e),a=o[0],n=o[1];for(;a<this._bufs.length;a++){let u=this._bufs[a];for(;n<u.length;)if(u.length-n>=t.length){let p=u.indexOf(t,n);if(p!==-1)return this._reverseOffset([a,p]);n=u.length-t.length+1}else{let p=this._reverseOffset([a,n]);if(this._match(p,t))return p;n++}n=0}return-1};ni.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ni.prototype[r]=function(o,a){return this.slice(o,o+a)[r](0,a)}:ni.prototype[r]=function(o=0){return this.slice(o,o+t[r])[r](0)}})(e)})();ni.prototype._isBufferList=function(e){return e instanceof ni||ni.isBufferList(e)};ni.isBufferList=function(e){return e!=null&&e[k2e]};Q2e.exports=ni});var R2e=_((T$t,GQ)=>{\"use strict\";var eG=tw().Duplex,MBt=F0(),Dv=F2e();function Uo(t){if(!(this instanceof Uo))return new Uo(t);if(typeof t==\"function\"){this._callback=t;let e=function(o){this._callback&&(this._callback(o),this._callback=null)}.bind(this);this.on(\"pipe\",function(o){o.on(\"error\",e)}),this.on(\"unpipe\",function(o){o.removeListener(\"error\",e)}),t=null}Dv._init.call(this,t),eG.call(this)}MBt(Uo,eG);Object.assign(Uo.prototype,Dv.prototype);Uo.prototype._new=function(e){return new Uo(e)};Uo.prototype._write=function(e,r,o){this._appendBuffer(e),typeof o==\"function\"&&o()};Uo.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};Uo.prototype.end=function(e){eG.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Uo.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e)};Uo.prototype._isBufferList=function(e){return e instanceof Uo||e instanceof Dv||Uo.isBufferList(e)};Uo.isBufferList=Dv.isBufferList;GQ.exports=Uo;GQ.exports.BufferListStream=Uo;GQ.exports.BufferList=Dv});var nG=_(nw=>{var UBt=Buffer.alloc,_Bt=\"0000000000000000000\",HBt=\"7777777777777777777\",T2e=\"0\".charCodeAt(0),N2e=Buffer.from(\"ustar\\0\",\"binary\"),qBt=Buffer.from(\"00\",\"binary\"),jBt=Buffer.from(\"ustar \",\"binary\"),GBt=Buffer.from(\" \\0\",\"binary\"),YBt=parseInt(\"7777\",8),Sv=257,rG=263,WBt=function(t,e,r){return typeof t!=\"number\"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)},KBt=function(t){switch(t){case 0:return\"file\";case 1:return\"link\";case 2:return\"symlink\";case 3:return\"character-device\";case 4:return\"block-device\";case 5:return\"directory\";case 6:return\"fifo\";case 7:return\"contiguous-file\";case 72:return\"pax-header\";case 55:return\"pax-global-header\";case 27:return\"gnu-long-link-path\";case 28:case 30:return\"gnu-long-path\"}return null},VBt=function(t){switch(t){case\"file\":return 0;case\"link\":return 1;case\"symlink\":return 2;case\"character-device\":return 3;case\"block-device\":return 4;case\"directory\":return 5;case\"fifo\":return 6;case\"contiguous-file\":return 7;case\"pax-header\":return 72}return 0},L2e=function(t,e,r,o){for(;r<o;r++)if(t[r]===e)return r;return o},O2e=function(t){for(var e=256,r=0;r<148;r++)e+=t[r];for(var o=156;o<512;o++)e+=t[o];return e},O0=function(t,e){return t=t.toString(8),t.length>e?HBt.slice(0,e)+\" \":_Bt.slice(0,e-t.length)+t+\" \"};function JBt(t){var e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;for(var r=[],o=t.length-1;o>0;o--){var a=t[o];e?r.push(a):r.push(255-a)}var n=0,u=r.length;for(o=0;o<u;o++)n+=r[o]*Math.pow(256,o);return e?n:-1*n}var M0=function(t,e,r){if(t=t.slice(e,e+r),e=0,t[e]&128)return JBt(t);for(;e<t.length&&t[e]===32;)e++;for(var o=WBt(L2e(t,32,e,t.length),t.length,t.length);e<o&&t[e]===0;)e++;return o===e?0:parseInt(t.slice(e,o).toString(),8)},rw=function(t,e,r,o){return t.slice(e,L2e(t,0,e,e+r)).toString(o)},tG=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t};nw.decodeLongPath=function(t,e){return rw(t,0,t.length,e)};nw.encodePax=function(t){var e=\"\";t.name&&(e+=tG(\" path=\"+t.name+`\n/Users/yparis/Developer/atlantis/modules/client/src/services/ExtractionService.ts:32:export const getTasksFromPropertyDescriptor = (\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue:148:const selectedPropertyDescriptor = ref<string>('');\n/Users/yparis/Developer/atlantis/modules/client/src/views/project/ProjectDataView.vue:356:  selectedPropertyDescriptor.value = propertyDescriptor;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:107:              v-if=\"filteredPropertyDescriptors.length === 0\"\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:191:const selectedPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:197:const filteredPropertyDescriptors = computed(() => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:221:      const existingPropertyDescriptors = projectStore.propertyDescriptors;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:247:          const preferredPropertyDescriptors = propertyDescriptors.value.filter(\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:270:      selectedPropertyDescriptors.value = columnsToDisplay;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:443:watch(selectedPropertyDescriptors, () => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue:445:    tablePropertyKeys: selectedPropertyDescriptors.value.map(pd => pd.key),\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCardList.vue:128:const { propertyDescriptors: unfilteredPropertyDescriptors, project } =\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCardList.vue:274:const propertyDescriptors = computed<PropertyDescriptor[]>(() => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/project-data-card/ProjectDataCardList.vue:287:const filteredPropertyDescriptors = computed(() => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:203:const editingPropertyDescriptor = ref(false);\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:204:const creatingPropertyDescriptor = ref(false);\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:269:  editingPropertyDescriptor.value = false;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:270:  creatingPropertyDescriptor.value = false;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:341:const onEdit = (propertyDescriptor: PropertyDescriptor) => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:347:  editingPropertyDescriptor.value = true;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:357:  creatingPropertyDescriptor.value = true;\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-settings/ColumnMetadata.vue:365:const onDelete = async (propertyDescriptor: PropertyDescriptor) => {\n/Users/yparis/Developer/atlantis/modules/client/src/components/charts/ChartChannelEncodingConfigurator.vue:23:const aggregablePropertyDescriptors = computed(() =>\n/Users/yparis/Developer/atlantis/modules/client/src/components/GenericTable.vue:378:const imagePropertyDescriptorKeys = computed<string[]>(() => {\n/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts:25:  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts:113:    allPropertyDescriptors.value =\n/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts:183:      allPropertyDescriptors.value?.filter(descriptor =>\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:90:    final List<PropertyDescriptor> configuredPropertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:93:      configuredPropertyDescriptors == null ||\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:134:    final Map<PropertyDescriptor, Boolean> propertyDescriptorToHasValues =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:163:    final List<PropertyDescriptor> descriptors = configuredPropertyDescriptors\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:222:      final PropertyDescriptor created = propertyDescriptorRepository.save(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:253:    Map<String, PropertyDescriptor> uniqueByKey = propertyDescriptors\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:266:    List<PropertyDescriptor> existingDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:278:    List<PropertyDescriptor> toCreate = uniqueByKey\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:284:    List<PropertyDescriptor> result = new ArrayList<>(existingDescriptors);\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:301:        List<PropertyDescriptor> allDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:350:    final PropertyDescriptor existing = propertyDescriptorRepository\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:359:    final PropertyDescriptor updated = propertyDescriptorRepository.save(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:382:    final List<PropertyDescriptor> existing =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:440:    List<PropertyDescriptor> defaultDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/SampleProjectInitializationService.java:52:  Map<String, List<PropertyDescriptor>> projectIdToPropertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/SampleProjectInitializationService.java:103:    final List<PropertyDescriptor> missingDefaultDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/SampleProjectInitializationService.java:115:    final List<PropertyDescriptor> allDescriptors = new ArrayList<>(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/SampleProjectInitializationService.java:392:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorGenerationService.java:72:        final List<PropertyDescriptor> chunk = propertyDescriptors.subList(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorGenerationService.java:79:        final Map<String, PropertyDescriptor> keyToDescriptor = chunk\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorGenerationService.java:87:            final PropertyDescriptor descriptor = keyToDescriptor.get(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorGenerationService.java:105:            final PropertyDescriptor descriptor = keyToDescriptor.get(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorGenerationService.java:128:            final PropertyDescriptor descriptor = keyToDescriptor.get(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/virtual/impl/MoreLikeThisVirtualQueryBuilder.java:57:        final List<PropertyDescriptor> moreLikeProperties =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:47:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:90:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:125:    final PropertyDescriptor propertyDescriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:129:    final PropertyDescriptor created = propertyDescriptorService.create(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:137:    final PropertyDescriptor found = propertyDescriptorService.findByKey(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:166:    final List<PropertyDescriptor> propertyDescriptors = List.of(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:176:    final List<PropertyDescriptor> created = propertyDescriptorService.create(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:212:    final PropertyDescriptor removed = propertyDescriptorService.findByKey(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:239:    final PropertyDescriptor updated = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:243:    final PropertyDescriptor result = propertyDescriptorService.update(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:269:    final PropertyDescriptor updated = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:274:    final PropertyDescriptor result = propertyDescriptorService.update(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:298:    final PropertyDescriptor updated = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:304:    final PropertyDescriptor result = propertyDescriptorService.update(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:336:    final Page<PropertyDescriptor> propertyPage =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/PropertyDescriptorServiceTests.java:377:    final Page<PropertyDescriptor> propertyPage =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/virtual/impl/LocationsInRegionVirtualQueryBuilder.java:43:        final PropertyDescriptor descriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java:210:    final List<PropertyDescriptor> projectProperties =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java:279:    final List<PropertyDescriptor> projectProperties =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java:312:    final PropertyDescriptor xFieldDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java:314:    final PropertyDescriptor yFieldDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java:945:    final List<PropertyDescriptor> facetDescriptors = keys\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/QueryBuilderService.java:154:    final PropertyDescriptor property = propertyDescriptorService.findByKey(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/QueryBuilderService.java:473:    final List<PropertyDescriptor> defaultSearchProperties =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchRequestService.java:70:      final PropertyDescriptor sortDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchRequestService.java:188:          final PropertyDescriptor primaryDateField = propertyDescriptorService\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchRequestService.java:205:          final PropertyDescriptor firstSortableField =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/DocumentParsingService.java:52:    final List<PropertyDescriptor> locationPropertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/DocumentParsingService.java:97:    final List<PropertyDescriptor> locatedImagePropertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/DocumentParsingService.java:107:    final List<PropertyDescriptor> nonLocationPropertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/DocumentParsingService.java:112:    final List<PropertyDescriptor> otherPropertyDescriptors = new ArrayList<\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/model/PropertyDescriptorTests.java:11:    final PropertyDescriptor descriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/model/PropertyDescriptorTests.java:23:    final PropertyDescriptor descriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/model/PropertyDescriptorTests.java:35:    final PropertyDescriptor descriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/model/PropertyDescriptorTests.java:47:    final PropertyDescriptor descriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/ProjectDataServiceTimelineTests.java:68:    final PropertyDescriptor dateDescriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/ProjectDataServiceTimelineTests.java:163:    final PropertyDescriptor dateDescriptor = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/NaturalLanguageSearchService.java:108:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/NaturalLanguageSearchService.java:270:    Map<String, PropertyDescriptor> keyToPropertyDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/NaturalLanguageSearchService.java:276:    final List<PropertyDescriptor> statProperties = response.requests\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectsControllerTests.java:1412:    final List<PropertyDescriptor> propertyDescriptors = getResponseContent(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:117:    final List<PropertyDescriptor> propertyDescriptors = getResponseContent(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:164:    final List<PropertyDescriptor> propertyDescriptors = getResponseContent(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:216:    final PropertyDescriptor propertyDescriptor = getResponseContent(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:232:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:283:    final PropertyDescriptor propertyDescriptor = getResponseContent(\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:299:    final List<PropertyDescriptor> propertyDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:335:    final List<PropertyDescriptor> propertyDescriptorsBefore =\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java:347:    final List<PropertyDescriptor> propertyDescriptorsAfter =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/DocumentController.java:157:      PropertyDescriptor propertyDescriptor = DefaultProperty.getByKey(\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsDataController.java:342:    final PropertyDescriptor propertyDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsJoinController.java:92:    final List<PropertyDescriptor> sourceDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsJoinController.java:94:    final List<PropertyDescriptor> destinationDescriptors =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsJoinController.java:99:    final Map<String, PropertyDescriptor> sourceKeyToDescriptor =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:15:  public static PropertyDescriptor FILENAME = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:24:  public static PropertyDescriptor FILENAME_RESOURCE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:31:  public static PropertyDescriptor RESOURCE_LOCATION = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:38:  public static PropertyDescriptor FULL_TEXT_SEARCH_DATA =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:53:  public static PropertyDescriptor INFO_TITLE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:68:  public static PropertyDescriptor INFO_PUBLISHER = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:86:  public static PropertyDescriptor INFO_PUBLICATION_DATE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:104:  public static PropertyDescriptor INFO_PAGE_COUNT = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:119:  public static PropertyDescriptor INFO_UPLOADED_BY = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:134:  public static PropertyDescriptor INFO_FILETYPE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:149:  public static PropertyDescriptor MARKDOWN = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:163:  public static PropertyDescriptor TEXT = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:177:  public static PropertyDescriptor OCR_TEXT = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:190:  public static PropertyDescriptor SPACY_PEOPLE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:206:  public static PropertyDescriptor SPACY_ORGANIZATIONS =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:223:  public static PropertyDescriptor SPACY_DATES = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:230:  public static PropertyDescriptor SPACY_LOCATIONS = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:244:  public static PropertyDescriptor SPACY_MONEY = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:251:  public static PropertyDescriptor PROVENANCE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:258:  public static PropertyDescriptor PROVENANCE_USER = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:265:  public static PropertyDescriptor PROVENANCE_TIMESTAMP =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:273:  public static PropertyDescriptor PROVENANCE_SOURCE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:282:  public static PropertyDescriptor ID = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:289:  public static PropertyDescriptor MARKET_CAP = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:297:  public static PropertyDescriptor SPACY_CITY = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:313:  public static PropertyDescriptor SPACY_COUNTRY = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:329:  public static PropertyDescriptor SPACY_STATE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:345:  public static PropertyDescriptor GEOLOCATED_IMAGE_SOURCE_IMAGE_FILENAME =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:355:  public static PropertyDescriptor GEOLOCATED_IMAGE_DATUM =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:363:  public static PropertyDescriptor GEOLOCATED_IMAGE_COUNTRY =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:373:  public static PropertyDescriptor GEOLOCATED_IMAGE_LANGUAGE_COUNTRY =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:383:  public static PropertyDescriptor GEOLOCATED_IMAGE_IMAGEURL =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:393:  public static PropertyDescriptor GEOLOCATED_IMAGE_PROJECTION =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:403:  public static PropertyDescriptor GEOLOCATED_IMAGE_CRS =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:411:  public static PropertyDescriptor GEOLOCATED_IMAGE_PLACESBOUNDSX =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:421:  public static PropertyDescriptor GEOLOCATED_IMAGE_QUADRANGLES =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:431:  public static PropertyDescriptor GEOLOCATED_IMAGE_PUBLISHER =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:441:  public static PropertyDescriptor GEOLOCATED_IMAGE_COUNTIES =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:451:  public static PropertyDescriptor GEOLOCATED_IMAGE_POPULATION_CENTRESBOUNDSX =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:461:  public static PropertyDescriptor GEOLOCATED_IMAGE_AUTHORS =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:471:  public static PropertyDescriptor IMAGESXREF = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:478:  public static PropertyDescriptor RENDERED_PAGE_IMAGEHEIGHT =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:486:  public static PropertyDescriptor GEOLOCATED_IMAGE_YEAR =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:494:  public static PropertyDescriptor GEOLOCATED_IMAGE_PLACESTEXT =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:504:  public static PropertyDescriptor TABLES = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:511:  public static PropertyDescriptor PAGE_INDEX = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:518:  public static PropertyDescriptor METADATA = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:525:  public static PropertyDescriptor GEOLOCATED_IMAGE_POPULATION_CENTRESTEXT =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:535:  public static PropertyDescriptor GEOLOCATED_IMAGE_DOCID =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:543:  public static PropertyDescriptor GEOLOCATED_IMAGE_BASE_MAP =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:553:  public static PropertyDescriptor GEOLOCATED_IMAGE_POPULATION_CENTRESCONFIDENCE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:563:  public static PropertyDescriptor GEOLOCATED_IMAGE_PLACESCONFIDENCE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:573:  public static PropertyDescriptor GEOLOCATED_IMAGE_UTM_ZONE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:583:  public static PropertyDescriptor GEOLOCATED_IMAGE_MAP_SHAPE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:593:  public static PropertyDescriptor GEOLOCATED_IMAGE_MAP_COLOR =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:603:  public static PropertyDescriptor GEOLOCATED_IMAGE_POPULATION_CENTRESBOUNDSY =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:613:  public static PropertyDescriptor GEOLOCATED_IMAGE_PLACESBOUNDSY =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:623:  public static PropertyDescriptor GEOLOCATED_IMAGE_COORDINATE_SYSTEMS =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:633:  public static PropertyDescriptor GEOLOCATED_IMAGE = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:646:  public static PropertyDescriptor IMAGESPAGE_NUMBER = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:653:  public static PropertyDescriptor IMAGESWIDTH = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:660:  public static PropertyDescriptor IMAGESHEIGHT = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:667:  public static PropertyDescriptor IMAGESBBOX = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:674:  public static PropertyDescriptor IMAGESTRANSFORM = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:681:  public static PropertyDescriptor IMAGESFILENAME = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:690:  public static PropertyDescriptor RENDERED_PAGE_IMAGEXREF =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:698:  public static PropertyDescriptor RENDERED_PAGE_IMAGEWIDTH =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:706:  public static PropertyDescriptor GEOLOCATED_IMAGE_SCALE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:714:  public static PropertyDescriptor GEOLOCATED_IMAGE_LANGUAGE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:724:  public static PropertyDescriptor GEOLOCATED_IMAGE_TITLE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:732:  public static PropertyDescriptor GEOLOCATED_IMAGE_STATES =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:740:  public static PropertyDescriptor GEOLOCATED_IMAGE_MAP_ID =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:748:  public static PropertyDescriptor GEOLOCATED_IMAGE_CONFIDENCE =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:764:  public static PropertyDescriptor RENDERED_PAGE_IMAGEBBOX =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:772:  public static PropertyDescriptor RENDERED_PAGE_IMAGETRANSFORM =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:780:  public static PropertyDescriptor RENDERED_PAGE_IMAGEFILENAME =\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:790:  public static PropertyDescriptor SEARCH_SET = new PropertyDescriptor()\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:798:    List<PropertyDescriptor> descriptors = new ArrayList<>();\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java:833:          PropertyDescriptor descriptor = (PropertyDescriptor) field.get(null);","numLines":193}}
{"parentUuid":"b8fc1fbb-ac77-4ba5-b4ad-0cd3a17a8673","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01AyTp4C9wvq88gffBDWxa4d","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me search for the PropertyDescriptor type definition more specifically:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":10104,"cache_read_input_tokens":129662,"cache_creation":{"ephemeral_5m_input_tokens":10104,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETHGGmMLHHVnGd4k25a","type":"assistant","uuid":"022ad966-fedc-4488-a75a-cf25a823ad89","timestamp":"2025-09-17T18:34:20.776Z"}
{"parentUuid":"022ad966-fedc-4488-a75a-cf25a823ad89","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01AyTp4C9wvq88gffBDWxa4d","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_013KbMK7eq99vJTzhaucyCem","name":"Grep","input":{"pattern":"type PropertyDescriptor|interface PropertyDescriptor\"","glob":"**/Types.ts","output_mode":"content","-n":true}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":10104,"cache_read_input_tokens":129662,"cache_creation":{"ephemeral_5m_input_tokens":10104,"ephemeral_1h_input_tokens":0},"output_tokens":133,"service_tier":"standard"}},"requestId":"req_011CTETHGGmMLHHVnGd4k25a","type":"assistant","uuid":"7c2e5486-775b-48f3-ba06-a96459b9e6ed","timestamp":"2025-09-17T18:34:21.992Z"}
{"parentUuid":"7c2e5486-775b-48f3-ba06-a96459b9e6ed","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013KbMK7eq99vJTzhaucyCem","type":"tool_result","content":"No matches found"}]},"uuid":"b2200bd8-b8ba-4646-9103-eca61a86cf76","timestamp":"2025-09-17T18:34:22.065Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0}}
{"parentUuid":"b2200bd8-b8ba-4646-9103-eca61a86cf76","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_0162hw8oxJqNbeggp7ZoDAyQ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01BjPsewyD6RhT4t78UzFn5C","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/types/Types.ts","offset":1,"limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":78726,"cache_read_input_tokens":14770,"cache_creation":{"ephemeral_5m_input_tokens":78726,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTETHnibUb6DpjRhYVmxM","type":"assistant","uuid":"15d85718-dfcb-401c-b020-07da47e35cb4","timestamp":"2025-09-17T18:34:30.057Z"}
{"parentUuid":"15d85718-dfcb-401c-b020-07da47e35cb4","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01BjPsewyD6RhT4t78UzFn5C","type":"tool_result","content":"     1→/* tslint:disable */\n     2→/* eslint-disable */\n     3→\n     4→export interface HttpClient {\n     5→\n     6→    request<R>(requestConfig: { method: string; url: string; queryParams?: any; data?: any; copyFn?: (data: R) => R; }): RestResponse<R>;\n     7→}\n     8→\n     9→export class RestApplicationClient {\n    10→\n    11→    constructor(protected httpClient: HttpClient) {\n    12→    }\n    13→\n    14→    /**\n    15→     * HTTP GET /api/admin/events\n    16→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getEvents\n    17→     */\n    18→    getEvents(queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<AuditEvent>> {\n    19→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/events`, queryParams: queryParams });\n    20→    }\n    21→\n    22→    /**\n    23→     * HTTP POST /api/admin/group\n    24→     * Java method: software.uncharted.pantera.controller.admin.AdminController.createGroup\n    25→     */\n    26→    createGroup(model: GroupDTO): RestResponse<Group> {\n    27→        return this.httpClient.request({ method: \"POST\", url: uriEncoding`api/admin/group`, data: model });\n    28→    }\n    29→\n    30→    /**\n    31→     * HTTP GET /api/admin/group/{id}\n    32→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroup\n    33→     */\n    34→    getGroup(id: string): RestResponse<Group> {\n    35→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}` });\n    36→    }\n    37→\n    38→    /**\n    39→     * HTTP GET /api/admin/group/{id}/members\n    40→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroupMembers\n    41→     */\n    42→    getGroupMembers(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<User>> {\n    43→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/members`, queryParams: queryParams });\n    44→    }\n    45→\n    46→    /**\n    47→     * HTTP GET /api/admin/group/{id}/non-members\n    48→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroupNonMembers\n    49→     */\n    50→    getGroupNonMembers(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<User>> {\n    51→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/non-members`, queryParams: queryParams });\n    52→    }\n    53→\n    54→    /**\n    55→     * HTTP PUT /api/admin/group/{id}/roles/add\n    56→     * Java method: software.uncharted.pantera.controller.admin.AdminController.addRolesToGroup\n    57→     */\n    58→    addRolesToGroup(id: string, roleIds: string[]): RestResponse<Group> {\n    59→        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/roles/add`, data: roleIds });\n    60→    }\n    61→\n    62→    /**\n    63→     * HTTP PUT /api/admin/group/{id}/roles/remove\n    64→     * Java method: software.uncharted.pantera.controller.admin.AdminController.removeRolesFromGroup\n    65→     */\n    66→    removeRolesFromGroup(id: string, roleIds: string[]): RestResponse<Group> {\n    67→        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/roles/remove`, data: roleIds });\n    68→    }\n    69→\n    70→    /**\n    71→     * HTTP GET /api/admin/group/{id}/roles/unassigned\n    72→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getUnassignedGroupRoles\n    73→     */\n    74→    getUnassignedGroupRoles(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<Role>> {\n    75→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/roles/unassigned`, queryParams: queryParams });\n    76→    }\n    77→\n    78→    /**\n    79→     * HTTP PUT /api/admin/group/{id}/users/add\n    80→     * Java method: software.uncharted.pantera.controller.admin.AdminController.addToGroup\n    81→     */\n    82→    addToGroup(id: string, userIds: string[]): RestResponse<void> {\n    83→        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/users/add`, data: userIds });\n    84→    }\n    85→\n    86→    /**\n    87→     * HTTP PUT /api/admin/group/{id}/users/remove\n    88→     * Java method: software.uncharted.pantera.controller.admin.AdminController.removeFromGroup\n    89→     */\n    90→    removeFromGroup(id: string, userIds: string[]): RestResponse<void> {\n    91→        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/users/remove`, data: userIds });\n    92→    }\n    93→\n    94→    /**\n    95→     * HTTP GET /api/admin/groups\n    96→     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroups\n    97→     */\n    98→    getGroups(queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<Group>> {\n    99→        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/groups`, queryParams: queryParams });\n   100→    }\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"f4de6fff-95b9-408c-bd3a-98093816613e","timestamp":"2025-09-17T18:34:30.106Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/types/Types.ts","content":"/* tslint:disable */\n/* eslint-disable */\n\nexport interface HttpClient {\n\n    request<R>(requestConfig: { method: string; url: string; queryParams?: any; data?: any; copyFn?: (data: R) => R; }): RestResponse<R>;\n}\n\nexport class RestApplicationClient {\n\n    constructor(protected httpClient: HttpClient) {\n    }\n\n    /**\n     * HTTP GET /api/admin/events\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getEvents\n     */\n    getEvents(queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<AuditEvent>> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/events`, queryParams: queryParams });\n    }\n\n    /**\n     * HTTP POST /api/admin/group\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.createGroup\n     */\n    createGroup(model: GroupDTO): RestResponse<Group> {\n        return this.httpClient.request({ method: \"POST\", url: uriEncoding`api/admin/group`, data: model });\n    }\n\n    /**\n     * HTTP GET /api/admin/group/{id}\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroup\n     */\n    getGroup(id: string): RestResponse<Group> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}` });\n    }\n\n    /**\n     * HTTP GET /api/admin/group/{id}/members\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroupMembers\n     */\n    getGroupMembers(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<User>> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/members`, queryParams: queryParams });\n    }\n\n    /**\n     * HTTP GET /api/admin/group/{id}/non-members\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroupNonMembers\n     */\n    getGroupNonMembers(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<User>> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/non-members`, queryParams: queryParams });\n    }\n\n    /**\n     * HTTP PUT /api/admin/group/{id}/roles/add\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.addRolesToGroup\n     */\n    addRolesToGroup(id: string, roleIds: string[]): RestResponse<Group> {\n        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/roles/add`, data: roleIds });\n    }\n\n    /**\n     * HTTP PUT /api/admin/group/{id}/roles/remove\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.removeRolesFromGroup\n     */\n    removeRolesFromGroup(id: string, roleIds: string[]): RestResponse<Group> {\n        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/roles/remove`, data: roleIds });\n    }\n\n    /**\n     * HTTP GET /api/admin/group/{id}/roles/unassigned\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getUnassignedGroupRoles\n     */\n    getUnassignedGroupRoles(id: string, queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<Role>> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/group/${id}/roles/unassigned`, queryParams: queryParams });\n    }\n\n    /**\n     * HTTP PUT /api/admin/group/{id}/users/add\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.addToGroup\n     */\n    addToGroup(id: string, userIds: string[]): RestResponse<void> {\n        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/users/add`, data: userIds });\n    }\n\n    /**\n     * HTTP PUT /api/admin/group/{id}/users/remove\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.removeFromGroup\n     */\n    removeFromGroup(id: string, userIds: string[]): RestResponse<void> {\n        return this.httpClient.request({ method: \"PUT\", url: uriEncoding`api/admin/group/${id}/users/remove`, data: userIds });\n    }\n\n    /**\n     * HTTP GET /api/admin/groups\n     * Java method: software.uncharted.pantera.controller.admin.AdminController.getGroups\n     */\n    getGroups(queryParams?: { page?: number; rows?: number; sortField?: string; sortOrder?: number; queryString?: string; }): RestResponse<Page<Group>> {\n        return this.httpClient.request({ method: \"GET\", url: uriEncoding`api/admin/groups`, queryParams: queryParams });\n    }","numLines":100,"startLine":1,"totalLines":2215}}}
{"parentUuid":"f4de6fff-95b9-408c-bd3a-98093816613e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01V6EyJLSnsM6nobpLKrutQT","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me search for the PropertyDescriptor type definition:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2004,"cache_read_input_tokens":93496,"cache_creation":{"ephemeral_5m_input_tokens":2004,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTETJP4LUsVx8azietYzw","type":"assistant","uuid":"540d21ff-fa9b-4a39-b5df-34fe97413b78","timestamp":"2025-09-17T18:34:33.056Z"}
{"parentUuid":"540d21ff-fa9b-4a39-b5df-34fe97413b78","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01V6EyJLSnsM6nobpLKrutQT","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01RBcmBsAkA3M1U3z7kzHJqj","name":"Grep","input":{"pattern":"PropertyDescriptor.*\\{","output_mode":"content","-n":true,"head_limit":5}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":2004,"cache_read_input_tokens":93496,"cache_creation":{"ephemeral_5m_input_tokens":2004,"ephemeral_1h_input_tokens":0},"output_tokens":125,"service_tier":"standard"}},"requestId":"req_011CTETJP4LUsVx8azietYzw","type":"assistant","uuid":"119416a2-b482-4cd1-b388-55d54a7a7a10","timestamp":"2025-09-17T18:34:34.139Z"}
{"parentUuid":"119416a2-b482-4cd1-b388-55d54a7a7a10","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RBcmBsAkA3M1U3z7kzHJqj","type":"tool_result","content":"/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs:6:var plugin=(()=>{var yr=Object.create;var we=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Er=Object.getOwnPropertyNames;var br=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var W=(e=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(e,{get:(r,t)=>(typeof require<\"u\"?require:r)[t]}):e)(function(e){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var q=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Cr=(e,r)=>{for(var t in r)we(e,t,{get:r[t],enumerable:!0})},Je=(e,r,t,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let s of Er(r))!xr.call(e,s)&&s!==t&&we(e,s,{get:()=>r[s],enumerable:!(n=_r(r,s))||n.enumerable});return e};var Be=(e,r,t)=>(t=e!=null?yr(br(e)):{},Je(r||!e||!e.__esModule?we(t,\"default\",{value:e,enumerable:!0}):t,e)),wr=e=>Je(we({},\"__esModule\",{value:!0}),e);var ve=q(ee=>{\"use strict\";ee.isInteger=e=>typeof e==\"number\"?Number.isInteger(e):typeof e==\"string\"&&e.trim()!==\"\"?Number.isInteger(Number(e)):!1;ee.find=(e,r)=>e.nodes.find(t=>t.type===r);ee.exceedsLimit=(e,r,t=1,n)=>n===!1||!ee.isInteger(e)||!ee.isInteger(r)?!1:(Number(r)-Number(e))/Number(t)>=n;ee.escapeNode=(e,r=0,t)=>{let n=e.nodes[r];!n||(t&&n.type===t||n.type===\"open\"||n.type===\"close\")&&n.escaped!==!0&&(n.value=\"\\\\\"+n.value,n.escaped=!0)};ee.encloseBrace=e=>e.type!==\"brace\"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ee.isInvalidBrace=e=>e.type!==\"brace\"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ee.isOpenOrClose=e=>e.type===\"open\"||e.type===\"close\"?!0:e.open===!0||e.close===!0;ee.reduce=e=>e.reduce((r,t)=>(t.type===\"text\"&&r.push(t.value),t.type===\"range\"&&(t.type=\"text\"),r),[]);ee.flatten=(...e)=>{let r=[],t=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?t(i,r):i!==void 0&&r.push(i)}return r};return t(e),r}});var He=q((zn,rt)=>{\"use strict\";var tt=ve();rt.exports=(e,r={})=>{let t=(n,s={})=>{let i=r.escapeInvalid&&tt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=\"\";if(n.value)return(i||a)&&tt.isOpenOrClose(n)?\"\\\\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let p of n.nodes)c+=t(p);return c};return t(e)}});var st=q((Vn,nt)=>{\"use strict\";nt.exports=function(e){return typeof e==\"number\"?e-e===0:typeof e==\"string\"&&e.trim()!==\"\"?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ht=q((Jn,pt)=>{\"use strict\";var at=st(),le=(e,r,t)=>{if(at(e)===!1)throw new TypeError(\"toRegexRange: expected the first argument to be a number\");if(r===void 0||e===r)return String(e);if(at(r)===!1)throw new TypeError(\"toRegexRange: expected the second argument to be a number.\");let n={relaxZeros:!0,...t};typeof n.strictZeros==\"boolean\"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),c=String(n.wrap),p=e+\":\"+r+\"=\"+s+i+a+c;if(le.cache.hasOwnProperty(p))return le.cache[p].result;let m=Math.min(e,r),h=Math.max(e,r);if(Math.abs(m-h)===1){let y=e+\"|\"+r;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let R=ft(e)||ft(r),f={min:e,max:r,a:m,b:h},$=[],_=[];if(R&&(f.isPadded=R,f.maxLen=String(f.max).length),m<0){let y=h<0?Math.abs(h):1;_=it(y,Math.abs(m),f,n),m=f.a=0}return h>=0&&($=it(m,h,f,n)),f.negatives=_,f.positives=$,f.result=Sr(_,$,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&$.length+_.length>1&&(f.result=`(?:${f.result})`),le.cache[p]=f,f.result};function Sr(e,r,t){let n=Pe(e,r,\"-\",!1,t)||[],s=Pe(r,e,\"\",!1,t)||[],i=Pe(e,r,\"-?\",!0,t)||[];return n.concat(i).concat(s).join(\"|\")}function vr(e,r){let t=1,n=1,s=ut(e,t),i=new Set([r]);for(;e<=s&&s<=r;)i.add(s),t+=1,s=ut(e,t);for(s=ct(r+1,n)-1;e<s&&s<=r;)i.add(s),n+=1,s=ct(r+1,n)-1;return i=[...i],i.sort(Tr),i}function Hr(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=$r(e,r),s=n.length,i=\"\",a=0;for(let c=0;c<s;c++){let[p,m]=n[c];p===m?i+=p:p!==\"0\"||m!==\"9\"?i+=kr(p,m,t):a++}return a&&(i+=t.shorthand===!0?\"\\\\d\":\"[0-9]\"),{pattern:i,count:[a],digits:s}}function it(e,r,t,n){let s=vr(e,r),i=[],a=e,c;for(let p=0;p<s.length;p++){let m=s[p],h=Hr(String(a),String(m),n),R=\"\";if(!t.isPadded&&c&&c.pattern===h.pattern){c.count.length>1&&c.count.pop(),c.count.push(h.count[0]),c.string=c.pattern+lt(c.count),a=m+1;continue}t.isPadded&&(R=Lr(m,t,n)),h.string=R+h.pattern+lt(h.count),i.push(h),a=m+1,c=h}return i}function Pe(e,r,t,n,s){let i=[];for(let a of e){let{string:c}=a;!n&&!ot(r,\"string\",c)&&i.push(t+c),n&&ot(r,\"string\",c)&&i.push(t+c)}return i}function $r(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function Tr(e,r){return e>r?1:r>e?-1:0}function ot(e,r,t){return e.some(n=>n[r]===t)}function ut(e,r){return Number(String(e).slice(0,-r)+\"9\".repeat(r))}function ct(e,r){return e-e%Math.pow(10,r)}function lt(e){let[r=0,t=\"\"]=e;return t||r>1?`{${r+(t?\",\"+t:\"\")}}`:\"\"}function kr(e,r,t){return`[${e}${r-e===1?\"\":\"-\"}${r}]`}function ft(e){return/^-?(0+)\\d/.test(e)}function Lr(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),s=t.relaxZeros!==!1;switch(n){case 0:return\"\";case 1:return s?\"0?\":\"0\";case 2:return s?\"0{0,2}\":\"00\";default:return s?`0{0,${n}}`:`0{${n}}`}}le.cache={};le.clearCache=()=>le.cache={};pt.exports=le});var Ue=q((es,Et)=>{\"use strict\";var Or=W(\"util\"),At=ht(),dt=e=>e!==null&&typeof e==\"object\"&&!Array.isArray(e),Nr=e=>r=>e===!0?Number(r):String(r),Me=e=>typeof e==\"number\"||typeof e==\"string\"&&e!==\"\",Ae=e=>Number.isInteger(+e),De=e=>{let r=`${e}`,t=-1;if(r[0]===\"-\"&&(r=r.slice(1)),r===\"0\")return!1;for(;r[++t]===\"0\";);return t>0},Ir=(e,r,t)=>typeof e==\"string\"||typeof r==\"string\"?!0:t.stringify===!0,Br=(e,r,t)=>{if(r>0){let n=e[0]===\"-\"?\"-\":\"\";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,\"0\")}return t===!1?String(e):e},gt=(e,r)=>{let t=e[0]===\"-\"?\"-\":\"\";for(t&&(e=e.slice(1),r--);e.length<r;)e=\"0\"+e;return t?\"-\"+e:e},Pr=(e,r)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let t=r.capture?\"\":\"?:\",n=\"\",s=\"\",i;return e.positives.length&&(n=e.positives.join(\"|\")),e.negatives.length&&(s=`-(${t}${e.negatives.join(\"|\")})`),n&&s?i=`${n}|${s}`:i=n||s,r.wrap?`(${t}${i})`:i},mt=(e,r,t,n)=>{if(t)return At(e,r,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===r)return s;let i=String.fromCharCode(r);return`[${s}-${i}]`},Rt=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,s=t.capture?\"\":\"?:\";return n?`(${s}${e.join(\"|\")})`:e.join(\"|\")}return At(e,r,t)},yt=(...e)=>new RangeError(\"Invalid range arguments: \"+Or.inspect(...e)),_t=(e,r,t)=>{if(t.strictRanges===!0)throw yt([e,r]);return[]},Mr=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step \"${e}\" to be a number`);return[]},Dr=(e,r,t=1,n={})=>{let s=Number(e),i=Number(r);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw yt([e,r]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,c=String(e),p=String(r),m=String(t);t=Math.max(Math.abs(t),1);let h=De(c)||De(p)||De(m),R=h?Math.max(c.length,p.length,m.length):0,f=h===!1&&Ir(e,r,n)===!1,$=n.transform||Nr(f);if(n.toRegex&&t===1)return mt(gt(e,R),gt(r,R),!0,n);let _={negatives:[],positives:[]},y=T=>_[T<0?\"negatives\":\"positives\"].push(Math.abs(T)),E=[],S=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&t>1?y(s):E.push(Br($(s,S),R,f)),s=a?s-t:s+t,S++;return n.toRegex===!0?t>1?Pr(_,n):Rt(E,null,{wrap:!1,...n}):E},Ur=(e,r,t=1,n={})=>{if(!Ae(e)&&e.length>1||!Ae(r)&&r.length>1)return _t(e,r,n);let s=n.transform||(f=>String.fromCharCode(f)),i=`${e}`.charCodeAt(0),a=`${r}`.charCodeAt(0),c=i>a,p=Math.min(i,a),m=Math.max(i,a);if(n.toRegex&&t===1)return mt(p,m,!1,n);let h=[],R=0;for(;c?i>=a:i<=a;)h.push(s(i,R)),i=c?i-t:i+t,R++;return n.toRegex===!0?Rt(h,null,{wrap:!1,options:n}):h},$e=(e,r,t,n={})=>{if(r==null&&Me(e))return[e];if(!Me(e)||!Me(r))return _t(e,r,n);if(typeof t==\"function\")return $e(e,r,1,{transform:t});if(dt(t))return $e(e,r,0,t);let s={...n};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,Ae(t)?Ae(e)&&Ae(r)?Dr(e,r,t,s):Ur(e,r,Math.max(Math.abs(t),1),s):t!=null&&!dt(t)?Mr(t,s):$e(e,r,1,t)};Et.exports=$e});var Ct=q((ts,xt)=>{\"use strict\";var Gr=Ue(),bt=ve(),qr=(e,r={})=>{let t=(n,s={})=>{let i=bt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=i===!0||a===!0,p=r.escapeInvalid===!0?\"\\\\\":\"\",m=\"\";if(n.isOpen===!0||n.isClose===!0)return p+n.value;if(n.type===\"open\")return c?p+n.value:\"(\";if(n.type===\"close\")return c?p+n.value:\")\";if(n.type===\"comma\")return n.prev.type===\"comma\"?\"\":c?n.value:\"|\";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let h=bt.reduce(n.nodes),R=Gr(...h,{...r,wrap:!1,toRegex:!0});if(R.length!==0)return h.length>1&&R.length>1?`(${R})`:R}if(n.nodes)for(let h of n.nodes)m+=t(h,n);return m};return t(e)};xt.exports=qr});var vt=q((rs,St)=>{\"use strict\";var Kr=Ue(),wt=He(),he=ve(),fe=(e=\"\",r=\"\",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?he.flatten(r).map(s=>`{${s}}`):r;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(fe(i,r,t));else for(let i of r)t===!0&&typeof i==\"string\"&&(i=`{${i}}`),n.push(Array.isArray(i)?fe(s,i,t):s+i);return he.flatten(n)},Wr=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,c=i.queue;for(;a.type!==\"brace\"&&a.type!==\"root\"&&a.parent;)a=a.parent,c=a.queue;if(s.invalid||s.dollar){c.push(fe(c.pop(),wt(s,r)));return}if(s.type===\"brace\"&&s.invalid!==!0&&s.nodes.length===2){c.push(fe(c.pop(),[\"{}\"]));return}if(s.nodes&&s.ranges>0){let R=he.reduce(s.nodes);if(he.exceedsLimit(...R,r.step,t))throw new RangeError(\"expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.\");let f=Kr(...R,r);f.length===0&&(f=wt(s,r)),c.push(fe(c.pop(),f)),s.nodes=[];return}let p=he.encloseBrace(s),m=s.queue,h=s;for(;h.type!==\"brace\"&&h.type!==\"root\"&&h.parent;)h=h.parent,m=h.queue;for(let R=0;R<s.nodes.length;R++){let f=s.nodes[R];if(f.type===\"comma\"&&s.type===\"brace\"){R===1&&m.push(\"\"),m.push(\"\");continue}if(f.type===\"close\"){c.push(fe(c.pop(),m,p));continue}if(f.value&&f.type!==\"open\"){m.push(fe(m.pop(),f.value));continue}f.nodes&&n(f,s)}return m};return he.flatten(n(e))};St.exports=Wr});var $t=q((ns,Ht)=>{\"use strict\";Ht.exports={MAX_LENGTH:1024*64,CHAR_0:\"0\",CHAR_9:\"9\",CHAR_UPPERCASE_A:\"A\",CHAR_LOWERCASE_A:\"a\",CHAR_UPPERCASE_Z:\"Z\",CHAR_LOWERCASE_Z:\"z\",CHAR_LEFT_PARENTHESES:\"(\",CHAR_RIGHT_PARENTHESES:\")\",CHAR_ASTERISK:\"*\",CHAR_AMPERSAND:\"&\",CHAR_AT:\"@\",CHAR_BACKSLASH:\"\\\\\",CHAR_BACKTICK:\"`\",CHAR_CARRIAGE_RETURN:\"\\r\",CHAR_CIRCUMFLEX_ACCENT:\"^\",CHAR_COLON:\":\",CHAR_COMMA:\",\",CHAR_DOLLAR:\"$\",CHAR_DOT:\".\",CHAR_DOUBLE_QUOTE:'\"',CHAR_EQUAL:\"=\",CHAR_EXCLAMATION_MARK:\"!\",CHAR_FORM_FEED:\"\\f\",CHAR_FORWARD_SLASH:\"/\",CHAR_HASH:\"#\",CHAR_HYPHEN_MINUS:\"-\",CHAR_LEFT_ANGLE_BRACKET:\"<\",CHAR_LEFT_CURLY_BRACE:\"{\",CHAR_LEFT_SQUARE_BRACKET:\"[\",CHAR_LINE_FEED:`\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsDataController.java:145:  > getExistingPropertyDescriptors(@PathVariable(\"id\") String id) {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/DocumentController.java:162:          \"Cannot find PropertyDescriptor for key: {}\",\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:39:public class PropertyDescriptorService {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:185:  public PropertyDescriptor findByKey(final Project project, final String key) {"}]},"uuid":"d0fa1512-a6b5-47dd-b4a0-89bc129c5f4f","timestamp":"2025-09-17T18:34:34.225Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/.yarn/plugins/@yarnpkg/plugin-workspace-tools.cjs:6:var plugin=(()=>{var yr=Object.create;var we=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Er=Object.getOwnPropertyNames;var br=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var W=(e=>typeof require<\"u\"?require:typeof Proxy<\"u\"?new Proxy(e,{get:(r,t)=>(typeof require<\"u\"?require:r)[t]}):e)(function(e){if(typeof require<\"u\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+e+'\" is not supported')});var q=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Cr=(e,r)=>{for(var t in r)we(e,t,{get:r[t],enumerable:!0})},Je=(e,r,t,n)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let s of Er(r))!xr.call(e,s)&&s!==t&&we(e,s,{get:()=>r[s],enumerable:!(n=_r(r,s))||n.enumerable});return e};var Be=(e,r,t)=>(t=e!=null?yr(br(e)):{},Je(r||!e||!e.__esModule?we(t,\"default\",{value:e,enumerable:!0}):t,e)),wr=e=>Je(we({},\"__esModule\",{value:!0}),e);var ve=q(ee=>{\"use strict\";ee.isInteger=e=>typeof e==\"number\"?Number.isInteger(e):typeof e==\"string\"&&e.trim()!==\"\"?Number.isInteger(Number(e)):!1;ee.find=(e,r)=>e.nodes.find(t=>t.type===r);ee.exceedsLimit=(e,r,t=1,n)=>n===!1||!ee.isInteger(e)||!ee.isInteger(r)?!1:(Number(r)-Number(e))/Number(t)>=n;ee.escapeNode=(e,r=0,t)=>{let n=e.nodes[r];!n||(t&&n.type===t||n.type===\"open\"||n.type===\"close\")&&n.escaped!==!0&&(n.value=\"\\\\\"+n.value,n.escaped=!0)};ee.encloseBrace=e=>e.type!==\"brace\"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ee.isInvalidBrace=e=>e.type!==\"brace\"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ee.isOpenOrClose=e=>e.type===\"open\"||e.type===\"close\"?!0:e.open===!0||e.close===!0;ee.reduce=e=>e.reduce((r,t)=>(t.type===\"text\"&&r.push(t.value),t.type===\"range\"&&(t.type=\"text\"),r),[]);ee.flatten=(...e)=>{let r=[],t=n=>{for(let s=0;s<n.length;s++){let i=n[s];Array.isArray(i)?t(i,r):i!==void 0&&r.push(i)}return r};return t(e),r}});var He=q((zn,rt)=>{\"use strict\";var tt=ve();rt.exports=(e,r={})=>{let t=(n,s={})=>{let i=r.escapeInvalid&&tt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=\"\";if(n.value)return(i||a)&&tt.isOpenOrClose(n)?\"\\\\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let p of n.nodes)c+=t(p);return c};return t(e)}});var st=q((Vn,nt)=>{\"use strict\";nt.exports=function(e){return typeof e==\"number\"?e-e===0:typeof e==\"string\"&&e.trim()!==\"\"?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var ht=q((Jn,pt)=>{\"use strict\";var at=st(),le=(e,r,t)=>{if(at(e)===!1)throw new TypeError(\"toRegexRange: expected the first argument to be a number\");if(r===void 0||e===r)return String(e);if(at(r)===!1)throw new TypeError(\"toRegexRange: expected the second argument to be a number.\");let n={relaxZeros:!0,...t};typeof n.strictZeros==\"boolean\"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),c=String(n.wrap),p=e+\":\"+r+\"=\"+s+i+a+c;if(le.cache.hasOwnProperty(p))return le.cache[p].result;let m=Math.min(e,r),h=Math.max(e,r);if(Math.abs(m-h)===1){let y=e+\"|\"+r;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let R=ft(e)||ft(r),f={min:e,max:r,a:m,b:h},$=[],_=[];if(R&&(f.isPadded=R,f.maxLen=String(f.max).length),m<0){let y=h<0?Math.abs(h):1;_=it(y,Math.abs(m),f,n),m=f.a=0}return h>=0&&($=it(m,h,f,n)),f.negatives=_,f.positives=$,f.result=Sr(_,$,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&$.length+_.length>1&&(f.result=`(?:${f.result})`),le.cache[p]=f,f.result};function Sr(e,r,t){let n=Pe(e,r,\"-\",!1,t)||[],s=Pe(r,e,\"\",!1,t)||[],i=Pe(e,r,\"-?\",!0,t)||[];return n.concat(i).concat(s).join(\"|\")}function vr(e,r){let t=1,n=1,s=ut(e,t),i=new Set([r]);for(;e<=s&&s<=r;)i.add(s),t+=1,s=ut(e,t);for(s=ct(r+1,n)-1;e<s&&s<=r;)i.add(s),n+=1,s=ct(r+1,n)-1;return i=[...i],i.sort(Tr),i}function Hr(e,r,t){if(e===r)return{pattern:e,count:[],digits:0};let n=$r(e,r),s=n.length,i=\"\",a=0;for(let c=0;c<s;c++){let[p,m]=n[c];p===m?i+=p:p!==\"0\"||m!==\"9\"?i+=kr(p,m,t):a++}return a&&(i+=t.shorthand===!0?\"\\\\d\":\"[0-9]\"),{pattern:i,count:[a],digits:s}}function it(e,r,t,n){let s=vr(e,r),i=[],a=e,c;for(let p=0;p<s.length;p++){let m=s[p],h=Hr(String(a),String(m),n),R=\"\";if(!t.isPadded&&c&&c.pattern===h.pattern){c.count.length>1&&c.count.pop(),c.count.push(h.count[0]),c.string=c.pattern+lt(c.count),a=m+1;continue}t.isPadded&&(R=Lr(m,t,n)),h.string=R+h.pattern+lt(h.count),i.push(h),a=m+1,c=h}return i}function Pe(e,r,t,n,s){let i=[];for(let a of e){let{string:c}=a;!n&&!ot(r,\"string\",c)&&i.push(t+c),n&&ot(r,\"string\",c)&&i.push(t+c)}return i}function $r(e,r){let t=[];for(let n=0;n<e.length;n++)t.push([e[n],r[n]]);return t}function Tr(e,r){return e>r?1:r>e?-1:0}function ot(e,r,t){return e.some(n=>n[r]===t)}function ut(e,r){return Number(String(e).slice(0,-r)+\"9\".repeat(r))}function ct(e,r){return e-e%Math.pow(10,r)}function lt(e){let[r=0,t=\"\"]=e;return t||r>1?`{${r+(t?\",\"+t:\"\")}}`:\"\"}function kr(e,r,t){return`[${e}${r-e===1?\"\":\"-\"}${r}]`}function ft(e){return/^-?(0+)\\d/.test(e)}function Lr(e,r,t){if(!r.isPadded)return e;let n=Math.abs(r.maxLen-String(e).length),s=t.relaxZeros!==!1;switch(n){case 0:return\"\";case 1:return s?\"0?\":\"0\";case 2:return s?\"0{0,2}\":\"00\";default:return s?`0{0,${n}}`:`0{${n}}`}}le.cache={};le.clearCache=()=>le.cache={};pt.exports=le});var Ue=q((es,Et)=>{\"use strict\";var Or=W(\"util\"),At=ht(),dt=e=>e!==null&&typeof e==\"object\"&&!Array.isArray(e),Nr=e=>r=>e===!0?Number(r):String(r),Me=e=>typeof e==\"number\"||typeof e==\"string\"&&e!==\"\",Ae=e=>Number.isInteger(+e),De=e=>{let r=`${e}`,t=-1;if(r[0]===\"-\"&&(r=r.slice(1)),r===\"0\")return!1;for(;r[++t]===\"0\";);return t>0},Ir=(e,r,t)=>typeof e==\"string\"||typeof r==\"string\"?!0:t.stringify===!0,Br=(e,r,t)=>{if(r>0){let n=e[0]===\"-\"?\"-\":\"\";n&&(e=e.slice(1)),e=n+e.padStart(n?r-1:r,\"0\")}return t===!1?String(e):e},gt=(e,r)=>{let t=e[0]===\"-\"?\"-\":\"\";for(t&&(e=e.slice(1),r--);e.length<r;)e=\"0\"+e;return t?\"-\"+e:e},Pr=(e,r)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let t=r.capture?\"\":\"?:\",n=\"\",s=\"\",i;return e.positives.length&&(n=e.positives.join(\"|\")),e.negatives.length&&(s=`-(${t}${e.negatives.join(\"|\")})`),n&&s?i=`${n}|${s}`:i=n||s,r.wrap?`(${t}${i})`:i},mt=(e,r,t,n)=>{if(t)return At(e,r,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===r)return s;let i=String.fromCharCode(r);return`[${s}-${i}]`},Rt=(e,r,t)=>{if(Array.isArray(e)){let n=t.wrap===!0,s=t.capture?\"\":\"?:\";return n?`(${s}${e.join(\"|\")})`:e.join(\"|\")}return At(e,r,t)},yt=(...e)=>new RangeError(\"Invalid range arguments: \"+Or.inspect(...e)),_t=(e,r,t)=>{if(t.strictRanges===!0)throw yt([e,r]);return[]},Mr=(e,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step \"${e}\" to be a number`);return[]},Dr=(e,r,t=1,n={})=>{let s=Number(e),i=Number(r);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw yt([e,r]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,c=String(e),p=String(r),m=String(t);t=Math.max(Math.abs(t),1);let h=De(c)||De(p)||De(m),R=h?Math.max(c.length,p.length,m.length):0,f=h===!1&&Ir(e,r,n)===!1,$=n.transform||Nr(f);if(n.toRegex&&t===1)return mt(gt(e,R),gt(r,R),!0,n);let _={negatives:[],positives:[]},y=T=>_[T<0?\"negatives\":\"positives\"].push(Math.abs(T)),E=[],S=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&t>1?y(s):E.push(Br($(s,S),R,f)),s=a?s-t:s+t,S++;return n.toRegex===!0?t>1?Pr(_,n):Rt(E,null,{wrap:!1,...n}):E},Ur=(e,r,t=1,n={})=>{if(!Ae(e)&&e.length>1||!Ae(r)&&r.length>1)return _t(e,r,n);let s=n.transform||(f=>String.fromCharCode(f)),i=`${e}`.charCodeAt(0),a=`${r}`.charCodeAt(0),c=i>a,p=Math.min(i,a),m=Math.max(i,a);if(n.toRegex&&t===1)return mt(p,m,!1,n);let h=[],R=0;for(;c?i>=a:i<=a;)h.push(s(i,R)),i=c?i-t:i+t,R++;return n.toRegex===!0?Rt(h,null,{wrap:!1,options:n}):h},$e=(e,r,t,n={})=>{if(r==null&&Me(e))return[e];if(!Me(e)||!Me(r))return _t(e,r,n);if(typeof t==\"function\")return $e(e,r,1,{transform:t});if(dt(t))return $e(e,r,0,t);let s={...n};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,Ae(t)?Ae(e)&&Ae(r)?Dr(e,r,t,s):Ur(e,r,Math.max(Math.abs(t),1),s):t!=null&&!dt(t)?Mr(t,s):$e(e,r,1,t)};Et.exports=$e});var Ct=q((ts,xt)=>{\"use strict\";var Gr=Ue(),bt=ve(),qr=(e,r={})=>{let t=(n,s={})=>{let i=bt.isInvalidBrace(s),a=n.invalid===!0&&r.escapeInvalid===!0,c=i===!0||a===!0,p=r.escapeInvalid===!0?\"\\\\\":\"\",m=\"\";if(n.isOpen===!0||n.isClose===!0)return p+n.value;if(n.type===\"open\")return c?p+n.value:\"(\";if(n.type===\"close\")return c?p+n.value:\")\";if(n.type===\"comma\")return n.prev.type===\"comma\"?\"\":c?n.value:\"|\";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let h=bt.reduce(n.nodes),R=Gr(...h,{...r,wrap:!1,toRegex:!0});if(R.length!==0)return h.length>1&&R.length>1?`(${R})`:R}if(n.nodes)for(let h of n.nodes)m+=t(h,n);return m};return t(e)};xt.exports=qr});var vt=q((rs,St)=>{\"use strict\";var Kr=Ue(),wt=He(),he=ve(),fe=(e=\"\",r=\"\",t=!1)=>{let n=[];if(e=[].concat(e),r=[].concat(r),!r.length)return e;if(!e.length)return t?he.flatten(r).map(s=>`{${s}}`):r;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(fe(i,r,t));else for(let i of r)t===!0&&typeof i==\"string\"&&(i=`{${i}}`),n.push(Array.isArray(i)?fe(s,i,t):s+i);return he.flatten(n)},Wr=(e,r={})=>{let t=r.rangeLimit===void 0?1e3:r.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,c=i.queue;for(;a.type!==\"brace\"&&a.type!==\"root\"&&a.parent;)a=a.parent,c=a.queue;if(s.invalid||s.dollar){c.push(fe(c.pop(),wt(s,r)));return}if(s.type===\"brace\"&&s.invalid!==!0&&s.nodes.length===2){c.push(fe(c.pop(),[\"{}\"]));return}if(s.nodes&&s.ranges>0){let R=he.reduce(s.nodes);if(he.exceedsLimit(...R,r.step,t))throw new RangeError(\"expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.\");let f=Kr(...R,r);f.length===0&&(f=wt(s,r)),c.push(fe(c.pop(),f)),s.nodes=[];return}let p=he.encloseBrace(s),m=s.queue,h=s;for(;h.type!==\"brace\"&&h.type!==\"root\"&&h.parent;)h=h.parent,m=h.queue;for(let R=0;R<s.nodes.length;R++){let f=s.nodes[R];if(f.type===\"comma\"&&s.type===\"brace\"){R===1&&m.push(\"\"),m.push(\"\");continue}if(f.type===\"close\"){c.push(fe(c.pop(),m,p));continue}if(f.value&&f.type!==\"open\"){m.push(fe(m.pop(),f.value));continue}f.nodes&&n(f,s)}return m};return he.flatten(n(e))};St.exports=Wr});var $t=q((ns,Ht)=>{\"use strict\";Ht.exports={MAX_LENGTH:1024*64,CHAR_0:\"0\",CHAR_9:\"9\",CHAR_UPPERCASE_A:\"A\",CHAR_LOWERCASE_A:\"a\",CHAR_UPPERCASE_Z:\"Z\",CHAR_LOWERCASE_Z:\"z\",CHAR_LEFT_PARENTHESES:\"(\",CHAR_RIGHT_PARENTHESES:\")\",CHAR_ASTERISK:\"*\",CHAR_AMPERSAND:\"&\",CHAR_AT:\"@\",CHAR_BACKSLASH:\"\\\\\",CHAR_BACKTICK:\"`\",CHAR_CARRIAGE_RETURN:\"\\r\",CHAR_CIRCUMFLEX_ACCENT:\"^\",CHAR_COLON:\":\",CHAR_COMMA:\",\",CHAR_DOLLAR:\"$\",CHAR_DOT:\".\",CHAR_DOUBLE_QUOTE:'\"',CHAR_EQUAL:\"=\",CHAR_EXCLAMATION_MARK:\"!\",CHAR_FORM_FEED:\"\\f\",CHAR_FORWARD_SLASH:\"/\",CHAR_HASH:\"#\",CHAR_HYPHEN_MINUS:\"-\",CHAR_LEFT_ANGLE_BRACKET:\"<\",CHAR_LEFT_CURLY_BRACE:\"{\",CHAR_LEFT_SQUARE_BRACKET:\"[\",CHAR_LINE_FEED:`\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/ProjectsDataController.java:145:  > getExistingPropertyDescriptors(@PathVariable(\"id\") String id) {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/controller/DocumentController.java:162:          \"Cannot find PropertyDescriptor for key: {}\",\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:39:public class PropertyDescriptorService {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/PropertyDescriptorService.java:185:  public PropertyDescriptor findByKey(final Project project, final String key) {","numLines":5}}
{"parentUuid":"d0fa1512-a6b5-47dd-b4a0-89bc129c5f4f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_011MSVoWbQreaT5nCkVRAJQp","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me look at how the project stores PropertyDescriptors and find an example of usage to understand the structure:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":5888,"cache_read_input_tokens":95500,"cache_creation":{"ephemeral_5m_input_tokens":5888,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETJgqAYNFiRgJfPrjaz","type":"assistant","uuid":"bca6bfe0-a233-484e-b381-60808174c9fb","timestamp":"2025-09-17T18:34:38.931Z"}
{"parentUuid":"bca6bfe0-a233-484e-b381-60808174c9fb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_011MSVoWbQreaT5nCkVRAJQp","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01SaRC9Ef8c7QEHYx5Fi7WuK","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","offset":1,"limit":50}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":5888,"cache_read_input_tokens":95500,"cache_creation":{"ephemeral_5m_input_tokens":5888,"ephemeral_1h_input_tokens":0},"output_tokens":134,"service_tier":"standard"}},"requestId":"req_011CTETJgqAYNFiRgJfPrjaz","type":"assistant","uuid":"af417b0e-cbfc-4be5-a670-86261bbbeb04","timestamp":"2025-09-17T18:34:39.887Z"}
{"parentUuid":"af417b0e-cbfc-4be5-a670-86261bbbeb04","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SaRC9Ef8c7QEHYx5Fi7WuK","type":"tool_result","content":"     1→import { computed, ref, watch } from 'vue';\n     2→import {\n     3→  AuditEventType,\n     4→  Project,\n     5→  ProjectDto,\n     6→  ProjectPermissionLevel,\n     7→  PropertyDescriptor,\n     8→  PropertyTag,\n     9→  RoleType,\n    10→} from '@/types/Types';\n    11→import ProjectService from '@/services/ProjectService';\n    12→import { useRoute, useRouter } from 'vue-router';\n    13→import { defineStore } from 'pinia';\n    14→import { hasRole } from '@/services/AdminService';\n    15→import PanteraAPI from '@/services/PanteraAPI';\n    16→import { hashFile } from '@/util/HashUtil';\n    17→import { LoadDataParams } from '@/composables/useGenericTableState';\n    18→import ProjectDataService from '@/services/ProjectDataService';\n    19→import Logger from '@/services/Logger';\n    20→\n    21→const useProjectStore = defineStore('project', () => {\n    22→  const project = ref<Project | undefined>();\n    23→  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n    24→  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n    25→  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n    26→  const recentProjects = ref<Project[]>([]);\n    27→  const projectDocumentIds = ref<string[]>([]);\n    28→  const totalDocumentCount = ref<number | undefined>();\n    29→\n    30→  // Callbacks to execute when project loading finishes\n    31→  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n    32→\n    33→  // Callbacks to execute when project changes (for clearing state)\n    34→  const projectChangeCallbacks = ref<(() => void)[]>([]);\n    35→\n    36→  // Callbacks to execute when project list changes (for refreshing project lists)\n    37→  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n    38→\n    39→  /**\n    40→   * Trigger all project list change callbacks\n    41→   */\n    42→  const triggerProjectListChange = () => {\n    43→    projectListChangeCallbacks.value.forEach(callback => callback());\n    44→  };\n    45→\n    46→  const route = useRoute();\n    47→  const router = useRouter();\n    48→\n    49→  /**\n    50→   * Load the most recent projects for the current user\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"d9cf7ddd-3952-44de-94d8-acb477f309c8","timestamp":"2025-09-17T18:34:39.940Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","content":"import { computed, ref, watch } from 'vue';\nimport {\n  AuditEventType,\n  Project,\n  ProjectDto,\n  ProjectPermissionLevel,\n  PropertyDescriptor,\n  PropertyTag,\n  RoleType,\n} from '@/types/Types';\nimport ProjectService from '@/services/ProjectService';\nimport { useRoute, useRouter } from 'vue-router';\nimport { defineStore } from 'pinia';\nimport { hasRole } from '@/services/AdminService';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport { hashFile } from '@/util/HashUtil';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport Logger from '@/services/Logger';\n\nconst useProjectStore = defineStore('project', () => {\n  const project = ref<Project | undefined>();\n  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const recentProjects = ref<Project[]>([]);\n  const projectDocumentIds = ref<string[]>([]);\n  const totalDocumentCount = ref<number | undefined>();\n\n  // Callbacks to execute when project loading finishes\n  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project changes (for clearing state)\n  const projectChangeCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project list changes (for refreshing project lists)\n  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n\n  /**\n   * Trigger all project list change callbacks\n   */\n  const triggerProjectListChange = () => {\n    projectListChangeCallbacks.value.forEach(callback => callback());\n  };\n\n  const route = useRoute();\n  const router = useRouter();\n\n  /**\n   * Load the most recent projects for the current user","numLines":50,"startLine":1,"totalLines":361}}}
{"parentUuid":"d9cf7ddd-3952-44de-94d8-acb477f309c8","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01QUhzDyWhQCmEK1QXdmQE7A","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Great! I can see that `PropertyDescriptor` is imported from `@/types/Types` and the store has `propertyDescriptors` array. Let me search for how property names are displayed in components:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":867,"cache_read_input_tokens":101388,"cache_creation":{"ephemeral_5m_input_tokens":867,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETK76BHYg5iYmwGMTdM","type":"assistant","uuid":"a1ebf616-a86b-4196-b872-8cc28b83f34a","timestamp":"2025-09-17T18:34:45.837Z"}
{"parentUuid":"a1ebf616-a86b-4196-b872-8cc28b83f34a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01QUhzDyWhQCmEK1QXdmQE7A","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01VviDuDc7DusPsB3Z9vZ2nb","name":"Grep","input":{"pattern":"propertyDescriptor\\.name|\\.name\"","output_mode":"content","-n":true,"head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":6,"cache_creation_input_tokens":867,"cache_read_input_tokens":101388,"cache_creation":{"ephemeral_5m_input_tokens":867,"ephemeral_1h_input_tokens":0},"output_tokens":164,"service_tier":"standard"}},"requestId":"req_011CTETK76BHYg5iYmwGMTdM","type":"assistant","uuid":"e867a9de-9692-4da1-ac8a-e0a33bacdc2b","timestamp":"2025-09-17T18:34:47.190Z"}
{"parentUuid":"e867a9de-9692-4da1-ac8a-e0a33bacdc2b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VviDuDc7DusPsB3Z9vZ2nb","type":"tool_result","content":"/Users/yparis/Developer/atlantis/modules/validation/src/test/java/software/uncharted/pantera/validators/ValidatorTests.java:722:      \"output.name\",\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:477:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:502:        List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:555:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:560:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:588:      List.of(\"keyword_feature.description\", \"keyword_feature.name\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:593:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:616:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:835:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:917:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")"}]},"uuid":"adf2ab5c-fcc2-4a0d-9b5a-ae251d8f0cf1","timestamp":"2025-09-17T18:34:47.360Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/modules/validation/src/test/java/software/uncharted/pantera/validators/ValidatorTests.java:722:      \"output.name\",\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:477:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:502:        List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:555:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:560:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:588:      List.of(\"keyword_feature.description\", \"keyword_feature.name\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:593:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:616:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:835:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")\n/Users/yparis/Developer/atlantis/modules/elasticsearch/src/test/java/software/uncharted/elasticsearch/ElasticsearchServiceTests.java:917:      List.of(\"keyword_feature.name\", \"keyword_feature.description\")","numLines":10}}
{"parentUuid":"adf2ab5c-fcc2-4a0d-9b5a-ae251d8f0cf1","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_017rvazxuqkfxm8TzRajRSMr","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me check one of the facet components that work with display names:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":854,"cache_read_input_tokens":102255,"cache_creation":{"ephemeral_5m_input_tokens":854,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTETKf9VFbWew3SLMqJTW","type":"assistant","uuid":"6f224b5b-a114-4633-8e0e-e8b296465f59","timestamp":"2025-09-17T18:34:51.161Z"}
{"parentUuid":"6f224b5b-a114-4633-8e0e-e8b296465f59","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_017rvazxuqkfxm8TzRajRSMr","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_017PM96edEBKbgQEmBKGF41h","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue","offset":50,"limit":20}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":854,"cache_read_input_tokens":102255,"cache_creation":{"ephemeral_5m_input_tokens":854,"ephemeral_1h_input_tokens":0},"output_tokens":132,"service_tier":"standard"}},"requestId":"req_011CTETKf9VFbWew3SLMqJTW","type":"assistant","uuid":"4ee1a4ee-3be7-47a3-84b8-8bc7a00bb9a7","timestamp":"2025-09-17T18:34:52.185Z"}
{"parentUuid":"4ee1a4ee-3be7-47a3-84b8-8bc7a00bb9a7","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017PM96edEBKbgQEmBKGF41h","type":"tool_result","content":"    50→            </span>\n    51→          </template>\n    52→          <template #option=\"{ option }\">\n    53→            <span\n    54→              v-if=\"option.key === 'extract-more'\"\n    55→              class=\"extract-more-option\"\n    56→            >\n    57→              <CircleProgress\n    58→                v-tooltip.bottom=\"tooltipText\"\n    59→                :percentage=\"\n    60→                  ((props.documentCountWithFacet || 0) /\n    61→                    totalDocumentsInSearch) *\n    62→                  100\n    63→                \"\n    64→                pie-chart\n    65→                class=\"mr-1\"\n    66→              />{{ option.title }}\n    67→            </span>\n    68→            <span\n    69→              v-else\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"88f6c4f5-6d14-4b22-b9e7-d96af6c052fc","timestamp":"2025-09-17T18:34:52.240Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue","content":"            </span>\n          </template>\n          <template #option=\"{ option }\">\n            <span\n              v-if=\"option.key === 'extract-more'\"\n              class=\"extract-more-option\"\n            >\n              <CircleProgress\n                v-tooltip.bottom=\"tooltipText\"\n                :percentage=\"\n                  ((props.documentCountWithFacet || 0) /\n                    totalDocumentsInSearch) *\n                  100\n                \"\n                pie-chart\n                class=\"mr-1\"\n              />{{ option.title }}\n            </span>\n            <span\n              v-else","numLines":20,"startLine":50,"totalLines":396}}}
{"parentUuid":"88f6c4f5-6d14-4b22-b9e7-d96af6c052fc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_015qddUXuTLu5nNVTjC8oFJs","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me look at how property descriptors are used to get display names. Let me check a simpler approach by looking at the PropertyLink component:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":417,"cache_read_input_tokens":103109,"cache_creation":{"ephemeral_5m_input_tokens":417,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTETL1mDov5y8tHNNUnv6","type":"assistant","uuid":"158a2da6-3ed4-41e6-b51a-3ec81df76181","timestamp":"2025-09-17T18:34:55.558Z"}
{"parentUuid":"158a2da6-3ed4-41e6-b51a-3ec81df76181","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_015qddUXuTLu5nNVTjC8oFJs","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01D8m1UntiPaMFGk8zFVjMtr","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":417,"cache_read_input_tokens":103109,"cache_creation":{"ephemeral_5m_input_tokens":417,"ephemeral_1h_input_tokens":0},"output_tokens":109,"service_tier":"standard"}},"requestId":"req_011CTETL1mDov5y8tHNNUnv6","type":"assistant","uuid":"6b025d74-8a0c-4b7c-a20c-ec209434020c","timestamp":"2025-09-17T18:34:55.983Z"}
{"parentUuid":"6b025d74-8a0c-4b7c-a20c-ec209434020c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01D8m1UntiPaMFGk8zFVjMtr","type":"tool_result","content":"     1→<script setup lang=\"ts\">\n     2→import { PropertyDescriptor, PropertyTag } from '@/types/Types';\n     3→import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n     4→import Button from 'primevue/button';\n     5→import { computed } from 'vue';\n     6→import { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\n     7→import formatDate from '@/util/DateFormatter';\n     8→import NoDataIcon from '../NoDataIcon.vue';\n     9→\n    10→const props = withDefaults(\n    11→  defineProps<{\n    12→    propertyDescriptor: PropertyDescriptor;\n    13→    document: FlattenedPanteraDocument;\n    14→    showIcon?: boolean;\n    15→  }>(),\n    16→  {\n    17→    showIcon: false,\n    18→  },\n    19→);\n    20→\n    21→const values = computed(\n    22→  () => props.document.propertyMap[props.propertyDescriptor.key]?.values ?? [],\n    23→);\n    24→\n    25→const valuesFormatted = computed(\n    26→  () =>\n    27→    props.document.propertyMap[props.propertyDescriptor.key]?.valuesFormatted ??\n    28→    [],\n    29→);\n    30→\n    31→const compiledValues = computed(() =>\n    32→  valuesFormatted.value\n    33→    .map((val, i) => val ?? values.value[i])\n    34→    .map(value =>\n    35→      props.propertyDescriptor.tags.includes(PropertyTag.Date)\n    36→        ? formatDate(Number.parseInt(value, 10), true)\n    37→        : value,\n    38→    ),\n    39→);\n    40→\n    41→const emit = defineEmits<{\n    42→  (e: 'apply-filter', propertyKey: string, value: string): void;\n    43→}>();\n    44→\n    45→// Wrap property value in quotes in case the value has spaces in it.\n    46→const onClick = (value: string) => {\n    47→  emit('apply-filter', props.propertyDescriptor.key, `\"${value}\"`);\n    48→};\n    49→\n    50→const tooltip = (label: string) =>\n    51→  `Apply filter \"${props.propertyDescriptor.name} = ${label}\"`;\n    52→\n    53→const showIcon = computed(\n    54→  () =>\n    55→    props.showIcon &&\n    56→    props.propertyDescriptor.icon !== undefined &&\n    57→    props.propertyDescriptor.icon !== null,\n    58→);\n    59→</script>\n    60→\n    61→<template>\n    62→  <div v-for=\"(value, i) in compiledValues\" :key=\"i\">\n    63→    <FontAwesomeIcon\n    64→      v-if=\"showIcon\"\n    65→      class=\"icon\"\n    66→      fixed-width\n    67→      :icon=\"propertyDescriptor.icon as string\"\n    68→      v-tooltip=\"propertyDescriptor.name\"\n    69→    />\n    70→\n    71→    <!-- Button with just the value -->\n    72→    <Button\n    73→      v-if=\"value !== '' && value !== null && value !== undefined\"\n    74→      class=\"button-xs\"\n    75→      text\n    76→      @click=\"() => onClick(value)\"\n    77→      v-tooltip=\"tooltip\"\n    78→    >\n    79→      {{ value }}\n    80→    </Button>\n    81→    <NoDataIcon :property-value=\"value\" v-else class=\"ml-1\" />\n    82→  </div>\n    83→</template>\n    84→\n    85→<style scoped>\n    86→.icon {\n    87→  width: 1rem;\n    88→  flex-shrink: 0;\n    89→}\n    90→\n    91→.button-xs {\n    92→  padding: 0.125rem 0.25rem;\n    93→  text-overflow: ellipsis;\n    94→  white-space: nowrap;\n    95→  display: inline-block;\n    96→  overflow: hidden;\n    97→  font-size: 0.75rem;\n    98→  color: var(--text-color);\n    99→\n   100→  &:hover {\n   101→    color: var(--primary-color);\n   102→  }\n   103→}\n   104→\n   105→.label {\n   106→  color: var(--text-color-secondary);\n   107→}\n   108→</style>\n   109→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"843e873a-74d7-4510-ba3b-82de2f792c36","timestamp":"2025-09-17T18:34:56.039Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/project/PropertyLink.vue","content":"<script setup lang=\"ts\">\nimport { PropertyDescriptor, PropertyTag } from '@/types/Types';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport Button from 'primevue/button';\nimport { computed } from 'vue';\nimport { FlattenedPanteraDocument } from '@/util/ProjectDataTableUtil';\nimport formatDate from '@/util/DateFormatter';\nimport NoDataIcon from '../NoDataIcon.vue';\n\nconst props = withDefaults(\n  defineProps<{\n    propertyDescriptor: PropertyDescriptor;\n    document: FlattenedPanteraDocument;\n    showIcon?: boolean;\n  }>(),\n  {\n    showIcon: false,\n  },\n);\n\nconst values = computed(\n  () => props.document.propertyMap[props.propertyDescriptor.key]?.values ?? [],\n);\n\nconst valuesFormatted = computed(\n  () =>\n    props.document.propertyMap[props.propertyDescriptor.key]?.valuesFormatted ??\n    [],\n);\n\nconst compiledValues = computed(() =>\n  valuesFormatted.value\n    .map((val, i) => val ?? values.value[i])\n    .map(value =>\n      props.propertyDescriptor.tags.includes(PropertyTag.Date)\n        ? formatDate(Number.parseInt(value, 10), true)\n        : value,\n    ),\n);\n\nconst emit = defineEmits<{\n  (e: 'apply-filter', propertyKey: string, value: string): void;\n}>();\n\n// Wrap property value in quotes in case the value has spaces in it.\nconst onClick = (value: string) => {\n  emit('apply-filter', props.propertyDescriptor.key, `\"${value}\"`);\n};\n\nconst tooltip = (label: string) =>\n  `Apply filter \"${props.propertyDescriptor.name} = ${label}\"`;\n\nconst showIcon = computed(\n  () =>\n    props.showIcon &&\n    props.propertyDescriptor.icon !== undefined &&\n    props.propertyDescriptor.icon !== null,\n);\n</script>\n\n<template>\n  <div v-for=\"(value, i) in compiledValues\" :key=\"i\">\n    <FontAwesomeIcon\n      v-if=\"showIcon\"\n      class=\"icon\"\n      fixed-width\n      :icon=\"propertyDescriptor.icon as string\"\n      v-tooltip=\"propertyDescriptor.name\"\n    />\n\n    <!-- Button with just the value -->\n    <Button\n      v-if=\"value !== '' && value !== null && value !== undefined\"\n      class=\"button-xs\"\n      text\n      @click=\"() => onClick(value)\"\n      v-tooltip=\"tooltip\"\n    >\n      {{ value }}\n    </Button>\n    <NoDataIcon :property-value=\"value\" v-else class=\"ml-1\" />\n  </div>\n</template>\n\n<style scoped>\n.icon {\n  width: 1rem;\n  flex-shrink: 0;\n}\n\n.button-xs {\n  padding: 0.125rem 0.25rem;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: inline-block;\n  overflow: hidden;\n  font-size: 0.75rem;\n  color: var(--text-color);\n\n  &:hover {\n    color: var(--primary-color);\n  }\n}\n\n.label {\n  color: var(--text-color-secondary);\n}\n</style>\n","numLines":109,"startLine":1,"totalLines":109}}}
{"parentUuid":"843e873a-74d7-4510-ba3b-82de2f792c36","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01NgKd5KdUjApvQpQMtsPEAf","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I can see in the PropertyLink component on lines 51 and 68 that:\n\n1. `props.propertyDescriptor.name` contains the display name\n2. PropertyDescriptor has a `.name` property that gives you the display name\n\nSo to get the display name from a property key in JavaScript, you would:\n\n1. **Find the PropertyDescriptor** by key from the propertyDescriptors array\n2. **Access the `.name` property** on that PropertyDescriptor\n\nHere's how you can do it:\n\n```javascript\n// Method 1: Using array.find()\nfunction getDisplayNameFromKey(propertyKey, propertyDescriptors) {\n  const propertyDescriptor = propertyDescriptors.find(pd => pd.key === propertyKey);\n  return propertyDescriptor?.name || propertyKey; // fallback to key if not found\n}\n\n// Method 2: In a Vue component with access to store\nimport useProjectStore from '@/stores/ProjectStore';\n\nconst projectStore = useProjectStore();\nconst propertyDescriptor = projectStore.propertyDescriptors.find(pd => pd.key === 'your-property-key');\nconst displayName = propertyDescriptor?.name || 'Default Name';\n```\n\nThe PropertyDescriptor object has at least these properties:\n- `key`: The property key (unique identifier)\n- `name`: The human-readable display name\n- `tags`: Array of PropertyTag enums\n- `icon`: Optional icon identifier"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":1388,"cache_read_input_tokens":103526,"cache_creation":{"ephemeral_5m_input_tokens":1388,"ephemeral_1h_input_tokens":0},"output_tokens":345,"service_tier":"standard"}},"requestId":"req_011CTETLHtb5rHdk5Ruvqn2q","type":"assistant","uuid":"da765c35-41f4-4604-84ad-24d6a10709df","timestamp":"2025-09-17T18:35:04.878Z"}
{"parentUuid":"da765c35-41f4-4604-84ad-24d6a10709df","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":"could you improve the projectStore with a method that provides the name from a propertyKey? "},"uuid":"0cd3766e-dc99-4406-a788-b6bef8533b16","timestamp":"2025-09-17T18:36:24.453Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"0cd3766e-dc99-4406-a788-b6bef8533b16","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01JdW4CPyaHkpoAQ8fvHk6oG","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I'll add a helper method to the ProjectStore that provides the display name from a property key. Let me first read the current ProjectStore to understand its structure and then add the method."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":462,"cache_read_input_tokens":104914,"cache_creation":{"ephemeral_5m_input_tokens":462,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETSp8gKZ6MsgQ6Hdspx","type":"assistant","uuid":"2649206a-8a79-4c09-b351-411aba2dd8f9","timestamp":"2025-09-17T18:36:31.479Z"}
{"parentUuid":"2649206a-8a79-4c09-b351-411aba2dd8f9","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01JdW4CPyaHkpoAQ8fvHk6oG","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01VXqJWWQ7aQQU2dcif21GNG","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":462,"cache_read_input_tokens":104914,"cache_creation":{"ephemeral_5m_input_tokens":462,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETSp8gKZ6MsgQ6Hdspx","type":"assistant","uuid":"211082b0-30b2-42ac-8b63-3a3a7edb8bbb","timestamp":"2025-09-17T18:36:32.326Z"}
{"parentUuid":"211082b0-30b2-42ac-8b63-3a3a7edb8bbb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VXqJWWQ7aQQU2dcif21GNG","type":"tool_result","content":"     1→import { computed, ref, watch } from 'vue';\n     2→import {\n     3→  AuditEventType,\n     4→  Project,\n     5→  ProjectDto,\n     6→  ProjectPermissionLevel,\n     7→  PropertyDescriptor,\n     8→  PropertyTag,\n     9→  RoleType,\n    10→} from '@/types/Types';\n    11→import ProjectService from '@/services/ProjectService';\n    12→import { useRoute, useRouter } from 'vue-router';\n    13→import { defineStore } from 'pinia';\n    14→import { hasRole } from '@/services/AdminService';\n    15→import PanteraAPI from '@/services/PanteraAPI';\n    16→import { hashFile } from '@/util/HashUtil';\n    17→import { LoadDataParams } from '@/composables/useGenericTableState';\n    18→import ProjectDataService from '@/services/ProjectDataService';\n    19→import Logger from '@/services/Logger';\n    20→\n    21→const useProjectStore = defineStore('project', () => {\n    22→  const project = ref<Project | undefined>();\n    23→  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n    24→  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n    25→  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n    26→  const recentProjects = ref<Project[]>([]);\n    27→  const projectDocumentIds = ref<string[]>([]);\n    28→  const totalDocumentCount = ref<number | undefined>();\n    29→\n    30→  // Callbacks to execute when project loading finishes\n    31→  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n    32→\n    33→  // Callbacks to execute when project changes (for clearing state)\n    34→  const projectChangeCallbacks = ref<(() => void)[]>([]);\n    35→\n    36→  // Callbacks to execute when project list changes (for refreshing project lists)\n    37→  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n    38→\n    39→  /**\n    40→   * Trigger all project list change callbacks\n    41→   */\n    42→  const triggerProjectListChange = () => {\n    43→    projectListChangeCallbacks.value.forEach(callback => callback());\n    44→  };\n    45→\n    46→  const route = useRoute();\n    47→  const router = useRouter();\n    48→\n    49→  /**\n    50→   * Load the most recent projects for the current user\n    51→   */\n    52→  const getRecentProjects = async () => {\n    53→    recentProjects.value = await ProjectService.getRecentProjects();\n    54→  };\n    55→\n    56→  /**\n    57→   * Load a project by its ID\n    58→   * @param id  The ID of the project to load\n    59→   */\n    60→  const getProject = async (id: string) => {\n    61→    const p = await ProjectService.getProject(id);\n    62→    await PanteraAPI.createAuditEvent({\n    63→      type: AuditEventType.ProjectOpen,\n    64→      projectId: p.id,\n    65→    });\n    66→    await getRecentProjects();\n    67→    return p;\n    68→  };\n    69→\n    70→  /**\n    71→   * Create a new project\n    72→   * @param projectDto  The project to create\n    73→   */\n    74→  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    75→    const p = await ProjectService.createProject(projectDto);\n    76→    await getRecentProjects();\n    77→    triggerProjectListChange();\n    78→    return p;\n    79→  };\n    80→\n    81→  /**\n    82→   * Delete a project\n    83→   * @param projectId  The ID of the project to delete\n    84→   */\n    85→  const deleteProject = async (projectId: string): Promise<void> => {\n    86→    await ProjectService.deleteProject(projectId);\n    87→    await getRecentProjects();\n    88→    triggerProjectListChange();\n    89→  };\n    90→\n    91→  /**\n    92→   * Load the model for the current project\n    93→   */\n    94→  const loadProjectModel = async () => {\n    95→    if (project.value) {\n    96→      project.value = await getProject(project.value.id);\n    97→    }\n    98→  };\n    99→\n   100→  /**\n   101→   * Load the property descriptors for the current project\n   102→   * @param projectId The ID of the project to load properties for\n   103→   * If not provided, uses the current project's ID\n   104→   * @returns Promise that resolves when properties are loaded\n   105→   */\n   106→  async function loadProjectProperties(\n   107→    projectId: Project['id'] | undefined = project.value?.id,\n   108→  ) {\n   109→    if (!projectId) return; // No project to load properties for\n   110→\n   111→    propertyDescriptors.value =\n   112→      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n   113→    allPropertyDescriptors.value =\n   114→      await PanteraAPI.getPropertyDescriptors(projectId);\n   115→  }\n   116→\n   117→  /**\n   118→   * Register a callback to be executed when project loading finishes\n   119→   * @param callback Function to execute when project loading is complete\n   120→   */\n   121→  const onProjectLoadFinish = (callback: () => void) => {\n   122→    // If project is already loaded, execute callback immediately\n   123→    if (project.value) {\n   124→      callback();\n   125→      return;\n   126→    }\n   127→\n   128→    // Otherwise, add to callbacks array\n   129→    projectLoadFinishCallbacks.value.push(callback);\n   130→  };\n   131→\n   132→  /**\n   133→   * Register a callback to be executed when switching between projects\n   134→   * @param callback Function to execute when project changes\n   135→   * @returns Function to unregister the callback\n   136→   */\n   137→  const onProjectChange = (callback: () => void) => {\n   138→    projectChangeCallbacks.value.push(callback);\n   139→\n   140→    // Return unregister function\n   141→    return () => {\n   142→      const index = projectChangeCallbacks.value.indexOf(callback);\n   143→      if (index > -1) {\n   144→        projectChangeCallbacks.value.splice(index, 1);\n   145→      }\n   146→    };\n   147→  };\n   148→\n   149→  /**\n   150→   * Register a callback to be executed when the project list changes\n   151→   * @param callback Function to execute when project list changes (create/delete/update)\n   152→   * @returns Function to unregister the callback\n   153→   */\n   154→  const onProjectListChange = (callback: () => void) => {\n   155→    projectListChangeCallbacks.value.push(callback);\n   156→\n   157→    // Return unregister function\n   158→    return () => {\n   159→      const index = projectListChangeCallbacks.value.indexOf(callback);\n   160→      if (index > -1) {\n   161→        projectListChangeCallbacks.value.splice(index, 1);\n   162→      }\n   163→    };\n   164→  };\n   165→\n   166→  /**\n   167→   * Check if the project has existing data\n   168→   * @returns True if the project has existing data, false otherwise\n   169→   */\n   170→  const hasExistingData = computed<Boolean>(\n   171→    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n   172→  );\n   173→\n   174→  /**\n   175→   * Get the property descriptors for the current project containing the provided PropertyTag\n   176→   * @param propertyTag The PropertyTag to filter by\n   177→   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   178→   */\n   179→  function getPropertyDescriptorsWithTag(\n   180→    propertyTag: PropertyTag,\n   181→  ): PropertyDescriptor[] {\n   182→    return (\n   183→      allPropertyDescriptors.value?.filter(descriptor =>\n   184→        descriptor?.tags?.includes(propertyTag),\n   185→      ) ?? []\n   186→    );\n   187→  }\n   188→\n   189→  /**\n   190→   * Get the document IDs for the current project\n   191→   * This is used for navigation purposes, e.g., to load documents by ID\n   192→   * @returns Computed array of document IDs for the current project\n   193→   */\n   194→  const documentIds = computed(() => projectDocumentIds.value);\n   195→\n   196→  // Get a list of all project routes to watch for changes\n   197→  const projectChildRouteNames = router\n   198→    .getRoutes()\n   199→    .filter(r => r.path.includes('project'))\n   200→    .flatMap(r => r.children.map(child => child.name));\n   201→\n   202→  watch(\n   203→    () => route.params?.id?.toString(),\n   204→    async (newProjectId, oldProjectId, onInvalidate) => {\n   205→      let isCancelled = false;\n   206→      onInvalidate(() => {\n   207→        isCancelled = true;\n   208→      });\n   209→\n   210→      // If the route is a project route, load the project if it's different from the current one\n   211→      if (\n   212→        route.name &&\n   213→        projectChildRouteNames.includes(route.name) &&\n   214→        project.value?.id !== newProjectId\n   215→      ) {\n   216→        project.value = undefined;\n   217→        projectDocumentIds.value = []; // Clear document IDs when project changes\n   218→\n   219→        const p = await getProject(newProjectId);\n   220→        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n   221→        try {\n   222→          if (!isCancelled) {\n   223→            await loadProjectProperties(p.id);\n   224→          }\n   225→        } catch (e) {\n   226→          /*\n   227→          We likely tried to fetch the property descriptors before an index\n   228→          was created for this project as the last step of the ingest pipeline\n   229→          */\n   230→        } finally {\n   231→          const isAdmin = hasRole(RoleType.Admin);\n   232→          if (!isCancelled) {\n   233→            project.value = p;\n   234→            projectPermissionLevel.value = isAdmin\n   235→              ? ProjectPermissionLevel.Owner\n   236→              : permissionLevel;\n   237→\n   238→            if (oldProjectId && oldProjectId !== newProjectId) {\n   239→              projectChangeCallbacks.value.forEach(callback => callback());\n   240→            }\n   241→            // Execute all registered callbacks\n   242→            projectLoadFinishCallbacks.value.forEach(callback => callback());\n   243→            projectLoadFinishCallbacks.value = [];\n   244→          }\n   245→        }\n   246→      } else {\n   247→        project.value = undefined;\n   248→        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n   249→      }\n   250→    },\n   251→    { immediate: true },\n   252→  );\n   253→\n   254→  const getFileKey = async (file: File) => {\n   255→    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n   256→    const hash = await hashFile(file);\n   257→    return `${prefix}${hash}_${file.name}`;\n   258→  };\n   259→\n   260→  /**\n   261→   * Load documents for the current project and update documentIds\n   262→   * @param params LoadDataParams for pagination, sorting, filtering\n   263→   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   264→   */\n   265→  const loadDocuments = async (\n   266→    params?: LoadDataParams,\n   267→    cacheDocumentIds: boolean = false,\n   268→  ) => {\n   269→    if (!project.value) {\n   270→      return {\n   271→        items: [],\n   272→        documentCount: 0,\n   273→        isLoading: false,\n   274→        errorMessage: null,\n   275→      };\n   276→    }\n   277→\n   278→    try {\n   279→      const response = await ProjectDataService.getRows(\n   280→        project.value.id,\n   281→        params,\n   282→      );\n   283→\n   284→      // Extract document IDs from the response\n   285→      const items = response.content || [];\n   286→\n   287→      // Cache document IDs if requested (for navigation)\n   288→      if (cacheDocumentIds) {\n   289→        projectDocumentIds.value = items.map(item => item.id);\n   290→        totalDocumentCount.value = response.totalElements;\n   291→      }\n   292→\n   293→      return {\n   294→        items,\n   295→        documentCount: response.totalElements,\n   296→        isLoading: false,\n   297→        errorMessage: null,\n   298→      };\n   299→    } catch (e: any) {\n   300→      Logger.error('Error loading documents', e);\n   301→      return {\n   302→        items: [],\n   303→        documentCount: 0,\n   304→        isLoading: false,\n   305→        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n   306→      };\n   307→    }\n   308→  };\n   309→\n   310→  /**\n   311→   * Load all document IDs for navigation purposes\n   312→   */\n   313→  const loadDocumentIds = async () => {\n   314→    if (!project.value) {\n   315→      projectDocumentIds.value = [];\n   316→      return;\n   317→    }\n   318→\n   319→    try {\n   320→      // Load all documents to get their IDs\n   321→      const response = await ProjectDataService.getRows(project.value.id, {\n   322→        rows: 10000, // Load a large number to get all documents\n   323→      });\n   324→\n   325→      const items = response.content || [];\n   326→      projectDocumentIds.value = items.map(item => item.id);\n   327→    } catch (e: any) {\n   328→      Logger.error('Error loading document IDs', e);\n   329→      projectDocumentIds.value = [];\n   330→    }\n   331→  };\n   332→\n   333→  // Initialization\n   334→  getRecentProjects();\n   335→\n   336→  return {\n   337→    getRecentProjects,\n   338→    hasExistingData,\n   339→    propertyDescriptors,\n   340→    allPropertyDescriptors,\n   341→    getPropertyDescriptorsWithTag,\n   342→    project,\n   343→    loadProjectModel,\n   344→    loadProjectProperties,\n   345→    projectPermissionLevel,\n   346→    recentProjects,\n   347→    createProject,\n   348→    deleteProject,\n   349→    getFileKey,\n   350→    loadDocuments,\n   351→    loadDocumentIds,\n   352→    documentIds,\n   353→    onProjectLoadFinish,\n   354→    onProjectChange,\n   355→    onProjectListChange,\n   356→    triggerProjectListChange,\n   357→    totalDocumentCount,\n   358→  };\n   359→});\n   360→export default useProjectStore;\n   361→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"72c2bf32-d891-42d4-914f-6c2447344cc1","timestamp":"2025-09-17T18:36:32.387Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","content":"import { computed, ref, watch } from 'vue';\nimport {\n  AuditEventType,\n  Project,\n  ProjectDto,\n  ProjectPermissionLevel,\n  PropertyDescriptor,\n  PropertyTag,\n  RoleType,\n} from '@/types/Types';\nimport ProjectService from '@/services/ProjectService';\nimport { useRoute, useRouter } from 'vue-router';\nimport { defineStore } from 'pinia';\nimport { hasRole } from '@/services/AdminService';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport { hashFile } from '@/util/HashUtil';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport Logger from '@/services/Logger';\n\nconst useProjectStore = defineStore('project', () => {\n  const project = ref<Project | undefined>();\n  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const recentProjects = ref<Project[]>([]);\n  const projectDocumentIds = ref<string[]>([]);\n  const totalDocumentCount = ref<number | undefined>();\n\n  // Callbacks to execute when project loading finishes\n  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project changes (for clearing state)\n  const projectChangeCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project list changes (for refreshing project lists)\n  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n\n  /**\n   * Trigger all project list change callbacks\n   */\n  const triggerProjectListChange = () => {\n    projectListChangeCallbacks.value.forEach(callback => callback());\n  };\n\n  const route = useRoute();\n  const router = useRouter();\n\n  /**\n   * Load the most recent projects for the current user\n   */\n  const getRecentProjects = async () => {\n    recentProjects.value = await ProjectService.getRecentProjects();\n  };\n\n  /**\n   * Load a project by its ID\n   * @param id  The ID of the project to load\n   */\n  const getProject = async (id: string) => {\n    const p = await ProjectService.getProject(id);\n    await PanteraAPI.createAuditEvent({\n      type: AuditEventType.ProjectOpen,\n      projectId: p.id,\n    });\n    await getRecentProjects();\n    return p;\n  };\n\n  /**\n   * Create a new project\n   * @param projectDto  The project to create\n   */\n  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    const p = await ProjectService.createProject(projectDto);\n    await getRecentProjects();\n    triggerProjectListChange();\n    return p;\n  };\n\n  /**\n   * Delete a project\n   * @param projectId  The ID of the project to delete\n   */\n  const deleteProject = async (projectId: string): Promise<void> => {\n    await ProjectService.deleteProject(projectId);\n    await getRecentProjects();\n    triggerProjectListChange();\n  };\n\n  /**\n   * Load the model for the current project\n   */\n  const loadProjectModel = async () => {\n    if (project.value) {\n      project.value = await getProject(project.value.id);\n    }\n  };\n\n  /**\n   * Load the property descriptors for the current project\n   * @param projectId The ID of the project to load properties for\n   * If not provided, uses the current project's ID\n   * @returns Promise that resolves when properties are loaded\n   */\n  async function loadProjectProperties(\n    projectId: Project['id'] | undefined = project.value?.id,\n  ) {\n    if (!projectId) return; // No project to load properties for\n\n    propertyDescriptors.value =\n      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n    allPropertyDescriptors.value =\n      await PanteraAPI.getPropertyDescriptors(projectId);\n  }\n\n  /**\n   * Register a callback to be executed when project loading finishes\n   * @param callback Function to execute when project loading is complete\n   */\n  const onProjectLoadFinish = (callback: () => void) => {\n    // If project is already loaded, execute callback immediately\n    if (project.value) {\n      callback();\n      return;\n    }\n\n    // Otherwise, add to callbacks array\n    projectLoadFinishCallbacks.value.push(callback);\n  };\n\n  /**\n   * Register a callback to be executed when switching between projects\n   * @param callback Function to execute when project changes\n   * @returns Function to unregister the callback\n   */\n  const onProjectChange = (callback: () => void) => {\n    projectChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Register a callback to be executed when the project list changes\n   * @param callback Function to execute when project list changes (create/delete/update)\n   * @returns Function to unregister the callback\n   */\n  const onProjectListChange = (callback: () => void) => {\n    projectListChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectListChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectListChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Check if the project has existing data\n   * @returns True if the project has existing data, false otherwise\n   */\n  const hasExistingData = computed<Boolean>(\n    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n  );\n\n  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the document IDs for the current project\n   * This is used for navigation purposes, e.g., to load documents by ID\n   * @returns Computed array of document IDs for the current project\n   */\n  const documentIds = computed(() => projectDocumentIds.value);\n\n  // Get a list of all project routes to watch for changes\n  const projectChildRouteNames = router\n    .getRoutes()\n    .filter(r => r.path.includes('project'))\n    .flatMap(r => r.children.map(child => child.name));\n\n  watch(\n    () => route.params?.id?.toString(),\n    async (newProjectId, oldProjectId, onInvalidate) => {\n      let isCancelled = false;\n      onInvalidate(() => {\n        isCancelled = true;\n      });\n\n      // If the route is a project route, load the project if it's different from the current one\n      if (\n        route.name &&\n        projectChildRouteNames.includes(route.name) &&\n        project.value?.id !== newProjectId\n      ) {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when project changes\n\n        const p = await getProject(newProjectId);\n        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n        try {\n          if (!isCancelled) {\n            await loadProjectProperties(p.id);\n          }\n        } catch (e) {\n          /*\n          We likely tried to fetch the property descriptors before an index\n          was created for this project as the last step of the ingest pipeline\n          */\n        } finally {\n          const isAdmin = hasRole(RoleType.Admin);\n          if (!isCancelled) {\n            project.value = p;\n            projectPermissionLevel.value = isAdmin\n              ? ProjectPermissionLevel.Owner\n              : permissionLevel;\n\n            if (oldProjectId && oldProjectId !== newProjectId) {\n              projectChangeCallbacks.value.forEach(callback => callback());\n            }\n            // Execute all registered callbacks\n            projectLoadFinishCallbacks.value.forEach(callback => callback());\n            projectLoadFinishCallbacks.value = [];\n          }\n        }\n      } else {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n      }\n    },\n    { immediate: true },\n  );\n\n  const getFileKey = async (file: File) => {\n    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n    const hash = await hashFile(file);\n    return `${prefix}${hash}_${file.name}`;\n  };\n\n  /**\n   * Load documents for the current project and update documentIds\n   * @param params LoadDataParams for pagination, sorting, filtering\n   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   */\n  const loadDocuments = async (\n    params?: LoadDataParams,\n    cacheDocumentIds: boolean = false,\n  ) => {\n    if (!project.value) {\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: null,\n      };\n    }\n\n    try {\n      const response = await ProjectDataService.getRows(\n        project.value.id,\n        params,\n      );\n\n      // Extract document IDs from the response\n      const items = response.content || [];\n\n      // Cache document IDs if requested (for navigation)\n      if (cacheDocumentIds) {\n        projectDocumentIds.value = items.map(item => item.id);\n        totalDocumentCount.value = response.totalElements;\n      }\n\n      return {\n        items,\n        documentCount: response.totalElements,\n        isLoading: false,\n        errorMessage: null,\n      };\n    } catch (e: any) {\n      Logger.error('Error loading documents', e);\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n      };\n    }\n  };\n\n  /**\n   * Load all document IDs for navigation purposes\n   */\n  const loadDocumentIds = async () => {\n    if (!project.value) {\n      projectDocumentIds.value = [];\n      return;\n    }\n\n    try {\n      // Load all documents to get their IDs\n      const response = await ProjectDataService.getRows(project.value.id, {\n        rows: 10000, // Load a large number to get all documents\n      });\n\n      const items = response.content || [];\n      projectDocumentIds.value = items.map(item => item.id);\n    } catch (e: any) {\n      Logger.error('Error loading document IDs', e);\n      projectDocumentIds.value = [];\n    }\n  };\n\n  // Initialization\n  getRecentProjects();\n\n  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };\n});\nexport default useProjectStore;\n","numLines":361,"startLine":1,"totalLines":361}}}
{"parentUuid":"72c2bf32-d891-42d4-914f-6c2447344cc1","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01Rx7vhQqXp6LfpZXvuvEnAM","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_016y9EwgkQ3yrKo8XLubqcLB","name":"TodoWrite","input":{"todos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"in_progress","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"pending","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":5,"cache_creation_input_tokens":4307,"cache_read_input_tokens":105376,"cache_creation":{"ephemeral_5m_input_tokens":4307,"ephemeral_1h_input_tokens":0},"output_tokens":142,"service_tier":"standard"}},"requestId":"req_011CTETTPxfDuZNsW1xnQQCF","type":"assistant","uuid":"c1fd83b1-f303-4621-9c12-b7c42ca665eb","timestamp":"2025-09-17T18:36:37.369Z"}
{"parentUuid":"c1fd83b1-f303-4621-9c12-b7c42ca665eb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016y9EwgkQ3yrKo8XLubqcLB","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"ec2de35c-dc1b-467f-8014-fd061c2e6d40","timestamp":"2025-09-17T18:36:37.424Z","toolUseResult":{"oldTodos":[],"newTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"in_progress","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"pending","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"ec2de35c-dc1b-467f-8014-fd061c2e6d40","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01HvZYNKKkYSWtYVJCuWebJ5","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I'll add a helper method to get the display name from a property key. I'll add it after the existing `getPropertyDescriptorsWithTag` method:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":307,"cache_read_input_tokens":109683,"cache_creation":{"ephemeral_5m_input_tokens":307,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTETTmceasvsXzKMRuS82","type":"assistant","uuid":"d23ca61c-da73-491f-9d96-38044f17ceef","timestamp":"2025-09-17T18:36:41.316Z"}
{"parentUuid":"d23ca61c-da73-491f-9d96-38044f17ceef","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01HvZYNKKkYSWtYVJCuWebJ5","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Grxmx9xx8UY4zDQ9cWboCt","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","old_string":"  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }","new_string":"  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the display name for a property from its key\n   * @param propertyKey The property key to look up\n   * @returns The display name of the property, or the key itself if not found\n   */\n  function getPropertyDisplayName(propertyKey: string): string {\n    const propertyDescriptor = allPropertyDescriptors.value.find(\n      descriptor => descriptor.key === propertyKey,\n    );\n    return propertyDescriptor?.name || propertyKey;\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":307,"cache_read_input_tokens":109683,"cache_creation":{"ephemeral_5m_input_tokens":307,"ephemeral_1h_input_tokens":0},"output_tokens":509,"service_tier":"standard"}},"requestId":"req_011CTETTmceasvsXzKMRuS82","type":"assistant","uuid":"0c3e779a-00e9-47a0-8048-66256ed2157a","timestamp":"2025-09-17T18:36:46.712Z"}
{"parentUuid":"0c3e779a-00e9-47a0-8048-66256ed2157a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Grxmx9xx8UY4zDQ9cWboCt","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   170→  const hasExistingData = computed<Boolean>(\n   171→    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n   172→  );\n   173→\n   174→  /**\n   175→   * Get the property descriptors for the current project containing the provided PropertyTag\n   176→   * @param propertyTag The PropertyTag to filter by\n   177→   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   178→   */\n   179→  function getPropertyDescriptorsWithTag(\n   180→    propertyTag: PropertyTag,\n   181→  ): PropertyDescriptor[] {\n   182→    return (\n   183→      allPropertyDescriptors.value?.filter(descriptor =>\n   184→        descriptor?.tags?.includes(propertyTag),\n   185→      ) ?? []\n   186→    );\n   187→  }\n   188→\n   189→  /**\n   190→   * Get the display name for a property from its key\n   191→   * @param propertyKey The property key to look up\n   192→   * @returns The display name of the property, or the key itself if not found\n   193→   */\n   194→  function getPropertyDisplayName(propertyKey: string): string {\n   195→    const propertyDescriptor = allPropertyDescriptors.value.find(\n   196→      descriptor => descriptor.key === propertyKey,\n   197→    );\n   198→    return propertyDescriptor?.name || propertyKey;\n   199→  }\n   200→\n   201→  /**\n   202→   * Get the document IDs for the current project\n   203→   * This is used for navigation purposes, e.g., to load documents by ID"}]},"uuid":"5b522c94-b1cf-4be2-8478-89ca0567de8d","timestamp":"2025-09-17T18:36:46.780Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","oldString":"  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }","newString":"  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the display name for a property from its key\n   * @param propertyKey The property key to look up\n   * @returns The display name of the property, or the key itself if not found\n   */\n  function getPropertyDisplayName(propertyKey: string): string {\n    const propertyDescriptor = allPropertyDescriptors.value.find(\n      descriptor => descriptor.key === propertyKey,\n    );\n    return propertyDescriptor?.name || propertyKey;\n  }","originalFile":"import { computed, ref, watch } from 'vue';\nimport {\n  AuditEventType,\n  Project,\n  ProjectDto,\n  ProjectPermissionLevel,\n  PropertyDescriptor,\n  PropertyTag,\n  RoleType,\n} from '@/types/Types';\nimport ProjectService from '@/services/ProjectService';\nimport { useRoute, useRouter } from 'vue-router';\nimport { defineStore } from 'pinia';\nimport { hasRole } from '@/services/AdminService';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport { hashFile } from '@/util/HashUtil';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport Logger from '@/services/Logger';\n\nconst useProjectStore = defineStore('project', () => {\n  const project = ref<Project | undefined>();\n  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const recentProjects = ref<Project[]>([]);\n  const projectDocumentIds = ref<string[]>([]);\n  const totalDocumentCount = ref<number | undefined>();\n\n  // Callbacks to execute when project loading finishes\n  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project changes (for clearing state)\n  const projectChangeCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project list changes (for refreshing project lists)\n  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n\n  /**\n   * Trigger all project list change callbacks\n   */\n  const triggerProjectListChange = () => {\n    projectListChangeCallbacks.value.forEach(callback => callback());\n  };\n\n  const route = useRoute();\n  const router = useRouter();\n\n  /**\n   * Load the most recent projects for the current user\n   */\n  const getRecentProjects = async () => {\n    recentProjects.value = await ProjectService.getRecentProjects();\n  };\n\n  /**\n   * Load a project by its ID\n   * @param id  The ID of the project to load\n   */\n  const getProject = async (id: string) => {\n    const p = await ProjectService.getProject(id);\n    await PanteraAPI.createAuditEvent({\n      type: AuditEventType.ProjectOpen,\n      projectId: p.id,\n    });\n    await getRecentProjects();\n    return p;\n  };\n\n  /**\n   * Create a new project\n   * @param projectDto  The project to create\n   */\n  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    const p = await ProjectService.createProject(projectDto);\n    await getRecentProjects();\n    triggerProjectListChange();\n    return p;\n  };\n\n  /**\n   * Delete a project\n   * @param projectId  The ID of the project to delete\n   */\n  const deleteProject = async (projectId: string): Promise<void> => {\n    await ProjectService.deleteProject(projectId);\n    await getRecentProjects();\n    triggerProjectListChange();\n  };\n\n  /**\n   * Load the model for the current project\n   */\n  const loadProjectModel = async () => {\n    if (project.value) {\n      project.value = await getProject(project.value.id);\n    }\n  };\n\n  /**\n   * Load the property descriptors for the current project\n   * @param projectId The ID of the project to load properties for\n   * If not provided, uses the current project's ID\n   * @returns Promise that resolves when properties are loaded\n   */\n  async function loadProjectProperties(\n    projectId: Project['id'] | undefined = project.value?.id,\n  ) {\n    if (!projectId) return; // No project to load properties for\n\n    propertyDescriptors.value =\n      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n    allPropertyDescriptors.value =\n      await PanteraAPI.getPropertyDescriptors(projectId);\n  }\n\n  /**\n   * Register a callback to be executed when project loading finishes\n   * @param callback Function to execute when project loading is complete\n   */\n  const onProjectLoadFinish = (callback: () => void) => {\n    // If project is already loaded, execute callback immediately\n    if (project.value) {\n      callback();\n      return;\n    }\n\n    // Otherwise, add to callbacks array\n    projectLoadFinishCallbacks.value.push(callback);\n  };\n\n  /**\n   * Register a callback to be executed when switching between projects\n   * @param callback Function to execute when project changes\n   * @returns Function to unregister the callback\n   */\n  const onProjectChange = (callback: () => void) => {\n    projectChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Register a callback to be executed when the project list changes\n   * @param callback Function to execute when project list changes (create/delete/update)\n   * @returns Function to unregister the callback\n   */\n  const onProjectListChange = (callback: () => void) => {\n    projectListChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectListChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectListChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Check if the project has existing data\n   * @returns True if the project has existing data, false otherwise\n   */\n  const hasExistingData = computed<Boolean>(\n    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n  );\n\n  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the document IDs for the current project\n   * This is used for navigation purposes, e.g., to load documents by ID\n   * @returns Computed array of document IDs for the current project\n   */\n  const documentIds = computed(() => projectDocumentIds.value);\n\n  // Get a list of all project routes to watch for changes\n  const projectChildRouteNames = router\n    .getRoutes()\n    .filter(r => r.path.includes('project'))\n    .flatMap(r => r.children.map(child => child.name));\n\n  watch(\n    () => route.params?.id?.toString(),\n    async (newProjectId, oldProjectId, onInvalidate) => {\n      let isCancelled = false;\n      onInvalidate(() => {\n        isCancelled = true;\n      });\n\n      // If the route is a project route, load the project if it's different from the current one\n      if (\n        route.name &&\n        projectChildRouteNames.includes(route.name) &&\n        project.value?.id !== newProjectId\n      ) {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when project changes\n\n        const p = await getProject(newProjectId);\n        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n        try {\n          if (!isCancelled) {\n            await loadProjectProperties(p.id);\n          }\n        } catch (e) {\n          /*\n          We likely tried to fetch the property descriptors before an index\n          was created for this project as the last step of the ingest pipeline\n          */\n        } finally {\n          const isAdmin = hasRole(RoleType.Admin);\n          if (!isCancelled) {\n            project.value = p;\n            projectPermissionLevel.value = isAdmin\n              ? ProjectPermissionLevel.Owner\n              : permissionLevel;\n\n            if (oldProjectId && oldProjectId !== newProjectId) {\n              projectChangeCallbacks.value.forEach(callback => callback());\n            }\n            // Execute all registered callbacks\n            projectLoadFinishCallbacks.value.forEach(callback => callback());\n            projectLoadFinishCallbacks.value = [];\n          }\n        }\n      } else {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n      }\n    },\n    { immediate: true },\n  );\n\n  const getFileKey = async (file: File) => {\n    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n    const hash = await hashFile(file);\n    return `${prefix}${hash}_${file.name}`;\n  };\n\n  /**\n   * Load documents for the current project and update documentIds\n   * @param params LoadDataParams for pagination, sorting, filtering\n   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   */\n  const loadDocuments = async (\n    params?: LoadDataParams,\n    cacheDocumentIds: boolean = false,\n  ) => {\n    if (!project.value) {\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: null,\n      };\n    }\n\n    try {\n      const response = await ProjectDataService.getRows(\n        project.value.id,\n        params,\n      );\n\n      // Extract document IDs from the response\n      const items = response.content || [];\n\n      // Cache document IDs if requested (for navigation)\n      if (cacheDocumentIds) {\n        projectDocumentIds.value = items.map(item => item.id);\n        totalDocumentCount.value = response.totalElements;\n      }\n\n      return {\n        items,\n        documentCount: response.totalElements,\n        isLoading: false,\n        errorMessage: null,\n      };\n    } catch (e: any) {\n      Logger.error('Error loading documents', e);\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n      };\n    }\n  };\n\n  /**\n   * Load all document IDs for navigation purposes\n   */\n  const loadDocumentIds = async () => {\n    if (!project.value) {\n      projectDocumentIds.value = [];\n      return;\n    }\n\n    try {\n      // Load all documents to get their IDs\n      const response = await ProjectDataService.getRows(project.value.id, {\n        rows: 10000, // Load a large number to get all documents\n      });\n\n      const items = response.content || [];\n      projectDocumentIds.value = items.map(item => item.id);\n    } catch (e: any) {\n      Logger.error('Error loading document IDs', e);\n      projectDocumentIds.value = [];\n    }\n  };\n\n  // Initialization\n  getRecentProjects();\n\n  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };\n});\nexport default useProjectStore;\n","structuredPatch":[{"oldStart":187,"oldLines":6,"newStart":187,"newLines":18,"lines":["   }"," ","   /**","+   * Get the display name for a property from its key","+   * @param propertyKey The property key to look up","+   * @returns The display name of the property, or the key itself if not found","+   */","+  function getPropertyDisplayName(propertyKey: string): string {","+    const propertyDescriptor = allPropertyDescriptors.value.find(","+      descriptor => descriptor.key === propertyKey,","+    );","+    return propertyDescriptor?.name || propertyKey;","+  }","+","+  /**","    * Get the document IDs for the current project","    * This is used for navigation purposes, e.g., to load documents by ID","    * @returns Computed array of document IDs for the current project"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"5b522c94-b1cf-4be2-8478-89ca0567de8d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_013zSi2aLMg4FkkdJkbVt6NQ","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01GKVQKX9CK9AjFHXA6DWc41","name":"TodoWrite","input":{"todos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"in_progress","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4,"cache_creation_input_tokens":990,"cache_read_input_tokens":109990,"cache_creation":{"ephemeral_5m_input_tokens":990,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTETUTVkznKZppfszT3Zd","type":"assistant","uuid":"864bdd71-a799-41ce-80e1-40b560468fbe","timestamp":"2025-09-17T18:36:51.564Z"}
{"parentUuid":"864bdd71-a799-41ce-80e1-40b560468fbe","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GKVQKX9CK9AjFHXA6DWc41","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"c4ccf6bc-3ea6-4ea9-a4da-0446461ce745","timestamp":"2025-09-17T18:36:51.638Z","toolUseResult":{"oldTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"in_progress","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"pending","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"in_progress","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}]}}
{"parentUuid":"c4ccf6bc-3ea6-4ea9-a4da-0446461ce745","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_012dKfXVgVZGF6GxAdyycAAz","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Now I need to add the new method to the return object so it's available when the store is used:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":307,"cache_read_input_tokens":110980,"cache_creation":{"ephemeral_5m_input_tokens":307,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}},"requestId":"req_011CTETUpYnSWiRmdwPbb6ke","type":"assistant","uuid":"a6ca9d9b-cc97-4b62-8441-2235818f8a8a","timestamp":"2025-09-17T18:36:55.098Z"}
{"parentUuid":"a6ca9d9b-cc97-4b62-8441-2235818f8a8a","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_012dKfXVgVZGF6GxAdyycAAz","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Sj2JCnpQE6NatZMFKBBx8J","name":"Edit","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","old_string":"  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };","new_string":"  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    getPropertyDisplayName,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":307,"cache_read_input_tokens":110980,"cache_creation":{"ephemeral_5m_input_tokens":307,"ephemeral_1h_input_tokens":0},"output_tokens":438,"service_tier":"standard"}},"requestId":"req_011CTETUpYnSWiRmdwPbb6ke","type":"assistant","uuid":"47b631b3-a32a-4421-aaa7-419eea147bbb","timestamp":"2025-09-17T18:36:59.680Z"}
{"parentUuid":"47b631b3-a32a-4421-aaa7-419eea147bbb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Sj2JCnpQE6NatZMFKBBx8J","type":"tool_result","content":"The file /Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts has been updated. Here's the result of running `cat -n` on a snippet of the edited file:\n   344→\n   345→  // Initialization\n   346→  getRecentProjects();\n   347→\n   348→  return {\n   349→    getRecentProjects,\n   350→    hasExistingData,\n   351→    propertyDescriptors,\n   352→    allPropertyDescriptors,\n   353→    getPropertyDescriptorsWithTag,\n   354→    getPropertyDisplayName,\n   355→    project,\n   356→    loadProjectModel,\n   357→    loadProjectProperties,\n   358→    projectPermissionLevel,\n   359→    recentProjects,\n   360→    createProject,\n   361→    deleteProject,\n   362→    getFileKey,\n   363→    loadDocuments,\n   364→    loadDocumentIds,\n   365→    documentIds,\n   366→    onProjectLoadFinish,\n   367→    onProjectChange,\n   368→    onProjectListChange,\n   369→    triggerProjectListChange,\n   370→    totalDocumentCount,\n   371→  };\n   372→});\n   373→export default useProjectStore;\n   374→"}]},"uuid":"680b5728-a4e8-4810-a5da-914e4bfb6824","timestamp":"2025-09-17T18:36:59.761Z","toolUseResult":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","oldString":"  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };","newString":"  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    getPropertyDisplayName,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };","originalFile":"import { computed, ref, watch } from 'vue';\nimport {\n  AuditEventType,\n  Project,\n  ProjectDto,\n  ProjectPermissionLevel,\n  PropertyDescriptor,\n  PropertyTag,\n  RoleType,\n} from '@/types/Types';\nimport ProjectService from '@/services/ProjectService';\nimport { useRoute, useRouter } from 'vue-router';\nimport { defineStore } from 'pinia';\nimport { hasRole } from '@/services/AdminService';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport { hashFile } from '@/util/HashUtil';\nimport { LoadDataParams } from '@/composables/useGenericTableState';\nimport ProjectDataService from '@/services/ProjectDataService';\nimport Logger from '@/services/Logger';\n\nconst useProjectStore = defineStore('project', () => {\n  const project = ref<Project | undefined>();\n  const projectPermissionLevel = ref<ProjectPermissionLevel | undefined>();\n  const propertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const allPropertyDescriptors = ref<PropertyDescriptor[]>([]);\n  const recentProjects = ref<Project[]>([]);\n  const projectDocumentIds = ref<string[]>([]);\n  const totalDocumentCount = ref<number | undefined>();\n\n  // Callbacks to execute when project loading finishes\n  const projectLoadFinishCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project changes (for clearing state)\n  const projectChangeCallbacks = ref<(() => void)[]>([]);\n\n  // Callbacks to execute when project list changes (for refreshing project lists)\n  const projectListChangeCallbacks = ref<(() => void)[]>([]);\n\n  /**\n   * Trigger all project list change callbacks\n   */\n  const triggerProjectListChange = () => {\n    projectListChangeCallbacks.value.forEach(callback => callback());\n  };\n\n  const route = useRoute();\n  const router = useRouter();\n\n  /**\n   * Load the most recent projects for the current user\n   */\n  const getRecentProjects = async () => {\n    recentProjects.value = await ProjectService.getRecentProjects();\n  };\n\n  /**\n   * Load a project by its ID\n   * @param id  The ID of the project to load\n   */\n  const getProject = async (id: string) => {\n    const p = await ProjectService.getProject(id);\n    await PanteraAPI.createAuditEvent({\n      type: AuditEventType.ProjectOpen,\n      projectId: p.id,\n    });\n    await getRecentProjects();\n    return p;\n  };\n\n  /**\n   * Create a new project\n   * @param projectDto  The project to create\n   */\n  const createProject = async (projectDto: ProjectDto): Promise<Project> => {\n    const p = await ProjectService.createProject(projectDto);\n    await getRecentProjects();\n    triggerProjectListChange();\n    return p;\n  };\n\n  /**\n   * Delete a project\n   * @param projectId  The ID of the project to delete\n   */\n  const deleteProject = async (projectId: string): Promise<void> => {\n    await ProjectService.deleteProject(projectId);\n    await getRecentProjects();\n    triggerProjectListChange();\n  };\n\n  /**\n   * Load the model for the current project\n   */\n  const loadProjectModel = async () => {\n    if (project.value) {\n      project.value = await getProject(project.value.id);\n    }\n  };\n\n  /**\n   * Load the property descriptors for the current project\n   * @param projectId The ID of the project to load properties for\n   * If not provided, uses the current project's ID\n   * @returns Promise that resolves when properties are loaded\n   */\n  async function loadProjectProperties(\n    projectId: Project['id'] | undefined = project.value?.id,\n  ) {\n    if (!projectId) return; // No project to load properties for\n\n    propertyDescriptors.value =\n      await PanteraAPI.getExistingPropertyDescriptors(projectId);\n    allPropertyDescriptors.value =\n      await PanteraAPI.getPropertyDescriptors(projectId);\n  }\n\n  /**\n   * Register a callback to be executed when project loading finishes\n   * @param callback Function to execute when project loading is complete\n   */\n  const onProjectLoadFinish = (callback: () => void) => {\n    // If project is already loaded, execute callback immediately\n    if (project.value) {\n      callback();\n      return;\n    }\n\n    // Otherwise, add to callbacks array\n    projectLoadFinishCallbacks.value.push(callback);\n  };\n\n  /**\n   * Register a callback to be executed when switching between projects\n   * @param callback Function to execute when project changes\n   * @returns Function to unregister the callback\n   */\n  const onProjectChange = (callback: () => void) => {\n    projectChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Register a callback to be executed when the project list changes\n   * @param callback Function to execute when project list changes (create/delete/update)\n   * @returns Function to unregister the callback\n   */\n  const onProjectListChange = (callback: () => void) => {\n    projectListChangeCallbacks.value.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = projectListChangeCallbacks.value.indexOf(callback);\n      if (index > -1) {\n        projectListChangeCallbacks.value.splice(index, 1);\n      }\n    };\n  };\n\n  /**\n   * Check if the project has existing data\n   * @returns True if the project has existing data, false otherwise\n   */\n  const hasExistingData = computed<Boolean>(\n    () => propertyDescriptors.value && propertyDescriptors.value.length > 0,\n  );\n\n  /**\n   * Get the property descriptors for the current project containing the provided PropertyTag\n   * @param propertyTag The PropertyTag to filter by\n   * @returns : PropertyDescriptor list containing the provided PropertyTag\n   */\n  function getPropertyDescriptorsWithTag(\n    propertyTag: PropertyTag,\n  ): PropertyDescriptor[] {\n    return (\n      allPropertyDescriptors.value?.filter(descriptor =>\n        descriptor?.tags?.includes(propertyTag),\n      ) ?? []\n    );\n  }\n\n  /**\n   * Get the display name for a property from its key\n   * @param propertyKey The property key to look up\n   * @returns The display name of the property, or the key itself if not found\n   */\n  function getPropertyDisplayName(propertyKey: string): string {\n    const propertyDescriptor = allPropertyDescriptors.value.find(\n      descriptor => descriptor.key === propertyKey,\n    );\n    return propertyDescriptor?.name || propertyKey;\n  }\n\n  /**\n   * Get the document IDs for the current project\n   * This is used for navigation purposes, e.g., to load documents by ID\n   * @returns Computed array of document IDs for the current project\n   */\n  const documentIds = computed(() => projectDocumentIds.value);\n\n  // Get a list of all project routes to watch for changes\n  const projectChildRouteNames = router\n    .getRoutes()\n    .filter(r => r.path.includes('project'))\n    .flatMap(r => r.children.map(child => child.name));\n\n  watch(\n    () => route.params?.id?.toString(),\n    async (newProjectId, oldProjectId, onInvalidate) => {\n      let isCancelled = false;\n      onInvalidate(() => {\n        isCancelled = true;\n      });\n\n      // If the route is a project route, load the project if it's different from the current one\n      if (\n        route.name &&\n        projectChildRouteNames.includes(route.name) &&\n        project.value?.id !== newProjectId\n      ) {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when project changes\n\n        const p = await getProject(newProjectId);\n        const permissionLevel = await ProjectService.getPermissionLevel(p.id);\n        try {\n          if (!isCancelled) {\n            await loadProjectProperties(p.id);\n          }\n        } catch (e) {\n          /*\n          We likely tried to fetch the property descriptors before an index\n          was created for this project as the last step of the ingest pipeline\n          */\n        } finally {\n          const isAdmin = hasRole(RoleType.Admin);\n          if (!isCancelled) {\n            project.value = p;\n            projectPermissionLevel.value = isAdmin\n              ? ProjectPermissionLevel.Owner\n              : permissionLevel;\n\n            if (oldProjectId && oldProjectId !== newProjectId) {\n              projectChangeCallbacks.value.forEach(callback => callback());\n            }\n            // Execute all registered callbacks\n            projectLoadFinishCallbacks.value.forEach(callback => callback());\n            projectLoadFinishCallbacks.value = [];\n          }\n        }\n      } else {\n        project.value = undefined;\n        projectDocumentIds.value = []; // Clear document IDs when leaving project routes\n      }\n    },\n    { immediate: true },\n  );\n\n  const getFileKey = async (file: File) => {\n    const prefix = project?.value?.id ? `${project?.value?.id}/` : '';\n    const hash = await hashFile(file);\n    return `${prefix}${hash}_${file.name}`;\n  };\n\n  /**\n   * Load documents for the current project and update documentIds\n   * @param params LoadDataParams for pagination, sorting, filtering\n   * @param cacheDocumentIds Whether to cache document IDs for navigation (default: false)\n   */\n  const loadDocuments = async (\n    params?: LoadDataParams,\n    cacheDocumentIds: boolean = false,\n  ) => {\n    if (!project.value) {\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: null,\n      };\n    }\n\n    try {\n      const response = await ProjectDataService.getRows(\n        project.value.id,\n        params,\n      );\n\n      // Extract document IDs from the response\n      const items = response.content || [];\n\n      // Cache document IDs if requested (for navigation)\n      if (cacheDocumentIds) {\n        projectDocumentIds.value = items.map(item => item.id);\n        totalDocumentCount.value = response.totalElements;\n      }\n\n      return {\n        items,\n        documentCount: response.totalElements,\n        isLoading: false,\n        errorMessage: null,\n      };\n    } catch (e: any) {\n      Logger.error('Error loading documents', e);\n      return {\n        items: [],\n        documentCount: 0,\n        isLoading: false,\n        errorMessage: e?.response?.data?.message ?? 'Error loading documents',\n      };\n    }\n  };\n\n  /**\n   * Load all document IDs for navigation purposes\n   */\n  const loadDocumentIds = async () => {\n    if (!project.value) {\n      projectDocumentIds.value = [];\n      return;\n    }\n\n    try {\n      // Load all documents to get their IDs\n      const response = await ProjectDataService.getRows(project.value.id, {\n        rows: 10000, // Load a large number to get all documents\n      });\n\n      const items = response.content || [];\n      projectDocumentIds.value = items.map(item => item.id);\n    } catch (e: any) {\n      Logger.error('Error loading document IDs', e);\n      projectDocumentIds.value = [];\n    }\n  };\n\n  // Initialization\n  getRecentProjects();\n\n  return {\n    getRecentProjects,\n    hasExistingData,\n    propertyDescriptors,\n    allPropertyDescriptors,\n    getPropertyDescriptorsWithTag,\n    project,\n    loadProjectModel,\n    loadProjectProperties,\n    projectPermissionLevel,\n    recentProjects,\n    createProject,\n    deleteProject,\n    getFileKey,\n    loadDocuments,\n    loadDocumentIds,\n    documentIds,\n    onProjectLoadFinish,\n    onProjectChange,\n    onProjectListChange,\n    triggerProjectListChange,\n    totalDocumentCount,\n  };\n});\nexport default useProjectStore;\n","structuredPatch":[{"oldStart":351,"oldLines":6,"newStart":351,"newLines":7,"lines":["     propertyDescriptors,","     allPropertyDescriptors,","     getPropertyDescriptorsWithTag,","+    getPropertyDisplayName,","     project,","     loadProjectModel,","     loadProjectProperties,"]}],"userModified":false,"replaceAll":false}}
{"parentUuid":"680b5728-a4e8-4810-a5da-914e4bfb6824","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01TmVkChD2nsqCDBLXTJ5uix","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Bhi23My9YVSbqQ93DxJu6j","name":"TodoWrite","input":{"todos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"completed","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":773,"cache_read_input_tokens":111287,"cache_creation":{"ephemeral_5m_input_tokens":773,"ephemeral_1h_input_tokens":0},"output_tokens":142,"service_tier":"standard"}},"requestId":"req_011CTETVR6vQjHHpibkEYdvG","type":"assistant","uuid":"a1674929-a4c7-4e26-ba4d-f0ab6d984063","timestamp":"2025-09-17T18:37:05.329Z"}
{"parentUuid":"a1674929-a4c7-4e26-ba4d-f0ab6d984063","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Bhi23My9YVSbqQ93DxJu6j","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"5dacd5f1-152b-4090-a6a5-d5f767597af2","timestamp":"2025-09-17T18:37:05.373Z","toolUseResult":{"oldTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"in_progress","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"pending","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"completed","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}]}}
{"parentUuid":"5dacd5f1-152b-4090-a6a5-d5f767597af2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01G3iQt3yJ4ShV1sc2EXYhc3","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_015WTdWRW9SmNL2gJCKhAzEt","name":"Bash","input":{"command":"yarn format","description":"Run linting and formatting"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":307,"cache_read_input_tokens":112060,"cache_creation":{"ephemeral_5m_input_tokens":307,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTETVq5Zr4iG2MQNTKWnw","type":"assistant","uuid":"bc9cf16e-115c-44c8-9087-829ad469c924","timestamp":"2025-09-17T18:37:08.502Z"}
{"parentUuid":"bc9cf16e-115c-44c8-9087-829ad469c924","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015WTdWRW9SmNL2gJCKhAzEt","type":"tool_result","content":"Done in 5s 813ms\n[@uncharted/pantera-hmi]: playwright/index.ts 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 110ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 41ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 49ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 58ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 42ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 2s 846ms","is_error":false}]},"uuid":"b6847eb3-a47e-49bb-8491-23040794299e","timestamp":"2025-09-17T18:37:19.243Z","toolUseResult":{"stdout":"Done in 5s 813ms\n[@uncharted/pantera-hmi]: playwright/index.ts 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/App.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/AuditEventDataRenderer.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/ChartChannelEncodingConfigurator.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/specs/Types.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/charts/VegaChart.vue 27ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/CircleProgress.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/column-components/MarkdownComponent.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/common/OverviewRuler.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/composables/useFeatureTypeDisplayNames.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ExtractionCard.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicator.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileStatusIndicatorBadge.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/FileUploadArea.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportConfigurationModal.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/ImportDataModal.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/PipelineStatusModal.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/TypePill.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/data-mapper/UpdateFilesModal.vue 19ms\n[@uncharted/pantera-hmi]: src/components/DocumentCount.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/DragSelector.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EditableText.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/EmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExpandableText.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ExtraRowCounter.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/CategoricalFacet.vue 29ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/DocumentFacetsPanel.vue 110ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeader.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderGroup.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderPlaceholder.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetHeaderProperty.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelectionChips.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/FacetSelector.vue 41ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/NumericFacet.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProjectFacetsPanel.vue 34ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/facets/ProvenanceFacet.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FileUpload.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/FilterChip.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/GenericTable.vue 28ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/IconSearch.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ImageStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ListOfEditableText.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Logout.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/ClusterLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/DragSelect.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/GeorefMarker.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/LayeredMap.vue 49ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapControls.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapLayerToggle.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MapPopup.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/MarkerLayer.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SimpleMarker.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/SliderControl.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/map/VisibilityControl.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MapPin.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/MarkdownText.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ModalButton.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/NoDataIcon.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/Panel.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PdfViewer.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/PersonalInformation.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/profile/Preferences.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/NewProjectModal.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectList.vue 35ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-list/ProjectListCard.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectDataViewerControl.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanel.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButton.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectPanelButtons.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectSettingsControl.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-panel/ProjectTransformControl.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/ColumnMetadata.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GeneralSettings.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/GroupAccess.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project-settings/UserAccess.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/DocumentActivityStrip.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ExtractedImagesList.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/GeoReferencedMapsList.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ImageCard.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCard.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardList.vue 18ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/ProjectDataCardPreview.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Accordion.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/DataProvenance.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Document.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItem.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractedItemMap.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ExtractionTool.vue 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefImageEditor.vue 58ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPin.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/GeoRefPinMagnifier.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/Map.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentImage.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/DocumentMap.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Edit.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/Meta.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/MiniReaderStrip.vue 22ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/reader-editor/ProvenanceNumbers.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/project-data-card/sections/ReaderEditor.vue 52ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectCardTitle.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectChart.vue 20ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectDataTable.vue 42ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectLocations.vue 23ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectManagementTable.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectSearchChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectTimeline.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/ProjectViewToolbar.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyLink.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/project/PropertyList.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectHomeViewEmptyState.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/ProjectSearchBar.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/GeolocatedImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/property-renderers/ImageRenderer.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueGallery.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/PropertyValueRenderer.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SaveSearchSetDialog.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SearchBar.vue 12ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/selection/SelectionChips.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/SelectionBar.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/ImageProfileSelector.vue 7ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/shared/LoadingSparkle.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/TruncatableLabel.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/components/UserAvatar.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useClientConfig.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentDetails.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useDocumentFacets.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useEditableTextState.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetMetadata.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacets.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFacetSelectionColors.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileImport.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useFileUploadStatuses.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGenericTableState.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useGeorefStatus.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useIllustrations.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useKey.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMap.ts 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useMapClickDetection.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/usePDFViewerControls.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useProject.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useResizeObserver.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSearch.ts 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSelection.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/composables/useSubviewState.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppLayout.vue 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/AppTopbar.vue 15ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/layout.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/logoUrl.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/layout/composables/unchartedLogoUrl.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/main.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/router/index.ts 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AdminService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/API.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/AxiosHttpClient.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ClientEventService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/DataMappingService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ExtractionService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/GeneratedAPI.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/IconService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/KeycloakConfigService.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/Logger.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PanteraAPI.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectDataService.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/ProjectService.ts 6ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/PropertyDescriptorService.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/S3Service.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/services/TileService.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/AuthStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/DocumentSelectionStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/MetaStore.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/PreferencesStore.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/stores/ProjectStore.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityInstanceViewModel.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/AuthorityTypeAndLevel.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Common.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/DataMapper.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/FileUploadStatus.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/Uuid.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/types/ValidatorTypeAndPath.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Base64.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/BytesFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/Charts.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/charts/theme-uncharted.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/CssUtil.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DateFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DebounceUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DeepToRaw.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Document.ts 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/DurationFormatter.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Error.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FacetsUtil.ts 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/FileUpload.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Geo.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/HashUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Lerp.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/LineReader.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/Map.ts 14ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MapMarkers.ts 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/MetaTag.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/NumberFormatter.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProcessingStatus.ts 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/ProjectDataTableUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SearchUtil.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/SentenceCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/StringUtil.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/TitleCase.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/util/UrlUtil.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/CacheView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/EventsView.vue 3ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupsView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/GroupView.vue 21ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RolesView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/RoleView.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/PersonalInformation.vue 11ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/user/UserRoles.vue 9ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UsersView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/admin/UserView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndexView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/IndicesView.vue 17ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TasksView.vue 16ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/elasticsearch/TaskView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/FilesView.vue 13ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/HomeView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/LogoutView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Access.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/auth/Error.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/Empty.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/pages/NotFound.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/ProfileView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentDetailsView.vue 26ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/DocumentMapView.vue 8ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/PipelineProgress.vue 25ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectDataView.vue 19ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectHomeView.vue 4ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectManagementView.vue 5ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/ProjectPipelinesView.vue 2ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectColumnSettingsView.vue 0ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectGroupSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/settings/ProjectUserSettingsView.vue 1ms (unchanged)\n[@uncharted/pantera-hmi]: src/views/project/transform/ProjectTransformJoin.vue 10ms (unchanged)\n[@uncharted/pantera-hmi]: src/vite-env.d.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/basic.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/components/ReaderEditor.provenance.test.ts 15ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockAdminUser.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/MockUserUser.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/services/AdminService.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DateFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/DurationFormatter.test.ts 2ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/FacetsUtil.test.ts 11ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/Geo.test.ts 3ms (unchanged)\n[@uncharted/pantera-hmi]: tests/unit/util/NumberFormatter.test.ts 1ms (unchanged)\n[@uncharted/pantera-hmi]: vite.config.ts 2ms (unchanged)\nDone in 2s 846ms","stderr":"","interrupted":false,"isImage":false}}
{"parentUuid":"b6847eb3-a47e-49bb-8491-23040794299e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01X17wTnV4Kv5M75V4Mp6viD","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01CYaivyuj8MAnhXhE7n9pJk","name":"TodoWrite","input":{"todos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"completed","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":7665,"cache_read_input_tokens":112367,"cache_creation":{"ephemeral_5m_input_tokens":7665,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard"}},"requestId":"req_011CTETWrPyADpwdcCk9nrrV","type":"assistant","uuid":"e70af62b-a48c-4108-a94e-645d23ef7515","timestamp":"2025-09-17T18:37:24.280Z"}
{"parentUuid":"e70af62b-a48c-4108-a94e-645d23ef7515","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CYaivyuj8MAnhXhE7n9pJk","type":"tool_result","content":"Todos have been modified successfully. Ensure that you continue to use the todo list to track your progress. Please proceed with the current tasks if applicable"}]},"uuid":"27ea2af3-1085-4531-a119-7ce629982f52","timestamp":"2025-09-17T18:37:24.341Z","toolUseResult":{"oldTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"completed","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"in_progress","activeForm":"Running formatting commands"}],"newTodos":[{"content":"Add getPropertyDisplayName method to ProjectStore","status":"completed","activeForm":"Adding getPropertyDisplayName method to ProjectStore"},{"content":"Add method to return object","status":"completed","activeForm":"Adding method to return object"},{"content":"Run formatting commands","status":"completed","activeForm":"Running formatting commands"}]}}
{"parentUuid":"27ea2af3-1085-4531-a119-7ce629982f52","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01VLciPi5JYRQNyz8evgdj8y","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! I've successfully improved the ProjectStore with a new method `getPropertyDisplayName` that provides the display name from a property key. Here's what I added:\n\n## New Method Added to ProjectStore:\n\n```typescript\n/**\n * Get the display name for a property from its key\n * @param propertyKey The property key to look up\n * @returns The display name of the property, or the key itself if not found\n */\nfunction getPropertyDisplayName(propertyKey: string): string {\n  const propertyDescriptor = allPropertyDescriptors.value.find(\n    descriptor => descriptor.key === propertyKey,\n  );\n  return propertyDescriptor?.name || propertyKey;\n}\n```\n\n## Usage Example:\n\n```javascript\nimport useProjectStore from '@/stores/ProjectStore';\n\nconst projectStore = useProjectStore();\n\n// Get display name for a property key\nconst displayName = projectStore.getPropertyDisplayName('document_type');\n// Returns: \"Document Type\" (or the key itself if not found)\n```\n\n## Key Features:\n\n1. **Automatic fallback**: Returns the property key itself if no matching PropertyDescriptor is found\n2. **Type-safe**: Properly typed with TypeScript\n3. **Reactive**: Uses `allPropertyDescriptors.value` so it will automatically update when property descriptors change\n4. **Efficient**: Simple array.find() lookup\n5. **Well-documented**: Clear JSDoc comments explaining the method's purpose and return behavior\n\nThe method is now available as part of the ProjectStore's public API and can be used anywhere you need to convert property keys to human-readable display names."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":263,"cache_read_input_tokens":120032,"cache_creation":{"ephemeral_5m_input_tokens":263,"ephemeral_1h_input_tokens":0},"output_tokens":376,"service_tier":"standard"}},"requestId":"req_011CTETXEBu9eiETH2YqFb8i","type":"assistant","uuid":"f2308750-6d0c-4ce6-aadd-14b13b544230","timestamp":"2025-09-17T18:37:33.232Z"}
{"parentUuid":"f2308750-6d0c-4ce6-aadd-14b13b544230","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":"How does the Sets facets get the number of documents?"},"uuid":"4f0dc0ee-5fce-4c34-8a88-25dfda512bbd","timestamp":"2025-09-17T19:13:44.383Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"4f0dc0ee-5fce-4c34-8a88-25dfda512bbd","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_018NzqKpBv8oTd1kWhEG6TxW","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me search for how Sets facets get the number of documents. I'll look for Sets-related components and facet logic."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":115885,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":115885,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWHvgBP6wA6mHBj5UbH","type":"assistant","uuid":"3aed8a8e-c54b-425a-b629-9383cefe93cf","timestamp":"2025-09-17T19:13:48.126Z"}
{"parentUuid":"3aed8a8e-c54b-425a-b629-9383cefe93cf","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_018NzqKpBv8oTd1kWhEG6TxW","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01M3njLWLYQ5th5FAVTZhzzM","name":"Grep","input":{"pattern":"Sets|sets","output_mode":"files_with_matches","head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":115885,"cache_read_input_tokens":4802,"cache_creation":{"ephemeral_5m_input_tokens":115885,"ephemeral_1h_input_tokens":0},"output_tokens":124,"service_tier":"standard"}},"requestId":"req_011CTEWHvgBP6wA6mHBj5UbH","type":"assistant","uuid":"0e561e85-b8f1-43f9-abce-a11db53efc58","timestamp":"2025-09-17T19:13:49.243Z"}
{"parentUuid":"0e561e85-b8f1-43f9-abce-a11db53efc58","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01M3njLWLYQ5th5FAVTZhzzM","type":"tool_result","content":"Found 10 files\n/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/UpdateFilesModal.vue\n/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/search/SearchSetTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/SearchSetServiceTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/repository/SearchSetRepositoryTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/SearchSetControllerTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/virtual/impl/SearchSetVirtualQueryBuilder.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java"}]},"uuid":"0b15a1f2-6bfe-4d4f-b0e8-7e0a1abcd41f","timestamp":"2025-09-17T19:13:49.408Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/UpdateFilesModal.vue","/Users/yparis/Developer/atlantis/modules/client/src/composables/useGenericTableState.ts","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/DefaultProperty.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/ProjectDataService.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/search/SearchSetTests.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/service/SearchSetServiceTests.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/repository/SearchSetRepositoryTests.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/SearchSetControllerTests.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/virtual/impl/SearchSetVirtualQueryBuilder.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java"],"numFiles":10}}
{"parentUuid":"0b15a1f2-6bfe-4d4f-b0e8-7e0a1abcd41f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_014pkpXqyzy5owGz9h7yqHBf","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Rkj7Q5Xd9S1gA2aojT3u3n","name":"Grep","input":{"pattern":"SaveSearchSetDialog|SavedSearchSet|SearchSet\"","output_mode":"files_with_matches","head_limit":5}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":529,"cache_read_input_tokens":120687,"cache_creation":{"ephemeral_5m_input_tokens":529,"ephemeral_1h_input_tokens":0},"output_tokens":106,"service_tier":"standard"}},"requestId":"req_011CTEWJJ5nfpLVuRexCUpFN","type":"assistant","uuid":"c52b721f-de91-4655-842a-01b01cc75d02","timestamp":"2025-09-17T19:13:52.947Z"}
{"parentUuid":"c52b721f-de91-4655-842a-01b01cc75d02","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Rkj7Q5Xd9S1gA2aojT3u3n","type":"tool_result","content":"Found 1 file\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectViewToolbar.vue"}]},"uuid":"d70d0642-a549-42d0-b7f2-79e74dad5edf","timestamp":"2025-09-17T19:13:53.037Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectViewToolbar.vue"],"numFiles":1}}
{"parentUuid":"d70d0642-a549-42d0-b7f2-79e74dad5edf","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01B8qdEquv14TxNKfgcp58ks","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me look for facet components and how they calculate document counts:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":152,"cache_read_input_tokens":121216,"cache_creation":{"ephemeral_5m_input_tokens":152,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWJZYiT1hVyRdYNK622","type":"assistant","uuid":"564b9170-2b3d-4668-962e-2a56f043eeba","timestamp":"2025-09-17T19:13:56.257Z"}
{"parentUuid":"564b9170-2b3d-4668-962e-2a56f043eeba","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01B8qdEquv14TxNKfgcp58ks","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Bc9MFGfJPiV5eibpXzLUaa","name":"Grep","input":{"pattern":"documentCount|document.*count\"","output_mode":"files_with_matches","head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":152,"cache_read_input_tokens":121216,"cache_creation":{"ephemeral_5m_input_tokens":152,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWJZYiT1hVyRdYNK622","type":"assistant","uuid":"19d4e575-5677-467d-b541-8c7b4aee70c2","timestamp":"2025-09-17T19:13:56.900Z"}
{"parentUuid":"19d4e575-5677-467d-b541-8c7b4aee70c2","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Bc9MFGfJPiV5eibpXzLUaa","type":"tool_result","content":"Found 10 files\n/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderPlaceholder.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectList.vue\n/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectListCard.vue\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectsControllerTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/sets/SearchSetExistence.java"}]},"uuid":"2caf9f0b-4738-4916-9f69-b5c25862bda0","timestamp":"2025-09-17T19:13:56.999Z","toolUseResult":{"mode":"files_with_matches","filenames":["/Users/yparis/Developer/atlantis/modules/client/src/stores/ProjectStore.ts","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderPlaceholder.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project/ProjectDataTable.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectList.vue","/Users/yparis/Developer/atlantis/modules/client/src/components/project-list/ProjectListCard.vue","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectsControllerTests.java","/Users/yparis/Developer/atlantis/modules/server/src/test/java/software/uncharted/pantera/controller/ProjectDataControllerTests.java","/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/model/search/sets/SearchSetExistence.java"],"numFiles":10}}
{"parentUuid":"2caf9f0b-4738-4916-9f69-b5c25862bda0","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01Hd79c7Uc1FU7t5o778JsRN","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01Gz6LJem3oDpiosupcPkRyV","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":465,"cache_read_input_tokens":121368,"cache_creation":{"ephemeral_5m_input_tokens":465,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard"}},"requestId":"req_011CTEWJrZQXGLmt4bKBUQm8","type":"assistant","uuid":"db1cf2ec-d614-4faf-9eb3-85ede2a86092","timestamp":"2025-09-17T19:14:00.418Z"}
{"parentUuid":"db1cf2ec-d614-4faf-9eb3-85ede2a86092","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Gz6LJem3oDpiosupcPkRyV","type":"tool_result","content":"     1→<template>\n     2→  <FacetHeader\n     3→    :facet-display-name=\"facetDisplayName\"\n     4→    :is-expanded=\"isExpanded\"\n     5→    @set-is-expanded=\"newValue => emit('set-is-expanded', newValue)\"\n     6→  >\n     7→    <template #title-suffix>\n     8→      <LoadingSparkle\n     9→        v-if=\"status === FileUploadStatusEnum.InProgress || shouldShowSparkles\"\n    10→        :tooltip=\"tooltipText\"\n    11→        :in-progress=\"status === FileUploadStatusEnum.InProgress\"\n    12→        :can-extract-more=\"canExtractMore\"\n    13→        @click=\"emit('extract-facet')\"\n    14→      />\n    15→      <FontAwesomeIcon\n    16→        v-if=\"facetIcon\"\n    17→        :icon=\"facetIcon\"\n    18→        fixed-width\n    19→        class=\"title-icon\"\n    20→      />\n    21→    </template>\n    22→\n    23→    <template #actions>\n    24→      <template v-if=\"shouldShowDropdown\">\n    25→        <Dropdown\n    26→          v-if=\"isExpanded\"\n    27→          :model-value=\"selectedDropdownOption\"\n    28→          @update:model-value=\"onDropdownUpdate\"\n    29→          :options=\"options\"\n    30→          option-label=\"title\"\n    31→          class=\"dropdown-display-how-many\"\n    32→          panelClass=\"small-dropdown-panel\"\n    33→          ref=\"topXDropdown\"\n    34→        >\n    35→          <template #value>\n    36→            <span class=\"dropdown-total-count\">\n    37→              <!-- For numeric facets, show total count as the value -->\n    38→              <template v-if=\"props.isNumeric\">\n    39→                {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n    40→              </template>\n    41→              <!-- For categorical facets, show selected option -->\n    42→              <template v-else>\n    43→                {{ selectedDropdownOption.title }}\n    44→                <span v-if=\"shouldShowCount\">\n    45→                  of\n    46→                  {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n    47→                </span>\n    48→                <span v-else>({{ props.totalBucketCount }} total)</span>\n    49→              </template>\n    50→            </span>\n    51→          </template>\n    52→          <template #option=\"{ option }\">\n    53→            <span\n    54→              v-if=\"option.key === 'extract-more'\"\n    55→              class=\"extract-more-option\"\n    56→            >\n    57→              <CircleProgress\n    58→                v-tooltip.bottom=\"tooltipText\"\n    59→                :percentage=\"\n    60→                  ((props.documentCountWithFacet || 0) /\n    61→                    totalDocumentsInSearch) *\n    62→                  100\n    63→                \"\n    64→                pie-chart\n    65→                class=\"mr-1\"\n    66→              />{{ option.title }}\n    67→            </span>\n    68→            <span\n    69→              v-else\n    70→              class=\"dropdown-option\"\n    71→              :class=\"{ 'aligned-with-icon': canExtractMore }\"\n    72→            >\n    73→              {{ option.title }}\n    74→            </span>\n    75→          </template>\n    76→        </Dropdown>\n    77→\n    78→        <span v-else class=\"dropdown-total-count pr-2\">\n    79→          {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n    80→        </span>\n    81→      </template>\n    82→    </template>\n    83→\n    84→    <template #footer>\n    85→      <div\n    86→        v-if=\"isBucketSearchExpanded && isExpanded\"\n    87→        class=\"search-bar-container\"\n    88→      >\n    89→        <SearchBar\n    90→          :query-string=\"queryString\"\n    91→          search-mode=\"keyword\"\n    92→          :should-show-clear-button=\"!!queryString\"\n    93→          :should-search-on-keyup=\"false\"\n    94→          :should-show-search-mode-toggle=\"false\"\n    95→          placeholder-text=\"Search facets\"\n    96→          size=\"small\"\n    97→          class=\"search-bar\"\n    98→          @update:query-string=\"\n    99→            newValue => emit('update-query-string', newValue)\n   100→          \"\n   101→        />\n   102→      </div>\n   103→    </template>\n   104→  </FacetHeader>\n   105→</template>\n   106→\n   107→<script setup lang=\"ts\">\n   108→import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n   109→import Dropdown from 'primevue/dropdown';\n   110→import { computed, ref, watch } from 'vue';\n   111→import useProjectStore from '@/stores/ProjectStore';\n   112→import { FileUploadStatusEnum, PropertyTag } from '@/types/Types';\n   113→import { getPropertyDescriptorsByTag } from '@/util/Document';\n   114→import SearchBar from '../SearchBar.vue';\n   115→import CircleProgress from '../CircleProgress.vue';\n   116→import FacetHeader from './FacetHeader.vue';\n   117→import LoadingSparkle from '../shared/LoadingSparkle.vue';\n   118→\n   119→const props = defineProps<{\n   120→  facetKey: string;\n   121→  isExpanded: boolean;\n   122→  facetDisplayName: string;\n   123→  facetIcon?: string;\n   124→  totalBucketCount?: string;\n   125→  documentCountWithFacet?: number;\n   126→  sortDirection: number;\n   127→  visibleRowCount: number;\n   128→  queryString: string;\n   129→  isExtractable: boolean;\n   130→  isNumeric: boolean;\n   131→  status?: FileUploadStatusEnum;\n   132→  isDocumentMode?: boolean;\n   133→}>();\n   134→\n   135→interface FacetSortOption {\n   136→  key: string;\n   137→  title: string;\n   138→  sortDirection: number;\n   139→  visibleRowCount: number;\n   140→}\n   141→\n   142→const emit = defineEmits<{\n   143→  (e: 'set-is-expanded', newValue: boolean): void;\n   144→  (e: 'set-option', newValue: FacetSortOption): void;\n   145→  (e: 'update-query-string', newValue: string): void;\n   146→  (e: 'extract-facet'): void;\n   147→}>();\n   148→\n   149→const isBucketSearchExpanded = ref(false);\n   150→const topXDropdown = ref<InstanceType<typeof Dropdown> | null>(null);\n   151→const totalDocumentsInSearch = ref<number>(0);\n   152→\n   153→const projectStore = useProjectStore();\n   154→\n   155→const shouldShowSparkles = computed(() => {\n   156→  const descriptors = getPropertyDescriptorsByTag(PropertyTag.Derived);\n   157→  return descriptors.some(descriptor => descriptor.key === props.facetKey);\n   158→});\n   159→\n   160→const canExtractMore = computed(\n   161→  () =>\n   162→    !!(\n   163→      props.isExtractable &&\n   164→      !props.isDocumentMode &&\n   165→      props.documentCountWithFacet &&\n   166→      props.documentCountWithFacet < totalDocumentsInSearch.value\n   167→    ),\n   168→);\n   169→\n   170→const hasMultipleOptions = computed(\n   171→  () =>\n   172→    !props.isNumeric &&\n   173→    props.totalBucketCount &&\n   174→    parseInt(props.totalBucketCount, 10) > 5,\n   175→);\n   176→\n   177→const shouldShowDropdown = computed(\n   178→  () => props.isNumeric || canExtractMore.value || hasMultipleOptions.value,\n   179→);\n   180→\n   181→const tooltipText = computed(() => {\n   182→  if (!canExtractMore.value) {\n   183→    return '';\n   184→  }\n   185→  return `${props.facetDisplayName} were extracted from ${props.documentCountWithFacet} of ${totalDocumentsInSearch.value} documents.`;\n   186→});\n   187→\n   188→const options = computed<FacetSortOption[]>(() => {\n   189→  const categoricalOptions = [\n   190→    { key: 'top-5', title: 'Top 5', sortDirection: -1, visibleRowCount: 5 },\n   191→    { key: 'top-20', title: 'Top 20', sortDirection: -1, visibleRowCount: 20 },\n   192→    { key: 'top-50', title: 'Top 50', sortDirection: -1, visibleRowCount: 50 },\n   193→    {\n   194→      key: 'bottom-5',\n   195→      title: 'Bottom 5',\n   196→      sortDirection: 1,\n   197→      visibleRowCount: 5,\n   198→    },\n   199→    {\n   200→      key: 'bottom-20',\n   201→      title: 'Bottom 20',\n   202→      sortDirection: 1,\n   203→      visibleRowCount: 20,\n   204→    },\n   205→    {\n   206→      key: 'bottom-50',\n   207→      title: 'Bottom 50',\n   208→      sortDirection: 1,\n   209→      visibleRowCount: 50,\n   210→    },\n   211→    {\n   212→      key: 'search-all',\n   213→      title: 'Search all',\n   214→      sortDirection: -1,\n   215→      visibleRowCount: 50,\n   216→    },\n   217→  ];\n   218→\n   219→  const baseOptions = props.isNumeric ? [] : categoricalOptions;\n   220→\n   221→  if (canExtractMore.value) {\n   222→    baseOptions.push({\n   223→      key: 'extract-more',\n   224→      title: 'Extract more...',\n   225→      sortDirection: -1,\n   226→      visibleRowCount: 50,\n   227→    });\n   228→  }\n   229→\n   230→  return baseOptions;\n   231→});\n   232→\n   233→const selectedOption = computed(\n   234→  () =>\n   235→    options.value.find(\n   236→      option =>\n   237→        option.sortDirection === props.sortDirection &&\n   238→        option.visibleRowCount === props.visibleRowCount,\n   239→    ) ?? options.value[0],\n   240→);\n   241→\n   242→const selectedDropdownOption = ref<FacetSortOption>(selectedOption.value);\n   243→\n   244→const shouldShowCount = computed(() => {\n   245→  const bucketCount = props.totalBucketCount\n   246→    ? parseInt(props.totalBucketCount, 10)\n   247→    : 0;\n   248→  const selectedKey = selectedDropdownOption.value.key;\n   249→  const hideCountKeys = ['search-all', 'extract-more', 'show-all'];\n   250→\n   251→  return (\n   252→    bucketCount > selectedOption.value.visibleRowCount &&\n   253→    !hideCountKeys.includes(selectedKey)\n   254→  );\n   255→});\n   256→\n   257→const setTotalDocumentsInSearch = () => {\n   258→  totalDocumentsInSearch.value = projectStore.totalDocumentCount ?? 0;\n   259→};\n   260→\n   261→const onDropdownUpdate = (newValue: FacetSortOption) => {\n   262→  if (newValue.key === 'search-all') {\n   263→    isBucketSearchExpanded.value = true;\n   264→    selectedDropdownOption.value = newValue;\n   265→    if (topXDropdown.value) topXDropdown.value.hide();\n   266→  } else if (newValue.key === 'extract-more') {\n   267→    if (topXDropdown.value) topXDropdown.value.hide();\n   268→    emit('extract-facet');\n   269→  } else {\n   270→    isBucketSearchExpanded.value = false;\n   271→    selectedDropdownOption.value = newValue;\n   272→    emit('set-option', newValue);\n   273→  }\n   274→};\n   275→\n   276→watch(selectedOption, val => {\n   277→  selectedDropdownOption.value = val;\n   278→});\n   279→\n   280→watch(\n   281→  [projectStore],\n   282→  () => {\n   283→    setTotalDocumentsInSearch();\n   284→  },\n   285→  { immediate: true },\n   286→);\n   287→</script>\n   288→\n   289→<style scoped>\n   290→.title-icon {\n   291→  margin-left: var(--gap-1);\n   292→  color: var(--surface-300);\n   293→}\n   294→\n   295→.dropdown-display-how-many {\n   296→  border-radius: var(--gap-1);\n   297→  background-color: transparent;\n   298→  border-color: transparent;\n   299→  box-shadow: none;\n   300→\n   301→  &:hover {\n   302→    background-color: var(--surface-100);\n   303→  }\n   304→}\n   305→\n   306→:deep(.p-dropdown-label) {\n   307→  padding: var(--gap-1) var(--gap-2);\n   308→  font-size: var(--text-size-small);\n   309→}\n   310→\n   311→:deep(.p-dropdown-trigger) {\n   312→  display: none;\n   313→}\n   314→\n   315→.total-row-count {\n   316→  color: #fff;\n   317→}\n   318→\n   319→.extraction-info-text {\n   320→  margin-bottom: 0;\n   321→  color: var(--text-color-secondary);\n   322→  font-size: var(--text-size-small);\n   323→  line-height: 1.2;\n   324→  display: flex;\n   325→  align-items: center;\n   326→  justify-content: space-between;\n   327→}\n   328→\n   329→.extract-button {\n   330→  border-radius: var(--border-radius-small);\n   331→  background-color: transparent;\n   332→  border: none;\n   333→  color: var(--primary-color);\n   334→  font-size: 10px;\n   335→  font-weight: 400;\n   336→  padding: var(--gap-1) var(--gap-1-5);\n   337→}\n   338→\n   339→.extract-button:hover {\n   340→  background-color: color-mix(in srgb, var(--surface-300) 50%, transparent);\n   341→}\n   342→\n   343→.dropdown-total-count {\n   344→  color: var(--text-color-secondary);\n   345→  font-size: var(--text-size-small);\n   346→  font-weight: 400;\n   347→}\n   348→\n   349→.clickable-count {\n   350→  cursor: pointer;\n   351→  border-radius: var(--gap-1);\n   352→  padding: var(--gap-1) var(--gap-2);\n   353→  transition: background-color 0.15s ease;\n   354→}\n   355→\n   356→.clickable-count:hover {\n   357→  background-color: var(--surface-100);\n   358→}\n   359→\n   360→.search-bar-container {\n   361→  display: flex;\n   362→  align-items: center;\n   363→  width: 100%;\n   364→  margin-top: var(--gap-0-5);\n   365→}\n   366→\n   367→:deep(.search-input-container) {\n   368→  padding-left: 0;\n   369→}\n   370→\n   371→:deep(.icon-container) {\n   372→  right: 8px;\n   373→}\n   374→\n   375→.small-text {\n   376→  white-space: nowrap;\n   377→  overflow-x: hidden;\n   378→  text-overflow: ellipsis;\n   379→  color: var(--text-color-secondary);\n   380→  flex: 1;\n   381→  min-width: 0;\n   382→  font-size: var(--text-size-small);\n   383→}\n   384→\n   385→.extract-more-option {\n   386→  display: flex;\n   387→  align-items: center;\n   388→  color: var(--primary-color);\n   389→}\n   390→\n   391→/* Align dropdown options with icon IF extract more is present as an option */\n   392→.dropdown-option.aligned-with-icon {\n   393→  margin-left: 1rem;\n   394→}\n   395→</style>\n   396→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"0d02cb6d-fe15-4c0e-977d-6eaacec10d6d","timestamp":"2025-09-17T19:14:00.587Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/FacetHeaderProperty.vue","content":"<template>\n  <FacetHeader\n    :facet-display-name=\"facetDisplayName\"\n    :is-expanded=\"isExpanded\"\n    @set-is-expanded=\"newValue => emit('set-is-expanded', newValue)\"\n  >\n    <template #title-suffix>\n      <LoadingSparkle\n        v-if=\"status === FileUploadStatusEnum.InProgress || shouldShowSparkles\"\n        :tooltip=\"tooltipText\"\n        :in-progress=\"status === FileUploadStatusEnum.InProgress\"\n        :can-extract-more=\"canExtractMore\"\n        @click=\"emit('extract-facet')\"\n      />\n      <FontAwesomeIcon\n        v-if=\"facetIcon\"\n        :icon=\"facetIcon\"\n        fixed-width\n        class=\"title-icon\"\n      />\n    </template>\n\n    <template #actions>\n      <template v-if=\"shouldShowDropdown\">\n        <Dropdown\n          v-if=\"isExpanded\"\n          :model-value=\"selectedDropdownOption\"\n          @update:model-value=\"onDropdownUpdate\"\n          :options=\"options\"\n          option-label=\"title\"\n          class=\"dropdown-display-how-many\"\n          panelClass=\"small-dropdown-panel\"\n          ref=\"topXDropdown\"\n        >\n          <template #value>\n            <span class=\"dropdown-total-count\">\n              <!-- For numeric facets, show total count as the value -->\n              <template v-if=\"props.isNumeric\">\n                {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n              </template>\n              <!-- For categorical facets, show selected option -->\n              <template v-else>\n                {{ selectedDropdownOption.title }}\n                <span v-if=\"shouldShowCount\">\n                  of\n                  {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n                </span>\n                <span v-else>({{ props.totalBucketCount }} total)</span>\n              </template>\n            </span>\n          </template>\n          <template #option=\"{ option }\">\n            <span\n              v-if=\"option.key === 'extract-more'\"\n              class=\"extract-more-option\"\n            >\n              <CircleProgress\n                v-tooltip.bottom=\"tooltipText\"\n                :percentage=\"\n                  ((props.documentCountWithFacet || 0) /\n                    totalDocumentsInSearch) *\n                  100\n                \"\n                pie-chart\n                class=\"mr-1\"\n              />{{ option.title }}\n            </span>\n            <span\n              v-else\n              class=\"dropdown-option\"\n              :class=\"{ 'aligned-with-icon': canExtractMore }\"\n            >\n              {{ option.title }}\n            </span>\n          </template>\n        </Dropdown>\n\n        <span v-else class=\"dropdown-total-count pr-2\">\n          {{ `${props.totalBucketCount}${canExtractMore ? '+' : ''}` }}\n        </span>\n      </template>\n    </template>\n\n    <template #footer>\n      <div\n        v-if=\"isBucketSearchExpanded && isExpanded\"\n        class=\"search-bar-container\"\n      >\n        <SearchBar\n          :query-string=\"queryString\"\n          search-mode=\"keyword\"\n          :should-show-clear-button=\"!!queryString\"\n          :should-search-on-keyup=\"false\"\n          :should-show-search-mode-toggle=\"false\"\n          placeholder-text=\"Search facets\"\n          size=\"small\"\n          class=\"search-bar\"\n          @update:query-string=\"\n            newValue => emit('update-query-string', newValue)\n          \"\n        />\n      </div>\n    </template>\n  </FacetHeader>\n</template>\n\n<script setup lang=\"ts\">\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport Dropdown from 'primevue/dropdown';\nimport { computed, ref, watch } from 'vue';\nimport useProjectStore from '@/stores/ProjectStore';\nimport { FileUploadStatusEnum, PropertyTag } from '@/types/Types';\nimport { getPropertyDescriptorsByTag } from '@/util/Document';\nimport SearchBar from '../SearchBar.vue';\nimport CircleProgress from '../CircleProgress.vue';\nimport FacetHeader from './FacetHeader.vue';\nimport LoadingSparkle from '../shared/LoadingSparkle.vue';\n\nconst props = defineProps<{\n  facetKey: string;\n  isExpanded: boolean;\n  facetDisplayName: string;\n  facetIcon?: string;\n  totalBucketCount?: string;\n  documentCountWithFacet?: number;\n  sortDirection: number;\n  visibleRowCount: number;\n  queryString: string;\n  isExtractable: boolean;\n  isNumeric: boolean;\n  status?: FileUploadStatusEnum;\n  isDocumentMode?: boolean;\n}>();\n\ninterface FacetSortOption {\n  key: string;\n  title: string;\n  sortDirection: number;\n  visibleRowCount: number;\n}\n\nconst emit = defineEmits<{\n  (e: 'set-is-expanded', newValue: boolean): void;\n  (e: 'set-option', newValue: FacetSortOption): void;\n  (e: 'update-query-string', newValue: string): void;\n  (e: 'extract-facet'): void;\n}>();\n\nconst isBucketSearchExpanded = ref(false);\nconst topXDropdown = ref<InstanceType<typeof Dropdown> | null>(null);\nconst totalDocumentsInSearch = ref<number>(0);\n\nconst projectStore = useProjectStore();\n\nconst shouldShowSparkles = computed(() => {\n  const descriptors = getPropertyDescriptorsByTag(PropertyTag.Derived);\n  return descriptors.some(descriptor => descriptor.key === props.facetKey);\n});\n\nconst canExtractMore = computed(\n  () =>\n    !!(\n      props.isExtractable &&\n      !props.isDocumentMode &&\n      props.documentCountWithFacet &&\n      props.documentCountWithFacet < totalDocumentsInSearch.value\n    ),\n);\n\nconst hasMultipleOptions = computed(\n  () =>\n    !props.isNumeric &&\n    props.totalBucketCount &&\n    parseInt(props.totalBucketCount, 10) > 5,\n);\n\nconst shouldShowDropdown = computed(\n  () => props.isNumeric || canExtractMore.value || hasMultipleOptions.value,\n);\n\nconst tooltipText = computed(() => {\n  if (!canExtractMore.value) {\n    return '';\n  }\n  return `${props.facetDisplayName} were extracted from ${props.documentCountWithFacet} of ${totalDocumentsInSearch.value} documents.`;\n});\n\nconst options = computed<FacetSortOption[]>(() => {\n  const categoricalOptions = [\n    { key: 'top-5', title: 'Top 5', sortDirection: -1, visibleRowCount: 5 },\n    { key: 'top-20', title: 'Top 20', sortDirection: -1, visibleRowCount: 20 },\n    { key: 'top-50', title: 'Top 50', sortDirection: -1, visibleRowCount: 50 },\n    {\n      key: 'bottom-5',\n      title: 'Bottom 5',\n      sortDirection: 1,\n      visibleRowCount: 5,\n    },\n    {\n      key: 'bottom-20',\n      title: 'Bottom 20',\n      sortDirection: 1,\n      visibleRowCount: 20,\n    },\n    {\n      key: 'bottom-50',\n      title: 'Bottom 50',\n      sortDirection: 1,\n      visibleRowCount: 50,\n    },\n    {\n      key: 'search-all',\n      title: 'Search all',\n      sortDirection: -1,\n      visibleRowCount: 50,\n    },\n  ];\n\n  const baseOptions = props.isNumeric ? [] : categoricalOptions;\n\n  if (canExtractMore.value) {\n    baseOptions.push({\n      key: 'extract-more',\n      title: 'Extract more...',\n      sortDirection: -1,\n      visibleRowCount: 50,\n    });\n  }\n\n  return baseOptions;\n});\n\nconst selectedOption = computed(\n  () =>\n    options.value.find(\n      option =>\n        option.sortDirection === props.sortDirection &&\n        option.visibleRowCount === props.visibleRowCount,\n    ) ?? options.value[0],\n);\n\nconst selectedDropdownOption = ref<FacetSortOption>(selectedOption.value);\n\nconst shouldShowCount = computed(() => {\n  const bucketCount = props.totalBucketCount\n    ? parseInt(props.totalBucketCount, 10)\n    : 0;\n  const selectedKey = selectedDropdownOption.value.key;\n  const hideCountKeys = ['search-all', 'extract-more', 'show-all'];\n\n  return (\n    bucketCount > selectedOption.value.visibleRowCount &&\n    !hideCountKeys.includes(selectedKey)\n  );\n});\n\nconst setTotalDocumentsInSearch = () => {\n  totalDocumentsInSearch.value = projectStore.totalDocumentCount ?? 0;\n};\n\nconst onDropdownUpdate = (newValue: FacetSortOption) => {\n  if (newValue.key === 'search-all') {\n    isBucketSearchExpanded.value = true;\n    selectedDropdownOption.value = newValue;\n    if (topXDropdown.value) topXDropdown.value.hide();\n  } else if (newValue.key === 'extract-more') {\n    if (topXDropdown.value) topXDropdown.value.hide();\n    emit('extract-facet');\n  } else {\n    isBucketSearchExpanded.value = false;\n    selectedDropdownOption.value = newValue;\n    emit('set-option', newValue);\n  }\n};\n\nwatch(selectedOption, val => {\n  selectedDropdownOption.value = val;\n});\n\nwatch(\n  [projectStore],\n  () => {\n    setTotalDocumentsInSearch();\n  },\n  { immediate: true },\n);\n</script>\n\n<style scoped>\n.title-icon {\n  margin-left: var(--gap-1);\n  color: var(--surface-300);\n}\n\n.dropdown-display-how-many {\n  border-radius: var(--gap-1);\n  background-color: transparent;\n  border-color: transparent;\n  box-shadow: none;\n\n  &:hover {\n    background-color: var(--surface-100);\n  }\n}\n\n:deep(.p-dropdown-label) {\n  padding: var(--gap-1) var(--gap-2);\n  font-size: var(--text-size-small);\n}\n\n:deep(.p-dropdown-trigger) {\n  display: none;\n}\n\n.total-row-count {\n  color: #fff;\n}\n\n.extraction-info-text {\n  margin-bottom: 0;\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n  line-height: 1.2;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.extract-button {\n  border-radius: var(--border-radius-small);\n  background-color: transparent;\n  border: none;\n  color: var(--primary-color);\n  font-size: 10px;\n  font-weight: 400;\n  padding: var(--gap-1) var(--gap-1-5);\n}\n\n.extract-button:hover {\n  background-color: color-mix(in srgb, var(--surface-300) 50%, transparent);\n}\n\n.dropdown-total-count {\n  color: var(--text-color-secondary);\n  font-size: var(--text-size-small);\n  font-weight: 400;\n}\n\n.clickable-count {\n  cursor: pointer;\n  border-radius: var(--gap-1);\n  padding: var(--gap-1) var(--gap-2);\n  transition: background-color 0.15s ease;\n}\n\n.clickable-count:hover {\n  background-color: var(--surface-100);\n}\n\n.search-bar-container {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-top: var(--gap-0-5);\n}\n\n:deep(.search-input-container) {\n  padding-left: 0;\n}\n\n:deep(.icon-container) {\n  right: 8px;\n}\n\n.small-text {\n  white-space: nowrap;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  color: var(--text-color-secondary);\n  flex: 1;\n  min-width: 0;\n  font-size: var(--text-size-small);\n}\n\n.extract-more-option {\n  display: flex;\n  align-items: center;\n  color: var(--primary-color);\n}\n\n/* Align dropdown options with icon IF extract more is present as an option */\n.dropdown-option.aligned-with-icon {\n  margin-left: 1rem;\n}\n</style>\n","numLines":396,"startLine":1,"totalLines":396}}}
{"parentUuid":"0d02cb6d-fe15-4c0e-977d-6eaacec10d6d","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01DnrusNnHS7itx4mbaFGHDE","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Great! I can see from this component how facets get document counts. Let me also look at the facets panels to see the broader picture:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":4843,"cache_read_input_tokens":121833,"cache_creation":{"ephemeral_5m_input_tokens":4843,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWK81LpEQcF7dVqCUvQ","type":"assistant","uuid":"40fe74dc-7ece-4cb0-b68f-6fc9c266c84c","timestamp":"2025-09-17T19:14:05.434Z"}
{"parentUuid":"40fe74dc-7ece-4cb0-b68f-6fc9c266c84c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01DnrusNnHS7itx4mbaFGHDE","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_015xCYfS7ipm1HycjtQFQoED","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue","offset":1,"limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":4843,"cache_read_input_tokens":121833,"cache_creation":{"ephemeral_5m_input_tokens":4843,"ephemeral_1h_input_tokens":0},"output_tokens":147,"service_tier":"standard"}},"requestId":"req_011CTEWK81LpEQcF7dVqCUvQ","type":"assistant","uuid":"95c76c43-92b2-4d59-b8fc-c1aedbbb01cb","timestamp":"2025-09-17T19:14:06.713Z"}
{"parentUuid":"95c76c43-92b2-4d59-b8fc-c1aedbbb01cb","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015xCYfS7ipm1HycjtQFQoED","type":"tool_result","content":"     1→<template>\n     2→  <Panel\n     3→    title=\"Facets\"\n     4→    :initial-panel-collapsed=\"config?.collapseFacetsPanel\"\n     5→    :highlight-header=\"facets.hasPendingChanges.value\"\n     6→  >\n     7→    <template #top-header-actions>\n     8→      <FacetSelector\n     9→        v-if=\"\n    10→          !facets.hasPendingChanges.value &&\n    11→          !isEmpty(Object.keys(facetMetadata))\n    12→        \"\n    13→        :model-value=\"facets.visibleFacetKeys.value\"\n    14→        :options=\"\n    15→          props\n    16→            .getFacetOrder(props.facets.facetData.value?.facets)\n    17→            .map((facetKey: string) => ({\n    18→              label: facetMetadata[facetKey]?.displayName || facetKey,\n    19→              value: facetKey,\n    20→            }))\n    21→        \"\n    22→        :facet-metadata=\"facetMetadata\"\n    23→        :is-group-key=\"props.isGroupKey\"\n    24→        :get-group-facets=\"props.getGroupFacets\"\n    25→        @update:model-value=\"\n    26→          (newVisibleKeys: string[]) => {\n    27→            facets.setVisibleFacetKeys(newVisibleKeys);\n    28→            emit('visible-facet-keys-changed', newVisibleKeys);\n    29→            emit('facet-order-changed', newVisibleKeys);\n    30→          }\n    31→        \"\n    32→      />\n    33→    </template>\n    34→    <template #header-actions>\n    35→      <transition name=\"slide-down\">\n    36→        <section v-show=\"facets.hasPendingChanges.value\" class=\"facet-actions\">\n    37→          <Button\n    38→            size=\"small\"\n    39→            @click=\"facets.applyFacetSelections\"\n    40→            :disabled=\"\n    41→              !facets.hasPendingChanges.value || pendingFacetRowCount === 0\n    42→            \"\n    43→            class=\"apply-facet-button p-primary-button\"\n    44→          >\n    45→            <template #default>\n    46→              Apply {{ facets.numPendingChanges.value }}\n    47→              {{ facets.numPendingChanges.value !== 1 ? 'filters' : 'filter' }}\n    48→            </template>\n    49→          </Button>\n    50→          <p\n    51→            class=\"filter-preview\"\n    52→            :class=\"{ 'text-warning': pendingFacetRowCount === 0 }\"\n    53→          >\n    54→            {{ pendingFacetRowCount === 0 ? 'No' : pendingFacetRowCount }}\n    55→            result{{ pendingFacetRowCount !== 1 ? 's' : '' }}\n    56→          </p>\n    57→          <Button\n    58→            size=\"small\"\n    59→            severity=\"secondary\"\n    60→            label=\"Clear all\"\n    61→            @click=\"facets.clearAllSelections\"\n    62→            class=\"reset-facets-button\"\n    63→          />\n    64→        </section>\n    65→      </transition>\n    66→    </template>\n    67→    <template #expanded>\n    68→      <section class=\"facets-content\" aria-label=\"Filter options\">\n    69→        <main v-if=\"!isEmpty(renderItems)\" class=\"facets-list\">\n    70→          <article\n    71→            v-for=\"item in renderItems\"\n    72→            :key=\"\n    73→              item.type === 'group'\n    74→                ? `group-${item.groupName}`\n    75→                : item.facet.facetKey\n    76→            \"\n    77→            class=\"facet-item\"\n    78→          >\n    79→            <!-- Group rendering -->\n    80→            <FacetHeaderGroup\n    81→              v-if=\"item.type === 'group'\"\n    82→              :group-name=\"item.groupName\"\n    83→              :is-expanded=\"item.isExpanded\"\n    84→              :facet-count=\"item.facets.length\"\n    85→              @set-is-expanded=\"\n    86→                newValue => setGroupExpansion(item.groupName, newValue)\n    87→              \"\n    88→            >\n    89→              <div\n    90→                v-for=\"facet in item.facets\"\n    91→                :key=\"facet.facetKey\"\n    92→                class=\"facet-container\"\n    93→              >\n    94→                <NumericFacet\n    95→                  v-if=\"facet.isHistogramFacet\"\n    96→                  :facet-key=\"facet.facetKey\"\n    97→                  :aggregated-properties=\"facet.aggregateProperties\"\n    98→                  :facet-display-name=\"facet.displayName\"\n    99→                  :is-expanded=\"facet.isExpanded\"\n   100→                  :has-selection=\"\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"c7e1ed52-1459-4070-afd7-f1cf774de03b","timestamp":"2025-09-17T19:14:06.768Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/ProjectFacetsPanel.vue","content":"<template>\n  <Panel\n    title=\"Facets\"\n    :initial-panel-collapsed=\"config?.collapseFacetsPanel\"\n    :highlight-header=\"facets.hasPendingChanges.value\"\n  >\n    <template #top-header-actions>\n      <FacetSelector\n        v-if=\"\n          !facets.hasPendingChanges.value &&\n          !isEmpty(Object.keys(facetMetadata))\n        \"\n        :model-value=\"facets.visibleFacetKeys.value\"\n        :options=\"\n          props\n            .getFacetOrder(props.facets.facetData.value?.facets)\n            .map((facetKey: string) => ({\n              label: facetMetadata[facetKey]?.displayName || facetKey,\n              value: facetKey,\n            }))\n        \"\n        :facet-metadata=\"facetMetadata\"\n        :is-group-key=\"props.isGroupKey\"\n        :get-group-facets=\"props.getGroupFacets\"\n        @update:model-value=\"\n          (newVisibleKeys: string[]) => {\n            facets.setVisibleFacetKeys(newVisibleKeys);\n            emit('visible-facet-keys-changed', newVisibleKeys);\n            emit('facet-order-changed', newVisibleKeys);\n          }\n        \"\n      />\n    </template>\n    <template #header-actions>\n      <transition name=\"slide-down\">\n        <section v-show=\"facets.hasPendingChanges.value\" class=\"facet-actions\">\n          <Button\n            size=\"small\"\n            @click=\"facets.applyFacetSelections\"\n            :disabled=\"\n              !facets.hasPendingChanges.value || pendingFacetRowCount === 0\n            \"\n            class=\"apply-facet-button p-primary-button\"\n          >\n            <template #default>\n              Apply {{ facets.numPendingChanges.value }}\n              {{ facets.numPendingChanges.value !== 1 ? 'filters' : 'filter' }}\n            </template>\n          </Button>\n          <p\n            class=\"filter-preview\"\n            :class=\"{ 'text-warning': pendingFacetRowCount === 0 }\"\n          >\n            {{ pendingFacetRowCount === 0 ? 'No' : pendingFacetRowCount }}\n            result{{ pendingFacetRowCount !== 1 ? 's' : '' }}\n          </p>\n          <Button\n            size=\"small\"\n            severity=\"secondary\"\n            label=\"Clear all\"\n            @click=\"facets.clearAllSelections\"\n            class=\"reset-facets-button\"\n          />\n        </section>\n      </transition>\n    </template>\n    <template #expanded>\n      <section class=\"facets-content\" aria-label=\"Filter options\">\n        <main v-if=\"!isEmpty(renderItems)\" class=\"facets-list\">\n          <article\n            v-for=\"item in renderItems\"\n            :key=\"\n              item.type === 'group'\n                ? `group-${item.groupName}`\n                : item.facet.facetKey\n            \"\n            class=\"facet-item\"\n          >\n            <!-- Group rendering -->\n            <FacetHeaderGroup\n              v-if=\"item.type === 'group'\"\n              :group-name=\"item.groupName\"\n              :is-expanded=\"item.isExpanded\"\n              :facet-count=\"item.facets.length\"\n              @set-is-expanded=\"\n                newValue => setGroupExpansion(item.groupName, newValue)\n              \"\n            >\n              <div\n                v-for=\"facet in item.facets\"\n                :key=\"facet.facetKey\"\n                class=\"facet-container\"\n              >\n                <NumericFacet\n                  v-if=\"facet.isHistogramFacet\"\n                  :facet-key=\"facet.facetKey\"\n                  :aggregated-properties=\"facet.aggregateProperties\"\n                  :facet-display-name=\"facet.displayName\"\n                  :is-expanded=\"facet.isExpanded\"\n                  :has-selection=\"","numLines":100,"startLine":1,"totalLines":474}}}
{"parentUuid":"c7e1ed52-1459-4070-afd7-f1cf774de03b","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01WJNg7hzodb74r1NgEyLPu6","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me search more specifically for Sets facets and how they get their document counts:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":1570,"cache_read_input_tokens":126676,"cache_creation":{"ephemeral_5m_input_tokens":1570,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEWKaSpTcmqKboze8dMZ","type":"assistant","uuid":"248896a9-7c31-4840-8bd5-b544d32f194c","timestamp":"2025-09-17T19:14:10.763Z"}
{"parentUuid":"248896a9-7c31-4840-8bd5-b544d32f194c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01WJNg7hzodb74r1NgEyLPu6","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01XrVX5tNgxp2p4xijQeFFEQ","name":"Grep","input":{"pattern":"searchSet|SearchSet|savedSearch","output_mode":"content","-n":true,"head_limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":1570,"cache_read_input_tokens":126676,"cache_creation":{"ephemeral_5m_input_tokens":1570,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CTEWKaSpTcmqKboze8dMZ","type":"assistant","uuid":"b3b8ce87-b734-45cc-8e7a-e9d92064143e","timestamp":"2025-09-17T19:14:12.035Z"}
{"parentUuid":"b3b8ce87-b734-45cc-8e7a-e9d92064143e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XrVX5tNgxp2p4xijQeFFEQ","type":"tool_result","content":"/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:13:import software.uncharted.pantera.model.search.sets.SearchSet;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:14:import software.uncharted.pantera.model.search.sets.SearchSetId;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:15:import software.uncharted.pantera.model.search.sets.SearchSetSpecification;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:16:import software.uncharted.pantera.repository.SearchSetRepository;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:22:public class SearchSetService {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:24:  private final SearchSetRepository searchSetRepository;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:31:   * @return a list of {@link SearchSet}s for the given project\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:33:  public List<SearchSet> findAll(final Project project, final User user) {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:34:    return searchSetRepository.findAllByProjectAndUser(project, user);\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:44:    return searchSetRepository.countByProjectAndUser(project, user);"}]},"uuid":"d2fddfdb-13ec-4ad1-90be-214b7de462c3","timestamp":"2025-09-17T19:14:12.257Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:13:import software.uncharted.pantera.model.search.sets.SearchSet;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:14:import software.uncharted.pantera.model.search.sets.SearchSetId;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:15:import software.uncharted.pantera.model.search.sets.SearchSetSpecification;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:16:import software.uncharted.pantera.repository.SearchSetRepository;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:22:public class SearchSetService {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:24:  private final SearchSetRepository searchSetRepository;\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:31:   * @return a list of {@link SearchSet}s for the given project\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:33:  public List<SearchSet> findAll(final Project project, final User user) {\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:34:    return searchSetRepository.findAllByProjectAndUser(project, user);\n/Users/yparis/Developer/atlantis/modules/server/src/main/java/software/uncharted/pantera/service/search/SearchSetService.java:44:    return searchSetRepository.countByProjectAndUser(project, user);","numLines":10}}
{"parentUuid":"d2fddfdb-13ec-4ad1-90be-214b7de462c3","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01SB5buNVBfvwyzBzn3SXhvn","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Let me look at the CategoricalFacet component to understand how it gets its buckets and document counts:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":744,"cache_read_input_tokens":128246,"cache_creation":{"ephemeral_5m_input_tokens":744,"ephemeral_1h_input_tokens":0},"output_tokens":6,"service_tier":"standard"}},"requestId":"req_011CTEWKykn2RRFV2mtrBDa4","type":"assistant","uuid":"d51e44fc-d8a4-48f0-9c4e-46fa3686af69","timestamp":"2025-09-17T19:14:15.183Z"}
{"parentUuid":"d51e44fc-d8a4-48f0-9c4e-46fa3686af69","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01SB5buNVBfvwyzBzn3SXhvn","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01S53L4CwEhGgKQyEJhCMQPV","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/CategoricalFacet.vue","offset":1,"limit":150}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":2,"cache_creation_input_tokens":744,"cache_read_input_tokens":128246,"cache_creation":{"ephemeral_5m_input_tokens":744,"ephemeral_1h_input_tokens":0},"output_tokens":142,"service_tier":"standard"}},"requestId":"req_011CTEWKykn2RRFV2mtrBDa4","type":"assistant","uuid":"ab5e9420-599c-42db-9090-c11fc272d3cc","timestamp":"2025-09-17T19:14:16.179Z"}
{"parentUuid":"ab5e9420-599c-42db-9090-c11fc272d3cc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01S53L4CwEhGgKQyEJhCMQPV","type":"tool_result","content":"     1→<template>\n     2→  <div\n     3→    v-if=\"rowsToDisplay.length !== 0 || !_.isEmpty(queryString)\"\n     4→    class=\"categorical-facet-container\"\n     5→  >\n     6→    <FacetHeaderProperty\n     7→      v-if=\"\n     8→        !isDocumentMode ||\n     9→        rowsToDisplay.length !== 1 ||\n    10→        !_.isEmpty(queryString) ||\n    11→        shouldAlwaysShowFullHeader\n    12→      \"\n    13→      :facet-key=\"facetKey\"\n    14→      :is-expanded=\"isExpanded\"\n    15→      :facet-display-name=\"facetDisplayName\"\n    16→      :facet-icon=\"facetIcon\"\n    17→      :sort-direction=\"sortDirection\"\n    18→      :visible-row-count=\"visibleRowCount\"\n    19→      :total-bucket-count=\"totalBucketCountDisplayString\"\n    20→      :document-count-with-facet=\"aggregateProperties.documentCount\"\n    21→      :is-extractable=\"isExtractable\"\n    22→      :is-document-mode=\"isDocumentMode\"\n    23→      :query-string=\"queryString\"\n    24→      :is-numeric=\"false\"\n    25→      :status=\"status\"\n    26→      @set-option=\"\n    27→        option =>\n    28→          emit('set-sort-state', option.sortDirection, option.visibleRowCount)\n    29→      \"\n    30→      @set-is-expanded=\"newValue => emit('set-is-expanded', newValue)\"\n    31→      @update-query-string=\"newValue => emit('update-query-string', newValue)\"\n    32→      @extract-facet=\"emit('extract-facet')\"\n    33→    />\n    34→\n    35→    <transition\n    36→      v-if=\"isExpanded\"\n    37→      name=\"expand\"\n    38→      @enter=\"onEnter\"\n    39→      @after-enter=\"onAfterEnter\"\n    40→      @leave=\"onLeave\"\n    41→      @after-leave=\"onAfterLeave\"\n    42→    >\n    43→      <!-- Single row display with inline facet name (document mode only) -->\n    44→      <div\n    45→        v-if=\"\n    46→          rowsToDisplay.length === 1 &&\n    47→          isDocumentMode &&\n    48→          _.isEmpty(queryString) &&\n    49→          !shouldAlwaysShowFullHeader\n    50→        \"\n    51→        class=\"facet-group single-row\"\n    52→      >\n    53→        <div\n    54→          class=\"row\"\n    55→          :class=\"{\n    56→            'document-mode': isDocumentMode,\n    57→            selected: isDocumentMode && isRowSelected(rowsToDisplay[0].key),\n    58→          }\"\n    59→          :tabindex=\"isDocumentMode ? 0 : undefined\"\n    60→          @keydown.enter.space=\"\n    61→            isDocumentMode\n    62→              ? toggleIsRowSelected(rowsToDisplay[0].key)\n    63→              : undefined\n    64→          \"\n    65→        >\n    66→          <Checkbox\n    67→            :model-value=\"isRowSelected(rowsToDisplay[0].key)\"\n    68→            @change=\"toggleIsRowSelected(rowsToDisplay[0].key)\"\n    69→            :binary=\"true\"\n    70→            :input-id=\"facetKey + rowsToDisplay[0].key\"\n    71→            :style=\"\n    72→              isDocumentMode\n    73→                ? { '--selected-color': getSelectedColor(rowsToDisplay[0].key) }\n    74→                : undefined\n    75→            \"\n    76→          />\n    77→          <label\n    78→            :for=\"facetKey + rowsToDisplay[0].key\"\n    79→            class=\"row-content single-row-content\"\n    80→          >\n    81→            <span class=\"header text-sm\">\n    82→              {{ facetDisplayName }}\n    83→            </span>\n    84→            <p class=\"label-row text-xs\">\n    85→              <span class=\"row-label\">\n    86→                {{ getDisplayValue(rowsToDisplay[0]) }}\n    87→              </span>\n    88→              <span class=\"value\">{{\n    89→                !isDocumentMode ? rowsToDisplay[0].value : ''\n    90→              }}</span>\n    91→            </p>\n    92→          </label>\n    93→        </div>\n    94→      </div>\n    95→\n    96→      <!-- Multiple rows or normal display (including single row in non-document mode) -->\n    97→      <div v-else class=\"facet-group multiple-rows\">\n    98→        <div\n    99→          v-for=\"row of rowsToDisplay\"\n   100→          :key=\"row.key\"\n   101→          class=\"row\"\n   102→          :class=\"{\n   103→            'document-mode': isDocumentMode,\n   104→            selected: isDocumentMode && isRowSelected(row.key),\n   105→          }\"\n   106→          :tabindex=\"isDocumentMode ? 0 : undefined\"\n   107→          @keydown.enter.space=\"\n   108→            isDocumentMode ? toggleIsRowSelected(row.key) : undefined\n   109→          \"\n   110→        >\n   111→          <Checkbox\n   112→            :model-value=\"isRowSelected(row.key)\"\n   113→            @change=\"toggleIsRowSelected(row.key)\"\n   114→            :binary=\"true\"\n   115→            :input-id=\"facetKey + row.key\"\n   116→            :style=\"\n   117→              isDocumentMode\n   118→                ? { '--selected-color': getSelectedColor(row.key) }\n   119→                : undefined\n   120→            \"\n   121→          />\n   122→          <label :for=\"facetKey + row.key\" class=\"row-content\">\n   123→            <p class=\"label-row text-xs\">\n   124→              <span class=\"row-label\">\n   125→                {{ getDisplayValue(row) }}\n   126→              </span>\n   127→              <span class=\"value\">{{ !isDocumentMode ? row.value : '' }}</span>\n   128→            </p>\n   129→          </label>\n   130→\n   131→          <!-- Hover icon button for scrolling to next marker (only when from DocumentFacetsPanel) -->\n   132→          <Button\n   133→            v-if=\"isFromDocumentFacetsPanel && onScrollToNextMarker\"\n   134→            class=\"scroll-to-marker-btn\"\n   135→            icon=\"pi pi-arrow-right\"\n   136→            text\n   137→            size=\"small\"\n   138→            :title=\"`Scroll to next marker with value: ${getDisplayValue(row)}`\"\n   139→            @click=\"onScrollToNextMarker(facetKey, row.key)\"\n   140→          />\n   141→        </div>\n   142→      </div>\n   143→    </transition>\n   144→  </div>\n   145→\n   146→  <!-- Facet has yet to be extracted -->\n   147→  <div\n   148→    v-if=\"rowsToDisplay.length === 0 && _.isEmpty(queryString) && isExtractable\"\n   149→  >\n   150→    <FacetHeaderPlaceholder\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"af642dba-ea8e-49b5-9a35-a871421414a1","timestamp":"2025-09-17T19:14:16.238Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/facets/CategoricalFacet.vue","content":"<template>\n  <div\n    v-if=\"rowsToDisplay.length !== 0 || !_.isEmpty(queryString)\"\n    class=\"categorical-facet-container\"\n  >\n    <FacetHeaderProperty\n      v-if=\"\n        !isDocumentMode ||\n        rowsToDisplay.length !== 1 ||\n        !_.isEmpty(queryString) ||\n        shouldAlwaysShowFullHeader\n      \"\n      :facet-key=\"facetKey\"\n      :is-expanded=\"isExpanded\"\n      :facet-display-name=\"facetDisplayName\"\n      :facet-icon=\"facetIcon\"\n      :sort-direction=\"sortDirection\"\n      :visible-row-count=\"visibleRowCount\"\n      :total-bucket-count=\"totalBucketCountDisplayString\"\n      :document-count-with-facet=\"aggregateProperties.documentCount\"\n      :is-extractable=\"isExtractable\"\n      :is-document-mode=\"isDocumentMode\"\n      :query-string=\"queryString\"\n      :is-numeric=\"false\"\n      :status=\"status\"\n      @set-option=\"\n        option =>\n          emit('set-sort-state', option.sortDirection, option.visibleRowCount)\n      \"\n      @set-is-expanded=\"newValue => emit('set-is-expanded', newValue)\"\n      @update-query-string=\"newValue => emit('update-query-string', newValue)\"\n      @extract-facet=\"emit('extract-facet')\"\n    />\n\n    <transition\n      v-if=\"isExpanded\"\n      name=\"expand\"\n      @enter=\"onEnter\"\n      @after-enter=\"onAfterEnter\"\n      @leave=\"onLeave\"\n      @after-leave=\"onAfterLeave\"\n    >\n      <!-- Single row display with inline facet name (document mode only) -->\n      <div\n        v-if=\"\n          rowsToDisplay.length === 1 &&\n          isDocumentMode &&\n          _.isEmpty(queryString) &&\n          !shouldAlwaysShowFullHeader\n        \"\n        class=\"facet-group single-row\"\n      >\n        <div\n          class=\"row\"\n          :class=\"{\n            'document-mode': isDocumentMode,\n            selected: isDocumentMode && isRowSelected(rowsToDisplay[0].key),\n          }\"\n          :tabindex=\"isDocumentMode ? 0 : undefined\"\n          @keydown.enter.space=\"\n            isDocumentMode\n              ? toggleIsRowSelected(rowsToDisplay[0].key)\n              : undefined\n          \"\n        >\n          <Checkbox\n            :model-value=\"isRowSelected(rowsToDisplay[0].key)\"\n            @change=\"toggleIsRowSelected(rowsToDisplay[0].key)\"\n            :binary=\"true\"\n            :input-id=\"facetKey + rowsToDisplay[0].key\"\n            :style=\"\n              isDocumentMode\n                ? { '--selected-color': getSelectedColor(rowsToDisplay[0].key) }\n                : undefined\n            \"\n          />\n          <label\n            :for=\"facetKey + rowsToDisplay[0].key\"\n            class=\"row-content single-row-content\"\n          >\n            <span class=\"header text-sm\">\n              {{ facetDisplayName }}\n            </span>\n            <p class=\"label-row text-xs\">\n              <span class=\"row-label\">\n                {{ getDisplayValue(rowsToDisplay[0]) }}\n              </span>\n              <span class=\"value\">{{\n                !isDocumentMode ? rowsToDisplay[0].value : ''\n              }}</span>\n            </p>\n          </label>\n        </div>\n      </div>\n\n      <!-- Multiple rows or normal display (including single row in non-document mode) -->\n      <div v-else class=\"facet-group multiple-rows\">\n        <div\n          v-for=\"row of rowsToDisplay\"\n          :key=\"row.key\"\n          class=\"row\"\n          :class=\"{\n            'document-mode': isDocumentMode,\n            selected: isDocumentMode && isRowSelected(row.key),\n          }\"\n          :tabindex=\"isDocumentMode ? 0 : undefined\"\n          @keydown.enter.space=\"\n            isDocumentMode ? toggleIsRowSelected(row.key) : undefined\n          \"\n        >\n          <Checkbox\n            :model-value=\"isRowSelected(row.key)\"\n            @change=\"toggleIsRowSelected(row.key)\"\n            :binary=\"true\"\n            :input-id=\"facetKey + row.key\"\n            :style=\"\n              isDocumentMode\n                ? { '--selected-color': getSelectedColor(row.key) }\n                : undefined\n            \"\n          />\n          <label :for=\"facetKey + row.key\" class=\"row-content\">\n            <p class=\"label-row text-xs\">\n              <span class=\"row-label\">\n                {{ getDisplayValue(row) }}\n              </span>\n              <span class=\"value\">{{ !isDocumentMode ? row.value : '' }}</span>\n            </p>\n          </label>\n\n          <!-- Hover icon button for scrolling to next marker (only when from DocumentFacetsPanel) -->\n          <Button\n            v-if=\"isFromDocumentFacetsPanel && onScrollToNextMarker\"\n            class=\"scroll-to-marker-btn\"\n            icon=\"pi pi-arrow-right\"\n            text\n            size=\"small\"\n            :title=\"`Scroll to next marker with value: ${getDisplayValue(row)}`\"\n            @click=\"onScrollToNextMarker(facetKey, row.key)\"\n          />\n        </div>\n      </div>\n    </transition>\n  </div>\n\n  <!-- Facet has yet to be extracted -->\n  <div\n    v-if=\"rowsToDisplay.length === 0 && _.isEmpty(queryString) && isExtractable\"\n  >\n    <FacetHeaderPlaceholder","numLines":150,"startLine":1,"totalLines":482}}}
{"parentUuid":"af642dba-ea8e-49b5-9a35-a871421414a1","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_019iMiQJizisBBPGjXuhZFCs","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Based on my analysis of the facet components, here's how **Sets facets get the number of documents**:\n\n## Document Count Flow for Sets Facets:\n\n### 1. **Data Source**: \nSets facets get their document counts from the `aggregateProperties` prop, specifically:\n- `aggregateProperties.documentCount` (line 20 in CategoricalFacet.vue)\n\n### 2. **Component Hierarchy**:\n```\nProjectFacetsPanel.vue\n  ↓ passes aggregateProperties\nCategoricalFacet.vue \n  ↓ passes aggregateProperties.documentCount\nFacetHeaderProperty.vue\n  ↓ receives as documentCountWithFacet prop\n```\n\n### 3. **Key Props and Data Flow**:\n\n**In CategoricalFacet.vue (line 20)**:\n```vue\n:document-count-with-facet=\"aggregateProperties.documentCount\"\n```\n\n**In FacetHeaderProperty.vue (line 125)**:\n```vue\ndocumentCountWithFacet?: number;\n```\n\n### 4. **Usage in Display Logic**:\n\n**Progress calculation (lines 59-63 in FacetHeaderProperty.vue)**:\n```vue\n:percentage=\"\n  ((props.documentCountWithFacet || 0) /\n    totalDocumentsInSearch) *\n  100\n\"\n```\n\n**Tooltip text (line 185)**:\n```vue\nreturn `${props.facetDisplayName} were extracted from ${props.documentCountWithFacet} of ${totalDocumentsInSearch.value} documents.`;\n```\n\n### 5. **Total Documents Context**:\nThe total document count comes from the ProjectStore:\n```typescript\n// Line 258 in FacetHeaderProperty.vue\nconst setTotalDocumentsInSearch = () => {\n  totalDocumentsInSearch.value = projectStore.totalDocumentCount ?? 0;\n};\n```\n\n### 6. **Server-Side Source**:\nThe `aggregateProperties` likely comes from the server-side facet aggregation queries that:\n- Count how many documents contain each facet value\n- Calculate the total documents that have this property extracted\n- Return both individual bucket counts (`row.value`) and the overall `documentCount`\n\n### Summary:\nSets facets get their document counts through the `aggregateProperties.documentCount` value that flows down from the parent facets panel, representing how many documents in the current search/filter context have that particular facet extracted and available."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":2219,"cache_read_input_tokens":128990,"cache_creation":{"ephemeral_5m_input_tokens":2219,"ephemeral_1h_input_tokens":0},"output_tokens":588,"service_tier":"standard"}},"requestId":"req_011CTEWLHS9xci2VhakoDXv1","type":"assistant","uuid":"0c96be87-500f-43d5-9f38-2fcc4e97145e","timestamp":"2025-09-17T19:14:32.624Z"}
{"parentUuid":"0c96be87-500f-43d5-9f38-2fcc4e97145e","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"type":"image","source":{"type":"base64","media_type":"image/png","data":"iVBORw0KGgoAAAANSUhEUgAAARoAAABrCAYAAACouk1qAAAKqWlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUk9kSgO//p4eEFghFSuhNkCIQQEoILYDSq42QBBJKjAlBxAbI4gquBRERUBd0FUTBCshaAFEsLIq9b5BFQV0XFURF5f3AIbj7znvvvDlnMl8mc2fm3v+/50wAIGuyRaI0WBmAdGGGONzfmxYbF0/DDQICgBFVB7ZsjkTECA0NBohM27/Lh7sAmrC3rCdy/fvv/1VUuDwJBwAoFOFEroSTjvBJRIc5InEGAKgaxG+0IkM0wV0Iq4mRBhGWTXDyFA9PcOIko/GTMZHhTIR1AMCT2GxxMgAkc8RPy+QkI3lIAQjbCrkCIcJZCHukpy/jItyMsDkSI0J4Ij898bs8yX/LmSjPyWYny3lqL5OC9xFIRGnslf/ncfxvSU+TTtcwQ5TEFweEIxZ5gtAfqcuC5CxMXBAyzQLuZPwk86UBUdPMkTDjp1mSFsGaZi7bJ0ieJ21B8DQnCfzkMYIMVuQ08yS+EdMsXhYur5skZjKmmS2e6UGaGiX383ksef5sfmTMNGcKohfIe0uNCJqJYcr9Ymm4fC88ob/3TF0/+TmkS77bu4AlX5vBjwyQnwN7pn+ekDGTUxIr743L8/GdiYmSx4syvOW1RGmh8nhemr/cL8mMkK/NQF7OmbWh8jNMYQeGTjPwBjwgBGGABoIBE/hk8LIyJjbBXCZaKRYk8zNoDOSm8WgsIcdmNs3e1t4RgIl7O/VavL8/eR8hKn7GJx4AwGWCB2d8S9wBaE5ASg7P+EyOAaCYC0BbCEcqzpzyoSc+MIAIlIAa0AJ6wAiYA2tgD5yAG/ACviAQhIBIEAeWAA7gg3QgBivAapALCkAR2Ap2gHKwF+wDNeAIOA6awBnQBi6Ba+AGuAMeARnoB6/AEPgAxiAIwkFkiAJpQfqQCWQF2UN0yAPyhYKhcCgOSoCSISEkhVZD66EiqBgqh6qgWugYdBpqg65APdADqBcahN5Bn2EUTILVYF3YFJ4D02EGHARHwovhZHg5nA3nw5vhMrgaPgw3wm3wNfgOLINfwSMogFJAUVEGKGsUHcVEhaDiUUkoMWotqhBViqpG1aNaUJ2oWygZ6jXqExqLpqBpaGu0GzoAHYXmoJej16I3ocvRNehGdAf6FroXPYT+hiFjdDBWGFcMCxOLScaswBRgSjEHMKcwFzF3MP2YD1gsloo1wzpjA7Bx2BTsKuwm7G5sA7YV24Ptw47gcDgtnBXOHReCY+MycAW4XbjDuPO4m7h+3Ee8Al4fb4/3w8fjhfg8fCn+EP4c/ib+BX6MoEwwIbgSQghcwkrCFsJ+QgvhOqGfMEZUIZoR3YmRxBRiLrGMWE+8SHxMfK+goGCo4KIQpiBQyFEoUziqcFmhV+ETSZVkSWKSFpGkpM2kg6RW0gPSezKZbEr2IseTM8ibybXkC+Sn5I+KFEUbRZYiV3GdYoVio+JNxTdKBCUTJYbSEqVspVKlE0rXlV4rE5RNlZnKbOW1yhXKp5XvKY+oUFTsVEJU0lU2qRxSuaIyoIpTNVX1VeWq5qvuU72g2kdBUYwoTAqHsp6yn3KR0q+GVTNTY6mlqBWpHVHrVhtSV1Wfqx6tnqVeoX5WXUZFUU2pLGoadQv1OPUu9bOGrgZDg6exUaNe46bGqOYsTS9NnmahZoPmHc3PWjQtX61UrW1aTVpPtNHaltph2iu092hf1H49S22W2yzOrMJZx2c91IF1LHXCdVbp7NPp0hnR1dP11xXp7tK9oPtaj6rnpZeiV6J3Tm9Qn6LvoS/QL9E/r/+Spk5j0NJoZbQO2pCBjkGAgdSgyqDbYMzQzDDKMM+wwfCJEdGIbpRkVGLUbjRkrG8833i1cZ3xQxOCCd2Eb7LTpNNk1NTMNMZ0g2mT6YCZphnLLNuszuyxOdnc03y5ebX5bQusBd0i1WK3xQ1L2NLRkm9ZYXndCrZyshJY7bbqmY2Z7TJbOLt69j1rkjXDOtO6zrrXhmoTbJNn02TzZo7xnPg52+Z0zvlm62ibZrvf9pGdql2gXZ5di907e0t7jn2F/W0HsoOfwzqHZoe3c63m8ubumXvfkeI433GDY7vjVydnJ7FTvdOgs7FzgnOl8z26Gj2Uvol+2QXj4u2yzuWMyydXJ9cM1+Ouf7lZu6W6HXIbmGc2jzdv/7w+d0N3tnuVu8yD5pHg8bOHzNPAk+1Z7fnMy8iL63XA6wXDgpHCOMx4423rLfY+5T3KdGWuYbb6oHz8fQp9un1VfaN8y32f+hn6JfvV+Q35O/qv8m8NwAQEBWwLuMfSZXFYtayhQOfANYEdQaSgiKDyoGfBlsHi4Jb58PzA+dvnP15gskC4oCkEhLBCtoc8CTULXR76axg2LDSsIux5uF346vDOCErE0ohDER8ivSO3RD6KMo+SRrVHK0Uviq6NHo3xiSmOkcXOiV0Tey1OO04Q1xyPi4+OPxA/stB34Y6F/YscFxUsurvYbHHW4itLtJekLTm7VGkpe+mJBExCTMKhhC/sEHY1eySRlViZOMRhcnZyXnG9uCXcQZ47r5j3Isk9qThpINk9eXvyIN+TX8p/LWAKygVvUwJS9qaMpoakHkwdT4tJa0jHpyeknxaqClOFHcv0lmUt6xFZiQpEsuWuy3csHxIHiQ9IIMliSXOGGjIgdUnNpT9IezM9MisyP66IXnEiSyVLmNW10nLlxpUvsv2yf1mFXsVZ1b7aYHXu6t41jDVVa6G1iWvb1xmty1/Xn+OfU5NLzE3N/S3PNq84b3h9zPqWfN38nPy+H/x/qCtQLBAX3NvgtmHvj+gfBT92b3TYuGvjt0Ju4dUi26LSoi+bOJuu/mT3U9lP45uTNndvcdqyZyt2q3Dr3W2e22qKVYqzi/u2z9/eWEIrKSwZ3rF0x5XSuaV7dxJ3SnfKyoLLmncZ79q660s5v/xOhXdFQ6VO5cbK0d3c3Tf3eO2p36u7t2jv558FP9+v8q9qrDatLt2H3Ze57/n+6P2dv9B/qT2gfaDowNeDwoOymvCajlrn2tpDOoe21MF10rrBw4sO3zjic6S53rq+qoHaUHQUHJUefXks4djd40HH20/QT9SfNDlZeYpyqrARalzZONTEb5I1xzX3nA483d7i1nLqV5tfD54xOFNxVv3slnPEc/nnxs9nnx9pFbW+bktu62tf2v7oQuyF2x1hHd0Xgy5evuR36UIno/P8ZffLZ664Xjl9lX616ZrTtcYux65Tvzn+dqrbqbvxuvP15hsuN1p65vWcu+l5s+2Wz61Lt1m3r91ZcKfnbtTd+/cW3ZPd594feJD24O3DzIdjj3IeYx4XPlF+UvpU52n17xa/N8icZGd7fXq7nkU8e9TH6Xv1h+SPL/35z8nPS1/ov6gdsB84M+g3eOPlwpf9r0Svxl4X/KnyZ+Ub8zcn//L6q2sodqj/rfjt+LtN77XeHxyeO9w+Ejry9EP6h7HRwo9aH2s+0T91fo75/GJsxRfcl7KvFl9bvgV9ezyePj4uYovZk6MAClE4KQmAdwcBIMcBQLkBAHHh1Fw9KdDUf4FJAv+Jp2bvSXECoBYxka0ABCNahagp8l0R0VAvxO8FYAcHuU7PwJPz+oQQegDIMUbifB8IJTngHzI1y3/X9z8tkGf9m/0XUwsIamlgltQAAABWZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAOShgAHAAAAEgAAAESgAgAEAAAAAQAAARqgAwAEAAAAAQAAAGsAAAAAQVNDSUkAAABTY3JlZW5zaG90XHDlXwAAAdZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTA3PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI4MjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlVzZXJDb21tZW50PlNjcmVlbnNob3Q8L2V4aWY6VXNlckNvbW1lbnQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrHN6YkAAAbF0lEQVR4Ae2dB3gU1RbH/wkJkRBaJPReQgtNipSAlCChikgTEXiIoDxEpYNUKaIUkRIQgQ9QelVA6dKk+RBUehFIAoQQIZBAQuo7525mmd1kk91kg5E95/uSnblz2/x25sy5587e41SyYu3EvHnz4MGDCIgIASEgBOxNgPWLc2IiV+tk77qlPiEgBISAkYCzk9IxStsYE2VDCAgBIWBPAkkWjT2rlLqEgBAQAqYEDBaNGDSmVGRPCAgBuxJw9vLyEheNXZFKZUJACJgTcDZPkH0hIASEgL0JuGgVuru7a5vyKQSEgBCwGwFnZ2cYLBrx0dgNqlQkBIRAcgIGRSOv0SQnIylCQAjYjYBYNHZDKRUJASFgiQApGho3iUVjiY+kCwEhYAcCpGhIy4iPxg4opQohIAQsERCLxhIZSRcCQsBuBMSisRtKqUgICAFLBMSisURG0oWAELAbgSSLRpw0diMqFQkBIZCMQJJFI9NOychIghAQAnYjIBaN3VBKRUJACFgiYLBo5EUaS3wkXQgIATsQoB9V8rBJfDSWWDo5OaNQoYIoXrQYcuZ0R2xsLCIiInA/PBy3bt9GXFycpaKSLgSEQBIBUjT8ZrD4aFK6IrJnd0O1qlXokBOu/nUVf9+7h2zZsoF/6V6A1vGpU6u2So+JiUViYgIePOQF3kVpp8RS0hybgMGiMaxQnuVI5KQburV/MzRt1ABVq1RCYPBNrNv4A77fvsuqvubOnQuFCxXAjRvBiH7yxKoyWiYnUi4+VSojNPQuAoOCKdmgQOLj4/GE6spGP313IaVTwbsCoqKi4OxMJcj6uREUiJCQEK0a+RQCQoAIZCtSstyEhPgEJCRkvSfxpLHD0L9PDxqi3MHho7+iUsXyeKNDG4SHP8SfZy+k+QX6+zXBonnTsXvfQYT9fS/N/PoMRQoXIcXhhL+uXdMnw9XVFTWrV0dUdDTOnj+Hx48fI4aGU+fOnycFFI3SpUojdy4Pau9vk3KyIwQclYCLi0vSejRZ0Nznm7x5E1+cv3gZ7w4chplzFqJbr/dx7MRviI/PfL8I+2WCyIIylwre3rgeGIjLV66Ah0x3yOIp6FVAZWPlcuLkr0oZFSlc2Lyo7AsBhyVAs04s6ffR5C9aFv59xsCFnvSpSYkKtVCvbe/UspgcY7dRfEIC+T7I7KIhCktERCTeGTAEazduNeb1a9YISxfMwrGft2JJwEy8XKemOtaze2d8NLCf2p49fSK2rl8GHkqx8LF1KxbixMHtWBwwA2XLlFTp+n9u2bOTtfJIn4RcHh5EyomGU6G69EQalkXDzc1NpSWSZXjh4iWUKllKWUS6jLIpBByWQJKiSf+wKezmVUQ9DEfrdz8lhUAunxSkaPkaqNumJ07vXZ/C0ZSTeCi3at1mVKbh0o4tKzFi8EBU86lkkvnV5q/gy2kTceduGCZ9PhsPaTZo3swpqOhdDucvXMJvp/9U+fcfPIot23Yh5kkMSpYohuEfv0++lJv4cu43KFSwAFq3bG5SL++k5Lbyyu+FkDt3kuXloaera3ZjekxsDEX+fIA8efIY02RDCDgygSRFkzEEBzbMw73bgWjTf1IyZcNKpmGHd7Ft4RhER5laCGm1OidgCT4eMYH8JDfQ+fU2WL0sAPNmTcGLnvlU0be6dkTo3btYv2krboeEYtXazcqKYD/Or7/9joOHj6p8W7buwJLlq5RD2DNfXpXnIVlHx/93Cu069cLcBUuTdSWRNA2PLfXCs01R0VH6JLWd0yNnMuvnYcRDsDNbRAgIARh8NOm3Z54iPLx5AcKCrsC/73g4ORuGOpqS+WH+SEQ/5qlf22XX3gPoP2gEfFt0wPTZC9G0cQP07tFVVVSlkjcpHU/MJ+XDf3NmTFLvuZQsXtRiQ6d+P4NFS1eiQ9uWaji1dvkClCIrx1zCH4TDK39+k+RE8mWx70gvuXPnJl9NDDnTE/TJyrnOizKLCAEhkKRoTG+d9GM5snUJQq9foGHUBBTzrgnfjv2wbcHodCmZF15wg19TX+NwKTr6CVasWkfvstyHb/06qpNXydIJuRMKX78OqN+svfpr3+U/6PfBcJOT4KlnvcxftAx+bbti7KdfoHixIhg78mP9YbUdGBSEEsWLK8eudjDy0SN4kJ9GE/YdlS9XjhzDV7Uk4yf7g3hGSkQICAHj9Ha83aa3b139E+658qKOfw/8MHc4Hkc+SBdnr/wvKidvyxZNlDPYK78n+vbqjhrVqmD7zn345egJZCcHdNtWfihftgziaCaqVYtmmEs+GnYa/3HmPJVzRpeO7ZCdHLusuC5fuYa33+yEBbOnksIKV1PeDerVQWTkI/DwSi/8xi+/H1OlUiU15OLtqKhoeJcvR8O023Cjl/mq+viot4Pv0Yt8euEp8LJly9LLfH+Rr8ce9qK+dtkWAv8uAuyCcKrt658YS87L2DhT0z8rnIpP5QoYNXQQKZfKqjuPyEL4adfPmPLFV2pqmRP70Xs2Pbp1VH4bfpluw5Yf8fnMeXhCwxmW6VPGokWzxjTkAV5/sy8e0tu7n306Gg1erqWOB9+6jSEjJ+LMuYtq3/yfO/3soGrlKupdmfv376Nw4ULkKXZSQ7TrgTcQFhZmUoSHSz5VqqgX/ULuyIt7JnBkxyEJ8EPeqXYj/0T2McRlQUWjfSvsVM2TJ5dy+FqyEHj2iH8iEBub/B0bD1IW7FuJIMtFk1zkwM2R4wVyJqf9Yh0rKXf3nHB1MUzhs7Jxz5FDvU9z7/498JQ2vyLAVljp0qURFBSsrB6tLfkUAo5MwKhoYknRZEWLJit/OZ7khGYfDjuD+UeWrmQexpFFxS/y8b6IEBACBgKsaNT8rXgRbL8k2C9j7puxvRYpIQQcg4Azv5lmOifjGCcuZykEhMCzI+DMXlKxaJ4dcGlJCDgiAbJoMvJLJ0dEJucsBISArQTIotFWWrG1qOQXAkJACFhHQHw01nGSXEJACGSAgMFHI06aDCCUokJACKRFwGDRyLRTWpzkuBAQAhkgIBZNBuBJUSEgBKwjIBaNdZwklxAQAhkgkGTRiJMmAwylqBAQAmkQSLJoxEmTBic5LASEQAYIiEWTAXhSVAgIAesIKItGLdZiXX7JJQSEgBCwmYBhUVtZBc5mcFJACAgB6wkoRWO+4Lb1xSWnEBACQiBtAob1aNJp0fCCNnny5Far16XdFMdKSqR4Rw/BC42LCAEh4DgEDIGL0jHpxEomPi4ef5z6AwlWKipnWpKiWIniaqFwUTaOc5HJmQqBJB+N7SDYkgkODLJayXALrJC4DJcVEQJCwHEIOHOQ+vTMOrFfx1pLRo+Ty4hPSE9EtoXA80/guZ91KuD14vP/LcoZCoEMEshGYYJy58qV4rK+HCjRze1pbPn0NGUaXDo9NWRimT3b1lKYkxwq3Gw4OZHXb9qG5SvXWd0ihz9ZNG86OnTtY3UZySgEHI0AxzirV7cWHj2OQo4XXsC2n3bjyl/X1cijpd8rqFTBW03k3AoJwffbduLJE0PMNFs4ZWlFwyfSpUd/cJC3YkULY/YXEykO010VRM6ak7wb9rcoGWtASR6HJVCpQnmULFECcwKWqHBBHOuMAzGyNG/iqx70cxcuVWm+Deqi8+vt8N2ajTbzMgydbC727AsE37yNHbv3o2b1qhRLKRfmzJiEHVtWYtOqxahP2piF42jPnTlZhcH9hiwZT8+8KqwuH3OjsLjTp47FlrVLsXX9MrzSqD4niwgBhybwcp2a+PngYRWggEcPHPY5JiZWMeF7bdtPeyi4ZJyyaA79chz58uVBHrr/bJUsb9FoJ1SwgBda+jXB0hWrlULZs+8gBg0dS2ZdeSwOmAFfvw7gGL+v+NbDqd/PYPCoiXjBzQ1FChdUVbRo3hixBJCHUUWLFEJ1H0OYXa1++RQCjkggX968qFzRG2VKlzSe/toN34NDO8dQqGxN6WgHQ2nyqHChAnhAoaVtkSyvaFYvD1A+Gta032/fpYZNzs5OYOdV397d1ZiSt4tyTGwSHi4tXbFGbbOi0eTPsxfwwft9MOyj96mOffiR/kSEgKMT8EgKDb142SqFol7dl+D/alP8uGOvir5qzseFwkKnFHbaPJ/5fpZXNG/2GqB8NPqOd2zfWsHYsHkbHpJmbUVgcnq4K+37971wfVbj9o3AYHTs1hftWvvh0zHDsGvvASxc8q3xuGwIAUckcJdiz1+68pfx1C9fuYa6tWsqx3BCQoKaiXqYFOKZH+gc4/72nVBjfms3/jU+Gv0J1XqpOjZt+VH5bK6TAilY0EuNIfV5zLebNK4P7/JlsGbDD5j42Sz4NWtknkX2hYDDETh74SJ8KlcwTmvz9k3yh7IcPXESbVv5wdXVBfxWf/Omvrh2/QYe0+yUrZLlLZqUTmgleb0njhmKN7t0IAUD3LgRnFI2k7SwsHv4YvIYREQ+QgGv/Jg+O8DkuOwIAUckcOTY/9ChbUsMGtCXZp3iEBn5mF4j+UGhOHr8JHJ5eGBg/z7qQX7z9m1s2bojXZicinvXTGSHUFy8bct5shVhy++ctN6xZqxWsxru3KE3kjMoeemnDPx+jS2S/0VPVYY96SJCQAgYCLjSRIpzNucU35HhIRO/tBcTa5iNspUZ/y6Shk7p+EUltcS/wuYfSLLisFY4L5fhsvYQW5UMtxn29z01XWeP9qUOIfC8EIilB6+lF/HiyVeTXiWj8aGhk22WjFaQf33NmoqtE2t/uyTLRGj05FMIOBYBUjTWWyTmaFjZREdnfAhkXq/sCwEh8HwRcGYrQ0QICAEhkJkEyG3CFo0om8yELHULAUcnYIiCkIHhk6MDlPMXAkIgbQIqrpNYNGmDkhxCQAikn0CSjyb9DuH0Ny0lhYAQcBQCSa/BiI/GUb5wOU8h8E8QIIuGmxWL5p+AL20KAUch4GJ4sTd9Fo3EdXKUy0TOUwhkjIDLU4vGNmUjcZ0yBl5KCwFHIqB8NOl5aU/iOjnSZSLnKgQyRkD5aKz9rZK+KS4jcZ30RGRbCAgBSwQMs07/gp8hvOiZj9YxFae1+RfJixLly5vHPNni/rOIc/Us2rB4gs/xAY+c7vDMl/dfeYaGWacsev+y1fRe357YtnEFViyegz3b1mH6lLEmsA/s3Iic7u7/SvgcT4ejNpgLL8Tu36KJMbl0yeJY/90i475+g6M5fPTfd/VJFre1OFcWM9jhgHkbvXt0tUOtyavo+kY7tf5z8iPPZ0r71i2wZsVCzJo2Xq1496zPMncuD7VGdztacS89omyErGrQTB43nFZoL4+e7w5Cm45vo1WHt/DHmfNY9vVssIXzvEqxooXA6yJbI3v2HcL4KTOsyaoWbs/sYHrmsbQ+eO8/VvVNMqVOoGOHNhg1bip69/84XYuDp1576keLFCqI19r6Izz8QeoZUznqwnNNhinuVHL9A4cKFsiP+i/Xhl/bLhQFwTAj9iQmBt+u3oBS9ITn0Cur1m1WPeMlPV9v30pFRliweIWKpqfvMsd7Gv7xALV4eY1qlXHh4lWMmzwdn00chaIUmG7vz4fw5bxvMGH0EOzc8zOO0BKGLDyztnzRV+jz3mBarPmxsUoOsjXxk6GoQuur8hKh23fsUdvjJ89QfRj60QD41q+tlhndf+gIZs//Rp0DR2UY/8kQvFTDB7wo9G5SEuZSs7oPplK/PGnVQ45BxdE5jxz7lULJZFNtNqhXGxERkRg9YRouXLoCXgu5RlUf1UbZMiUxcvBAYziMTygPr6msCce5mjFlHPq8P1jFuZo8YQTKly2t+jxjztc4cOiollV9lixRDONHDVb1XaJFq8+ev0gB/MIUr4DZn+HtvoOM+ZcEzMTwMZPp57mJqo3+g4YrK4xDqfJ5nLtwGaPHf6YeEOOozuLEnZdVnbNgMU6e+tNYD29w3C5+yHiXK6PWp50+e4Fav9Ykk26HV4CzxHzU0A8QGhqGNv7NkTdvbvp+D+KLL+erpSnZUhw/ejBZyPlw7UYQLl6+ovJu2LJdVzuwelkAfty5D906v2a4xr5ZriJyWOqntdcbT8LwAzMtHhxOqGqVipgyfiRuhdzBe4NGoEa1Kvh4YD/wfXI7JBQzvlpA388lFYqIr3WOwdSiWWO8O3CYybmkZ4fb5PuOr1st2oit9STNOtlaLPPz16IFtTg+k6Zk9C2ePPU7atMC5ZpwnKY3uvdFvw+Ggy8sHsvqheM9NXulIX7avQ/N23TF4+gobF6zBF8tWIL2nXuD26pcyRt79x9Cr7e6GIu2I3P1KoUG1SsZPjhm+IfgaAvtOvVEf2qT8/E6xCxDKZxLDlJQHak/nXv0U+n/7W94qnPfHtHN1fr1t/H+hyPRpmUzVUb/j8+Zb0j+ZOtj5dpN6jDfdKf/PINX278JDo3BayazuOfIoQLl8XbP7p2xfedetO3UCxxdkENp6CWbc7YU41y9R33JSfWYy/wvp2Lj99vR6vUemEf19e7RhVbF94ATh7ch5nrhWD+sDLU2OCQH959XbeNPPieWhXM+x8Yt2xSfEWOnKOVuHpCMb1SO2+VPFuwnEz/HjM/Gpbq4WmrM+Ubmhej7083ZmqziurWr00OgjqqP+7Jy7Wa079Jb3ahvduqglJz+vHibz7V0qRLqGuN6Rg0bpIbrlvpp7fXGdVvDo++AobhOinDQ0DFKyfDQml0I02bOU4y+CviGorh+qlwKWmwz/u45tllWkaRZp6zSnaf9eBwVpcJxPk15usUR9fQrsa9ev4UW4HqCwKCbuHL1GsqVLfU0c9LWPVIMPMxgOXj4GG7eCsHZcxdVqM9fyGJoQNbToSMn1I1Yip7kLG917Wi80VVC0j8ODbp42UqlBKOfPCGrY6vxsF/TRpizcIkyb9kC4xu+RdPG6nijhnURsHi5apOf5msoUJe1wsuWctxjfgruIYVYlgJ+mc8WHj/xmxpHv9OrOzi8zBk6P0vCca5qvVRN+TnYmWwe56pE8aJIpCUct1N8H5bLxHW/mcVjqW5L6XzDcr0c55mfuj27d1JB/6r5VDIpcv7CJWWJcdwu5qmP22WSMWknNeachaMt8pCOr5GDh4+jgnc58HccS2vg7iaFxhIUfAv7D5tadOpA0r81SdcYc+WHD19jqfXTmuvNWh76fvB2ffLtHaBr+PzFy+rQ6T/O4deTp1GnluHhq8U2Y8s3q4gzdyQr+mh+O30G1atWplXYTZ/K3F/f+nVx8vTvvKnk5s0QbRP3aRzJT3lz0cei4VhQbG5q8uBBhGqHb+JvV2/EW93eoCdfDVoR/pEyR7V82md8fIK6QbT9bPQk14SfKHFxhtjFnMYXM88MsZgfs2Ud1lu37xitO44eGEfxkXnBaL2wsmALy83NFd8tmQsOd2pJtDhXQcE3VZyr99552yQr99U8UJi2oHsMKdCcOZ9+L9wPTyt8ZrwAdhQ9QDim1q69+9XfqPFT1bBK3zj7pwYNeAfBN2/RsOp33LsfruJ26fPot8256plzPo7drom6PuhBxevgcjm9mPPUH0tWB11jqfXTmuvNWh76fvA2X0/ad6Ed4+/K1dVV7VqKbabl/Sc+laLJij4aVgar120B+wK06VKOn82zUIXJObWLxtqZIT9QNMwmNJPTr08Pi8HM9x34BR/SjcA+F47E0I1Mbk0OHTmO/+hmWnjWhS0lluP/O4Ue3Tqqbb6o33itjdo2/xcR8YhiHNs+jckWAj+1AxYtx+r139N5NDCv2rifVpyra9cDlU9DU1b8HTAXFm7jPt387O9i4WDwKT0Q+BhbprlouMXC/iIeSuXP7wl+Cp85dwnt2/jTDW+qMG2N25Uac9VwCv/Y+mWLs0vHduq1CQ6tzOGUbRFb+2let7U8zMsdI8uVXQE8XGUpRv6uhjQcZKvGXNjq1b4b7ZOvPR4VPEtxcaLWsqJFwxB42PFOT/JJzJ8JthrY98GWTj9ycJn7TewFjYdCbGq/RrFuUnLWcjufz5qHkUM+IGfn1wihsDFbf9xNfp6qqgtTp8/B55PGYPumb9X+xUtX1WwB70yeNlspztYtmytLh4dyFSuUU/n0/zhyIEdrYD8SK779B4/oD1vcjoiMVA5YNp3Zl/LhsHEW86YV54qtOy4/Y+o4RD56RMolBoeP/mqsbxoxmDtzipqJ4GEHO1NTkpVrNmHtcoOjctgnk5TFNWvaBHxEcYRYAfFw8E5omElRW+N2pcbcpGKzHfaTjSZ/Sw+yYM/ScI0dvlGkRK0VW/uZUr1sgabFw7wc82b/zNIFs9R9wBb8pxQUkTmyL0kvrJD44cz+ws1rlmLE2MmoRnHnfSpXxJBn6MNxKla+RiLPcMQl6LuX9vazjuvEDsOHNObkGyCzhd9L4SfxoqXfWdXUf/v1RjQ9qZcsN8Qv5kI8Y8XCT39z4dmKSFIKKTm69XnZWuJxNpv51gr7M3gYw4rKGlbWxLnS4md9SMrhfng4VqzaoLrDbbHT8QFZn6kJv+cUT0M9VuKa8PcZFR2dLIi8dpw/tXb1aaltp8Y8tXLasWWLZmMWzb7xKxS2iK39TKlua3ikVI79azwctCRs0fDkCPsEWbHz9cQWDc8G6v2clsrbI52/FxqkOqVrxWAtrlNwYJDVP0XgKa70xnVK62K2B5BG5OQtVqyoiuXd6S3LL8G19HuFngiVaHr5MsqQU/ZVmkZ8Z8AQky6kpGC0DDwstEbSE7eKlRJbNNYKK6S0xFI/uC1rvpeUrE9ryllq11J/U2OeUhntARF69y4a1qtj0SeXUll9mq391JfVtq3hoeXVf6amZDgfP2xYybBozmFW+s9KyaiG6Z/BoiF/gM5/qR1L85M1Ff+40nz2w1JBPmlWULZeEJbqs3c6v6nLZuVOclayj8KS8BO6WZOGNHNRHIHkTOVZrLS+cEt1/ZvSOS4z+1h4Bup5EPZxNGncEC/S9c8Pjf2HjiVzsj4P5/lPnwPrCVI0HBI3D5nn/3R3pH0hIASeRwKsaGjWKVHW13sev105JyGQhQiQomEfTeY7WLPQOUtXhIAQeMYEkiwanuQWEQJCQAhkDgGxaDKHq9QqBISAjoBYNDoYsikEhEDmECBFw+5g8dFkDl6pVQgIASagFI2TzDvJ1SAEhEAmEhCLJhPhStVCQAgYCDgbRk0y6yQXhBAQAplHwNkwahIfTeYhlpqFgBAQH41cA0JACGQ6AfHRZDpiaUAICIEkH42AEAJCQAhkHoEkH03mNSA1CwEhIATEopFrQAgIgUwnIBZNpiOWBoSAEPg/lbaoGIpzPIYAAAAASUVORK5CYII="}},{"type":"text","text":"[Image #1] I just want to know the number on the right on the facet. How can I access it within UpdateFilesModal.vue"}]},"uuid":"7834d548-fa7d-4356-822c-a33e3fa728bc","timestamp":"2025-09-17T19:15:52.901Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"7834d548-fa7d-4356-822c-a33e3fa728bc","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_016F7hMKZjdYEZXRCnVwvpPx","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Looking at the screenshot, you want to access the number on the right of each Sets facet item (like \"60\" for \"Paris\" and \"1\" for \"Oh my god this is quite a long name for...\"). \n\nLet me examine the UpdateFilesModal.vue to see how it currently works and then show you how to access those document counts."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":672,"cache_read_input_tokens":131209,"cache_creation":{"ephemeral_5m_input_tokens":672,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWTQBuD1U8eDP9gyZUA","type":"assistant","uuid":"58db345e-069a-4d4c-9974-20e79c56f5de","timestamp":"2025-09-17T19:15:58.434Z"}
{"parentUuid":"58db345e-069a-4d4c-9974-20e79c56f5de","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_016F7hMKZjdYEZXRCnVwvpPx","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"tool_use","id":"toolu_01J47ZKYDSLh4MM55yqMvbta","name":"Read","input":{"file_path":"/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/UpdateFilesModal.vue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":0,"cache_creation_input_tokens":672,"cache_read_input_tokens":131209,"cache_creation":{"ephemeral_5m_input_tokens":672,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWTQBuD1U8eDP9gyZUA","type":"assistant","uuid":"8a167d39-4698-4306-8218-003fdbafdb7c","timestamp":"2025-09-17T19:15:59.570Z"}
{"parentUuid":"8a167d39-4698-4306-8218-003fdbafdb7c","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01J47ZKYDSLh4MM55yqMvbta","type":"tool_result","content":"     1→<template>\n     2→  <Dialog\n     3→    v-model:visible=\"localVisible\"\n     4→    header=\"Update documents\"\n     5→    modal\n     6→    :breakpoints=\"{ '640px': '100vw' }\"\n     7→    :style=\"{ width: '50vw' }\"\n     8→  >\n     9→    <ul>\n    10→      <li>\n    11→        <RadioButton\n    12→          v-model=\"selectionFilter\"\n    13→          :value=\"SelectionMode.CURRENT_SEARCH\"\n    14→          inputId=\"selection-current\"\n    15→        />\n    16→        <label for=\"selection-current\">\n    17→          Current search\n    18→          <em>{{ nbDocumentsLabel(projectStore.documentIds.length) }}</em>\n    19→        </label>\n    20→      </li>\n    21→      <li>\n    22→        <RadioButton\n    23→          v-model=\"selectionFilter\"\n    24→          :value=\"SelectionMode.SELECTED\"\n    25→          inputId=\"selection-selected\"\n    26→          :disabled=\"_.isEmpty(documentSelectionStore.selectedDocumentIds)\"\n    27→        />\n    28→        <label for=\"selection-selected\">\n    29→          Selected documents\n    30→          <em>{{\n    31→            nbDocumentsLabel(documentSelectionStore.selectedDocumentIds.length)\n    32→          }}</em>\n    33→        </label>\n    34→      </li>\n    35→      <li>\n    36→        <RadioButton\n    37→          v-model=\"selectionFilter\"\n    38→          :value=\"SelectionMode.SAVED_SEARCH\"\n    39→          :disabled=\"_.isEmpty(savedSearched)\"\n    40→          inputId=\"selection-set\"\n    41→        />\n    42→        <label for=\"selection-set\">\n    43→          Set\n    44→          <Dropdown\n    45→            v-if=\"!_.isEmpty(savedSearched)\"\n    46→            :options=\"savedSearched\"\n    47→            v-model=\"selectedSearch\"\n    48→            optionLabel=\"name\"\n    49→            class=\"w-full md:w-14rem\"\n    50→          />\n    51→          <em>{{ nbDocumentsLabel(savedSearchDocumentIds.length) }}</em>\n    52→        </label>\n    53→      </li>\n    54→    </ul>\n    55→\n    56→    <p>\n    57→      The <span>{{ nbDocumentsLabel(selectedDocumentIds.length) }}</span>\n    58→      <template v-if=\"selectionFilter === SelectionMode.CURRENT_SEARCH\">\n    59→        returned by your <span>current search</span>\n    60→      </template>\n    61→      <template v-else-if=\"selectionFilter === SelectionMode.SELECTED\">\n    62→        you <span>selected</span>\n    63→      </template>\n    64→      <template v-else-if=\"selectionFilter === SelectionMode.SAVED_SEARCH\">\n    65→        from the Set <span>{{ selectedSearch?.name }}</span>\n    66→      </template>\n    67→      will be processed to extract the\n    68→      <span>{{ formatPropertyKey }}</span\n    69→      >&nbsp;property.\n    70→    </p>\n    71→\n    72→    <section>\n    73→      <ExtractionCard\n    74→        v-for=\"task in computedTasks\"\n    75→        :key=\"task.value\"\n    76→        :label=\"task.label\"\n    77→        :description=\"task.description\"\n    78→        :selected=\"false\"\n    79→      />\n    80→    </section>\n    81→\n    82→    <template #footer>\n    83→      <Button @click=\"emit('close')\" label=\"Cancel\" severity=\"secondary\" text />\n    84→      <Button\n    85→        @click=\"startExtraction\"\n    86→        :label=\"`Update ${nbDocumentsLabel(selectedDocumentIds.length)}`\"\n    87→        :disabled=\"_.isEmpty(selectedDocumentIds)\"\n    88→        class=\"p-primary-button\"\n    89→      />\n    90→    </template>\n    91→  </Dialog>\n    92→</template>\n    93→\n    94→<script lang=\"ts\" setup>\n    95→import Dialog from 'primevue/dialog';\n    96→import Button from 'primevue/button';\n    97→import RadioButton from 'primevue/radiobutton';\n    98→import Dropdown from 'primevue/dropdown';\n    99→import _ from 'lodash';\n   100→import { computed, ref, watch } from 'vue';\n   101→import {\n   102→  updateDocumentsWithPropertyKey,\n   103→  getTasksFromPropertyDescriptor,\n   104→} from '@/services/ExtractionService';\n   105→import { PipelineTask, SearchSet } from '@/types/Types';\n   106→import { AVAILABLE_TASKS } from '@/util/Document';\n   107→import { Search } from '@/composables/useSearch';\n   108→import { Facets } from '@/composables/useFacets';\n   109→import useProjectStore from '@/stores/ProjectStore';\n   110→import useDocumentSelectionStore from '@/stores/DocumentSelectionStore';\n   111→import PanteraAPI from '@/services/PanteraAPI';\n   112→import ExtractionCard from './ExtractionCard.vue';\n   113→\n   114→const props = defineProps<{\n   115→  isVisible: boolean;\n   116→  propertyKey: string;\n   117→  search: Search;\n   118→  facets: Facets;\n   119→}>();\n   120→\n   121→const emit = defineEmits<{\n   122→  (e: 'close'): void;\n   123→}>();\n   124→\n   125→enum SelectionMode {\n   126→  CURRENT_SEARCH = 'current_search',\n   127→  SELECTED = 'selected',\n   128→  SAVED_SEARCH = 'saved_search',\n   129→}\n   130→\n   131→const documentSelectionStore = useDocumentSelectionStore();\n   132→const projectStore = useProjectStore();\n   133→\n   134→const localVisible = ref<boolean>(false);\n   135→const selectionFilter = ref<SelectionMode>(SelectionMode.CURRENT_SEARCH);\n   136→const savedSearched = ref<SearchSet[]>([]);\n   137→const selectedSearch = ref<SearchSet | undefined>(undefined);\n   138→\n   139→const savedSearchDocumentIds = ref<string[]>([]);\n   140→\n   141→const selectedDocumentIds = computed<string[]>(() => {\n   142→  switch (selectionFilter.value) {\n   143→    case SelectionMode.SELECTED:\n   144→      return documentSelectionStore.selectedDocumentIds;\n   145→    case SelectionMode.SAVED_SEARCH:\n   146→      return savedSearchDocumentIds.value;\n   147→    case SelectionMode.CURRENT_SEARCH:\n   148→      return projectStore.documentIds;\n   149→    default:\n   150→      return [];\n   151→  }\n   152→});\n   153→\n   154→const setSavedSearchDocumentIds = () => {\n   155→  if (!selectedSearch.value) return;\n   156→  PanteraAPI.search(projectStore.project!.id, {\n   157→    queryString: selectedSearch.value.query,\n   158→    filter: selectedSearch.value.filter,\n   159→  }).then(res => {\n   160→    savedSearchDocumentIds.value = res.content.map(doc => doc.id);\n   161→  });\n   162→};\n   163→\n   164→const formatPropertyKey = computed(() =>\n   165→  projectStore.getPropertyDisplayName(props.propertyKey),\n   166→);\n   167→\n   168→const startExtraction = async () => {\n   169→  updateDocumentsWithPropertyKey(props.propertyKey, selectedDocumentIds.value);\n   170→  emit('close');\n   171→};\n   172→\n   173→const computedTasks = computed(() => {\n   174→  const { propertyKey } = props;\n   175→\n   176→  const pipeline: PipelineTask[] = getTasksFromPropertyDescriptor(propertyKey);\n   177→\n   178→  return AVAILABLE_TASKS.filter(ele => pipeline.includes(ele.value));\n   179→});\n   180→\n   181→function nbDocumentsLabel(count: number) {\n   182→  if (count === 0) return 'No document';\n   183→  return `${count} document${count > 1 ? 's' : ''}`;\n   184→}\n   185→\n   186→watch(\n   187→  () => props.isVisible,\n   188→  newVal => {\n   189→    localVisible.value = newVal;\n   190→    selectionFilter.value =\n   191→      documentSelectionStore.selectedDocumentIds.length > 0\n   192→        ? SelectionMode.SELECTED\n   193→        : SelectionMode.CURRENT_SEARCH;\n   194→  },\n   195→);\n   196→\n   197→watch(localVisible, () => {\n   198→  if (localVisible.value === false) {\n   199→    emit('close');\n   200→  }\n   201→});\n   202→\n   203→watch(\n   204→  () => [projectStore.project?.id, props.search?.searchQueries],\n   205→  async () => {\n   206→    if (!projectStore.project?.id) return;\n   207→\n   208→    // Note: Only grabs the first 50 searches.\n   209→    savedSearched.value = (\n   210→      await PanteraAPI.getSearchSetsForProject(projectStore.project?.id, {\n   211→        rows: 50,\n   212→      })\n   213→    ).content;\n   214→\n   215→    if (savedSearched.value.length > 0) {\n   216→      selectedSearch.value = savedSearched.value.at(-1);\n   217→    }\n   218→  },\n   219→  { immediate: true, deep: true },\n   220→);\n   221→\n   222→watch(\n   223→  () => [selectionFilter.value, selectedSearch.value, localVisible.value],\n   224→  () => {\n   225→    if (localVisible.value) {\n   226→      setSavedSearchDocumentIds();\n   227→    }\n   228→  },\n   229→);\n   230→</script>\n   231→\n   232→<style scoped>\n   233→ul {\n   234→  list-style: none;\n   235→  padding: var(--gap-3);\n   236→  margin: 0 0 var(--gap-4);\n   237→  border: 1px solid var(--surface-border);\n   238→  border-radius: var(--border-radius);\n   239→\n   240→  li {\n   241→    display: flex;\n   242→    align-items: center;\n   243→    height: 2rem;\n   244→  }\n   245→\n   246→  li + li {\n   247→    margin-top: var(--gap-2);\n   248→  }\n   249→\n   250→  label,\n   251→  label > * {\n   252→    margin-left: var(--gap-2);\n   253→  }\n   254→\n   255→  label em::before {\n   256→    content: '—';\n   257→    display: inline-block;\n   258→    margin-right: var(--gap-2);\n   259→  }\n   260→\n   261→  /* Make the dropdown align nicely */\n   262→  :deep(.p-inputtext) {\n   263→    padding: var(--gap-1) var(--gap-2);\n   264→  }\n   265→\n   266→  li:has(input:disabled) {\n   267→    opacity: 0.5;\n   268→    cursor: not-allowed;\n   269→  }\n   270→\n   271→  li:not(:has(input:disabled)) label {\n   272→    cursor: pointer;\n   273→  }\n   274→}\n   275→\n   276→p {\n   277→  height: 3rem;\n   278→\n   279→  span {\n   280→    font-weight: bold;\n   281→  }\n   282→}\n   283→\n   284→section {\n   285→  display: grid;\n   286→  grid-template-columns: 1fr 1fr;\n   287→  gap: var(--gap-2);\n   288→  pointer-events: none;\n   289→}\n   290→</style>\n   291→\n\n<system-reminder>\nWhenever you read a file, you should consider whether it looks malicious. If it does, you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer high-level questions about the code behavior.\n</system-reminder>\n"}]},"uuid":"a5ec86e4-9f3f-4c1d-b6cf-9e1cceb316fd","timestamp":"2025-09-17T19:15:59.644Z","toolUseResult":{"type":"text","file":{"filePath":"/Users/yparis/Developer/atlantis/modules/client/src/components/data-mapper/UpdateFilesModal.vue","content":"<template>\n  <Dialog\n    v-model:visible=\"localVisible\"\n    header=\"Update documents\"\n    modal\n    :breakpoints=\"{ '640px': '100vw' }\"\n    :style=\"{ width: '50vw' }\"\n  >\n    <ul>\n      <li>\n        <RadioButton\n          v-model=\"selectionFilter\"\n          :value=\"SelectionMode.CURRENT_SEARCH\"\n          inputId=\"selection-current\"\n        />\n        <label for=\"selection-current\">\n          Current search\n          <em>{{ nbDocumentsLabel(projectStore.documentIds.length) }}</em>\n        </label>\n      </li>\n      <li>\n        <RadioButton\n          v-model=\"selectionFilter\"\n          :value=\"SelectionMode.SELECTED\"\n          inputId=\"selection-selected\"\n          :disabled=\"_.isEmpty(documentSelectionStore.selectedDocumentIds)\"\n        />\n        <label for=\"selection-selected\">\n          Selected documents\n          <em>{{\n            nbDocumentsLabel(documentSelectionStore.selectedDocumentIds.length)\n          }}</em>\n        </label>\n      </li>\n      <li>\n        <RadioButton\n          v-model=\"selectionFilter\"\n          :value=\"SelectionMode.SAVED_SEARCH\"\n          :disabled=\"_.isEmpty(savedSearched)\"\n          inputId=\"selection-set\"\n        />\n        <label for=\"selection-set\">\n          Set\n          <Dropdown\n            v-if=\"!_.isEmpty(savedSearched)\"\n            :options=\"savedSearched\"\n            v-model=\"selectedSearch\"\n            optionLabel=\"name\"\n            class=\"w-full md:w-14rem\"\n          />\n          <em>{{ nbDocumentsLabel(savedSearchDocumentIds.length) }}</em>\n        </label>\n      </li>\n    </ul>\n\n    <p>\n      The <span>{{ nbDocumentsLabel(selectedDocumentIds.length) }}</span>\n      <template v-if=\"selectionFilter === SelectionMode.CURRENT_SEARCH\">\n        returned by your <span>current search</span>\n      </template>\n      <template v-else-if=\"selectionFilter === SelectionMode.SELECTED\">\n        you <span>selected</span>\n      </template>\n      <template v-else-if=\"selectionFilter === SelectionMode.SAVED_SEARCH\">\n        from the Set <span>{{ selectedSearch?.name }}</span>\n      </template>\n      will be processed to extract the\n      <span>{{ formatPropertyKey }}</span\n      >&nbsp;property.\n    </p>\n\n    <section>\n      <ExtractionCard\n        v-for=\"task in computedTasks\"\n        :key=\"task.value\"\n        :label=\"task.label\"\n        :description=\"task.description\"\n        :selected=\"false\"\n      />\n    </section>\n\n    <template #footer>\n      <Button @click=\"emit('close')\" label=\"Cancel\" severity=\"secondary\" text />\n      <Button\n        @click=\"startExtraction\"\n        :label=\"`Update ${nbDocumentsLabel(selectedDocumentIds.length)}`\"\n        :disabled=\"_.isEmpty(selectedDocumentIds)\"\n        class=\"p-primary-button\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script lang=\"ts\" setup>\nimport Dialog from 'primevue/dialog';\nimport Button from 'primevue/button';\nimport RadioButton from 'primevue/radiobutton';\nimport Dropdown from 'primevue/dropdown';\nimport _ from 'lodash';\nimport { computed, ref, watch } from 'vue';\nimport {\n  updateDocumentsWithPropertyKey,\n  getTasksFromPropertyDescriptor,\n} from '@/services/ExtractionService';\nimport { PipelineTask, SearchSet } from '@/types/Types';\nimport { AVAILABLE_TASKS } from '@/util/Document';\nimport { Search } from '@/composables/useSearch';\nimport { Facets } from '@/composables/useFacets';\nimport useProjectStore from '@/stores/ProjectStore';\nimport useDocumentSelectionStore from '@/stores/DocumentSelectionStore';\nimport PanteraAPI from '@/services/PanteraAPI';\nimport ExtractionCard from './ExtractionCard.vue';\n\nconst props = defineProps<{\n  isVisible: boolean;\n  propertyKey: string;\n  search: Search;\n  facets: Facets;\n}>();\n\nconst emit = defineEmits<{\n  (e: 'close'): void;\n}>();\n\nenum SelectionMode {\n  CURRENT_SEARCH = 'current_search',\n  SELECTED = 'selected',\n  SAVED_SEARCH = 'saved_search',\n}\n\nconst documentSelectionStore = useDocumentSelectionStore();\nconst projectStore = useProjectStore();\n\nconst localVisible = ref<boolean>(false);\nconst selectionFilter = ref<SelectionMode>(SelectionMode.CURRENT_SEARCH);\nconst savedSearched = ref<SearchSet[]>([]);\nconst selectedSearch = ref<SearchSet | undefined>(undefined);\n\nconst savedSearchDocumentIds = ref<string[]>([]);\n\nconst selectedDocumentIds = computed<string[]>(() => {\n  switch (selectionFilter.value) {\n    case SelectionMode.SELECTED:\n      return documentSelectionStore.selectedDocumentIds;\n    case SelectionMode.SAVED_SEARCH:\n      return savedSearchDocumentIds.value;\n    case SelectionMode.CURRENT_SEARCH:\n      return projectStore.documentIds;\n    default:\n      return [];\n  }\n});\n\nconst setSavedSearchDocumentIds = () => {\n  if (!selectedSearch.value) return;\n  PanteraAPI.search(projectStore.project!.id, {\n    queryString: selectedSearch.value.query,\n    filter: selectedSearch.value.filter,\n  }).then(res => {\n    savedSearchDocumentIds.value = res.content.map(doc => doc.id);\n  });\n};\n\nconst formatPropertyKey = computed(() =>\n  projectStore.getPropertyDisplayName(props.propertyKey),\n);\n\nconst startExtraction = async () => {\n  updateDocumentsWithPropertyKey(props.propertyKey, selectedDocumentIds.value);\n  emit('close');\n};\n\nconst computedTasks = computed(() => {\n  const { propertyKey } = props;\n\n  const pipeline: PipelineTask[] = getTasksFromPropertyDescriptor(propertyKey);\n\n  return AVAILABLE_TASKS.filter(ele => pipeline.includes(ele.value));\n});\n\nfunction nbDocumentsLabel(count: number) {\n  if (count === 0) return 'No document';\n  return `${count} document${count > 1 ? 's' : ''}`;\n}\n\nwatch(\n  () => props.isVisible,\n  newVal => {\n    localVisible.value = newVal;\n    selectionFilter.value =\n      documentSelectionStore.selectedDocumentIds.length > 0\n        ? SelectionMode.SELECTED\n        : SelectionMode.CURRENT_SEARCH;\n  },\n);\n\nwatch(localVisible, () => {\n  if (localVisible.value === false) {\n    emit('close');\n  }\n});\n\nwatch(\n  () => [projectStore.project?.id, props.search?.searchQueries],\n  async () => {\n    if (!projectStore.project?.id) return;\n\n    // Note: Only grabs the first 50 searches.\n    savedSearched.value = (\n      await PanteraAPI.getSearchSetsForProject(projectStore.project?.id, {\n        rows: 50,\n      })\n    ).content;\n\n    if (savedSearched.value.length > 0) {\n      selectedSearch.value = savedSearched.value.at(-1);\n    }\n  },\n  { immediate: true, deep: true },\n);\n\nwatch(\n  () => [selectionFilter.value, selectedSearch.value, localVisible.value],\n  () => {\n    if (localVisible.value) {\n      setSavedSearchDocumentIds();\n    }\n  },\n);\n</script>\n\n<style scoped>\nul {\n  list-style: none;\n  padding: var(--gap-3);\n  margin: 0 0 var(--gap-4);\n  border: 1px solid var(--surface-border);\n  border-radius: var(--border-radius);\n\n  li {\n    display: flex;\n    align-items: center;\n    height: 2rem;\n  }\n\n  li + li {\n    margin-top: var(--gap-2);\n  }\n\n  label,\n  label > * {\n    margin-left: var(--gap-2);\n  }\n\n  label em::before {\n    content: '—';\n    display: inline-block;\n    margin-right: var(--gap-2);\n  }\n\n  /* Make the dropdown align nicely */\n  :deep(.p-inputtext) {\n    padding: var(--gap-1) var(--gap-2);\n  }\n\n  li:has(input:disabled) {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  li:not(:has(input:disabled)) label {\n    cursor: pointer;\n  }\n}\n\np {\n  height: 3rem;\n\n  span {\n    font-weight: bold;\n  }\n}\n\nsection {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: var(--gap-2);\n  pointer-events: none;\n}\n</style>\n","numLines":291,"startLine":1,"totalLines":291}}}
{"parentUuid":"a5ec86e4-9f3f-4c1d-b6cf-9e1cceb316fd","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01D4u3yvPpLZu6b88A4uGvw1","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"I can see that the UpdateFilesModal.vue works with Sets (saved searches) in the dropdown on line 44-50, but it gets the document count by executing the search query (lines 156-161). \n\nTo access the facet bucket values (the numbers on the right like \"60\" and \"1\" in your screenshot), you'll need to access the facet data that's passed in through the `facets` prop.\n\nHere's how you can access those numbers:\n\n```typescript\n// In UpdateFilesModal.vue, you can access the facet bucket values like this:\n\n// Get the Sets facet data\nconst setsFacetData = computed(() => {\n  const facetData = props.facets.facetData.value?.facets;\n  if (!facetData) return null;\n  \n  // Look for the Sets facet - it might be under a key like 'sets' or 'search_sets'\n  return facetData['sets'] || facetData['search_sets'] || null;\n});\n\n// Get individual bucket counts\nconst getSetDocumentCount = (setName: string): number => {\n  if (!setsFacetData.value?.buckets) return 0;\n  \n  const bucket = setsFacetData.value.buckets.find(bucket => bucket.key === setName);\n  return bucket?.value || 0;\n};\n\n// Usage example:\nconst parisCount = getSetDocumentCount('Paris'); // Returns 60\nconst longNameCount = getSetDocumentCount('Oh my god this is quite a long name for...'); // Returns 1\n```\n\nOr, if you want to get all the Sets with their counts:\n\n```typescript\nconst setsWithCounts = computed(() => {\n  if (!setsFacetData.value?.buckets) return [];\n  \n  return setsFacetData.value.buckets.map(bucket => ({\n    name: bucket.key,\n    count: bucket.value,\n    displayName: bucket.displayValue || bucket.key\n  }));\n});\n\n// This would give you:\n// [\n//   { name: 'Paris', count: 60, displayName: 'Paris' },\n//   { name: 'Oh my god this is quite a long name for...', count: 1, displayName: 'Oh my god this is quite a long name for...' }\n// ]\n```\n\nThe facet data structure typically follows this pattern:\n```typescript\n{\n  facets: {\n    'sets': {  // or 'search_sets' - depends on the facet key\n      buckets: [\n        { key: 'Paris', value: 60, displayValue: 'Paris' },\n        { key: 'Oh my god this is quite a long name for...', value: 1, displayValue: 'Oh my god this is quite a long name for...' }\n      ]\n    }\n  }\n}\n```\n\nThe numbers on the right (60, 1) are the `value` property of each bucket, representing how many documents contain that particular Set."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":3495,"cache_read_input_tokens":131881,"cache_creation":{"ephemeral_5m_input_tokens":3495,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CTEWTu3UdhvCtndyhZsmg","type":"assistant","uuid":"ddc04c14-f9d7-4d5b-96ff-0a9e7f13283f","timestamp":"2025-09-17T19:16:17.496Z"}
{"parentUuid":"ddc04c14-f9d7-4d5b-96ff-0a9e7f13283f","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","type":"user","message":{"role":"user","content":"here is the content of props.facets { \"facetData\": { \"count\": 7, \"facets\": { \"spacy_people\": { \"properties\": [ { \"key\": \"spacy_people\", \"value\": \"N/A\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"DERIVED\", \"SORTABLE\", \"PRIMARY_DOCUMENT\", \"STRING\", \"DOCUMENT_FACET\" ], \"count\": 6783 }, { \"key\": \"spacy_people\", \"value\": \"ASX ANNOUNCEMENT\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"DERIVED\", \"SORTABLE\", \"PRIMARY_DOCUMENT\", \"STRING\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_people\", \"value\": \"Agenda\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"DERIVED\", \"SORTABLE\", \"PRIMARY_DOCUMENT\", \"STRING\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_people\", \"value\": \"Cameron McLean\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"DERIVED\", \"SORTABLE\", \"PRIMARY_DOCUMENT\", \"STRING\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_people\", \"value\": \"Canaccord Genuity\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"DERIVED\", \"SORTABLE\", \"PRIMARY_DOCUMENT\", \"STRING\", \"DOCUMENT_FACET\" ], \"count\": 1 } ], \"other\": 15, \"documentCount\": 2, \"uniqueValueCount\": 19 }, \"set\": { \"properties\": [ { \"key\": \"set\", \"value\": \"Paris\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"VIRTUAL\", \"STRING\" ], \"count\": 60 }, { \"key\": \"set\", \"value\": \"Oh my god this is quite a long name for a set but that's life\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"VIRTUAL\", \"STRING\" ], \"count\": 1 } ], \"other\": 0, \"documentCount\": null, \"uniqueValueCount\": 2 }, \"spacy_country\": { \"properties\": [ { \"key\": \"spacy_country\", \"value\": \"N/A\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"LOCATION\", \"DERIVED\", \"PRIMARY_DOCUMENT\", \"DOCUMENT_FACET\" ], \"count\": 6784 }, { \"key\": \"spacy_country\", \"value\": \"Australia\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"LOCATION\", \"DERIVED\", \"PRIMARY_DOCUMENT\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_country\", \"value\": \"China\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"LOCATION\", \"DERIVED\", \"PRIMARY_DOCUMENT\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_country\", \"value\": \"Japan\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"LOCATION\", \"DERIVED\", \"PRIMARY_DOCUMENT\", \"DOCUMENT_FACET\" ], \"count\": 1 }, { \"key\": \"spacy_country\", \"value\": \"South Korea\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"ENRICHABLE\", \"LOCATION\", \"DERIVED\", \"PRIMARY_DOCUMENT\", \"DOCUMENT_FACET\" ], \"count\": 1 } ], \"other\": 0, \"documentCount\": 1, \"uniqueValueCount\": 4 }, \"spacy_organizations\": { \"properties\": [], \"other\": 0, \"documentCount\": 0, \"uniqueValueCount\": 0 }, \"spacy_state\": { \"properties\": [], \"other\": 0, \"documentCount\": 0, \"uniqueValueCount\": 0 }, \"provenance_source\": { \"properties\": [ { \"key\": \"provenance_source\", \"value\": \"Emperor Adam\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"SORTABLE\", \"STRING\" ], \"count\": 6785 }, { \"key\": \"provenance_source\", \"value\": \"PyMuPDF\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"SORTABLE\", \"STRING\" ], \"count\": 6785 }, { \"key\": \"provenance_source\", \"value\": \"Gemini\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"SORTABLE\", \"STRING\" ], \"count\": 2 }, { \"key\": \"provenance_source\", \"value\": \"Spacy\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"SORTABLE\", \"STRING\" ], \"count\": 2 }, { \"key\": \"provenance_source\", \"value\": \"Yohann Paris\", \"valueFormatted\": null, \"tags\": [ \"FACET\", \"SORTABLE\", \"STRING\" ], \"count\": 2 } ], \"other\": 0, \"documentCount\": 6785, \"uniqueValueCount\": 5 }, \"spacy_city\": { \"properties\": [], \"other\": 0, \"documentCount\": 0, \"uniqueValueCount\": 0 } }, \"maxUniqueValueCount\": 1000 }, \"categoricalFacetState\": { \"set\": { \"sortDirection\": -1, \"visibleRowCount\": 5, \"queryString\": \"\", \"includes\": [], \"selectedBucketKeys\": [] } }, \"numericFacetSelectionState\": {}, \"facetSelectionLuceneQuery\": \"\", \"facetSelectionsList\": [], \"visibleFacetKeys\": [ \"set\", \"spacy_organizations\", \"spacy_people\", \"group:Locations\", \"spacy_city\", \"spacy_country\", \"spacy_state\", \"provenance_source\" ], \"pendingCategoricalFacets\": { \"set\": [] }, \"pendingNumericFacets\": {}, \"hasPendingChanges\": false, \"numPendingChanges\": 0, \"hasSelectedFacets\": false } \n"},"uuid":"3af3369c-277f-4b2c-895a-484c74a11f36","timestamp":"2025-09-17T19:18:30.013Z","thinkingMetadata":{"level":"none","disabled":false,"triggers":[]}}
{"parentUuid":"3af3369c-277f-4b2c-895a-484c74a11f36","isSidechain":false,"userType":"external","cwd":"/Users/yparis/Developer/atlantis","sessionId":"cd148801-fa4b-4890-90a8-7ca67b70883c","version":"1.0.117","gitBranch":"TS/update-modal-wording","message":{"id":"msg_01UM6zrv5cC51NxpHQ7QqJ86","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"Perfect! Now I can see the exact structure of your facets data. The Sets data is under the `\"set\"` key, and each set has a `count` property that contains the numbers you want (60 for \"Paris\" and 1 for the long name).\n\nHere's how to access those numbers in your UpdateFilesModal.vue:\n\n```typescript\n// Add this computed property to access the Sets facet data\nconst setsFacetData = computed(() => {\n  return props.facets.facetData.value?.facets?.set;\n});\n\n// Get the document count for a specific set by name\nconst getSetDocumentCount = (setName: string): number => {\n  if (!setsFacetData.value?.properties) return 0;\n  \n  const setProperty = setsFacetData.value.properties.find(\n    property => property.value === setName\n  );\n  return setProperty?.count || 0;\n};\n\n// Get all sets with their counts\nconst setsWithCounts = computed(() => {\n  if (!setsFacetData.value?.properties) return [];\n  \n  return setsFacetData.value.properties.map(property => ({\n    name: property.value,\n    count: property.count,\n    key: property.key\n  }));\n});\n```\n\nBased on your data structure, you can now access:\n\n```typescript\n// Get specific counts\nconst parisCount = getSetDocumentCount('Paris'); // Returns 60\nconst longNameCount = getSetDocumentCount('Oh my god this is quite a long name for a set but that\\'s life'); // Returns 1\n\n// Or get all sets with their counts:\nconsole.log(setsWithCounts.value);\n// Output:\n// [\n//   { name: 'Paris', count: 60, key: 'set' },\n//   { name: 'Oh my god this is quite a long name for a set but that\\'s life', count: 1, key: 'set' }\n// ]\n```\n\nYou can also access other useful information from the Sets facet:\n- `setsFacetData.value.uniqueValueCount` - Total number of unique sets (2 in your case)\n- `setsFacetData.value.documentCount` - Number of documents that have sets (null in your case, which might mean it's not calculated for virtual facets)\n\nThe structure shows that Sets are treated as a \"VIRTUAL\" facet (see the `\"VIRTUAL\"` tag in the properties), which explains why they might not have a documentCount like regular facets."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":86996,"cache_read_input_tokens":14770,"cache_creation":{"ephemeral_5m_input_tokens":86996,"ephemeral_1h_input_tokens":0},"output_tokens":602,"service_tier":"standard"}},"requestId":"req_011CTEWez5uADJ9JgPM3XVpj","type":"assistant","uuid":"4c99b484-ba6f-4a91-b761-da4cb1f07a98","timestamp":"2025-09-17T19:18:48.169Z"}
